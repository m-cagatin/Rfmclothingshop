function w7(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function j7(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var sj={exports:{}},eh={},aj={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function S7(){if(_E)return wt;_E=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(F){return F===null||typeof F!="object"?null:(F=h&&F[h]||F["@@iterator"],typeof F=="function"?F:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,x={};function y(F,G,Z){this.props=F,this.context=G,this.refs=x,this.updater=Z||g}y.prototype.isReactComponent={},y.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},y.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function b(){}b.prototype=y.prototype;function S(F,G,Z){this.props=F,this.context=G,this.refs=x,this.updater=Z||g}var O=S.prototype=new b;O.constructor=S,j(O,y.prototype),O.isPureReactComponent=!0;var P=Array.isArray,C=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(F,G,Z){var K,ae={},ie=null,J=null;if(G!=null)for(K in G.ref!==void 0&&(J=G.ref),G.key!==void 0&&(ie=""+G.key),G)C.call(G,K)&&!k.hasOwnProperty(K)&&(ae[K]=G[K]);var fe=arguments.length-2;if(fe===1)ae.children=Z;else if(1<fe){for(var oe=Array(fe),ue=0;ue<fe;ue++)oe[ue]=arguments[ue+2];ae.children=oe}if(F&&F.defaultProps)for(K in fe=F.defaultProps,fe)ae[K]===void 0&&(ae[K]=fe[K]);return{$$typeof:t,type:F,key:ie,ref:J,props:ae,_owner:_.current}}function M(F,G){return{$$typeof:t,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function L(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Z){return G[Z]})}var W=/\/+/g;function $(F,G){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):G.toString(36)}function H(F,G,Z,K,ae){var ie=typeof F;(ie==="undefined"||ie==="boolean")&&(F=null);var J=!1;if(F===null)J=!0;else switch(ie){case"string":case"number":J=!0;break;case"object":switch(F.$$typeof){case t:case e:J=!0}}if(J)return J=F,ae=ae(J),F=K===""?"."+$(J,0):K,P(ae)?(Z="",F!=null&&(Z=F.replace(W,"$&/")+"/"),H(ae,G,Z,"",function(ue){return ue})):ae!=null&&(D(ae)&&(ae=M(ae,Z+(!ae.key||J&&J.key===ae.key?"":(""+ae.key).replace(W,"$&/")+"/")+F)),G.push(ae)),1;if(J=0,K=K===""?".":K+":",P(F))for(var fe=0;fe<F.length;fe++){ie=F[fe];var oe=K+$(ie,fe);J+=H(ie,G,Z,oe,ae)}else if(oe=m(F),typeof oe=="function")for(F=oe.call(F),fe=0;!(ie=F.next()).done;)ie=ie.value,oe=K+$(ie,fe++),J+=H(ie,G,Z,oe,ae);else if(ie==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return J}function z(F,G,Z){if(F==null)return F;var K=[],ae=0;return H(F,K,"","",function(ie){return G.call(Z,ie,ae++)}),K}function q(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(Z){(F._status===0||F._status===-1)&&(F._status=1,F._result=Z)},function(Z){(F._status===0||F._status===-1)&&(F._status=2,F._result=Z)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var E={current:null},U={transition:null},B={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:U,ReactCurrentOwner:_};function I(){throw Error("act(...) is not supported in production builds of React.")}return wt.Children={map:z,forEach:function(F,G,Z){z(F,function(){G.apply(this,arguments)},Z)},count:function(F){var G=0;return z(F,function(){G++}),G},toArray:function(F){return z(F,function(G){return G})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},wt.Component=y,wt.Fragment=r,wt.Profiler=i,wt.PureComponent=S,wt.StrictMode=n,wt.Suspense=c,wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,wt.act=I,wt.cloneElement=function(F,G,Z){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var K=j({},F.props),ae=F.key,ie=F.ref,J=F._owner;if(G!=null){if(G.ref!==void 0&&(ie=G.ref,J=_.current),G.key!==void 0&&(ae=""+G.key),F.type&&F.type.defaultProps)var fe=F.type.defaultProps;for(oe in G)C.call(G,oe)&&!k.hasOwnProperty(oe)&&(K[oe]=G[oe]===void 0&&fe!==void 0?fe[oe]:G[oe])}var oe=arguments.length-2;if(oe===1)K.children=Z;else if(1<oe){fe=Array(oe);for(var ue=0;ue<oe;ue++)fe[ue]=arguments[ue+2];K.children=fe}return{$$typeof:t,type:F.type,key:ae,ref:ie,props:K,_owner:J}},wt.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},wt.createElement=A,wt.createFactory=function(F){var G=A.bind(null,F);return G.type=F,G},wt.createRef=function(){return{current:null}},wt.forwardRef=function(F){return{$$typeof:l,render:F}},wt.isValidElement=D,wt.lazy=function(F){return{$$typeof:f,_payload:{_status:-1,_result:F},_init:q}},wt.memo=function(F,G){return{$$typeof:d,type:F,compare:G===void 0?null:G}},wt.startTransition=function(F){var G=U.transition;U.transition={};try{F()}finally{U.transition=G}},wt.unstable_act=I,wt.useCallback=function(F,G){return E.current.useCallback(F,G)},wt.useContext=function(F){return E.current.useContext(F)},wt.useDebugValue=function(){},wt.useDeferredValue=function(F){return E.current.useDeferredValue(F)},wt.useEffect=function(F,G){return E.current.useEffect(F,G)},wt.useId=function(){return E.current.useId()},wt.useImperativeHandle=function(F,G,Z){return E.current.useImperativeHandle(F,G,Z)},wt.useInsertionEffect=function(F,G){return E.current.useInsertionEffect(F,G)},wt.useLayoutEffect=function(F,G){return E.current.useLayoutEffect(F,G)},wt.useMemo=function(F,G){return E.current.useMemo(F,G)},wt.useReducer=function(F,G,Z){return E.current.useReducer(F,G,Z)},wt.useRef=function(F){return E.current.useRef(F)},wt.useState=function(F){return E.current.useState(F)},wt.useSyncExternalStore=function(F,G,Z){return E.current.useSyncExternalStore(F,G,Z)},wt.useTransition=function(){return E.current.useTransition()},wt.version="18.3.1",wt}var OE;function Bs(){return OE||(OE=1,aj.exports=S7()),aj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function C7(){if(PE)return eh;PE=1;var t=Bs(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,h={},m=null,g=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:l,key:m,ref:g,props:h,_owner:i.current}}return eh.Fragment=r,eh.jsx=o,eh.jsxs=o,eh}var kE;function N7(){return kE||(kE=1,sj.exports=C7()),sj.exports}var a=N7(),Jg={},oj={exports:{}},ni={},lj={exports:{}},cj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function _7(){return TE||(TE=1,(function(t){function e(U,B){var I=U.length;U.push(B);e:for(;0<I;){var F=I-1>>>1,G=U[F];if(0<i(G,B))U[F]=B,U[I]=G,I=F;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var B=U[0],I=U.pop();if(I!==B){U[0]=I;e:for(var F=0,G=U.length,Z=G>>>1;F<Z;){var K=2*(F+1)-1,ae=U[K],ie=K+1,J=U[ie];if(0>i(ae,I))ie<G&&0>i(J,ae)?(U[F]=J,U[ie]=I,F=ie):(U[F]=ae,U[K]=I,F=K);else if(ie<G&&0>i(J,I))U[F]=J,U[ie]=I,F=ie;else break e}}return B}function i(U,B){var I=U.sortIndex-B.sortIndex;return I!==0?I:U.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,m=3,g=!1,j=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(U){for(var B=r(d);B!==null;){if(B.callback===null)n(d);else if(B.startTime<=U)n(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=r(d)}}function P(U){if(x=!1,O(U),!j)if(r(c)!==null)j=!0,q(C);else{var B=r(d);B!==null&&E(P,B.startTime-U)}}function C(U,B){j=!1,x&&(x=!1,b(A),A=-1),g=!0;var I=m;try{for(O(B),h=r(c);h!==null&&(!(h.expirationTime>B)||U&&!L());){var F=h.callback;if(typeof F=="function"){h.callback=null,m=h.priorityLevel;var G=F(h.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),O(B)}else n(c);h=r(c)}if(h!==null)var Z=!0;else{var K=r(d);K!==null&&E(P,K.startTime-B),Z=!1}return Z}finally{h=null,m=I,g=!1}}var _=!1,k=null,A=-1,M=5,D=-1;function L(){return!(t.unstable_now()-D<M)}function W(){if(k!==null){var U=t.unstable_now();D=U;var B=!0;try{B=k(!0,U)}finally{B?$():(_=!1,k=null)}}else _=!1}var $;if(typeof S=="function")$=function(){S(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,z=H.port2;H.port1.onmessage=W,$=function(){z.postMessage(null)}}else $=function(){y(W,0)};function q(U){k=U,_||(_=!0,$())}function E(U,B){A=y(function(){U(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){j||g||(j=!0,q(C))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var I=m;m=B;try{return U()}finally{m=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=m;m=U;try{return B()}finally{m=I}},t.unstable_scheduleCallback=function(U,B,I){var F=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,U){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,U={id:f++,callback:B,priorityLevel:U,startTime:I,expirationTime:G,sortIndex:-1},I>F?(U.sortIndex=I,e(d,U),r(c)===null&&U===r(d)&&(x?(b(A),A=-1):x=!0,E(P,I-F))):(U.sortIndex=G,e(c,U),j||g||(j=!0,q(C))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var B=m;return function(){var I=m;m=B;try{return U.apply(this,arguments)}finally{m=I}}}})(cj)),cj}var AE;function O7(){return AE||(AE=1,lj.exports=_7()),lj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function P7(){if(EE)return ni;EE=1;var t=Bs(),e=O7();function r(u){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,p){o(u,p),o(u+"Capture",p)}function o(u,p){for(i[u]=p,u=0;u<p.length;u++)n.add(p[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(u){return c.call(h,u)?!0:c.call(f,u)?!1:d.test(u)?h[u]=!0:(f[u]=!0,!1)}function g(u,p,v,N){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return N?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function j(u,p,v,N){if(p===null||typeof p>"u"||g(u,p,v,N))return!0;if(N)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function x(u,p,v,N,T,R,V){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=N,this.attributeNamespace=T,this.mustUseProperty=v,this.propertyName=u,this.type=p,this.sanitizeURL=R,this.removeEmptyString=V}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){y[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var p=u[0];y[p]=new x(p,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){y[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){y[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){y[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){y[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){y[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){y[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){y[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function S(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var p=u.replace(b,S);y[p]=new x(p,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var p=u.replace(b,S);y[p]=new x(p,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var p=u.replace(b,S);y[p]=new x(p,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){y[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),y.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){y[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function O(u,p,v,N){var T=y.hasOwnProperty(p)?y[p]:null;(T!==null?T.type!==0:N||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(j(p,v,T,N)&&(v=null),N||T===null?m(p)&&(v===null?u.removeAttribute(p):u.setAttribute(p,""+v)):T.mustUseProperty?u[T.propertyName]=v===null?T.type===3?!1:"":v:(p=T.attributeName,N=T.attributeNamespace,v===null?u.removeAttribute(p):(T=T.type,v=T===3||T===4&&v===!0?"":""+v,N?u.setAttributeNS(N,p,v):u.setAttribute(p,v))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),U=Symbol.iterator;function B(u){return u===null||typeof u!="object"?null:(u=U&&u[U]||u["@@iterator"],typeof u=="function"?u:null)}var I=Object.assign,F;function G(u){if(F===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);F=p&&p[1]||""}return`
`+F+u}var Z=!1;function K(u,p){if(!u||Z)return"";Z=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ye){var N=ye}Reflect.construct(u,[],p)}else{try{p.call()}catch(ye){N=ye}u.call(p.prototype)}else{try{throw Error()}catch(ye){N=ye}u()}}catch(ye){if(ye&&N&&typeof ye.stack=="string"){for(var T=ye.stack.split(`
`),R=N.stack.split(`
`),V=T.length-1,Q=R.length-1;1<=V&&0<=Q&&T[V]!==R[Q];)Q--;for(;1<=V&&0<=Q;V--,Q--)if(T[V]!==R[Q]){if(V!==1||Q!==1)do if(V--,Q--,0>Q||T[V]!==R[Q]){var ne=`
`+T[V].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=V&&0<=Q);break}}}finally{Z=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?G(u):""}function ae(u){switch(u.tag){case 5:return G(u.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return u=K(u.type,!1),u;case 11:return u=K(u.type.render,!1),u;case 1:return u=K(u.type,!0),u;default:return""}}function ie(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case k:return"Fragment";case _:return"Portal";case M:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case L:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case W:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case z:return p=u.displayName||null,p!==null?p:ie(u.type)||"Memo";case q:p=u._payload,u=u._init;try{return ie(u(p))}catch{}}return null}function J(u){var p=u.type;switch(u.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=p.render,u=u.displayName||u.name||"",p.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(p);case 8:return p===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function fe(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function oe(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function ue(u){var p=oe(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,p),N=""+u[p];if(!u.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,R=v.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return T.call(this)},set:function(V){N=""+V,R.call(this,V)}}),Object.defineProperty(u,p,{enumerable:v.enumerable}),{getValue:function(){return N},setValue:function(V){N=""+V},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function de(u){u._valueTracker||(u._valueTracker=ue(u))}function le(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var v=p.getValue(),N="";return u&&(N=oe(u)?u.checked?"true":"false":u.value),u=N,u!==v?(p.setValue(u),!0):!1}function ke(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Ne(u,p){var v=p.checked;return I({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function Le(u,p){var v=p.defaultValue==null?"":p.defaultValue,N=p.checked!=null?p.checked:p.defaultChecked;v=fe(p.value!=null?p.value:v),u._wrapperState={initialChecked:N,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Ke(u,p){p=p.checked,p!=null&&O(u,"checked",p,!1)}function De(u,p){Ke(u,p);var v=fe(p.value),N=p.type;if(v!=null)N==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(N==="submit"||N==="reset"){u.removeAttribute("value");return}p.hasOwnProperty("value")?je(u,p.type,v):p.hasOwnProperty("defaultValue")&&je(u,p.type,fe(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(u.defaultChecked=!!p.defaultChecked)}function vt(u,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var N=p.type;if(!(N!=="submit"&&N!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+u._wrapperState.initialValue,v||p===u.value||(u.value=p),u.defaultValue=p}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function je(u,p,v){(p!=="number"||ke(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var ft=Array.isArray;function it(u,p,v,N){if(u=u.options,p){p={};for(var T=0;T<v.length;T++)p["$"+v[T]]=!0;for(v=0;v<u.length;v++)T=p.hasOwnProperty("$"+u[v].value),u[v].selected!==T&&(u[v].selected=T),T&&N&&(u[v].defaultSelected=!0)}else{for(v=""+fe(v),p=null,T=0;T<u.length;T++){if(u[T].value===v){u[T].selected=!0,N&&(u[T].defaultSelected=!0);return}p!==null||u[T].disabled||(p=u[T])}p!==null&&(p.selected=!0)}}function st(u,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return I({},p,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Zt(u,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(r(92));if(ft(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),v=p}u._wrapperState={initialValue:fe(v)}}function yn(u,p){var v=fe(p.value),N=fe(p.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),p.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),N!=null&&(u.defaultValue=""+N)}function br(u){var p=u.textContent;p===u._wrapperState.initialValue&&p!==""&&p!==null&&(u.value=p)}function gi(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(u,p){return u==null||u==="http://www.w3.org/1999/xhtml"?gi(p):u==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var cr,xn=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,N,T){MSApp.execUnsafeLocalFunction(function(){return u(p,v,N,T)})}:u})(function(u,p){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=p;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=cr.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;p.firstChild;)u.appendChild(p.firstChild)}});function Tt(u,p){if(p){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=p;return}}u.textContent=p}var Ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mn=["Webkit","ms","Moz","O"];Object.keys(Ft).forEach(function(u){Mn.forEach(function(p){p=p+u.charAt(0).toUpperCase()+u.substring(1),Ft[p]=Ft[u]})});function vi(u,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||Ft.hasOwnProperty(u)&&Ft[u]?(""+p).trim():p+"px"}function xo(u,p){u=u.style;for(var v in p)if(p.hasOwnProperty(v)){var N=v.indexOf("--")===0,T=vi(v,p[v],N);v==="float"&&(v="cssFloat"),N?u.setProperty(v,T):u[v]=T}}var Yn=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cs(u,p){if(p){if(Yn[u]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Dn(u,p){if(u.indexOf("-")===-1)return typeof p.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function Rn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Vs=null,Ii=null,Wt=null;function xt(u){if(u=Ff(u)){if(typeof Vs!="function")throw Error(r(280));var p=u.stateNode;p&&(p=fg(p),Vs(u.stateNode,u.type,p))}}function Xe(u){Ii?Wt?Wt.push(u):Wt=[u]:Ii=u}function Ot(){if(Ii){var u=Ii,p=Wt;if(Wt=Ii=null,xt(u),p)for(u=0;u<p.length;u++)xt(p[u])}}function Pt(u,p){return u(p)}function mt(){}var Cr=!1;function Ut(u,p,v){if(Cr)return u(p,v);Cr=!0;try{return Pt(u,p,v)}finally{Cr=!1,(Ii!==null||Wt!==null)&&(mt(),Ot())}}function bt(u,p){var v=u.stateNode;if(v===null)return null;var N=fg(v);if(N===null)return null;v=N[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(u=u.type,N=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!N;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(r(231,p,typeof v));return v}var Tr=!1;if(l)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Tr=!1}function Xt(u,p,v,N,T,R,V,Q,ne){var ye=Array.prototype.slice.call(arguments,3);try{p.apply(v,ye)}catch(Ce){this.onError(Ce)}}var en=!1,Nr=null,fn=!1,us=null,bo={onError:function(u){en=!0,Nr=u}};function Ob(u,p,v,N,T,R,V,Q,ne){en=!1,Nr=null,Xt.apply(bo,arguments)}function Um(u,p,v,N,T,R,V,Q,ne){if(Ob.apply(this,arguments),en){if(en){var ye=Nr;en=!1,Nr=null}else throw Error(r(198));fn||(fn=!0,us=ye)}}function _a(u){var p=u,v=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(v=p.return),u=p.return;while(u)}return p.tag===3?v:null}function mf(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function qm(u){if(_a(u)!==u)throw Error(r(188))}function Oa(u){var p=u.alternate;if(!p){if(p=_a(u),p===null)throw Error(r(188));return p!==u?null:u}for(var v=u,N=p;;){var T=v.return;if(T===null)break;var R=T.alternate;if(R===null){if(N=T.return,N!==null){v=N;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===v)return qm(T),u;if(R===N)return qm(T),p;R=R.sibling}throw Error(r(188))}if(v.return!==N.return)v=T,N=R;else{for(var V=!1,Q=T.child;Q;){if(Q===v){V=!0,v=T,N=R;break}if(Q===N){V=!0,N=T,v=R;break}Q=Q.sibling}if(!V){for(Q=R.child;Q;){if(Q===v){V=!0,v=R,N=T;break}if(Q===N){V=!0,N=R,v=T;break}Q=Q.sibling}if(!V)throw Error(r(189))}}if(v.alternate!==N)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?u:p}function gf(u){return u=Oa(u),u!==null?Vm(u):null}function Vm(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var p=Vm(u);if(p!==null)return p;u=u.sibling}return null}var vf=e.unstable_scheduleCallback,Vc=e.unstable_cancelCallback,yf=e.unstable_shouldYield,Pb=e.unstable_requestPaint,Qt=e.unstable_now,kb=e.unstable_getCurrentPriorityLevel,xf=e.unstable_ImmediatePriority,Gm=e.unstable_UserBlockingPriority,ce=e.unstable_NormalPriority,Tb=e.unstable_LowPriority,bf=e.unstable_IdlePriority,kl=null,bn=null;function Tl(u){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(kl,u,void 0,(u.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Pa,wf=Math.log,jf=Math.LN2;function Pa(u){return u>>>=0,u===0?32:31-(wf(u)/jf|0)|0}var Al=64,El=4194304;function Gs(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ml(u,p){var v=u.pendingLanes;if(v===0)return 0;var N=0,T=u.suspendedLanes,R=u.pingedLanes,V=v&268435455;if(V!==0){var Q=V&~T;Q!==0?N=Gs(Q):(R&=V,R!==0&&(N=Gs(R)))}else V=v&~T,V!==0?N=Gs(V):R!==0&&(N=Gs(R));if(N===0)return 0;if(p!==0&&p!==N&&(p&T)===0&&(T=N&-N,R=p&-p,T>=R||T===16&&(R&4194240)!==0))return p;if((N&4)!==0&&(N|=v&16),p=u.entangledLanes,p!==0)for(u=u.entanglements,p&=N;0<p;)v=31-Kn(p),T=1<<v,N|=u[v],p&=~T;return N}function Ab(u,p){switch(u){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xm(u,p){for(var v=u.suspendedLanes,N=u.pingedLanes,T=u.expirationTimes,R=u.pendingLanes;0<R;){var V=31-Kn(R),Q=1<<V,ne=T[V];ne===-1?((Q&v)===0||(Q&N)!==0)&&(T[V]=Ab(Q,p)):ne<=p&&(u.expiredLanes|=Q),R&=~Q}}function Sf(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Ym(){var u=Al;return Al<<=1,(Al&4194240)===0&&(Al=64),u}function Cf(u){for(var p=[],v=0;31>v;v++)p.push(u);return p}function Dl(u,p,v){u.pendingLanes|=p,p!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,p=31-Kn(p),u[p]=v}function Eb(u,p){var v=u.pendingLanes&~p;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=p,u.mutableReadLanes&=p,u.entangledLanes&=p,p=u.entanglements;var N=u.eventTimes;for(u=u.expirationTimes;0<v;){var T=31-Kn(v),R=1<<T;p[T]=0,N[T]=-1,u[T]=-1,v&=~R}}function Nf(u,p){var v=u.entangledLanes|=p;for(u=u.entanglements;v;){var N=31-Kn(v),T=1<<N;T&p|u[N]&p&&(u[N]|=p),v&=~T}}var It=0;function Km(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Jm,_f,Of,Pf,Zm,Gc=!1,wo=[],wn=null,Li=null,hn=null,Xs=new Map,jo=new Map,ds=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eg(u,p){switch(u){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Xs.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(p.pointerId)}}function Rl(u,p,v,N,T,R){return u===null||u.nativeEvent!==R?(u={blockedOn:p,domEventName:v,eventSystemFlags:N,nativeEvent:R,targetContainers:[T]},p!==null&&(p=Ff(p),p!==null&&_f(p)),u):(u.eventSystemFlags|=N,p=u.targetContainers,T!==null&&p.indexOf(T)===-1&&p.push(T),u)}function tg(u,p,v,N,T){switch(p){case"focusin":return wn=Rl(wn,u,p,v,N,T),!0;case"dragenter":return Li=Rl(Li,u,p,v,N,T),!0;case"mouseover":return hn=Rl(hn,u,p,v,N,T),!0;case"pointerover":var R=T.pointerId;return Xs.set(R,Rl(Xs.get(R)||null,u,p,v,N,T)),!0;case"gotpointercapture":return R=T.pointerId,jo.set(R,Rl(jo.get(R)||null,u,p,v,N,T)),!0}return!1}function rg(u){var p=zl(u.target);if(p!==null){var v=_a(p);if(v!==null){if(p=v.tag,p===13){if(p=mf(v),p!==null){u.blockedOn=p,Zm(u.priority,function(){Of(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Xc(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var v=Ae(u.domEventName,u.eventSystemFlags,p[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var N=new v.constructor(v.type,v);Ri=N,v.target.dispatchEvent(N),Ri=null}else return p=Ff(v),p!==null&&_f(p),u.blockedOn=v,!1;p.shift()}return!0}function ng(u,p,v){Xc(u)&&v.delete(p)}function Mb(){Gc=!1,wn!==null&&Xc(wn)&&(wn=null),Li!==null&&Xc(Li)&&(Li=null),hn!==null&&Xc(hn)&&(hn=null),Xs.forEach(ng),jo.forEach(ng)}function Il(u,p){u.blockedOn===p&&(u.blockedOn=null,Gc||(Gc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mb)))}function Ll(u){function p(T){return Il(T,u)}if(0<wo.length){Il(wo[0],u);for(var v=1;v<wo.length;v++){var N=wo[v];N.blockedOn===u&&(N.blockedOn=null)}}for(wn!==null&&Il(wn,u),Li!==null&&Il(Li,u),hn!==null&&Il(hn,u),Xs.forEach(p),jo.forEach(p),v=0;v<ds.length;v++)N=ds[v],N.blockedOn===u&&(N.blockedOn=null);for(;0<ds.length&&(v=ds[0],v.blockedOn===null);)rg(v),v.blockedOn===null&&ds.shift()}var So=P.ReactCurrentBatchConfig,Yc=!0;function Db(u,p,v,N){var T=It,R=So.transition;So.transition=null;try{It=1,ge(u,p,v,N)}finally{It=T,So.transition=R}}function X(u,p,v,N){var T=It,R=So.transition;So.transition=null;try{It=4,ge(u,p,v,N)}finally{It=T,So.transition=R}}function ge(u,p,v,N){if(Yc){var T=Ae(u,p,v,N);if(T===null)Yb(u,p,N,we,v),eg(u,N);else if(tg(T,u,p,v,N))N.stopPropagation();else if(eg(u,N),p&4&&-1<Qm.indexOf(u)){for(;T!==null;){var R=Ff(T);if(R!==null&&Jm(R),R=Ae(u,p,v,N),R===null&&Yb(u,p,N,we,v),R===T)break;T=R}T!==null&&N.stopPropagation()}else Yb(u,p,N,null,v)}}var we=null;function Ae(u,p,v,N){if(we=null,u=Rn(N),u=zl(u),u!==null)if(p=_a(u),p===null)u=null;else if(v=p.tag,v===13){if(u=mf(p),u!==null)return u;u=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null);return we=u,null}function Re(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kb()){case xf:return 1;case Gm:return 4;case ce:case Tb:return 16;case bf:return 536870912;default:return 16}default:return 16}}var Lt=null,Yt=null,gt=null;function Ve(){if(gt)return gt;var u,p=Yt,v=p.length,N,T="value"in Lt?Lt.value:Lt.textContent,R=T.length;for(u=0;u<v&&p[u]===T[u];u++);var V=v-u;for(N=1;N<=V&&p[v-N]===T[R-N];N++);return gt=T.slice(u,1<N?1-N:void 0)}function ut(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function ur(){return!0}function jn(){return!1}function mr(u){function p(v,N,T,R,V){this._reactName=v,this._targetInst=T,this.type=N,this.nativeEvent=R,this.target=V,this.currentTarget=null;for(var Q in u)u.hasOwnProperty(Q)&&(v=u[Q],this[Q]=v?v(R):R[Q]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?ur:jn,this.isPropagationStopped=jn,this}return I(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),p}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ar=mr(Jn),Ys=I({},Jn,{view:0,detail:0}),X9=mr(Ys),Rb,Ib,kf,ig=I({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zb,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==kf&&(kf&&u.type==="mousemove"?(Rb=u.screenX-kf.screenX,Ib=u.screenY-kf.screenY):Ib=Rb=0,kf=u),Rb)},movementY:function(u){return"movementY"in u?u.movementY:Ib}}),mT=mr(ig),Y9=I({},ig,{dataTransfer:0}),K9=mr(Y9),J9=I({},Ys,{relatedTarget:0}),Lb=mr(J9),Z9=I({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Q9=mr(Z9),eG=I({},Jn,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),tG=mr(eG),rG=I({},Jn,{data:0}),gT=mr(rG),nG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aG(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=sG[u])?!!p[u]:!1}function zb(){return aG}var oG=I({},Ys,{key:function(u){if(u.key){var p=nG[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=ut(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?iG[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zb,charCode:function(u){return u.type==="keypress"?ut(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ut(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),lG=mr(oG),cG=I({},ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vT=mr(cG),uG=I({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zb}),dG=mr(uG),fG=I({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hG=mr(fG),pG=I({},ig,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),mG=mr(pG),gG=[9,13,27,32],Fb=l&&"CompositionEvent"in window,Tf=null;l&&"documentMode"in document&&(Tf=document.documentMode);var vG=l&&"TextEvent"in window&&!Tf,yT=l&&(!Fb||Tf&&8<Tf&&11>=Tf),xT=" ",bT=!1;function wT(u,p){switch(u){case"keyup":return gG.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jT(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Kc=!1;function yG(u,p){switch(u){case"compositionend":return jT(p);case"keypress":return p.which!==32?null:(bT=!0,xT);case"textInput":return u=p.data,u===xT&&bT?null:u;default:return null}}function xG(u,p){if(Kc)return u==="compositionend"||!Fb&&wT(u,p)?(u=Ve(),gt=Yt=Lt=null,Kc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return yT&&p.locale!=="ko"?null:p.data;default:return null}}var bG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ST(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!bG[u.type]:p==="textarea"}function CT(u,p,v,N){Xe(N),p=cg(p,"onChange"),0<p.length&&(v=new Ar("onChange","change",null,v,N),u.push({event:v,listeners:p}))}var Af=null,Ef=null;function wG(u){HT(u,0)}function sg(u){var p=tu(u);if(le(p))return u}function jG(u,p){if(u==="change")return p}var NT=!1;if(l){var $b;if(l){var Bb="oninput"in document;if(!Bb){var _T=document.createElement("div");_T.setAttribute("oninput","return;"),Bb=typeof _T.oninput=="function"}$b=Bb}else $b=!1;NT=$b&&(!document.documentMode||9<document.documentMode)}function OT(){Af&&(Af.detachEvent("onpropertychange",PT),Ef=Af=null)}function PT(u){if(u.propertyName==="value"&&sg(Ef)){var p=[];CT(p,Ef,u,Rn(u)),Ut(wG,p)}}function SG(u,p,v){u==="focusin"?(OT(),Af=p,Ef=v,Af.attachEvent("onpropertychange",PT)):u==="focusout"&&OT()}function CG(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return sg(Ef)}function NG(u,p){if(u==="click")return sg(p)}function _G(u,p){if(u==="input"||u==="change")return sg(p)}function OG(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var fs=typeof Object.is=="function"?Object.is:OG;function Mf(u,p){if(fs(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var v=Object.keys(u),N=Object.keys(p);if(v.length!==N.length)return!1;for(N=0;N<v.length;N++){var T=v[N];if(!c.call(p,T)||!fs(u[T],p[T]))return!1}return!0}function kT(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function TT(u,p){var v=kT(u);u=0;for(var N;v;){if(v.nodeType===3){if(N=u+v.textContent.length,u<=p&&N>=p)return{node:v,offset:p-u};u=N}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=kT(v)}}function AT(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?AT(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function ET(){for(var u=window,p=ke();p instanceof u.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)u=p.contentWindow;else break;p=ke(u.document)}return p}function Hb(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}function PG(u){var p=ET(),v=u.focusedElem,N=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&AT(v.ownerDocument.documentElement,v)){if(N!==null&&Hb(v)){if(p=N.start,u=N.end,u===void 0&&(u=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(u,v.value.length);else if(u=(p=v.ownerDocument||document)&&p.defaultView||window,u.getSelection){u=u.getSelection();var T=v.textContent.length,R=Math.min(N.start,T);N=N.end===void 0?R:Math.min(N.end,T),!u.extend&&R>N&&(T=N,N=R,R=T),T=TT(v,R);var V=TT(v,N);T&&V&&(u.rangeCount!==1||u.anchorNode!==T.node||u.anchorOffset!==T.offset||u.focusNode!==V.node||u.focusOffset!==V.offset)&&(p=p.createRange(),p.setStart(T.node,T.offset),u.removeAllRanges(),R>N?(u.addRange(p),u.extend(V.node,V.offset)):(p.setEnd(V.node,V.offset),u.addRange(p)))}}for(p=[],u=v;u=u.parentNode;)u.nodeType===1&&p.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)u=p[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var kG=l&&"documentMode"in document&&11>=document.documentMode,Jc=null,Wb=null,Df=null,Ub=!1;function MT(u,p,v){var N=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Ub||Jc==null||Jc!==ke(N)||(N=Jc,"selectionStart"in N&&Hb(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Df&&Mf(Df,N)||(Df=N,N=cg(Wb,"onSelect"),0<N.length&&(p=new Ar("onSelect","select",null,p,v),u.push({event:p,listeners:N}),p.target=Jc)))}function ag(u,p){var v={};return v[u.toLowerCase()]=p.toLowerCase(),v["Webkit"+u]="webkit"+p,v["Moz"+u]="moz"+p,v}var Zc={animationend:ag("Animation","AnimationEnd"),animationiteration:ag("Animation","AnimationIteration"),animationstart:ag("Animation","AnimationStart"),transitionend:ag("Transition","TransitionEnd")},qb={},DT={};l&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function og(u){if(qb[u])return qb[u];if(!Zc[u])return u;var p=Zc[u],v;for(v in p)if(p.hasOwnProperty(v)&&v in DT)return qb[u]=p[v];return u}var RT=og("animationend"),IT=og("animationiteration"),LT=og("animationstart"),zT=og("transitionend"),FT=new Map,$T="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(u,p){FT.set(u,p),s(p,[u])}for(var Vb=0;Vb<$T.length;Vb++){var Gb=$T[Vb],TG=Gb.toLowerCase(),AG=Gb[0].toUpperCase()+Gb.slice(1);Co(TG,"on"+AG)}Co(RT,"onAnimationEnd"),Co(IT,"onAnimationIteration"),Co(LT,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(zT,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function BT(u,p,v){var N=u.type||"unknown-event";u.currentTarget=v,Um(N,p,void 0,u),u.currentTarget=null}function HT(u,p){p=(p&4)!==0;for(var v=0;v<u.length;v++){var N=u[v],T=N.event;N=N.listeners;e:{var R=void 0;if(p)for(var V=N.length-1;0<=V;V--){var Q=N[V],ne=Q.instance,ye=Q.currentTarget;if(Q=Q.listener,ne!==R&&T.isPropagationStopped())break e;BT(T,Q,ye),R=ne}else for(V=0;V<N.length;V++){if(Q=N[V],ne=Q.instance,ye=Q.currentTarget,Q=Q.listener,ne!==R&&T.isPropagationStopped())break e;BT(T,Q,ye),R=ne}}}if(fn)throw u=us,fn=!1,us=null,u}function sr(u,p){var v=p[tw];v===void 0&&(v=p[tw]=new Set);var N=u+"__bubble";v.has(N)||(WT(p,u,2,!1),v.add(N))}function Xb(u,p,v){var N=0;p&&(N|=4),WT(v,u,N,p)}var lg="_reactListening"+Math.random().toString(36).slice(2);function If(u){if(!u[lg]){u[lg]=!0,n.forEach(function(v){v!=="selectionchange"&&(EG.has(v)||Xb(v,!1,u),Xb(v,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[lg]||(p[lg]=!0,Xb("selectionchange",!1,p))}}function WT(u,p,v,N){switch(Re(p)){case 1:var T=Db;break;case 4:T=X;break;default:T=ge}v=T.bind(null,p,v,u),T=void 0,!Tr||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(T=!0),N?T!==void 0?u.addEventListener(p,v,{capture:!0,passive:T}):u.addEventListener(p,v,!0):T!==void 0?u.addEventListener(p,v,{passive:T}):u.addEventListener(p,v,!1)}function Yb(u,p,v,N,T){var R=N;if((p&1)===0&&(p&2)===0&&N!==null)e:for(;;){if(N===null)return;var V=N.tag;if(V===3||V===4){var Q=N.stateNode.containerInfo;if(Q===T||Q.nodeType===8&&Q.parentNode===T)break;if(V===4)for(V=N.return;V!==null;){var ne=V.tag;if((ne===3||ne===4)&&(ne=V.stateNode.containerInfo,ne===T||ne.nodeType===8&&ne.parentNode===T))return;V=V.return}for(;Q!==null;){if(V=zl(Q),V===null)return;if(ne=V.tag,ne===5||ne===6){N=R=V;continue e}Q=Q.parentNode}}N=N.return}Ut(function(){var ye=R,Ce=Rn(v),_e=[];e:{var Se=FT.get(u);if(Se!==void 0){var Ie=Ar,We=u;switch(u){case"keypress":if(ut(v)===0)break e;case"keydown":case"keyup":Ie=lG;break;case"focusin":We="focus",Ie=Lb;break;case"focusout":We="blur",Ie=Lb;break;case"beforeblur":case"afterblur":Ie=Lb;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=mT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=K9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=dG;break;case RT:case IT:case LT:Ie=Q9;break;case zT:Ie=hG;break;case"scroll":Ie=X9;break;case"wheel":Ie=mG;break;case"copy":case"cut":case"paste":Ie=tG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=vT}var Ge=(p&4)!==0,_r=!Ge&&u==="scroll",he=Ge?Se!==null?Se+"Capture":null:Se;Ge=[];for(var se=ye,me;se!==null;){me=se;var Pe=me.stateNode;if(me.tag===5&&Pe!==null&&(me=Pe,he!==null&&(Pe=bt(se,he),Pe!=null&&Ge.push(Lf(se,Pe,me)))),_r)break;se=se.return}0<Ge.length&&(Se=new Ie(Se,We,null,v,Ce),_e.push({event:Se,listeners:Ge}))}}if((p&7)===0){e:{if(Se=u==="mouseover"||u==="pointerover",Ie=u==="mouseout"||u==="pointerout",Se&&v!==Ri&&(We=v.relatedTarget||v.fromElement)&&(zl(We)||We[ka]))break e;if((Ie||Se)&&(Se=Ce.window===Ce?Ce:(Se=Ce.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ie?(We=v.relatedTarget||v.toElement,Ie=ye,We=We?zl(We):null,We!==null&&(_r=_a(We),We!==_r||We.tag!==5&&We.tag!==6)&&(We=null)):(Ie=null,We=ye),Ie!==We)){if(Ge=mT,Pe="onMouseLeave",he="onMouseEnter",se="mouse",(u==="pointerout"||u==="pointerover")&&(Ge=vT,Pe="onPointerLeave",he="onPointerEnter",se="pointer"),_r=Ie==null?Se:tu(Ie),me=We==null?Se:tu(We),Se=new Ge(Pe,se+"leave",Ie,v,Ce),Se.target=_r,Se.relatedTarget=me,Pe=null,zl(Ce)===ye&&(Ge=new Ge(he,se+"enter",We,v,Ce),Ge.target=me,Ge.relatedTarget=_r,Pe=Ge),_r=Pe,Ie&&We)t:{for(Ge=Ie,he=We,se=0,me=Ge;me;me=Qc(me))se++;for(me=0,Pe=he;Pe;Pe=Qc(Pe))me++;for(;0<se-me;)Ge=Qc(Ge),se--;for(;0<me-se;)he=Qc(he),me--;for(;se--;){if(Ge===he||he!==null&&Ge===he.alternate)break t;Ge=Qc(Ge),he=Qc(he)}Ge=null}else Ge=null;Ie!==null&&UT(_e,Se,Ie,Ge,!1),We!==null&&_r!==null&&UT(_e,_r,We,Ge,!0)}}e:{if(Se=ye?tu(ye):window,Ie=Se.nodeName&&Se.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Se.type==="file")var Ye=jG;else if(ST(Se))if(NT)Ye=_G;else{Ye=CG;var Qe=SG}else(Ie=Se.nodeName)&&Ie.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Ye=NG);if(Ye&&(Ye=Ye(u,ye))){CT(_e,Ye,v,Ce);break e}Qe&&Qe(u,Se,ye),u==="focusout"&&(Qe=Se._wrapperState)&&Qe.controlled&&Se.type==="number"&&je(Se,"number",Se.value)}switch(Qe=ye?tu(ye):window,u){case"focusin":(ST(Qe)||Qe.contentEditable==="true")&&(Jc=Qe,Wb=ye,Df=null);break;case"focusout":Df=Wb=Jc=null;break;case"mousedown":Ub=!0;break;case"contextmenu":case"mouseup":case"dragend":Ub=!1,MT(_e,v,Ce);break;case"selectionchange":if(kG)break;case"keydown":case"keyup":MT(_e,v,Ce)}var et;if(Fb)e:{switch(u){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Kc?wT(u,v)&&(at="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(at="onCompositionStart");at&&(yT&&v.locale!=="ko"&&(Kc||at!=="onCompositionStart"?at==="onCompositionEnd"&&Kc&&(et=Ve()):(Lt=Ce,Yt="value"in Lt?Lt.value:Lt.textContent,Kc=!0)),Qe=cg(ye,at),0<Qe.length&&(at=new gT(at,u,null,v,Ce),_e.push({event:at,listeners:Qe}),et?at.data=et:(et=jT(v),et!==null&&(at.data=et)))),(et=vG?yG(u,v):xG(u,v))&&(ye=cg(ye,"onBeforeInput"),0<ye.length&&(Ce=new gT("onBeforeInput","beforeinput",null,v,Ce),_e.push({event:Ce,listeners:ye}),Ce.data=et))}HT(_e,p)})}function Lf(u,p,v){return{instance:u,listener:p,currentTarget:v}}function cg(u,p){for(var v=p+"Capture",N=[];u!==null;){var T=u,R=T.stateNode;T.tag===5&&R!==null&&(T=R,R=bt(u,v),R!=null&&N.unshift(Lf(u,R,T)),R=bt(u,p),R!=null&&N.push(Lf(u,R,T))),u=u.return}return N}function Qc(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function UT(u,p,v,N,T){for(var R=p._reactName,V=[];v!==null&&v!==N;){var Q=v,ne=Q.alternate,ye=Q.stateNode;if(ne!==null&&ne===N)break;Q.tag===5&&ye!==null&&(Q=ye,T?(ne=bt(v,R),ne!=null&&V.unshift(Lf(v,ne,Q))):T||(ne=bt(v,R),ne!=null&&V.push(Lf(v,ne,Q)))),v=v.return}V.length!==0&&u.push({event:p,listeners:V})}var MG=/\r\n?/g,DG=/\u0000|\uFFFD/g;function qT(u){return(typeof u=="string"?u:""+u).replace(MG,`
`).replace(DG,"")}function ug(u,p,v){if(p=qT(p),qT(u)!==p&&v)throw Error(r(425))}function dg(){}var Kb=null,Jb=null;function Zb(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Qb=typeof setTimeout=="function"?setTimeout:void 0,RG=typeof clearTimeout=="function"?clearTimeout:void 0,VT=typeof Promise=="function"?Promise:void 0,IG=typeof queueMicrotask=="function"?queueMicrotask:typeof VT<"u"?function(u){return VT.resolve(null).then(u).catch(LG)}:Qb;function LG(u){setTimeout(function(){throw u})}function ew(u,p){var v=p,N=0;do{var T=v.nextSibling;if(u.removeChild(v),T&&T.nodeType===8)if(v=T.data,v==="/$"){if(N===0){u.removeChild(T),Ll(p);return}N--}else v!=="$"&&v!=="$?"&&v!=="$!"||N++;v=T}while(v);Ll(p)}function No(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return u}function GT(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return u;p--}else v==="/$"&&p++}u=u.previousSibling}return null}var eu=Math.random().toString(36).slice(2),Ks="__reactFiber$"+eu,zf="__reactProps$"+eu,ka="__reactContainer$"+eu,tw="__reactEvents$"+eu,zG="__reactListeners$"+eu,FG="__reactHandles$"+eu;function zl(u){var p=u[Ks];if(p)return p;for(var v=u.parentNode;v;){if(p=v[ka]||v[Ks]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(u=GT(u);u!==null;){if(v=u[Ks])return v;u=GT(u)}return p}u=v,v=u.parentNode}return null}function Ff(u){return u=u[Ks]||u[ka],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function tu(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function fg(u){return u[zf]||null}var rw=[],ru=-1;function _o(u){return{current:u}}function ar(u){0>ru||(u.current=rw[ru],rw[ru]=null,ru--)}function er(u,p){ru++,rw[ru]=u.current,u.current=p}var Oo={},Sn=_o(Oo),Zn=_o(!1),Fl=Oo;function nu(u,p){var v=u.type.contextTypes;if(!v)return Oo;var N=u.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===p)return N.__reactInternalMemoizedMaskedChildContext;var T={},R;for(R in v)T[R]=p[R];return N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=p,u.__reactInternalMemoizedMaskedChildContext=T),T}function Qn(u){return u=u.childContextTypes,u!=null}function hg(){ar(Zn),ar(Sn)}function XT(u,p,v){if(Sn.current!==Oo)throw Error(r(168));er(Sn,p),er(Zn,v)}function YT(u,p,v){var N=u.stateNode;if(p=p.childContextTypes,typeof N.getChildContext!="function")return v;N=N.getChildContext();for(var T in N)if(!(T in p))throw Error(r(108,J(u)||"Unknown",T));return I({},v,N)}function pg(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Oo,Fl=Sn.current,er(Sn,u),er(Zn,Zn.current),!0}function KT(u,p,v){var N=u.stateNode;if(!N)throw Error(r(169));v?(u=YT(u,p,Fl),N.__reactInternalMemoizedMergedChildContext=u,ar(Zn),ar(Sn),er(Sn,u)):ar(Zn),er(Zn,v)}var Ta=null,mg=!1,nw=!1;function JT(u){Ta===null?Ta=[u]:Ta.push(u)}function $G(u){mg=!0,JT(u)}function Po(){if(!nw&&Ta!==null){nw=!0;var u=0,p=It;try{var v=Ta;for(It=1;u<v.length;u++){var N=v[u];do N=N(!0);while(N!==null)}Ta=null,mg=!1}catch(T){throw Ta!==null&&(Ta=Ta.slice(u+1)),vf(xf,Po),T}finally{It=p,nw=!1}}return null}var iu=[],su=0,gg=null,vg=0,zi=[],Fi=0,$l=null,Aa=1,Ea="";function Bl(u,p){iu[su++]=vg,iu[su++]=gg,gg=u,vg=p}function ZT(u,p,v){zi[Fi++]=Aa,zi[Fi++]=Ea,zi[Fi++]=$l,$l=u;var N=Aa;u=Ea;var T=32-Kn(N)-1;N&=~(1<<T),v+=1;var R=32-Kn(p)+T;if(30<R){var V=T-T%5;R=(N&(1<<V)-1).toString(32),N>>=V,T-=V,Aa=1<<32-Kn(p)+T|v<<T|N,Ea=R+u}else Aa=1<<R|v<<T|N,Ea=u}function iw(u){u.return!==null&&(Bl(u,1),ZT(u,1,0))}function sw(u){for(;u===gg;)gg=iu[--su],iu[su]=null,vg=iu[--su],iu[su]=null;for(;u===$l;)$l=zi[--Fi],zi[Fi]=null,Ea=zi[--Fi],zi[Fi]=null,Aa=zi[--Fi],zi[Fi]=null}var yi=null,xi=null,dr=!1,hs=null;function QT(u,p){var v=Wi(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=u,p=u.deletions,p===null?(u.deletions=[v],u.flags|=16):p.push(v)}function eA(u,p){switch(u.tag){case 5:var v=u.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(u.stateNode=p,yi=u,xi=No(p.firstChild),!0):!1;case 6:return p=u.pendingProps===""||p.nodeType!==3?null:p,p!==null?(u.stateNode=p,yi=u,xi=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=$l!==null?{id:Aa,overflow:Ea}:null,u.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=Wi(18,null,null,0),v.stateNode=p,v.return=u,u.child=v,yi=u,xi=null,!0):!1;default:return!1}}function aw(u){return(u.mode&1)!==0&&(u.flags&128)===0}function ow(u){if(dr){var p=xi;if(p){var v=p;if(!eA(u,p)){if(aw(u))throw Error(r(418));p=No(v.nextSibling);var N=yi;p&&eA(u,p)?QT(N,v):(u.flags=u.flags&-4097|2,dr=!1,yi=u)}}else{if(aw(u))throw Error(r(418));u.flags=u.flags&-4097|2,dr=!1,yi=u}}}function tA(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;yi=u}function yg(u){if(u!==yi)return!1;if(!dr)return tA(u),dr=!0,!1;var p;if((p=u.tag!==3)&&!(p=u.tag!==5)&&(p=u.type,p=p!=="head"&&p!=="body"&&!Zb(u.type,u.memoizedProps)),p&&(p=xi)){if(aw(u))throw rA(),Error(r(418));for(;p;)QT(u,p),p=No(p.nextSibling)}if(tA(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,p=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(p===0){xi=No(u.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}u=u.nextSibling}xi=null}}else xi=yi?No(u.stateNode.nextSibling):null;return!0}function rA(){for(var u=xi;u;)u=No(u.nextSibling)}function au(){xi=yi=null,dr=!1}function lw(u){hs===null?hs=[u]:hs.push(u)}var BG=P.ReactCurrentBatchConfig;function $f(u,p,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(r(309));var N=v.stateNode}if(!N)throw Error(r(147,u));var T=N,R=""+u;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===R?p.ref:(p=function(V){var Q=T.refs;V===null?delete Q[R]:Q[R]=V},p._stringRef=R,p)}if(typeof u!="string")throw Error(r(284));if(!v._owner)throw Error(r(290,u))}return u}function xg(u,p){throw u=Object.prototype.toString.call(p),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u))}function nA(u){var p=u._init;return p(u._payload)}function iA(u){function p(he,se){if(u){var me=he.deletions;me===null?(he.deletions=[se],he.flags|=16):me.push(se)}}function v(he,se){if(!u)return null;for(;se!==null;)p(he,se),se=se.sibling;return null}function N(he,se){for(he=new Map;se!==null;)se.key!==null?he.set(se.key,se):he.set(se.index,se),se=se.sibling;return he}function T(he,se){return he=Io(he,se),he.index=0,he.sibling=null,he}function R(he,se,me){return he.index=me,u?(me=he.alternate,me!==null?(me=me.index,me<se?(he.flags|=2,se):me):(he.flags|=2,se)):(he.flags|=1048576,se)}function V(he){return u&&he.alternate===null&&(he.flags|=2),he}function Q(he,se,me,Pe){return se===null||se.tag!==6?(se=Qw(me,he.mode,Pe),se.return=he,se):(se=T(se,me),se.return=he,se)}function ne(he,se,me,Pe){var Ye=me.type;return Ye===k?Ce(he,se,me.props.children,Pe,me.key):se!==null&&(se.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===q&&nA(Ye)===se.type)?(Pe=T(se,me.props),Pe.ref=$f(he,se,me),Pe.return=he,Pe):(Pe=Wg(me.type,me.key,me.props,null,he.mode,Pe),Pe.ref=$f(he,se,me),Pe.return=he,Pe)}function ye(he,se,me,Pe){return se===null||se.tag!==4||se.stateNode.containerInfo!==me.containerInfo||se.stateNode.implementation!==me.implementation?(se=ej(me,he.mode,Pe),se.return=he,se):(se=T(se,me.children||[]),se.return=he,se)}function Ce(he,se,me,Pe,Ye){return se===null||se.tag!==7?(se=Yl(me,he.mode,Pe,Ye),se.return=he,se):(se=T(se,me),se.return=he,se)}function _e(he,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Qw(""+se,he.mode,me),se.return=he,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case C:return me=Wg(se.type,se.key,se.props,null,he.mode,me),me.ref=$f(he,null,se),me.return=he,me;case _:return se=ej(se,he.mode,me),se.return=he,se;case q:var Pe=se._init;return _e(he,Pe(se._payload),me)}if(ft(se)||B(se))return se=Yl(se,he.mode,me,null),se.return=he,se;xg(he,se)}return null}function Se(he,se,me,Pe){var Ye=se!==null?se.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return Ye!==null?null:Q(he,se,""+me,Pe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case C:return me.key===Ye?ne(he,se,me,Pe):null;case _:return me.key===Ye?ye(he,se,me,Pe):null;case q:return Ye=me._init,Se(he,se,Ye(me._payload),Pe)}if(ft(me)||B(me))return Ye!==null?null:Ce(he,se,me,Pe,null);xg(he,me)}return null}function Ie(he,se,me,Pe,Ye){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return he=he.get(me)||null,Q(se,he,""+Pe,Ye);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case C:return he=he.get(Pe.key===null?me:Pe.key)||null,ne(se,he,Pe,Ye);case _:return he=he.get(Pe.key===null?me:Pe.key)||null,ye(se,he,Pe,Ye);case q:var Qe=Pe._init;return Ie(he,se,me,Qe(Pe._payload),Ye)}if(ft(Pe)||B(Pe))return he=he.get(me)||null,Ce(se,he,Pe,Ye,null);xg(se,Pe)}return null}function We(he,se,me,Pe){for(var Ye=null,Qe=null,et=se,at=se=0,nn=null;et!==null&&at<me.length;at++){et.index>at?(nn=et,et=null):nn=et.sibling;var At=Se(he,et,me[at],Pe);if(At===null){et===null&&(et=nn);break}u&&et&&At.alternate===null&&p(he,et),se=R(At,se,at),Qe===null?Ye=At:Qe.sibling=At,Qe=At,et=nn}if(at===me.length)return v(he,et),dr&&Bl(he,at),Ye;if(et===null){for(;at<me.length;at++)et=_e(he,me[at],Pe),et!==null&&(se=R(et,se,at),Qe===null?Ye=et:Qe.sibling=et,Qe=et);return dr&&Bl(he,at),Ye}for(et=N(he,et);at<me.length;at++)nn=Ie(et,he,at,me[at],Pe),nn!==null&&(u&&nn.alternate!==null&&et.delete(nn.key===null?at:nn.key),se=R(nn,se,at),Qe===null?Ye=nn:Qe.sibling=nn,Qe=nn);return u&&et.forEach(function(Lo){return p(he,Lo)}),dr&&Bl(he,at),Ye}function Ge(he,se,me,Pe){var Ye=B(me);if(typeof Ye!="function")throw Error(r(150));if(me=Ye.call(me),me==null)throw Error(r(151));for(var Qe=Ye=null,et=se,at=se=0,nn=null,At=me.next();et!==null&&!At.done;at++,At=me.next()){et.index>at?(nn=et,et=null):nn=et.sibling;var Lo=Se(he,et,At.value,Pe);if(Lo===null){et===null&&(et=nn);break}u&&et&&Lo.alternate===null&&p(he,et),se=R(Lo,se,at),Qe===null?Ye=Lo:Qe.sibling=Lo,Qe=Lo,et=nn}if(At.done)return v(he,et),dr&&Bl(he,at),Ye;if(et===null){for(;!At.done;at++,At=me.next())At=_e(he,At.value,Pe),At!==null&&(se=R(At,se,at),Qe===null?Ye=At:Qe.sibling=At,Qe=At);return dr&&Bl(he,at),Ye}for(et=N(he,et);!At.done;at++,At=me.next())At=Ie(et,he,at,At.value,Pe),At!==null&&(u&&At.alternate!==null&&et.delete(At.key===null?at:At.key),se=R(At,se,at),Qe===null?Ye=At:Qe.sibling=At,Qe=At);return u&&et.forEach(function(b7){return p(he,b7)}),dr&&Bl(he,at),Ye}function _r(he,se,me,Pe){if(typeof me=="object"&&me!==null&&me.type===k&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case C:e:{for(var Ye=me.key,Qe=se;Qe!==null;){if(Qe.key===Ye){if(Ye=me.type,Ye===k){if(Qe.tag===7){v(he,Qe.sibling),se=T(Qe,me.props.children),se.return=he,he=se;break e}}else if(Qe.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===q&&nA(Ye)===Qe.type){v(he,Qe.sibling),se=T(Qe,me.props),se.ref=$f(he,Qe,me),se.return=he,he=se;break e}v(he,Qe);break}else p(he,Qe);Qe=Qe.sibling}me.type===k?(se=Yl(me.props.children,he.mode,Pe,me.key),se.return=he,he=se):(Pe=Wg(me.type,me.key,me.props,null,he.mode,Pe),Pe.ref=$f(he,se,me),Pe.return=he,he=Pe)}return V(he);case _:e:{for(Qe=me.key;se!==null;){if(se.key===Qe)if(se.tag===4&&se.stateNode.containerInfo===me.containerInfo&&se.stateNode.implementation===me.implementation){v(he,se.sibling),se=T(se,me.children||[]),se.return=he,he=se;break e}else{v(he,se);break}else p(he,se);se=se.sibling}se=ej(me,he.mode,Pe),se.return=he,he=se}return V(he);case q:return Qe=me._init,_r(he,se,Qe(me._payload),Pe)}if(ft(me))return We(he,se,me,Pe);if(B(me))return Ge(he,se,me,Pe);xg(he,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,se!==null&&se.tag===6?(v(he,se.sibling),se=T(se,me),se.return=he,he=se):(v(he,se),se=Qw(me,he.mode,Pe),se.return=he,he=se),V(he)):v(he,se)}return _r}var ou=iA(!0),sA=iA(!1),bg=_o(null),wg=null,lu=null,cw=null;function uw(){cw=lu=wg=null}function dw(u){var p=bg.current;ar(bg),u._currentValue=p}function fw(u,p,v){for(;u!==null;){var N=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,N!==null&&(N.childLanes|=p)):N!==null&&(N.childLanes&p)!==p&&(N.childLanes|=p),u===v)break;u=u.return}}function cu(u,p){wg=u,cw=lu=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&p)!==0&&(ei=!0),u.firstContext=null)}function $i(u){var p=u._currentValue;if(cw!==u)if(u={context:u,memoizedValue:p,next:null},lu===null){if(wg===null)throw Error(r(308));lu=u,wg.dependencies={lanes:0,firstContext:u}}else lu=lu.next=u;return p}var Hl=null;function hw(u){Hl===null?Hl=[u]:Hl.push(u)}function aA(u,p,v,N){var T=p.interleaved;return T===null?(v.next=v,hw(p)):(v.next=T.next,T.next=v),p.interleaved=v,Ma(u,N)}function Ma(u,p){u.lanes|=p;var v=u.alternate;for(v!==null&&(v.lanes|=p),v=u,u=u.return;u!==null;)u.childLanes|=p,v=u.alternate,v!==null&&(v.childLanes|=p),v=u,u=u.return;return v.tag===3?v.stateNode:null}var ko=!1;function pw(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oA(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Da(u,p){return{eventTime:u,lane:p,tag:0,payload:null,callback:null,next:null}}function To(u,p,v){var N=u.updateQueue;if(N===null)return null;if(N=N.shared,(kt&2)!==0){var T=N.pending;return T===null?p.next=p:(p.next=T.next,T.next=p),N.pending=p,Ma(u,v)}return T=N.interleaved,T===null?(p.next=p,hw(N)):(p.next=T.next,T.next=p),N.interleaved=p,Ma(u,v)}function jg(u,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var N=p.lanes;N&=u.pendingLanes,v|=N,p.lanes=v,Nf(u,v)}}function lA(u,p){var v=u.updateQueue,N=u.alternate;if(N!==null&&(N=N.updateQueue,v===N)){var T=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var V={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};R===null?T=R=V:R=R.next=V,v=v.next}while(v!==null);R===null?T=R=p:R=R.next=p}else T=R=p;v={baseState:N.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:N.shared,effects:N.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=p:u.next=p,v.lastBaseUpdate=p}function Sg(u,p,v,N){var T=u.updateQueue;ko=!1;var R=T.firstBaseUpdate,V=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var ne=Q,ye=ne.next;ne.next=null,V===null?R=ye:V.next=ye,V=ne;var Ce=u.alternate;Ce!==null&&(Ce=Ce.updateQueue,Q=Ce.lastBaseUpdate,Q!==V&&(Q===null?Ce.firstBaseUpdate=ye:Q.next=ye,Ce.lastBaseUpdate=ne))}if(R!==null){var _e=T.baseState;V=0,Ce=ye=ne=null,Q=R;do{var Se=Q.lane,Ie=Q.eventTime;if((N&Se)===Se){Ce!==null&&(Ce=Ce.next={eventTime:Ie,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var We=u,Ge=Q;switch(Se=p,Ie=v,Ge.tag){case 1:if(We=Ge.payload,typeof We=="function"){_e=We.call(Ie,_e,Se);break e}_e=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ge.payload,Se=typeof We=="function"?We.call(Ie,_e,Se):We,Se==null)break e;_e=I({},_e,Se);break e;case 2:ko=!0}}Q.callback!==null&&Q.lane!==0&&(u.flags|=64,Se=T.effects,Se===null?T.effects=[Q]:Se.push(Q))}else Ie={eventTime:Ie,lane:Se,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ce===null?(ye=Ce=Ie,ne=_e):Ce=Ce.next=Ie,V|=Se;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;Se=Q,Q=Se.next,Se.next=null,T.lastBaseUpdate=Se,T.shared.pending=null}}while(!0);if(Ce===null&&(ne=_e),T.baseState=ne,T.firstBaseUpdate=ye,T.lastBaseUpdate=Ce,p=T.shared.interleaved,p!==null){T=p;do V|=T.lane,T=T.next;while(T!==p)}else R===null&&(T.shared.lanes=0);ql|=V,u.lanes=V,u.memoizedState=_e}}function cA(u,p,v){if(u=p.effects,p.effects=null,u!==null)for(p=0;p<u.length;p++){var N=u[p],T=N.callback;if(T!==null){if(N.callback=null,N=v,typeof T!="function")throw Error(r(191,T));T.call(N)}}}var Bf={},Js=_o(Bf),Hf=_o(Bf),Wf=_o(Bf);function Wl(u){if(u===Bf)throw Error(r(174));return u}function mw(u,p){switch(er(Wf,p),er(Hf,u),er(Js,Bf),u=p.nodeType,u){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:_t(null,"");break;default:u=u===8?p.parentNode:p,p=u.namespaceURI||null,u=u.tagName,p=_t(p,u)}ar(Js),er(Js,p)}function uu(){ar(Js),ar(Hf),ar(Wf)}function uA(u){Wl(Wf.current);var p=Wl(Js.current),v=_t(p,u.type);p!==v&&(er(Hf,u),er(Js,v))}function gw(u){Hf.current===u&&(ar(Js),ar(Hf))}var gr=_o(0);function Cg(u){for(var p=u;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var vw=[];function yw(){for(var u=0;u<vw.length;u++)vw[u]._workInProgressVersionPrimary=null;vw.length=0}var Ng=P.ReactCurrentDispatcher,xw=P.ReactCurrentBatchConfig,Ul=0,vr=null,$r=null,tn=null,_g=!1,Uf=!1,qf=0,HG=0;function Cn(){throw Error(r(321))}function bw(u,p){if(p===null)return!1;for(var v=0;v<p.length&&v<u.length;v++)if(!fs(u[v],p[v]))return!1;return!0}function ww(u,p,v,N,T,R){if(Ul=R,vr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Ng.current=u===null||u.memoizedState===null?VG:GG,u=v(N,T),Uf){R=0;do{if(Uf=!1,qf=0,25<=R)throw Error(r(301));R+=1,tn=$r=null,p.updateQueue=null,Ng.current=XG,u=v(N,T)}while(Uf)}if(Ng.current=kg,p=$r!==null&&$r.next!==null,Ul=0,tn=$r=vr=null,_g=!1,p)throw Error(r(300));return u}function jw(){var u=qf!==0;return qf=0,u}function Zs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?vr.memoizedState=tn=u:tn=tn.next=u,tn}function Bi(){if($r===null){var u=vr.alternate;u=u!==null?u.memoizedState:null}else u=$r.next;var p=tn===null?vr.memoizedState:tn.next;if(p!==null)tn=p,$r=u;else{if(u===null)throw Error(r(310));$r=u,u={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},tn===null?vr.memoizedState=tn=u:tn=tn.next=u}return tn}function Vf(u,p){return typeof p=="function"?p(u):p}function Sw(u){var p=Bi(),v=p.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=u;var N=$r,T=N.baseQueue,R=v.pending;if(R!==null){if(T!==null){var V=T.next;T.next=R.next,R.next=V}N.baseQueue=T=R,v.pending=null}if(T!==null){R=T.next,N=N.baseState;var Q=V=null,ne=null,ye=R;do{var Ce=ye.lane;if((Ul&Ce)===Ce)ne!==null&&(ne=ne.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),N=ye.hasEagerState?ye.eagerState:u(N,ye.action);else{var _e={lane:Ce,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};ne===null?(Q=ne=_e,V=N):ne=ne.next=_e,vr.lanes|=Ce,ql|=Ce}ye=ye.next}while(ye!==null&&ye!==R);ne===null?V=N:ne.next=Q,fs(N,p.memoizedState)||(ei=!0),p.memoizedState=N,p.baseState=V,p.baseQueue=ne,v.lastRenderedState=N}if(u=v.interleaved,u!==null){T=u;do R=T.lane,vr.lanes|=R,ql|=R,T=T.next;while(T!==u)}else T===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function Cw(u){var p=Bi(),v=p.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=u;var N=v.dispatch,T=v.pending,R=p.memoizedState;if(T!==null){v.pending=null;var V=T=T.next;do R=u(R,V.action),V=V.next;while(V!==T);fs(R,p.memoizedState)||(ei=!0),p.memoizedState=R,p.baseQueue===null&&(p.baseState=R),v.lastRenderedState=R}return[R,N]}function dA(){}function fA(u,p){var v=vr,N=Bi(),T=p(),R=!fs(N.memoizedState,T);if(R&&(N.memoizedState=T,ei=!0),N=N.queue,Nw(mA.bind(null,v,N,u),[u]),N.getSnapshot!==p||R||tn!==null&&tn.memoizedState.tag&1){if(v.flags|=2048,Gf(9,pA.bind(null,v,N,T,p),void 0,null),rn===null)throw Error(r(349));(Ul&30)!==0||hA(v,p,T)}return T}function hA(u,p,v){u.flags|=16384,u={getSnapshot:p,value:v},p=vr.updateQueue,p===null?(p={lastEffect:null,stores:null},vr.updateQueue=p,p.stores=[u]):(v=p.stores,v===null?p.stores=[u]:v.push(u))}function pA(u,p,v,N){p.value=v,p.getSnapshot=N,gA(p)&&vA(u)}function mA(u,p,v){return v(function(){gA(p)&&vA(u)})}function gA(u){var p=u.getSnapshot;u=u.value;try{var v=p();return!fs(u,v)}catch{return!0}}function vA(u){var p=Ma(u,1);p!==null&&vs(p,u,1,-1)}function yA(u){var p=Zs();return typeof u=="function"&&(u=u()),p.memoizedState=p.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:u},p.queue=u,u=u.dispatch=qG.bind(null,vr,u),[p.memoizedState,u]}function Gf(u,p,v,N){return u={tag:u,create:p,destroy:v,deps:N,next:null},p=vr.updateQueue,p===null?(p={lastEffect:null,stores:null},vr.updateQueue=p,p.lastEffect=u.next=u):(v=p.lastEffect,v===null?p.lastEffect=u.next=u:(N=v.next,v.next=u,u.next=N,p.lastEffect=u)),u}function xA(){return Bi().memoizedState}function Og(u,p,v,N){var T=Zs();vr.flags|=u,T.memoizedState=Gf(1|p,v,void 0,N===void 0?null:N)}function Pg(u,p,v,N){var T=Bi();N=N===void 0?null:N;var R=void 0;if($r!==null){var V=$r.memoizedState;if(R=V.destroy,N!==null&&bw(N,V.deps)){T.memoizedState=Gf(p,v,R,N);return}}vr.flags|=u,T.memoizedState=Gf(1|p,v,R,N)}function bA(u,p){return Og(8390656,8,u,p)}function Nw(u,p){return Pg(2048,8,u,p)}function wA(u,p){return Pg(4,2,u,p)}function jA(u,p){return Pg(4,4,u,p)}function SA(u,p){if(typeof p=="function")return u=u(),p(u),function(){p(null)};if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function CA(u,p,v){return v=v!=null?v.concat([u]):null,Pg(4,4,SA.bind(null,p,u),v)}function _w(){}function NA(u,p){var v=Bi();p=p===void 0?null:p;var N=v.memoizedState;return N!==null&&p!==null&&bw(p,N[1])?N[0]:(v.memoizedState=[u,p],u)}function _A(u,p){var v=Bi();p=p===void 0?null:p;var N=v.memoizedState;return N!==null&&p!==null&&bw(p,N[1])?N[0]:(u=u(),v.memoizedState=[u,p],u)}function OA(u,p,v){return(Ul&21)===0?(u.baseState&&(u.baseState=!1,ei=!0),u.memoizedState=v):(fs(v,p)||(v=Ym(),vr.lanes|=v,ql|=v,u.baseState=!0),p)}function WG(u,p){var v=It;It=v!==0&&4>v?v:4,u(!0);var N=xw.transition;xw.transition={};try{u(!1),p()}finally{It=v,xw.transition=N}}function PA(){return Bi().memoizedState}function UG(u,p,v){var N=Do(u);if(v={lane:N,action:v,hasEagerState:!1,eagerState:null,next:null},kA(u))TA(p,v);else if(v=aA(u,p,v,N),v!==null){var T=Ln();vs(v,u,N,T),AA(v,p,N)}}function qG(u,p,v){var N=Do(u),T={lane:N,action:v,hasEagerState:!1,eagerState:null,next:null};if(kA(u))TA(p,T);else{var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=p.lastRenderedReducer,R!==null))try{var V=p.lastRenderedState,Q=R(V,v);if(T.hasEagerState=!0,T.eagerState=Q,fs(Q,V)){var ne=p.interleaved;ne===null?(T.next=T,hw(p)):(T.next=ne.next,ne.next=T),p.interleaved=T;return}}catch{}finally{}v=aA(u,p,T,N),v!==null&&(T=Ln(),vs(v,u,N,T),AA(v,p,N))}}function kA(u){var p=u.alternate;return u===vr||p!==null&&p===vr}function TA(u,p){Uf=_g=!0;var v=u.pending;v===null?p.next=p:(p.next=v.next,v.next=p),u.pending=p}function AA(u,p,v){if((v&4194240)!==0){var N=p.lanes;N&=u.pendingLanes,v|=N,p.lanes=v,Nf(u,v)}}var kg={readContext:$i,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},VG={readContext:$i,useCallback:function(u,p){return Zs().memoizedState=[u,p===void 0?null:p],u},useContext:$i,useEffect:bA,useImperativeHandle:function(u,p,v){return v=v!=null?v.concat([u]):null,Og(4194308,4,SA.bind(null,p,u),v)},useLayoutEffect:function(u,p){return Og(4194308,4,u,p)},useInsertionEffect:function(u,p){return Og(4,2,u,p)},useMemo:function(u,p){var v=Zs();return p=p===void 0?null:p,u=u(),v.memoizedState=[u,p],u},useReducer:function(u,p,v){var N=Zs();return p=v!==void 0?v(p):p,N.memoizedState=N.baseState=p,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:p},N.queue=u,u=u.dispatch=UG.bind(null,vr,u),[N.memoizedState,u]},useRef:function(u){var p=Zs();return u={current:u},p.memoizedState=u},useState:yA,useDebugValue:_w,useDeferredValue:function(u){return Zs().memoizedState=u},useTransition:function(){var u=yA(!1),p=u[0];return u=WG.bind(null,u[1]),Zs().memoizedState=u,[p,u]},useMutableSource:function(){},useSyncExternalStore:function(u,p,v){var N=vr,T=Zs();if(dr){if(v===void 0)throw Error(r(407));v=v()}else{if(v=p(),rn===null)throw Error(r(349));(Ul&30)!==0||hA(N,p,v)}T.memoizedState=v;var R={value:v,getSnapshot:p};return T.queue=R,bA(mA.bind(null,N,R,u),[u]),N.flags|=2048,Gf(9,pA.bind(null,N,R,v,p),void 0,null),v},useId:function(){var u=Zs(),p=rn.identifierPrefix;if(dr){var v=Ea,N=Aa;v=(N&~(1<<32-Kn(N)-1)).toString(32)+v,p=":"+p+"R"+v,v=qf++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=HG++,p=":"+p+"r"+v.toString(32)+":";return u.memoizedState=p},unstable_isNewReconciler:!1},GG={readContext:$i,useCallback:NA,useContext:$i,useEffect:Nw,useImperativeHandle:CA,useInsertionEffect:wA,useLayoutEffect:jA,useMemo:_A,useReducer:Sw,useRef:xA,useState:function(){return Sw(Vf)},useDebugValue:_w,useDeferredValue:function(u){var p=Bi();return OA(p,$r.memoizedState,u)},useTransition:function(){var u=Sw(Vf)[0],p=Bi().memoizedState;return[u,p]},useMutableSource:dA,useSyncExternalStore:fA,useId:PA,unstable_isNewReconciler:!1},XG={readContext:$i,useCallback:NA,useContext:$i,useEffect:Nw,useImperativeHandle:CA,useInsertionEffect:wA,useLayoutEffect:jA,useMemo:_A,useReducer:Cw,useRef:xA,useState:function(){return Cw(Vf)},useDebugValue:_w,useDeferredValue:function(u){var p=Bi();return $r===null?p.memoizedState=u:OA(p,$r.memoizedState,u)},useTransition:function(){var u=Cw(Vf)[0],p=Bi().memoizedState;return[u,p]},useMutableSource:dA,useSyncExternalStore:fA,useId:PA,unstable_isNewReconciler:!1};function ps(u,p){if(u&&u.defaultProps){p=I({},p),u=u.defaultProps;for(var v in u)p[v]===void 0&&(p[v]=u[v]);return p}return p}function Ow(u,p,v,N){p=u.memoizedState,v=v(N,p),v=v==null?p:I({},p,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var Tg={isMounted:function(u){return(u=u._reactInternals)?_a(u)===u:!1},enqueueSetState:function(u,p,v){u=u._reactInternals;var N=Ln(),T=Do(u),R=Da(N,T);R.payload=p,v!=null&&(R.callback=v),p=To(u,R,T),p!==null&&(vs(p,u,T,N),jg(p,u,T))},enqueueReplaceState:function(u,p,v){u=u._reactInternals;var N=Ln(),T=Do(u),R=Da(N,T);R.tag=1,R.payload=p,v!=null&&(R.callback=v),p=To(u,R,T),p!==null&&(vs(p,u,T,N),jg(p,u,T))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var v=Ln(),N=Do(u),T=Da(v,N);T.tag=2,p!=null&&(T.callback=p),p=To(u,T,N),p!==null&&(vs(p,u,N,v),jg(p,u,N))}};function EA(u,p,v,N,T,R,V){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(N,R,V):p.prototype&&p.prototype.isPureReactComponent?!Mf(v,N)||!Mf(T,R):!0}function MA(u,p,v){var N=!1,T=Oo,R=p.contextType;return typeof R=="object"&&R!==null?R=$i(R):(T=Qn(p)?Fl:Sn.current,N=p.contextTypes,R=(N=N!=null)?nu(u,T):Oo),p=new p(v,R),u.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Tg,u.stateNode=p,p._reactInternals=u,N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=R),p}function DA(u,p,v,N){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,N),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,N),p.state!==u&&Tg.enqueueReplaceState(p,p.state,null)}function Pw(u,p,v,N){var T=u.stateNode;T.props=v,T.state=u.memoizedState,T.refs={},pw(u);var R=p.contextType;typeof R=="object"&&R!==null?T.context=$i(R):(R=Qn(p)?Fl:Sn.current,T.context=nu(u,R)),T.state=u.memoizedState,R=p.getDerivedStateFromProps,typeof R=="function"&&(Ow(u,p,R,v),T.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(p=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),p!==T.state&&Tg.enqueueReplaceState(T,T.state,null),Sg(u,v,T,N),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}function du(u,p){try{var v="",N=p;do v+=ae(N),N=N.return;while(N);var T=v}catch(R){T=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:p,stack:T,digest:null}}function kw(u,p,v){return{value:u,source:null,stack:v??null,digest:p??null}}function Tw(u,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var YG=typeof WeakMap=="function"?WeakMap:Map;function RA(u,p,v){v=Da(-1,v),v.tag=3,v.payload={element:null};var N=p.value;return v.callback=function(){Lg||(Lg=!0,qw=N),Tw(u,p)},v}function IA(u,p,v){v=Da(-1,v),v.tag=3;var N=u.type.getDerivedStateFromError;if(typeof N=="function"){var T=p.value;v.payload=function(){return N(T)},v.callback=function(){Tw(u,p)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(v.callback=function(){Tw(u,p),typeof N!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})}),v}function LA(u,p,v){var N=u.pingCache;if(N===null){N=u.pingCache=new YG;var T=new Set;N.set(p,T)}else T=N.get(p),T===void 0&&(T=new Set,N.set(p,T));T.has(v)||(T.add(v),u=c7.bind(null,u,p,v),p.then(u,u))}function zA(u){do{var p;if((p=u.tag===13)&&(p=u.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return u;u=u.return}while(u!==null);return null}function FA(u,p,v,N,T){return(u.mode&1)===0?(u===p?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=Da(-1,1),p.tag=2,To(v,p,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=T,u)}var KG=P.ReactCurrentOwner,ei=!1;function In(u,p,v,N){p.child=u===null?sA(p,null,v,N):ou(p,u.child,v,N)}function $A(u,p,v,N,T){v=v.render;var R=p.ref;return cu(p,T),N=ww(u,p,v,N,R,T),v=jw(),u!==null&&!ei?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~T,Ra(u,p,T)):(dr&&v&&iw(p),p.flags|=1,In(u,p,N,T),p.child)}function BA(u,p,v,N,T){if(u===null){var R=v.type;return typeof R=="function"&&!Zw(R)&&R.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=R,HA(u,p,R,N,T)):(u=Wg(v.type,null,N,p,p.mode,T),u.ref=p.ref,u.return=p,p.child=u)}if(R=u.child,(u.lanes&T)===0){var V=R.memoizedProps;if(v=v.compare,v=v!==null?v:Mf,v(V,N)&&u.ref===p.ref)return Ra(u,p,T)}return p.flags|=1,u=Io(R,N),u.ref=p.ref,u.return=p,p.child=u}function HA(u,p,v,N,T){if(u!==null){var R=u.memoizedProps;if(Mf(R,N)&&u.ref===p.ref)if(ei=!1,p.pendingProps=N=R,(u.lanes&T)!==0)(u.flags&131072)!==0&&(ei=!0);else return p.lanes=u.lanes,Ra(u,p,T)}return Aw(u,p,v,N,T)}function WA(u,p,v){var N=p.pendingProps,T=N.children,R=u!==null?u.memoizedState:null;if(N.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(hu,bi),bi|=v;else{if((v&1073741824)===0)return u=R!==null?R.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:u,cachePool:null,transitions:null},p.updateQueue=null,er(hu,bi),bi|=u,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=R!==null?R.baseLanes:v,er(hu,bi),bi|=N}else R!==null?(N=R.baseLanes|v,p.memoizedState=null):N=v,er(hu,bi),bi|=N;return In(u,p,T,v),p.child}function UA(u,p){var v=p.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function Aw(u,p,v,N,T){var R=Qn(v)?Fl:Sn.current;return R=nu(p,R),cu(p,T),v=ww(u,p,v,N,R,T),N=jw(),u!==null&&!ei?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~T,Ra(u,p,T)):(dr&&N&&iw(p),p.flags|=1,In(u,p,v,T),p.child)}function qA(u,p,v,N,T){if(Qn(v)){var R=!0;pg(p)}else R=!1;if(cu(p,T),p.stateNode===null)Eg(u,p),MA(p,v,N),Pw(p,v,N,T),N=!0;else if(u===null){var V=p.stateNode,Q=p.memoizedProps;V.props=Q;var ne=V.context,ye=v.contextType;typeof ye=="object"&&ye!==null?ye=$i(ye):(ye=Qn(v)?Fl:Sn.current,ye=nu(p,ye));var Ce=v.getDerivedStateFromProps,_e=typeof Ce=="function"||typeof V.getSnapshotBeforeUpdate=="function";_e||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==N||ne!==ye)&&DA(p,V,N,ye),ko=!1;var Se=p.memoizedState;V.state=Se,Sg(p,N,V,T),ne=p.memoizedState,Q!==N||Se!==ne||Zn.current||ko?(typeof Ce=="function"&&(Ow(p,v,Ce,N),ne=p.memoizedState),(Q=ko||EA(p,v,Q,N,Se,ne,ye))?(_e||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(p.flags|=4194308)):(typeof V.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=N,p.memoizedState=ne),V.props=N,V.state=ne,V.context=ye,N=Q):(typeof V.componentDidMount=="function"&&(p.flags|=4194308),N=!1)}else{V=p.stateNode,oA(u,p),Q=p.memoizedProps,ye=p.type===p.elementType?Q:ps(p.type,Q),V.props=ye,_e=p.pendingProps,Se=V.context,ne=v.contextType,typeof ne=="object"&&ne!==null?ne=$i(ne):(ne=Qn(v)?Fl:Sn.current,ne=nu(p,ne));var Ie=v.getDerivedStateFromProps;(Ce=typeof Ie=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==_e||Se!==ne)&&DA(p,V,N,ne),ko=!1,Se=p.memoizedState,V.state=Se,Sg(p,N,V,T);var We=p.memoizedState;Q!==_e||Se!==We||Zn.current||ko?(typeof Ie=="function"&&(Ow(p,v,Ie,N),We=p.memoizedState),(ye=ko||EA(p,v,ye,N,Se,We,ne)||!1)?(Ce||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(N,We,ne),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(N,We,ne)),typeof V.componentDidUpdate=="function"&&(p.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof V.componentDidUpdate!="function"||Q===u.memoizedProps&&Se===u.memoizedState||(p.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&Se===u.memoizedState||(p.flags|=1024),p.memoizedProps=N,p.memoizedState=We),V.props=N,V.state=We,V.context=ne,N=ye):(typeof V.componentDidUpdate!="function"||Q===u.memoizedProps&&Se===u.memoizedState||(p.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&Se===u.memoizedState||(p.flags|=1024),N=!1)}return Ew(u,p,v,N,R,T)}function Ew(u,p,v,N,T,R){UA(u,p);var V=(p.flags&128)!==0;if(!N&&!V)return T&&KT(p,v,!1),Ra(u,p,R);N=p.stateNode,KG.current=p;var Q=V&&typeof v.getDerivedStateFromError!="function"?null:N.render();return p.flags|=1,u!==null&&V?(p.child=ou(p,u.child,null,R),p.child=ou(p,null,Q,R)):In(u,p,Q,R),p.memoizedState=N.state,T&&KT(p,v,!0),p.child}function VA(u){var p=u.stateNode;p.pendingContext?XT(u,p.pendingContext,p.pendingContext!==p.context):p.context&&XT(u,p.context,!1),mw(u,p.containerInfo)}function GA(u,p,v,N,T){return au(),lw(T),p.flags|=256,In(u,p,v,N),p.child}var Mw={dehydrated:null,treeContext:null,retryLane:0};function Dw(u){return{baseLanes:u,cachePool:null,transitions:null}}function XA(u,p,v){var N=p.pendingProps,T=gr.current,R=!1,V=(p.flags&128)!==0,Q;if((Q=V)||(Q=u!==null&&u.memoizedState===null?!1:(T&2)!==0),Q?(R=!0,p.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),er(gr,T&1),u===null)return ow(p),u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((p.mode&1)===0?p.lanes=1:u.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(V=N.children,u=N.fallback,R?(N=p.mode,R=p.child,V={mode:"hidden",children:V},(N&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=V):R=Ug(V,N,0,null),u=Yl(u,N,v,null),R.return=p,u.return=p,R.sibling=u,p.child=R,p.child.memoizedState=Dw(v),p.memoizedState=Mw,u):Rw(p,V));if(T=u.memoizedState,T!==null&&(Q=T.dehydrated,Q!==null))return JG(u,p,V,N,Q,T,v);if(R){R=N.fallback,V=p.mode,T=u.child,Q=T.sibling;var ne={mode:"hidden",children:N.children};return(V&1)===0&&p.child!==T?(N=p.child,N.childLanes=0,N.pendingProps=ne,p.deletions=null):(N=Io(T,ne),N.subtreeFlags=T.subtreeFlags&14680064),Q!==null?R=Io(Q,R):(R=Yl(R,V,v,null),R.flags|=2),R.return=p,N.return=p,N.sibling=R,p.child=N,N=R,R=p.child,V=u.child.memoizedState,V=V===null?Dw(v):{baseLanes:V.baseLanes|v,cachePool:null,transitions:V.transitions},R.memoizedState=V,R.childLanes=u.childLanes&~v,p.memoizedState=Mw,N}return R=u.child,u=R.sibling,N=Io(R,{mode:"visible",children:N.children}),(p.mode&1)===0&&(N.lanes=v),N.return=p,N.sibling=null,u!==null&&(v=p.deletions,v===null?(p.deletions=[u],p.flags|=16):v.push(u)),p.child=N,p.memoizedState=null,N}function Rw(u,p){return p=Ug({mode:"visible",children:p},u.mode,0,null),p.return=u,u.child=p}function Ag(u,p,v,N){return N!==null&&lw(N),ou(p,u.child,null,v),u=Rw(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function JG(u,p,v,N,T,R,V){if(v)return p.flags&256?(p.flags&=-257,N=kw(Error(r(422))),Ag(u,p,V,N)):p.memoizedState!==null?(p.child=u.child,p.flags|=128,null):(R=N.fallback,T=p.mode,N=Ug({mode:"visible",children:N.children},T,0,null),R=Yl(R,T,V,null),R.flags|=2,N.return=p,R.return=p,N.sibling=R,p.child=N,(p.mode&1)!==0&&ou(p,u.child,null,V),p.child.memoizedState=Dw(V),p.memoizedState=Mw,R);if((p.mode&1)===0)return Ag(u,p,V,null);if(T.data==="$!"){if(N=T.nextSibling&&T.nextSibling.dataset,N)var Q=N.dgst;return N=Q,R=Error(r(419)),N=kw(R,N,void 0),Ag(u,p,V,N)}if(Q=(V&u.childLanes)!==0,ei||Q){if(N=rn,N!==null){switch(V&-V){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(N.suspendedLanes|V))!==0?0:T,T!==0&&T!==R.retryLane&&(R.retryLane=T,Ma(u,T),vs(N,u,T,-1))}return Jw(),N=kw(Error(r(421))),Ag(u,p,V,N)}return T.data==="$?"?(p.flags|=128,p.child=u.child,p=u7.bind(null,u),T._reactRetry=p,null):(u=R.treeContext,xi=No(T.nextSibling),yi=p,dr=!0,hs=null,u!==null&&(zi[Fi++]=Aa,zi[Fi++]=Ea,zi[Fi++]=$l,Aa=u.id,Ea=u.overflow,$l=p),p=Rw(p,N.children),p.flags|=4096,p)}function YA(u,p,v){u.lanes|=p;var N=u.alternate;N!==null&&(N.lanes|=p),fw(u.return,p,v)}function Iw(u,p,v,N,T){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:N,tail:v,tailMode:T}:(R.isBackwards=p,R.rendering=null,R.renderingStartTime=0,R.last=N,R.tail=v,R.tailMode=T)}function KA(u,p,v){var N=p.pendingProps,T=N.revealOrder,R=N.tail;if(In(u,p,N.children,v),N=gr.current,(N&2)!==0)N=N&1|2,p.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&YA(u,v,p);else if(u.tag===19)YA(u,v,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break e;for(;u.sibling===null;){if(u.return===null||u.return===p)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}N&=1}if(er(gr,N),(p.mode&1)===0)p.memoizedState=null;else switch(T){case"forwards":for(v=p.child,T=null;v!==null;)u=v.alternate,u!==null&&Cg(u)===null&&(T=v),v=v.sibling;v=T,v===null?(T=p.child,p.child=null):(T=v.sibling,v.sibling=null),Iw(p,!1,T,v,R);break;case"backwards":for(v=null,T=p.child,p.child=null;T!==null;){if(u=T.alternate,u!==null&&Cg(u)===null){p.child=T;break}u=T.sibling,T.sibling=v,v=T,T=u}Iw(p,!0,v,null,R);break;case"together":Iw(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Eg(u,p){(p.mode&1)===0&&u!==null&&(u.alternate=null,p.alternate=null,p.flags|=2)}function Ra(u,p,v){if(u!==null&&(p.dependencies=u.dependencies),ql|=p.lanes,(v&p.childLanes)===0)return null;if(u!==null&&p.child!==u.child)throw Error(r(153));if(p.child!==null){for(u=p.child,v=Io(u,u.pendingProps),p.child=v,v.return=p;u.sibling!==null;)u=u.sibling,v=v.sibling=Io(u,u.pendingProps),v.return=p;v.sibling=null}return p.child}function ZG(u,p,v){switch(p.tag){case 3:VA(p),au();break;case 5:uA(p);break;case 1:Qn(p.type)&&pg(p);break;case 4:mw(p,p.stateNode.containerInfo);break;case 10:var N=p.type._context,T=p.memoizedProps.value;er(bg,N._currentValue),N._currentValue=T;break;case 13:if(N=p.memoizedState,N!==null)return N.dehydrated!==null?(er(gr,gr.current&1),p.flags|=128,null):(v&p.child.childLanes)!==0?XA(u,p,v):(er(gr,gr.current&1),u=Ra(u,p,v),u!==null?u.sibling:null);er(gr,gr.current&1);break;case 19:if(N=(v&p.childLanes)!==0,(u.flags&128)!==0){if(N)return KA(u,p,v);p.flags|=128}if(T=p.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),er(gr,gr.current),N)break;return null;case 22:case 23:return p.lanes=0,WA(u,p,v)}return Ra(u,p,v)}var JA,Lw,ZA,QA;JA=function(u,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Lw=function(){},ZA=function(u,p,v,N){var T=u.memoizedProps;if(T!==N){u=p.stateNode,Wl(Js.current);var R=null;switch(v){case"input":T=Ne(u,T),N=Ne(u,N),R=[];break;case"select":T=I({},T,{value:void 0}),N=I({},N,{value:void 0}),R=[];break;case"textarea":T=st(u,T),N=st(u,N),R=[];break;default:typeof T.onClick!="function"&&typeof N.onClick=="function"&&(u.onclick=dg)}cs(v,N);var V;v=null;for(ye in T)if(!N.hasOwnProperty(ye)&&T.hasOwnProperty(ye)&&T[ye]!=null)if(ye==="style"){var Q=T[ye];for(V in Q)Q.hasOwnProperty(V)&&(v||(v={}),v[V]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(i.hasOwnProperty(ye)?R||(R=[]):(R=R||[]).push(ye,null));for(ye in N){var ne=N[ye];if(Q=T?.[ye],N.hasOwnProperty(ye)&&ne!==Q&&(ne!=null||Q!=null))if(ye==="style")if(Q){for(V in Q)!Q.hasOwnProperty(V)||ne&&ne.hasOwnProperty(V)||(v||(v={}),v[V]="");for(V in ne)ne.hasOwnProperty(V)&&Q[V]!==ne[V]&&(v||(v={}),v[V]=ne[V])}else v||(R||(R=[]),R.push(ye,v)),v=ne;else ye==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Q=Q?Q.__html:void 0,ne!=null&&Q!==ne&&(R=R||[]).push(ye,ne)):ye==="children"?typeof ne!="string"&&typeof ne!="number"||(R=R||[]).push(ye,""+ne):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(i.hasOwnProperty(ye)?(ne!=null&&ye==="onScroll"&&sr("scroll",u),R||Q===ne||(R=[])):(R=R||[]).push(ye,ne))}v&&(R=R||[]).push("style",v);var ye=R;(p.updateQueue=ye)&&(p.flags|=4)}},QA=function(u,p,v,N){v!==N&&(p.flags|=4)};function Xf(u,p){if(!dr)switch(u.tailMode){case"hidden":p=u.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var N=null;v!==null;)v.alternate!==null&&(N=v),v=v.sibling;N===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:N.sibling=null}}function Nn(u){var p=u.alternate!==null&&u.alternate.child===u.child,v=0,N=0;if(p)for(var T=u.child;T!==null;)v|=T.lanes|T.childLanes,N|=T.subtreeFlags&14680064,N|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)v|=T.lanes|T.childLanes,N|=T.subtreeFlags,N|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=N,u.childLanes=v,p}function QG(u,p,v){var N=p.pendingProps;switch(sw(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(p),null;case 1:return Qn(p.type)&&hg(),Nn(p),null;case 3:return N=p.stateNode,uu(),ar(Zn),ar(Sn),yw(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(u===null||u.child===null)&&(yg(p)?p.flags|=4:u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,hs!==null&&(Xw(hs),hs=null))),Lw(u,p),Nn(p),null;case 5:gw(p);var T=Wl(Wf.current);if(v=p.type,u!==null&&p.stateNode!=null)ZA(u,p,v,N,T),u.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!N){if(p.stateNode===null)throw Error(r(166));return Nn(p),null}if(u=Wl(Js.current),yg(p)){N=p.stateNode,v=p.type;var R=p.memoizedProps;switch(N[Ks]=p,N[zf]=R,u=(p.mode&1)!==0,v){case"dialog":sr("cancel",N),sr("close",N);break;case"iframe":case"object":case"embed":sr("load",N);break;case"video":case"audio":for(T=0;T<Rf.length;T++)sr(Rf[T],N);break;case"source":sr("error",N);break;case"img":case"image":case"link":sr("error",N),sr("load",N);break;case"details":sr("toggle",N);break;case"input":Le(N,R),sr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!R.multiple},sr("invalid",N);break;case"textarea":Zt(N,R),sr("invalid",N)}cs(v,R),T=null;for(var V in R)if(R.hasOwnProperty(V)){var Q=R[V];V==="children"?typeof Q=="string"?N.textContent!==Q&&(R.suppressHydrationWarning!==!0&&ug(N.textContent,Q,u),T=["children",Q]):typeof Q=="number"&&N.textContent!==""+Q&&(R.suppressHydrationWarning!==!0&&ug(N.textContent,Q,u),T=["children",""+Q]):i.hasOwnProperty(V)&&Q!=null&&V==="onScroll"&&sr("scroll",N)}switch(v){case"input":de(N),vt(N,R,!0);break;case"textarea":de(N),br(N);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(N.onclick=dg)}N=T,p.updateQueue=N,N!==null&&(p.flags|=4)}else{V=T.nodeType===9?T:T.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=gi(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=V.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof N.is=="string"?u=V.createElement(v,{is:N.is}):(u=V.createElement(v),v==="select"&&(V=u,N.multiple?V.multiple=!0:N.size&&(V.size=N.size))):u=V.createElementNS(u,v),u[Ks]=p,u[zf]=N,JA(u,p,!1,!1),p.stateNode=u;e:{switch(V=Dn(v,N),v){case"dialog":sr("cancel",u),sr("close",u),T=N;break;case"iframe":case"object":case"embed":sr("load",u),T=N;break;case"video":case"audio":for(T=0;T<Rf.length;T++)sr(Rf[T],u);T=N;break;case"source":sr("error",u),T=N;break;case"img":case"image":case"link":sr("error",u),sr("load",u),T=N;break;case"details":sr("toggle",u),T=N;break;case"input":Le(u,N),T=Ne(u,N),sr("invalid",u);break;case"option":T=N;break;case"select":u._wrapperState={wasMultiple:!!N.multiple},T=I({},N,{value:void 0}),sr("invalid",u);break;case"textarea":Zt(u,N),T=st(u,N),sr("invalid",u);break;default:T=N}cs(v,T),Q=T;for(R in Q)if(Q.hasOwnProperty(R)){var ne=Q[R];R==="style"?xo(u,ne):R==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&xn(u,ne)):R==="children"?typeof ne=="string"?(v!=="textarea"||ne!=="")&&Tt(u,ne):typeof ne=="number"&&Tt(u,""+ne):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?ne!=null&&R==="onScroll"&&sr("scroll",u):ne!=null&&O(u,R,ne,V))}switch(v){case"input":de(u),vt(u,N,!1);break;case"textarea":de(u),br(u);break;case"option":N.value!=null&&u.setAttribute("value",""+fe(N.value));break;case"select":u.multiple=!!N.multiple,R=N.value,R!=null?it(u,!!N.multiple,R,!1):N.defaultValue!=null&&it(u,!!N.multiple,N.defaultValue,!0);break;default:typeof T.onClick=="function"&&(u.onclick=dg)}switch(v){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Nn(p),null;case 6:if(u&&p.stateNode!=null)QA(u,p,u.memoizedProps,N);else{if(typeof N!="string"&&p.stateNode===null)throw Error(r(166));if(v=Wl(Wf.current),Wl(Js.current),yg(p)){if(N=p.stateNode,v=p.memoizedProps,N[Ks]=p,(R=N.nodeValue!==v)&&(u=yi,u!==null))switch(u.tag){case 3:ug(N.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&ug(N.nodeValue,v,(u.mode&1)!==0)}R&&(p.flags|=4)}else N=(v.nodeType===9?v:v.ownerDocument).createTextNode(N),N[Ks]=p,p.stateNode=N}return Nn(p),null;case 13:if(ar(gr),N=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(dr&&xi!==null&&(p.mode&1)!==0&&(p.flags&128)===0)rA(),au(),p.flags|=98560,R=!1;else if(R=yg(p),N!==null&&N.dehydrated!==null){if(u===null){if(!R)throw Error(r(318));if(R=p.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Ks]=p}else au(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Nn(p),R=!1}else hs!==null&&(Xw(hs),hs=null),R=!0;if(!R)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=v,p):(N=N!==null,N!==(u!==null&&u.memoizedState!==null)&&N&&(p.child.flags|=8192,(p.mode&1)!==0&&(u===null||(gr.current&1)!==0?Br===0&&(Br=3):Jw())),p.updateQueue!==null&&(p.flags|=4),Nn(p),null);case 4:return uu(),Lw(u,p),u===null&&If(p.stateNode.containerInfo),Nn(p),null;case 10:return dw(p.type._context),Nn(p),null;case 17:return Qn(p.type)&&hg(),Nn(p),null;case 19:if(ar(gr),R=p.memoizedState,R===null)return Nn(p),null;if(N=(p.flags&128)!==0,V=R.rendering,V===null)if(N)Xf(R,!1);else{if(Br!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(V=Cg(u),V!==null){for(p.flags|=128,Xf(R,!1),N=V.updateQueue,N!==null&&(p.updateQueue=N,p.flags|=4),p.subtreeFlags=0,N=v,v=p.child;v!==null;)R=v,u=N,R.flags&=14680066,V=R.alternate,V===null?(R.childLanes=0,R.lanes=u,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=V.childLanes,R.lanes=V.lanes,R.child=V.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=V.memoizedProps,R.memoizedState=V.memoizedState,R.updateQueue=V.updateQueue,R.type=V.type,u=V.dependencies,R.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return er(gr,gr.current&1|2),p.child}u=u.sibling}R.tail!==null&&Qt()>pu&&(p.flags|=128,N=!0,Xf(R,!1),p.lanes=4194304)}else{if(!N)if(u=Cg(V),u!==null){if(p.flags|=128,N=!0,v=u.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),Xf(R,!0),R.tail===null&&R.tailMode==="hidden"&&!V.alternate&&!dr)return Nn(p),null}else 2*Qt()-R.renderingStartTime>pu&&v!==1073741824&&(p.flags|=128,N=!0,Xf(R,!1),p.lanes=4194304);R.isBackwards?(V.sibling=p.child,p.child=V):(v=R.last,v!==null?v.sibling=V:p.child=V,R.last=V)}return R.tail!==null?(p=R.tail,R.rendering=p,R.tail=p.sibling,R.renderingStartTime=Qt(),p.sibling=null,v=gr.current,er(gr,N?v&1|2:v&1),p):(Nn(p),null);case 22:case 23:return Kw(),N=p.memoizedState!==null,u!==null&&u.memoizedState!==null!==N&&(p.flags|=8192),N&&(p.mode&1)!==0?(bi&1073741824)!==0&&(Nn(p),p.subtreeFlags&6&&(p.flags|=8192)):Nn(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function e7(u,p){switch(sw(p),p.tag){case 1:return Qn(p.type)&&hg(),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return uu(),ar(Zn),ar(Sn),yw(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 5:return gw(p),null;case 13:if(ar(gr),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(r(340));au()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return ar(gr),null;case 4:return uu(),null;case 10:return dw(p.type._context),null;case 22:case 23:return Kw(),null;case 24:return null;default:return null}}var Mg=!1,_n=!1,t7=typeof WeakSet=="function"?WeakSet:Set,$e=null;function fu(u,p){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(N){wr(u,p,N)}else v.current=null}function zw(u,p,v){try{v()}catch(N){wr(u,p,N)}}var eE=!1;function r7(u,p){if(Kb=Yc,u=ET(),Hb(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var N=v.getSelection&&v.getSelection();if(N&&N.rangeCount!==0){v=N.anchorNode;var T=N.anchorOffset,R=N.focusNode;N=N.focusOffset;try{v.nodeType,R.nodeType}catch{v=null;break e}var V=0,Q=-1,ne=-1,ye=0,Ce=0,_e=u,Se=null;t:for(;;){for(var Ie;_e!==v||T!==0&&_e.nodeType!==3||(Q=V+T),_e!==R||N!==0&&_e.nodeType!==3||(ne=V+N),_e.nodeType===3&&(V+=_e.nodeValue.length),(Ie=_e.firstChild)!==null;)Se=_e,_e=Ie;for(;;){if(_e===u)break t;if(Se===v&&++ye===T&&(Q=V),Se===R&&++Ce===N&&(ne=V),(Ie=_e.nextSibling)!==null)break;_e=Se,Se=_e.parentNode}_e=Ie}v=Q===-1||ne===-1?null:{start:Q,end:ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(Jb={focusedElem:u,selectionRange:v},Yc=!1,$e=p;$e!==null;)if(p=$e,u=p.child,(p.subtreeFlags&1028)!==0&&u!==null)u.return=p,$e=u;else for(;$e!==null;){p=$e;try{var We=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ge=We.memoizedProps,_r=We.memoizedState,he=p.stateNode,se=he.getSnapshotBeforeUpdate(p.elementType===p.type?Ge:ps(p.type,Ge),_r);he.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var me=p.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Pe){wr(p,p.return,Pe)}if(u=p.sibling,u!==null){u.return=p.return,$e=u;break}$e=p.return}return We=eE,eE=!1,We}function Yf(u,p,v){var N=p.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var T=N=N.next;do{if((T.tag&u)===u){var R=T.destroy;T.destroy=void 0,R!==void 0&&zw(p,v,R)}T=T.next}while(T!==N)}}function Dg(u,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&u)===u){var N=v.create;v.destroy=N()}v=v.next}while(v!==p)}}function Fw(u){var p=u.ref;if(p!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof p=="function"?p(u):p.current=u}}function tE(u){var p=u.alternate;p!==null&&(u.alternate=null,tE(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&(delete p[Ks],delete p[zf],delete p[tw],delete p[zG],delete p[FG])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function rE(u){return u.tag===5||u.tag===3||u.tag===4}function nE(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||rE(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function $w(u,p,v){var N=u.tag;if(N===5||N===6)u=u.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(u,p):v.insertBefore(u,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(u,v)):(p=v,p.appendChild(u)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=dg));else if(N!==4&&(u=u.child,u!==null))for($w(u,p,v),u=u.sibling;u!==null;)$w(u,p,v),u=u.sibling}function Bw(u,p,v){var N=u.tag;if(N===5||N===6)u=u.stateNode,p?v.insertBefore(u,p):v.appendChild(u);else if(N!==4&&(u=u.child,u!==null))for(Bw(u,p,v),u=u.sibling;u!==null;)Bw(u,p,v),u=u.sibling}var pn=null,ms=!1;function Ao(u,p,v){for(v=v.child;v!==null;)iE(u,p,v),v=v.sibling}function iE(u,p,v){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(kl,v)}catch{}switch(v.tag){case 5:_n||fu(v,p);case 6:var N=pn,T=ms;pn=null,Ao(u,p,v),pn=N,ms=T,pn!==null&&(ms?(u=pn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):pn.removeChild(v.stateNode));break;case 18:pn!==null&&(ms?(u=pn,v=v.stateNode,u.nodeType===8?ew(u.parentNode,v):u.nodeType===1&&ew(u,v),Ll(u)):ew(pn,v.stateNode));break;case 4:N=pn,T=ms,pn=v.stateNode.containerInfo,ms=!0,Ao(u,p,v),pn=N,ms=T;break;case 0:case 11:case 14:case 15:if(!_n&&(N=v.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){T=N=N.next;do{var R=T,V=R.destroy;R=R.tag,V!==void 0&&((R&2)!==0||(R&4)!==0)&&zw(v,p,V),T=T.next}while(T!==N)}Ao(u,p,v);break;case 1:if(!_n&&(fu(v,p),N=v.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=v.memoizedProps,N.state=v.memoizedState,N.componentWillUnmount()}catch(Q){wr(v,p,Q)}Ao(u,p,v);break;case 21:Ao(u,p,v);break;case 22:v.mode&1?(_n=(N=_n)||v.memoizedState!==null,Ao(u,p,v),_n=N):Ao(u,p,v);break;default:Ao(u,p,v)}}function sE(u){var p=u.updateQueue;if(p!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new t7),p.forEach(function(N){var T=d7.bind(null,u,N);v.has(N)||(v.add(N),N.then(T,T))})}}function gs(u,p){var v=p.deletions;if(v!==null)for(var N=0;N<v.length;N++){var T=v[N];try{var R=u,V=p,Q=V;e:for(;Q!==null;){switch(Q.tag){case 5:pn=Q.stateNode,ms=!1;break e;case 3:pn=Q.stateNode.containerInfo,ms=!0;break e;case 4:pn=Q.stateNode.containerInfo,ms=!0;break e}Q=Q.return}if(pn===null)throw Error(r(160));iE(R,V,T),pn=null,ms=!1;var ne=T.alternate;ne!==null&&(ne.return=null),T.return=null}catch(ye){wr(T,p,ye)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)aE(p,u),p=p.sibling}function aE(u,p){var v=u.alternate,N=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(gs(p,u),Qs(u),N&4){try{Yf(3,u,u.return),Dg(3,u)}catch(Ge){wr(u,u.return,Ge)}try{Yf(5,u,u.return)}catch(Ge){wr(u,u.return,Ge)}}break;case 1:gs(p,u),Qs(u),N&512&&v!==null&&fu(v,v.return);break;case 5:if(gs(p,u),Qs(u),N&512&&v!==null&&fu(v,v.return),u.flags&32){var T=u.stateNode;try{Tt(T,"")}catch(Ge){wr(u,u.return,Ge)}}if(N&4&&(T=u.stateNode,T!=null)){var R=u.memoizedProps,V=v!==null?v.memoizedProps:R,Q=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{Q==="input"&&R.type==="radio"&&R.name!=null&&Ke(T,R),Dn(Q,V);var ye=Dn(Q,R);for(V=0;V<ne.length;V+=2){var Ce=ne[V],_e=ne[V+1];Ce==="style"?xo(T,_e):Ce==="dangerouslySetInnerHTML"?xn(T,_e):Ce==="children"?Tt(T,_e):O(T,Ce,_e,ye)}switch(Q){case"input":De(T,R);break;case"textarea":yn(T,R);break;case"select":var Se=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!R.multiple;var Ie=R.value;Ie!=null?it(T,!!R.multiple,Ie,!1):Se!==!!R.multiple&&(R.defaultValue!=null?it(T,!!R.multiple,R.defaultValue,!0):it(T,!!R.multiple,R.multiple?[]:"",!1))}T[zf]=R}catch(Ge){wr(u,u.return,Ge)}}break;case 6:if(gs(p,u),Qs(u),N&4){if(u.stateNode===null)throw Error(r(162));T=u.stateNode,R=u.memoizedProps;try{T.nodeValue=R}catch(Ge){wr(u,u.return,Ge)}}break;case 3:if(gs(p,u),Qs(u),N&4&&v!==null&&v.memoizedState.isDehydrated)try{Ll(p.containerInfo)}catch(Ge){wr(u,u.return,Ge)}break;case 4:gs(p,u),Qs(u);break;case 13:gs(p,u),Qs(u),T=u.child,T.flags&8192&&(R=T.memoizedState!==null,T.stateNode.isHidden=R,!R||T.alternate!==null&&T.alternate.memoizedState!==null||(Uw=Qt())),N&4&&sE(u);break;case 22:if(Ce=v!==null&&v.memoizedState!==null,u.mode&1?(_n=(ye=_n)||Ce,gs(p,u),_n=ye):gs(p,u),Qs(u),N&8192){if(ye=u.memoizedState!==null,(u.stateNode.isHidden=ye)&&!Ce&&(u.mode&1)!==0)for($e=u,Ce=u.child;Ce!==null;){for(_e=$e=Ce;$e!==null;){switch(Se=$e,Ie=Se.child,Se.tag){case 0:case 11:case 14:case 15:Yf(4,Se,Se.return);break;case 1:fu(Se,Se.return);var We=Se.stateNode;if(typeof We.componentWillUnmount=="function"){N=Se,v=Se.return;try{p=N,We.props=p.memoizedProps,We.state=p.memoizedState,We.componentWillUnmount()}catch(Ge){wr(N,v,Ge)}}break;case 5:fu(Se,Se.return);break;case 22:if(Se.memoizedState!==null){cE(_e);continue}}Ie!==null?(Ie.return=Se,$e=Ie):cE(_e)}Ce=Ce.sibling}e:for(Ce=null,_e=u;;){if(_e.tag===5){if(Ce===null){Ce=_e;try{T=_e.stateNode,ye?(R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(Q=_e.stateNode,ne=_e.memoizedProps.style,V=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Q.style.display=vi("display",V))}catch(Ge){wr(u,u.return,Ge)}}}else if(_e.tag===6){if(Ce===null)try{_e.stateNode.nodeValue=ye?"":_e.memoizedProps}catch(Ge){wr(u,u.return,Ge)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===u)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===u)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===u)break e;Ce===_e&&(Ce=null),_e=_e.return}Ce===_e&&(Ce=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:gs(p,u),Qs(u),N&4&&sE(u);break;case 21:break;default:gs(p,u),Qs(u)}}function Qs(u){var p=u.flags;if(p&2){try{e:{for(var v=u.return;v!==null;){if(rE(v)){var N=v;break e}v=v.return}throw Error(r(160))}switch(N.tag){case 5:var T=N.stateNode;N.flags&32&&(Tt(T,""),N.flags&=-33);var R=nE(u);Bw(u,R,T);break;case 3:case 4:var V=N.stateNode.containerInfo,Q=nE(u);$w(u,Q,V);break;default:throw Error(r(161))}}catch(ne){wr(u,u.return,ne)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function n7(u,p,v){$e=u,oE(u)}function oE(u,p,v){for(var N=(u.mode&1)!==0;$e!==null;){var T=$e,R=T.child;if(T.tag===22&&N){var V=T.memoizedState!==null||Mg;if(!V){var Q=T.alternate,ne=Q!==null&&Q.memoizedState!==null||_n;Q=Mg;var ye=_n;if(Mg=V,(_n=ne)&&!ye)for($e=T;$e!==null;)V=$e,ne=V.child,V.tag===22&&V.memoizedState!==null?uE(T):ne!==null?(ne.return=V,$e=ne):uE(T);for(;R!==null;)$e=R,oE(R),R=R.sibling;$e=T,Mg=Q,_n=ye}lE(u)}else(T.subtreeFlags&8772)!==0&&R!==null?(R.return=T,$e=R):lE(u)}}function lE(u){for(;$e!==null;){var p=$e;if((p.flags&8772)!==0){var v=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:_n||Dg(5,p);break;case 1:var N=p.stateNode;if(p.flags&4&&!_n)if(v===null)N.componentDidMount();else{var T=p.elementType===p.type?v.memoizedProps:ps(p.type,v.memoizedProps);N.componentDidUpdate(T,v.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var R=p.updateQueue;R!==null&&cA(p,R,N);break;case 3:var V=p.updateQueue;if(V!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}cA(p,V,v)}break;case 5:var Q=p.stateNode;if(v===null&&p.flags&4){v=Q;var ne=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&v.focus();break;case"img":ne.src&&(v.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ye=p.alternate;if(ye!==null){var Ce=ye.memoizedState;if(Ce!==null){var _e=Ce.dehydrated;_e!==null&&Ll(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}_n||p.flags&512&&Fw(p)}catch(Se){wr(p,p.return,Se)}}if(p===u){$e=null;break}if(v=p.sibling,v!==null){v.return=p.return,$e=v;break}$e=p.return}}function cE(u){for(;$e!==null;){var p=$e;if(p===u){$e=null;break}var v=p.sibling;if(v!==null){v.return=p.return,$e=v;break}$e=p.return}}function uE(u){for(;$e!==null;){var p=$e;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{Dg(4,p)}catch(ne){wr(p,v,ne)}break;case 1:var N=p.stateNode;if(typeof N.componentDidMount=="function"){var T=p.return;try{N.componentDidMount()}catch(ne){wr(p,T,ne)}}var R=p.return;try{Fw(p)}catch(ne){wr(p,R,ne)}break;case 5:var V=p.return;try{Fw(p)}catch(ne){wr(p,V,ne)}}}catch(ne){wr(p,p.return,ne)}if(p===u){$e=null;break}var Q=p.sibling;if(Q!==null){Q.return=p.return,$e=Q;break}$e=p.return}}var i7=Math.ceil,Rg=P.ReactCurrentDispatcher,Hw=P.ReactCurrentOwner,Hi=P.ReactCurrentBatchConfig,kt=0,rn=null,Er=null,mn=0,bi=0,hu=_o(0),Br=0,Kf=null,ql=0,Ig=0,Ww=0,Jf=null,ti=null,Uw=0,pu=1/0,Ia=null,Lg=!1,qw=null,Eo=null,zg=!1,Mo=null,Fg=0,Zf=0,Vw=null,$g=-1,Bg=0;function Ln(){return(kt&6)!==0?Qt():$g!==-1?$g:$g=Qt()}function Do(u){return(u.mode&1)===0?1:(kt&2)!==0&&mn!==0?mn&-mn:BG.transition!==null?(Bg===0&&(Bg=Ym()),Bg):(u=It,u!==0||(u=window.event,u=u===void 0?16:Re(u.type)),u)}function vs(u,p,v,N){if(50<Zf)throw Zf=0,Vw=null,Error(r(185));Dl(u,v,N),((kt&2)===0||u!==rn)&&(u===rn&&((kt&2)===0&&(Ig|=v),Br===4&&Ro(u,mn)),ri(u,N),v===1&&kt===0&&(p.mode&1)===0&&(pu=Qt()+500,mg&&Po()))}function ri(u,p){var v=u.callbackNode;Xm(u,p);var N=Ml(u,u===rn?mn:0);if(N===0)v!==null&&Vc(v),u.callbackNode=null,u.callbackPriority=0;else if(p=N&-N,u.callbackPriority!==p){if(v!=null&&Vc(v),p===1)u.tag===0?$G(fE.bind(null,u)):JT(fE.bind(null,u)),IG(function(){(kt&6)===0&&Po()}),v=null;else{switch(Km(N)){case 1:v=xf;break;case 4:v=Gm;break;case 16:v=ce;break;case 536870912:v=bf;break;default:v=ce}v=bE(v,dE.bind(null,u))}u.callbackPriority=p,u.callbackNode=v}}function dE(u,p){if($g=-1,Bg=0,(kt&6)!==0)throw Error(r(327));var v=u.callbackNode;if(mu()&&u.callbackNode!==v)return null;var N=Ml(u,u===rn?mn:0);if(N===0)return null;if((N&30)!==0||(N&u.expiredLanes)!==0||p)p=Hg(u,N);else{p=N;var T=kt;kt|=2;var R=pE();(rn!==u||mn!==p)&&(Ia=null,pu=Qt()+500,Gl(u,p));do try{o7();break}catch(Q){hE(u,Q)}while(!0);uw(),Rg.current=R,kt=T,Er!==null?p=0:(rn=null,mn=0,p=Br)}if(p!==0){if(p===2&&(T=Sf(u),T!==0&&(N=T,p=Gw(u,T))),p===1)throw v=Kf,Gl(u,0),Ro(u,N),ri(u,Qt()),v;if(p===6)Ro(u,N);else{if(T=u.current.alternate,(N&30)===0&&!s7(T)&&(p=Hg(u,N),p===2&&(R=Sf(u),R!==0&&(N=R,p=Gw(u,R))),p===1))throw v=Kf,Gl(u,0),Ro(u,N),ri(u,Qt()),v;switch(u.finishedWork=T,u.finishedLanes=N,p){case 0:case 1:throw Error(r(345));case 2:Xl(u,ti,Ia);break;case 3:if(Ro(u,N),(N&130023424)===N&&(p=Uw+500-Qt(),10<p)){if(Ml(u,0)!==0)break;if(T=u.suspendedLanes,(T&N)!==N){Ln(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=Qb(Xl.bind(null,u,ti,Ia),p);break}Xl(u,ti,Ia);break;case 4:if(Ro(u,N),(N&4194240)===N)break;for(p=u.eventTimes,T=-1;0<N;){var V=31-Kn(N);R=1<<V,V=p[V],V>T&&(T=V),N&=~R}if(N=T,N=Qt()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*i7(N/1960))-N,10<N){u.timeoutHandle=Qb(Xl.bind(null,u,ti,Ia),N);break}Xl(u,ti,Ia);break;case 5:Xl(u,ti,Ia);break;default:throw Error(r(329))}}}return ri(u,Qt()),u.callbackNode===v?dE.bind(null,u):null}function Gw(u,p){var v=Jf;return u.current.memoizedState.isDehydrated&&(Gl(u,p).flags|=256),u=Hg(u,p),u!==2&&(p=ti,ti=v,p!==null&&Xw(p)),u}function Xw(u){ti===null?ti=u:ti.push.apply(ti,u)}function s7(u){for(var p=u;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var N=0;N<v.length;N++){var T=v[N],R=T.getSnapshot;T=T.value;try{if(!fs(R(),T))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ro(u,p){for(p&=~Ww,p&=~Ig,u.suspendedLanes|=p,u.pingedLanes&=~p,u=u.expirationTimes;0<p;){var v=31-Kn(p),N=1<<v;u[v]=-1,p&=~N}}function fE(u){if((kt&6)!==0)throw Error(r(327));mu();var p=Ml(u,0);if((p&1)===0)return ri(u,Qt()),null;var v=Hg(u,p);if(u.tag!==0&&v===2){var N=Sf(u);N!==0&&(p=N,v=Gw(u,N))}if(v===1)throw v=Kf,Gl(u,0),Ro(u,p),ri(u,Qt()),v;if(v===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=p,Xl(u,ti,Ia),ri(u,Qt()),null}function Yw(u,p){var v=kt;kt|=1;try{return u(p)}finally{kt=v,kt===0&&(pu=Qt()+500,mg&&Po())}}function Vl(u){Mo!==null&&Mo.tag===0&&(kt&6)===0&&mu();var p=kt;kt|=1;var v=Hi.transition,N=It;try{if(Hi.transition=null,It=1,u)return u()}finally{It=N,Hi.transition=v,kt=p,(kt&6)===0&&Po()}}function Kw(){bi=hu.current,ar(hu)}function Gl(u,p){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,RG(v)),Er!==null)for(v=Er.return;v!==null;){var N=v;switch(sw(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&hg();break;case 3:uu(),ar(Zn),ar(Sn),yw();break;case 5:gw(N);break;case 4:uu();break;case 13:ar(gr);break;case 19:ar(gr);break;case 10:dw(N.type._context);break;case 22:case 23:Kw()}v=v.return}if(rn=u,Er=u=Io(u.current,null),mn=bi=p,Br=0,Kf=null,Ww=Ig=ql=0,ti=Jf=null,Hl!==null){for(p=0;p<Hl.length;p++)if(v=Hl[p],N=v.interleaved,N!==null){v.interleaved=null;var T=N.next,R=v.pending;if(R!==null){var V=R.next;R.next=T,N.next=V}v.pending=N}Hl=null}return u}function hE(u,p){do{var v=Er;try{if(uw(),Ng.current=kg,_g){for(var N=vr.memoizedState;N!==null;){var T=N.queue;T!==null&&(T.pending=null),N=N.next}_g=!1}if(Ul=0,tn=$r=vr=null,Uf=!1,qf=0,Hw.current=null,v===null||v.return===null){Br=1,Kf=p,Er=null;break}e:{var R=u,V=v.return,Q=v,ne=p;if(p=mn,Q.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ye=ne,Ce=Q,_e=Ce.tag;if((Ce.mode&1)===0&&(_e===0||_e===11||_e===15)){var Se=Ce.alternate;Se?(Ce.updateQueue=Se.updateQueue,Ce.memoizedState=Se.memoizedState,Ce.lanes=Se.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Ie=zA(V);if(Ie!==null){Ie.flags&=-257,FA(Ie,V,Q,R,p),Ie.mode&1&&LA(R,ye,p),p=Ie,ne=ye;var We=p.updateQueue;if(We===null){var Ge=new Set;Ge.add(ne),p.updateQueue=Ge}else We.add(ne);break e}else{if((p&1)===0){LA(R,ye,p),Jw();break e}ne=Error(r(426))}}else if(dr&&Q.mode&1){var _r=zA(V);if(_r!==null){(_r.flags&65536)===0&&(_r.flags|=256),FA(_r,V,Q,R,p),lw(du(ne,Q));break e}}R=ne=du(ne,Q),Br!==4&&(Br=2),Jf===null?Jf=[R]:Jf.push(R),R=V;do{switch(R.tag){case 3:R.flags|=65536,p&=-p,R.lanes|=p;var he=RA(R,ne,p);lA(R,he);break e;case 1:Q=ne;var se=R.type,me=R.stateNode;if((R.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Eo===null||!Eo.has(me)))){R.flags|=65536,p&=-p,R.lanes|=p;var Pe=IA(R,Q,p);lA(R,Pe);break e}}R=R.return}while(R!==null)}gE(v)}catch(Ye){p=Ye,Er===v&&v!==null&&(Er=v=v.return);continue}break}while(!0)}function pE(){var u=Rg.current;return Rg.current=kg,u===null?kg:u}function Jw(){(Br===0||Br===3||Br===2)&&(Br=4),rn===null||(ql&268435455)===0&&(Ig&268435455)===0||Ro(rn,mn)}function Hg(u,p){var v=kt;kt|=2;var N=pE();(rn!==u||mn!==p)&&(Ia=null,Gl(u,p));do try{a7();break}catch(T){hE(u,T)}while(!0);if(uw(),kt=v,Rg.current=N,Er!==null)throw Error(r(261));return rn=null,mn=0,Br}function a7(){for(;Er!==null;)mE(Er)}function o7(){for(;Er!==null&&!yf();)mE(Er)}function mE(u){var p=xE(u.alternate,u,bi);u.memoizedProps=u.pendingProps,p===null?gE(u):Er=p,Hw.current=null}function gE(u){var p=u;do{var v=p.alternate;if(u=p.return,(p.flags&32768)===0){if(v=QG(v,p,bi),v!==null){Er=v;return}}else{if(v=e7(v,p),v!==null){v.flags&=32767,Er=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Br=6,Er=null;return}}if(p=p.sibling,p!==null){Er=p;return}Er=p=u}while(p!==null);Br===0&&(Br=5)}function Xl(u,p,v){var N=It,T=Hi.transition;try{Hi.transition=null,It=1,l7(u,p,v,N)}finally{Hi.transition=T,It=N}return null}function l7(u,p,v,N){do mu();while(Mo!==null);if((kt&6)!==0)throw Error(r(327));v=u.finishedWork;var T=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var R=v.lanes|v.childLanes;if(Eb(u,R),u===rn&&(Er=rn=null,mn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||zg||(zg=!0,bE(ce,function(){return mu(),null})),R=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||R){R=Hi.transition,Hi.transition=null;var V=It;It=1;var Q=kt;kt|=4,Hw.current=null,r7(u,v),aE(v,u),PG(Jb),Yc=!!Kb,Jb=Kb=null,u.current=v,n7(v),Pb(),kt=Q,It=V,Hi.transition=R}else u.current=v;if(zg&&(zg=!1,Mo=u,Fg=T),R=u.pendingLanes,R===0&&(Eo=null),Tl(v.stateNode),ri(u,Qt()),p!==null)for(N=u.onRecoverableError,v=0;v<p.length;v++)T=p[v],N(T.value,{componentStack:T.stack,digest:T.digest});if(Lg)throw Lg=!1,u=qw,qw=null,u;return(Fg&1)!==0&&u.tag!==0&&mu(),R=u.pendingLanes,(R&1)!==0?u===Vw?Zf++:(Zf=0,Vw=u):Zf=0,Po(),null}function mu(){if(Mo!==null){var u=Km(Fg),p=Hi.transition,v=It;try{if(Hi.transition=null,It=16>u?16:u,Mo===null)var N=!1;else{if(u=Mo,Mo=null,Fg=0,(kt&6)!==0)throw Error(r(331));var T=kt;for(kt|=4,$e=u.current;$e!==null;){var R=$e,V=R.child;if(($e.flags&16)!==0){var Q=R.deletions;if(Q!==null){for(var ne=0;ne<Q.length;ne++){var ye=Q[ne];for($e=ye;$e!==null;){var Ce=$e;switch(Ce.tag){case 0:case 11:case 15:Yf(8,Ce,R)}var _e=Ce.child;if(_e!==null)_e.return=Ce,$e=_e;else for(;$e!==null;){Ce=$e;var Se=Ce.sibling,Ie=Ce.return;if(tE(Ce),Ce===ye){$e=null;break}if(Se!==null){Se.return=Ie,$e=Se;break}$e=Ie}}}var We=R.alternate;if(We!==null){var Ge=We.child;if(Ge!==null){We.child=null;do{var _r=Ge.sibling;Ge.sibling=null,Ge=_r}while(Ge!==null)}}$e=R}}if((R.subtreeFlags&2064)!==0&&V!==null)V.return=R,$e=V;else e:for(;$e!==null;){if(R=$e,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Yf(9,R,R.return)}var he=R.sibling;if(he!==null){he.return=R.return,$e=he;break e}$e=R.return}}var se=u.current;for($e=se;$e!==null;){V=$e;var me=V.child;if((V.subtreeFlags&2064)!==0&&me!==null)me.return=V,$e=me;else e:for(V=se;$e!==null;){if(Q=$e,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Dg(9,Q)}}catch(Ye){wr(Q,Q.return,Ye)}if(Q===V){$e=null;break e}var Pe=Q.sibling;if(Pe!==null){Pe.return=Q.return,$e=Pe;break e}$e=Q.return}}if(kt=T,Po(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(kl,u)}catch{}N=!0}return N}finally{It=v,Hi.transition=p}}return!1}function vE(u,p,v){p=du(v,p),p=RA(u,p,1),u=To(u,p,1),p=Ln(),u!==null&&(Dl(u,1,p),ri(u,p))}function wr(u,p,v){if(u.tag===3)vE(u,u,v);else for(;p!==null;){if(p.tag===3){vE(p,u,v);break}else if(p.tag===1){var N=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Eo===null||!Eo.has(N))){u=du(v,u),u=IA(p,u,1),p=To(p,u,1),u=Ln(),p!==null&&(Dl(p,1,u),ri(p,u));break}}p=p.return}}function c7(u,p,v){var N=u.pingCache;N!==null&&N.delete(p),p=Ln(),u.pingedLanes|=u.suspendedLanes&v,rn===u&&(mn&v)===v&&(Br===4||Br===3&&(mn&130023424)===mn&&500>Qt()-Uw?Gl(u,0):Ww|=v),ri(u,p)}function yE(u,p){p===0&&((u.mode&1)===0?p=1:(p=El,El<<=1,(El&130023424)===0&&(El=4194304)));var v=Ln();u=Ma(u,p),u!==null&&(Dl(u,p,v),ri(u,v))}function u7(u){var p=u.memoizedState,v=0;p!==null&&(v=p.retryLane),yE(u,v)}function d7(u,p){var v=0;switch(u.tag){case 13:var N=u.stateNode,T=u.memoizedState;T!==null&&(v=T.retryLane);break;case 19:N=u.stateNode;break;default:throw Error(r(314))}N!==null&&N.delete(p),yE(u,v)}var xE;xE=function(u,p,v){if(u!==null)if(u.memoizedProps!==p.pendingProps||Zn.current)ei=!0;else{if((u.lanes&v)===0&&(p.flags&128)===0)return ei=!1,ZG(u,p,v);ei=(u.flags&131072)!==0}else ei=!1,dr&&(p.flags&1048576)!==0&&ZT(p,vg,p.index);switch(p.lanes=0,p.tag){case 2:var N=p.type;Eg(u,p),u=p.pendingProps;var T=nu(p,Sn.current);cu(p,v),T=ww(null,p,N,u,T,v);var R=jw();return p.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Qn(N)?(R=!0,pg(p)):R=!1,p.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,pw(p),T.updater=Tg,p.stateNode=T,T._reactInternals=p,Pw(p,N,u,v),p=Ew(null,p,N,!0,R,v)):(p.tag=0,dr&&R&&iw(p),In(null,p,T,v),p=p.child),p;case 16:N=p.elementType;e:{switch(Eg(u,p),u=p.pendingProps,T=N._init,N=T(N._payload),p.type=N,T=p.tag=h7(N),u=ps(N,u),T){case 0:p=Aw(null,p,N,u,v);break e;case 1:p=qA(null,p,N,u,v);break e;case 11:p=$A(null,p,N,u,v);break e;case 14:p=BA(null,p,N,ps(N.type,u),v);break e}throw Error(r(306,N,""))}return p;case 0:return N=p.type,T=p.pendingProps,T=p.elementType===N?T:ps(N,T),Aw(u,p,N,T,v);case 1:return N=p.type,T=p.pendingProps,T=p.elementType===N?T:ps(N,T),qA(u,p,N,T,v);case 3:e:{if(VA(p),u===null)throw Error(r(387));N=p.pendingProps,R=p.memoizedState,T=R.element,oA(u,p),Sg(p,N,null,v);var V=p.memoizedState;if(N=V.element,R.isDehydrated)if(R={element:N,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},p.updateQueue.baseState=R,p.memoizedState=R,p.flags&256){T=du(Error(r(423)),p),p=GA(u,p,N,v,T);break e}else if(N!==T){T=du(Error(r(424)),p),p=GA(u,p,N,v,T);break e}else for(xi=No(p.stateNode.containerInfo.firstChild),yi=p,dr=!0,hs=null,v=sA(p,null,N,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(au(),N===T){p=Ra(u,p,v);break e}In(u,p,N,v)}p=p.child}return p;case 5:return uA(p),u===null&&ow(p),N=p.type,T=p.pendingProps,R=u!==null?u.memoizedProps:null,V=T.children,Zb(N,T)?V=null:R!==null&&Zb(N,R)&&(p.flags|=32),UA(u,p),In(u,p,V,v),p.child;case 6:return u===null&&ow(p),null;case 13:return XA(u,p,v);case 4:return mw(p,p.stateNode.containerInfo),N=p.pendingProps,u===null?p.child=ou(p,null,N,v):In(u,p,N,v),p.child;case 11:return N=p.type,T=p.pendingProps,T=p.elementType===N?T:ps(N,T),$A(u,p,N,T,v);case 7:return In(u,p,p.pendingProps,v),p.child;case 8:return In(u,p,p.pendingProps.children,v),p.child;case 12:return In(u,p,p.pendingProps.children,v),p.child;case 10:e:{if(N=p.type._context,T=p.pendingProps,R=p.memoizedProps,V=T.value,er(bg,N._currentValue),N._currentValue=V,R!==null)if(fs(R.value,V)){if(R.children===T.children&&!Zn.current){p=Ra(u,p,v);break e}}else for(R=p.child,R!==null&&(R.return=p);R!==null;){var Q=R.dependencies;if(Q!==null){V=R.child;for(var ne=Q.firstContext;ne!==null;){if(ne.context===N){if(R.tag===1){ne=Da(-1,v&-v),ne.tag=2;var ye=R.updateQueue;if(ye!==null){ye=ye.shared;var Ce=ye.pending;Ce===null?ne.next=ne:(ne.next=Ce.next,Ce.next=ne),ye.pending=ne}}R.lanes|=v,ne=R.alternate,ne!==null&&(ne.lanes|=v),fw(R.return,v,p),Q.lanes|=v;break}ne=ne.next}}else if(R.tag===10)V=R.type===p.type?null:R.child;else if(R.tag===18){if(V=R.return,V===null)throw Error(r(341));V.lanes|=v,Q=V.alternate,Q!==null&&(Q.lanes|=v),fw(V,v,p),V=R.sibling}else V=R.child;if(V!==null)V.return=R;else for(V=R;V!==null;){if(V===p){V=null;break}if(R=V.sibling,R!==null){R.return=V.return,V=R;break}V=V.return}R=V}In(u,p,T.children,v),p=p.child}return p;case 9:return T=p.type,N=p.pendingProps.children,cu(p,v),T=$i(T),N=N(T),p.flags|=1,In(u,p,N,v),p.child;case 14:return N=p.type,T=ps(N,p.pendingProps),T=ps(N.type,T),BA(u,p,N,T,v);case 15:return HA(u,p,p.type,p.pendingProps,v);case 17:return N=p.type,T=p.pendingProps,T=p.elementType===N?T:ps(N,T),Eg(u,p),p.tag=1,Qn(N)?(u=!0,pg(p)):u=!1,cu(p,v),MA(p,N,T),Pw(p,N,T,v),Ew(null,p,N,!0,u,v);case 19:return KA(u,p,v);case 22:return WA(u,p,v)}throw Error(r(156,p.tag))};function bE(u,p){return vf(u,p)}function f7(u,p,v,N){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(u,p,v,N){return new f7(u,p,v,N)}function Zw(u){return u=u.prototype,!(!u||!u.isReactComponent)}function h7(u){if(typeof u=="function")return Zw(u)?1:0;if(u!=null){if(u=u.$$typeof,u===W)return 11;if(u===z)return 14}return 2}function Io(u,p){var v=u.alternate;return v===null?(v=Wi(u.tag,p,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=p,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,p=u.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Wg(u,p,v,N,T,R){var V=2;if(N=u,typeof u=="function")Zw(u)&&(V=1);else if(typeof u=="string")V=5;else e:switch(u){case k:return Yl(v.children,T,R,p);case A:V=8,T|=8;break;case M:return u=Wi(12,v,p,T|2),u.elementType=M,u.lanes=R,u;case $:return u=Wi(13,v,p,T),u.elementType=$,u.lanes=R,u;case H:return u=Wi(19,v,p,T),u.elementType=H,u.lanes=R,u;case E:return Ug(v,T,R,p);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:V=10;break e;case L:V=9;break e;case W:V=11;break e;case z:V=14;break e;case q:V=16,N=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return p=Wi(V,v,p,T),p.elementType=u,p.type=N,p.lanes=R,p}function Yl(u,p,v,N){return u=Wi(7,u,N,p),u.lanes=v,u}function Ug(u,p,v,N){return u=Wi(22,u,N,p),u.elementType=E,u.lanes=v,u.stateNode={isHidden:!1},u}function Qw(u,p,v){return u=Wi(6,u,null,p),u.lanes=v,u}function ej(u,p,v){return p=Wi(4,u.children!==null?u.children:[],u.key,p),p.lanes=v,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}function p7(u,p,v,N,T){this.tag=p,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=N,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function tj(u,p,v,N,T,R,V,Q,ne){return u=new p7(u,p,v,Q,ne),p===1?(p=1,R===!0&&(p|=8)):p=0,R=Wi(3,null,null,p),u.current=R,R.stateNode=u,R.memoizedState={element:N,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},pw(R),u}function m7(u,p,v){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:N==null?null:""+N,children:u,containerInfo:p,implementation:v}}function wE(u){if(!u)return Oo;u=u._reactInternals;e:{if(_a(u)!==u||u.tag!==1)throw Error(r(170));var p=u;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Qn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(u.tag===1){var v=u.type;if(Qn(v))return YT(u,v,p)}return p}function jE(u,p,v,N,T,R,V,Q,ne){return u=tj(v,N,!0,u,T,R,V,Q,ne),u.context=wE(null),v=u.current,N=Ln(),T=Do(v),R=Da(N,T),R.callback=p??null,To(v,R,T),u.current.lanes=T,Dl(u,T,N),ri(u,N),u}function qg(u,p,v,N){var T=p.current,R=Ln(),V=Do(T);return v=wE(v),p.context===null?p.context=v:p.pendingContext=v,p=Da(R,V),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=To(T,p,V),u!==null&&(vs(u,T,V,R),jg(u,T,V)),V}function Vg(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function SE(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<p?v:p}}function rj(u,p){SE(u,p),(u=u.alternate)&&SE(u,p)}function g7(){return null}var CE=typeof reportError=="function"?reportError:function(u){console.error(u)};function nj(u){this._internalRoot=u}Gg.prototype.render=nj.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(r(409));qg(u,p,null,null)},Gg.prototype.unmount=nj.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;Vl(function(){qg(null,u,null,null)}),p[ka]=null}};function Gg(u){this._internalRoot=u}Gg.prototype.unstable_scheduleHydration=function(u){if(u){var p=Pf();u={blockedOn:null,target:u,priority:p};for(var v=0;v<ds.length&&p!==0&&p<ds[v].priority;v++);ds.splice(v,0,u),v===0&&rg(u)}};function ij(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Xg(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function NE(){}function v7(u,p,v,N,T){if(T){if(typeof N=="function"){var R=N;N=function(){var ye=Vg(V);R.call(ye)}}var V=jE(p,N,u,0,null,!1,!1,"",NE);return u._reactRootContainer=V,u[ka]=V.current,If(u.nodeType===8?u.parentNode:u),Vl(),V}for(;T=u.lastChild;)u.removeChild(T);if(typeof N=="function"){var Q=N;N=function(){var ye=Vg(ne);Q.call(ye)}}var ne=tj(u,0,!1,null,null,!1,!1,"",NE);return u._reactRootContainer=ne,u[ka]=ne.current,If(u.nodeType===8?u.parentNode:u),Vl(function(){qg(p,ne,v,N)}),ne}function Yg(u,p,v,N,T){var R=v._reactRootContainer;if(R){var V=R;if(typeof T=="function"){var Q=T;T=function(){var ne=Vg(V);Q.call(ne)}}qg(p,V,u,T)}else V=v7(v,p,u,T,N);return Vg(V)}Jm=function(u){switch(u.tag){case 3:var p=u.stateNode;if(p.current.memoizedState.isDehydrated){var v=Gs(p.pendingLanes);v!==0&&(Nf(p,v|1),ri(p,Qt()),(kt&6)===0&&(pu=Qt()+500,Po()))}break;case 13:Vl(function(){var N=Ma(u,1);if(N!==null){var T=Ln();vs(N,u,1,T)}}),rj(u,1)}},_f=function(u){if(u.tag===13){var p=Ma(u,134217728);if(p!==null){var v=Ln();vs(p,u,134217728,v)}rj(u,134217728)}},Of=function(u){if(u.tag===13){var p=Do(u),v=Ma(u,p);if(v!==null){var N=Ln();vs(v,u,p,N)}rj(u,p)}},Pf=function(){return It},Zm=function(u,p){var v=It;try{return It=u,p()}finally{It=v}},Vs=function(u,p,v){switch(p){case"input":if(De(u,v),p=v.name,v.type==="radio"&&p!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var N=v[p];if(N!==u&&N.form===u.form){var T=fg(N);if(!T)throw Error(r(90));le(N),De(N,T)}}}break;case"textarea":yn(u,v);break;case"select":p=v.value,p!=null&&it(u,!!v.multiple,p,!1)}},Pt=Yw,mt=Vl;var y7={usingClientEntryPoint:!1,Events:[Ff,tu,fg,Xe,Ot,Yw]},Qf={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x7={bundleType:Qf.bundleType,version:Qf.version,rendererPackageName:Qf.rendererPackageName,rendererConfig:Qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=gf(u),u===null?null:u.stateNode},findFiberByHostInstance:Qf.findFiberByHostInstance||g7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kg.isDisabled&&Kg.supportsFiber)try{kl=Kg.inject(x7),bn=Kg}catch{}}return ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y7,ni.createPortal=function(u,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ij(p))throw Error(r(200));return m7(u,p,null,v)},ni.createRoot=function(u,p){if(!ij(u))throw Error(r(299));var v=!1,N="",T=CE;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onRecoverableError!==void 0&&(T=p.onRecoverableError)),p=tj(u,1,!1,null,null,v,!1,N,T),u[ka]=p.current,If(u.nodeType===8?u.parentNode:u),new nj(p)},ni.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=gf(p),u=u===null?null:u.stateNode,u},ni.flushSync=function(u){return Vl(u)},ni.hydrate=function(u,p,v){if(!Xg(p))throw Error(r(200));return Yg(null,u,p,!0,v)},ni.hydrateRoot=function(u,p,v){if(!ij(u))throw Error(r(405));var N=v!=null&&v.hydratedSources||null,T=!1,R="",V=CE;if(v!=null&&(v.unstable_strictMode===!0&&(T=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onRecoverableError!==void 0&&(V=v.onRecoverableError)),p=jE(p,null,u,1,v??null,T,!1,R,V),u[ka]=p.current,If(u),N)for(u=0;u<N.length;u++)v=N[u],T=v._getVersion,T=T(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,T]:p.mutableSourceEagerHydrationData.push(v,T);return new Gg(p)},ni.render=function(u,p,v){if(!Xg(p))throw Error(r(200));return Yg(null,u,p,!1,v)},ni.unmountComponentAtNode=function(u){if(!Xg(u))throw Error(r(40));return u._reactRootContainer?(Vl(function(){Yg(null,null,u,!1,function(){u._reactRootContainer=null,u[ka]=null})}),!0):!1},ni.unstable_batchedUpdates=Yw,ni.unstable_renderSubtreeIntoContainer=function(u,p,v,N){if(!Xg(v))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return Yg(u,p,v,!1,N)},ni.version="18.3.1-next-f1338f8080-20240426",ni}var ME;function s3(){if(ME)return oj.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),oj.exports=P7(),oj.exports}var DE;function k7(){if(DE)return Jg;DE=1;var t=s3();return Jg.createRoot=t.createRoot,Jg.hydrateRoot=t.hydrateRoot,Jg}var T7=k7(),w=Bs();const Y=zt(w),wP=w7({__proto__:null,default:Y},[w]);function RE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ba(...t){return e=>{let r=!1;const n=t.map(i=>{const s=RE(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():RE(t[i],null)}}}}function ct(...t){return w.useCallback(ba(...t),t)}var A7=Symbol.for("react.lazy"),Zv=wP[" use ".trim().toString()];function E7(t){return typeof t=="object"&&t!==null&&"then"in t}function a3(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===A7&&"_payload"in t&&E7(t._payload)}function Lx(t){const e=M7(t),r=w.forwardRef((n,i)=>{let{children:s,...o}=n;a3(s)&&typeof Zv=="function"&&(s=Zv(s._payload));const l=w.Children.toArray(s),c=l.find(R7);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var o3=Lx("Slot");function M7(t){const e=w.forwardRef((r,n)=>{let{children:i,...s}=r;if(a3(i)&&typeof Zv=="function"&&(i=Zv(i._payload)),w.isValidElement(i)){const o=L7(i),l=I7(s,i.props);return i.type!==w.Fragment&&(l.ref=n?ba(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var D7=Symbol("radix.slottable");function R7(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===D7}function I7(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function L7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function l3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=l3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=l3(t))&&(n&&(n+=" "),n+=e);return n}const IE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LE=pt,c3=(t,e)=>r=>{var n;if(e?.variants==null)return LE(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=r?.[d],h=s?.[d];if(f===null)return null;const m=IE(f)||IE(h);return i[d][m]}),l=r&&Object.entries(r).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:h,className:m,...g}=f;return Object.entries(g).every(j=>{let[x,y]=j;return Array.isArray(y)?y.includes({...s,...l}[x]):{...s,...l}[x]===y})?[...d,h,m]:d},[]);return LE(t,o,c,r?.class,r?.className)},z7=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},F7=(t,e)=>({classGroupId:t,validator:e}),u3=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),Qv="-",zE=[],$7="arbitrary..",B7=t=>{const e=W7(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return H7(o);const l=o.split(Qv),c=l[0]===""&&l.length>1?1:0;return d3(l,c,e)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],d=r[o];return c?d?z7(d,c):c:d||zE}return r[o]||zE}}},d3=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const i=t[e],s=r.nextPart.get(i);if(s){const d=d3(t,e+1,s);if(d)return d}const o=r.validators;if(o===null)return;const l=e===0?t.join(Qv):t.slice(e).join(Qv),c=o.length;for(let d=0;d<c;d++){const f=o[d];if(f.validator(l))return f.classGroupId}},H7=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?$7+n:void 0})(),W7=t=>{const{theme:e,classGroups:r}=t;return U7(r,e)},U7=(t,e)=>{const r=u3();for(const n in t){const i=t[n];jP(i,r,n,e)}return r},jP=(t,e,r,n)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];q7(o,e,r,n)}},q7=(t,e,r,n)=>{if(typeof t=="string"){V7(t,e,r);return}if(typeof t=="function"){G7(t,e,r,n);return}X7(t,e,r,n)},V7=(t,e,r)=>{const n=t===""?e:f3(e,t);n.classGroupId=r},G7=(t,e,r,n)=>{if(Y7(t)){jP(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(F7(r,t))},X7=(t,e,r,n)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[l,c]=i[o];jP(c,f3(e,l),r,n)}},f3=(t,e)=>{let r=t;const n=e.split(Qv),i=n.length;for(let s=0;s<i;s++){const o=n[s];let l=r.nextPart.get(o);l||(l=u3(),r.nextPart.set(o,l)),r=l}return r},Y7=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,K7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const i=(s,o)=>{r[s]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(s){let o=r[s];if(o!==void 0)return o;if((o=n[s])!==void 0)return i(s,o),o},set(s,o){s in r?r[s]=o:i(s,o)}}},s_="!",FE=":",J7=[],$E=(t,e,r,n,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),Z7=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let o=0,l=0,c=0,d;const f=i.length;for(let x=0;x<f;x++){const y=i[x];if(o===0&&l===0){if(y===FE){s.push(i.slice(c,x)),c=x+1;continue}if(y==="/"){d=x;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const h=s.length===0?i:i.slice(c);let m=h,g=!1;h.endsWith(s_)?(m=h.slice(0,-1),g=!0):h.startsWith(s_)&&(m=h.slice(1),g=!0);const j=d&&d>c?d-c:void 0;return $E(s,g,m,j)};if(e){const i=e+FE,s=n;n=o=>o.startsWith(i)?s(o.slice(i.length)):$E(J7,!1,o,void 0,!0)}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},Q7=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let s=0;s<r.length;s++){const o=r[s],l=o[0]==="[",c=e.has(o);l||c?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},eX=t=>({cache:K7(t.cacheSize),parseClassName:Z7(t),sortModifiers:Q7(t),...B7(t)}),tX=/\s+/,rX=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(tX);let c="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:h,modifiers:m,hasImportantModifier:g,baseClassName:j,maybePostfixModifierPosition:x}=r(f);if(h){c=f+(c.length>0?" "+c:c);continue}let y=!!x,b=n(y?j.substring(0,x):j);if(!b){if(!y){c=f+(c.length>0?" "+c:c);continue}if(b=n(j),!b){c=f+(c.length>0?" "+c:c);continue}y=!1}const S=m.length===0?"":m.length===1?m[0]:s(m).join(":"),O=g?S+s_:S,P=O+b;if(o.indexOf(P)>-1)continue;o.push(P);const C=i(b,y);for(let _=0;_<C.length;++_){const k=C[_];o.push(O+k)}c=f+(c.length>0?" "+c:c)}return c},nX=(...t)=>{let e=0,r,n,i="";for(;e<t.length;)(r=t[e++])&&(n=h3(r))&&(i&&(i+=" "),i+=n);return i},h3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=h3(t[n]))&&(r&&(r+=" "),r+=e);return r},iX=(t,...e)=>{let r,n,i,s;const o=c=>{const d=e.reduce((f,h)=>h(f),t());return r=eX(d),n=r.cache.get,i=r.cache.set,s=l,l(c)},l=c=>{const d=n(c);if(d)return d;const f=rX(c,r);return i(c,f),f};return s=o,(...c)=>s(nX(...c))},sX=[],Hr=t=>{const e=r=>r[t]||sX;return e.isThemeGetter=!0,e},p3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,m3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aX=/^\d+\/\d+$/,oX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,uX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gu=t=>aX.test(t),yt=t=>!!t&&!Number.isNaN(Number(t)),zo=t=>!!t&&Number.isInteger(Number(t)),uj=t=>t.endsWith("%")&&yt(t.slice(0,-1)),La=t=>oX.test(t),fX=()=>!0,hX=t=>lX.test(t)&&!cX.test(t),g3=()=>!1,pX=t=>uX.test(t),mX=t=>dX.test(t),gX=t=>!Ue(t)&&!qe(t),vX=t=>Fd(t,x3,g3),Ue=t=>p3.test(t),Kl=t=>Fd(t,b3,hX),dj=t=>Fd(t,jX,yt),BE=t=>Fd(t,v3,g3),yX=t=>Fd(t,y3,mX),Zg=t=>Fd(t,w3,pX),qe=t=>m3.test(t),th=t=>$d(t,b3),xX=t=>$d(t,SX),HE=t=>$d(t,v3),bX=t=>$d(t,x3),wX=t=>$d(t,y3),Qg=t=>$d(t,w3,!0),Fd=(t,e,r)=>{const n=p3.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},$d=(t,e,r=!1)=>{const n=m3.exec(t);return n?n[1]?e(n[1]):r:!1},v3=t=>t==="position"||t==="percentage",y3=t=>t==="image"||t==="url",x3=t=>t==="length"||t==="size"||t==="bg-size",b3=t=>t==="length",jX=t=>t==="number",SX=t=>t==="family-name",w3=t=>t==="shadow",CX=()=>{const t=Hr("color"),e=Hr("font"),r=Hr("text"),n=Hr("font-weight"),i=Hr("tracking"),s=Hr("leading"),o=Hr("breakpoint"),l=Hr("container"),c=Hr("spacing"),d=Hr("radius"),f=Hr("shadow"),h=Hr("inset-shadow"),m=Hr("text-shadow"),g=Hr("drop-shadow"),j=Hr("blur"),x=Hr("perspective"),y=Hr("aspect"),b=Hr("ease"),S=Hr("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...P(),qe,Ue],_=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],A=()=>[qe,Ue,c],M=()=>[gu,"full","auto",...A()],D=()=>[zo,"none","subgrid",qe,Ue],L=()=>["auto",{span:["full",zo,qe,Ue]},zo,qe,Ue],W=()=>[zo,"auto",qe,Ue],$=()=>["auto","min","max","fr",qe,Ue],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...A()],E=()=>[gu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],U=()=>[t,qe,Ue],B=()=>[...P(),HE,BE,{position:[qe,Ue]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",bX,vX,{size:[qe,Ue]}],G=()=>[uj,th,Kl],Z=()=>["","none","full",d,qe,Ue],K=()=>["",yt,th,Kl],ae=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[yt,uj,HE,BE],fe=()=>["","none",j,qe,Ue],oe=()=>["none",yt,qe,Ue],ue=()=>["none",yt,qe,Ue],de=()=>[yt,qe,Ue],le=()=>[gu,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[La],breakpoint:[La],color:[fX],container:[La],"drop-shadow":[La],ease:["in","out","in-out"],font:[gX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[La],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[La],shadow:[La],spacing:["px",yt],text:[La],"text-shadow":[La],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gu,Ue,qe,y]}],container:["container"],columns:[{columns:[yt,Ue,qe,l]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[zo,"auto",qe,Ue]}],basis:[{basis:[gu,"full","auto",l,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[yt,gu,"auto","initial","none",Ue]}],grow:[{grow:["",yt,qe,Ue]}],shrink:[{shrink:["",yt,qe,Ue]}],order:[{order:[zo,"first","last","none",qe,Ue]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[l,"screen",...E()]}],"min-w":[{"min-w":[l,"screen","none",...E()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",r,th,Kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,qe,dj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uj,Ue]}],"font-family":[{font:[xX,Ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,qe,Ue]}],"line-clamp":[{"line-clamp":[yt,"none",qe,dj]}],leading:[{leading:[s,...A()]}],"list-image":[{"list-image":["none",qe,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[yt,"from-font","auto",qe,Kl]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[yt,"auto",qe,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zo,qe,Ue],radial:["",qe,Ue],conic:[zo,qe,Ue]},wX,yX]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[yt,qe,Ue]}],"outline-w":[{outline:["",yt,th,Kl]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,Qg,Zg]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",h,Qg,Zg]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[yt,Kl]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",m,Qg,Zg]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[yt,qe,Ue]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[qe,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ue]}],filter:[{filter:["","none",qe,Ue]}],blur:[{blur:fe()}],brightness:[{brightness:[yt,qe,Ue]}],contrast:[{contrast:[yt,qe,Ue]}],"drop-shadow":[{"drop-shadow":["","none",g,Qg,Zg]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",yt,qe,Ue]}],"hue-rotate":[{"hue-rotate":[yt,qe,Ue]}],invert:[{invert:["",yt,qe,Ue]}],saturate:[{saturate:[yt,qe,Ue]}],sepia:[{sepia:["",yt,qe,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ue]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[yt,qe,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[yt,qe,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",yt,qe,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[yt,qe,Ue]}],"backdrop-invert":[{"backdrop-invert":["",yt,qe,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[yt,qe,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[yt,qe,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",yt,qe,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[yt,"initial",qe,Ue]}],ease:[{ease:["linear","initial",b,qe,Ue]}],delay:[{delay:[yt,qe,Ue]}],animate:[{animate:["none",S,qe,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,qe,Ue]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:de()}],"skew-x":[{"skew-x":de()}],"skew-y":[{"skew-y":de()}],transform:[{transform:[qe,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ue]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[yt,th,Kl,dj]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NX=iX(CX);function Je(...t){return NX(pt(t))}const SP=c3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ee=w.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?o3:"button";return a.jsx(o,{"data-slot":"button",className:Je(SP({variant:e,size:r,className:t})),ref:s,...i})});ee.displayName="Button";const _X=c3("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function nt({className:t,variant:e,asChild:r=!1,...n}){const i=r?o3:"span";return a.jsx(i,{"data-slot":"badge",className:Je(_X({variant:e}),t),...n})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),WE=t=>{const e=PX(t);return e.charAt(0).toUpperCase()+e.slice(1)},j3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...kX,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:j3("lucide",i),...l},[...o.map(([d,f])=>w.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const r=w.forwardRef(({className:n,...i},s)=>w.createElement(TX,{ref:s,iconNode:e,className:j3(`lucide-${OX(WE(t))}`,`lucide-${t}`,n),...i}));return r.displayName=WE(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],S3=Oe("align-center",AX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]],MX=Oe("align-horizontal-space-around",EX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],RX=Oe("align-justify",DX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],C3=Oe("align-left",IX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],N3=Oe("align-right",LX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2",key:"1i8z2d"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2",key:"ypihtt"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fj=Oe("align-vertical-justify-center",zX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["rect",{width:"10",height:"6",x:"7",y:"9",rx:"2",key:"b1zbii"}],["path",{d:"M22 20H2",key:"1p1f7z"}],["path",{d:"M22 4H2",key:"1b7qnq"}]],$X=Oe("align-vertical-space-around",FX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],_3=Oe("archive",BX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fo=Oe("arrow-left",HX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nc=Oe("arrow-right",WX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],qX=Oe("bold",UX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],GX=Oe("box",VX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zx=Oe("calendar",XX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ju=Oe("check",YX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ba=Oe("chevron-down",KX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ZX=Oe("chevron-left",JX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ey=Oe("chevron-right",QX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hh=Oe("chevron-up",eY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],O3=Oe("chevrons-down",tY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],P3=Oe("chevrons-up",rY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],UE=Oe("circle-arrow-down",nY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pu=Oe("circle-alert",iY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],qE=Oe("circle-arrow-up",sY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fx=Oe("circle-check-big",aY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ss=Oe("circle-check",oY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ty=Oe("circle-x",lY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uY=Oe("circle",cY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],a_=Oe("clock",dY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ry=Oe("copy",fY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ny=Oe("credit-card",hY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$x=Oe("dollar-sign",pY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],k3=Oe("download",mY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vY=Oe("ellipsis-vertical",gY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],to=Oe("eye",yY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],bY=Oe("file-chart-column-increasing",xY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jY=Oe("file-text",wY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],T3=Oe("funnel",SY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zu=Oe("grid-3x3",CY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Zu=Oe("heart",NY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],OY=Oe("history",_Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Bx=Oe("house",PY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wh=Oe("image",kY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],AY=Oe("italic",TY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ev=Oe("layers",EY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$n=Oe("loader-circle",MY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],A3=Oe("lock-open",DY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],E3=Oe("lock",RY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],M3=Oe("log-out",IY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Hx=Oe("mail",LY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],D3=Oe("map-pin",zY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],$Y=Oe("maximize",FY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],HY=Oe("menu",BY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M5 12h14",key:"1ays0h"}]],R3=Oe("minus",WY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],nr=Oe("package",UY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],bc=Oe("palette",qY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],VE=Oe("pen-line",VY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Wx=Oe("phone",GY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dl=Oe("plus",XY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],KY=Oe("redo",YY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],om=Oe("refresh-cw",JY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],CP=Oe("rotate-ccw",ZY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],GE=Oe("save",QY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],tK=Oe("scissors",eK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ns=Oe("search",rK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ux=Oe("shield-check",nK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hj=Oe("shield",iK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],I3=Oe("shirt",sK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Qu=Oe("shopping-bag",aK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],fl=Oe("shopping-cart",oK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],lm=Oe("sliders-horizontal",lK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],XE=Oe("smartphone",cK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],YE=Oe("sparkles",uK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qx=Oe("square-pen",dK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ma=Oe("trash-2",fK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],o_=Oe("trending-down",hK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],zv=Oe("trending-up",pK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L3=Oe("triangle-alert",mK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Zi=Oe("truck",gK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],yK=Oe("type",vK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],bK=Oe("underline",xK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],jK=Oe("undo",wK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],lp=Oe("upload",SK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],KE=Oe("user",CK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],NP=Oe("users",NK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],OK=Oe("warehouse",_K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],kK=Oe("wrench",PK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ct=Oe("x",TK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],EK=Oe("zap",AK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],z3=Oe("zoom-in",MK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],RK=Oe("zoom-out",DK),IK="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Pi(t){const[e,r]=w.useState(!1),n=()=>{r(!0)},{src:i,alt:s,style:o,className:l,...c}=t;return e?a.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:a.jsx("div",{className:"flex items-center justify-center w-full h-full",children:a.jsx("img",{src:IK,alt:"Error loading image",...c,"data-original-url":i})})}):a.jsx("img",{src:i,alt:s,className:l,style:o,...c,onError:n})}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JE="popstate";function LK(t={}){function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return l_("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:cp(i)}return FK(e,r,null,t)}function pr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function is(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zK(){return Math.random().toString(36).substring(2,10)}function ZE(t,e){return{usr:t.state,key:t.key,idx:e}}function l_(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bd(e):e,state:r,key:e&&e.key||n||zK()}}function cp({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function FK(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function h(){l="POP";let y=f(),b=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:b})}function m(y,b){l="PUSH";let S=l_(x.location,y,b);d=f()+1;let O=ZE(S,d),P=x.createHref(S);try{o.pushState(O,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}s&&c&&c({action:l,location:x.location,delta:1})}function g(y,b){l="REPLACE";let S=l_(x.location,y,b);d=f();let O=ZE(S,d),P=x.createHref(S);o.replaceState(O,"",P),s&&c&&c({action:l,location:x.location,delta:0})}function j(y){return $K(y)}let x={get action(){return l},get location(){return t(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(JE,h),c=y,()=>{i.removeEventListener(JE,h),c=null}},createHref(y){return e(i,y)},createURL:j,encodeLocation(y){let b=j(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:g,go(y){return o.go(y)}};return x}function $K(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),pr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:cp(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function F3(t,e,r="/"){return BK(t,e,r,!1)}function BK(t,e,r,n){let i=typeof e=="string"?Bd(e):e,s=ro(i.pathname||"/",r);if(s==null)return null;let o=$3(t);HK(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=QK(s);l=JK(o[c],d,n)}return l}function $3(t,e=[],r=[],n="",i=!1){let s=(o,l,c=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;pr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let h=Ya([n,f.relativePath]),m=r.concat(f);o.children&&o.children.length>0&&(pr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),$3(o.children,e,m,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:YK(h,o.index),routesMeta:m})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let c of B3(o.path))s(o,l,!0,c)}),e}function B3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=B3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function HK(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:KK(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var WK=/^:[\w-]+$/,UK=3,qK=2,VK=1,GK=10,XK=-2,QE=t=>t==="*";function YK(t,e){let r=t.split("/"),n=r.length;return r.some(QE)&&(n+=XK),e&&(n+=qK),r.filter(i=>!QE(i)).reduce((i,s)=>i+(WK.test(s)?UK:s===""?VK:GK),n)}function KK(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function JK(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=iy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=iy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ya([s,h.pathname]),pathnameBase:iJ(Ya([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Ya([s,h.pathnameBase]))}return o}function iy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ZK(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:h},m)=>{if(f==="*"){let j=l[m]||"";o=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const g=l[m];return h&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function ZK(t,e=!1,r=!0){is(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function QK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return is(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ro(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var eJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tJ=t=>eJ.test(t);function rJ(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Bd(t):t,s;if(r)if(tJ(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),is(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?s=eM(r.substring(1),"/"):s=eM(r,e)}else s=e;return{pathname:s,search:sJ(n),hash:aJ(i)}}function eM(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function pj(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _P(t){let e=nJ(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function OP(t,e,r,n=!1){let i;typeof t=="string"?i=Bd(t):(i={...t},pr(!i.pathname||!i.pathname.includes("?"),pj("?","pathname","search",i)),pr(!i.pathname||!i.pathname.includes("#"),pj("#","pathname","hash",i)),pr(!i.search||!i.search.includes("#"),pj("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=rJ(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Ya=t=>t.join("/").replace(/\/\/+/g,"/"),iJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H3=["POST","PUT","PATCH","DELETE"];new Set(H3);var lJ=["GET",...H3];new Set(lJ);var Hd=w.createContext(null);Hd.displayName="DataRouter";var Vx=w.createContext(null);Vx.displayName="DataRouterState";w.createContext(!1);var W3=w.createContext({isTransitioning:!1});W3.displayName="ViewTransition";var cJ=w.createContext(new Map);cJ.displayName="Fetchers";var uJ=w.createContext(null);uJ.displayName="Await";var Hs=w.createContext(null);Hs.displayName="Navigation";var cm=w.createContext(null);cm.displayName="Location";var Ws=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ws.displayName="Route";var PP=w.createContext(null);PP.displayName="RouteError";function dJ(t,{relative:e}={}){pr(Wd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Hs),{hash:i,pathname:s,search:o}=dm(t,{relative:e}),l=s;return r!=="/"&&(l=s==="/"?r:Ya([r,s])),n.createHref({pathname:l,search:o,hash:i})}function Wd(){return w.useContext(cm)!=null}function fi(){return pr(Wd(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(cm).location}var U3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q3(t){w.useContext(Hs).static||w.useLayoutEffect(t)}function kr(){let{isDataRoute:t}=w.useContext(Ws);return t?CJ():fJ()}function fJ(){pr(Wd(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Hd),{basename:e,navigator:r}=w.useContext(Hs),{matches:n}=w.useContext(Ws),{pathname:i}=fi(),s=JSON.stringify(_P(n)),o=w.useRef(!1);return q3(()=>{o.current=!0}),w.useCallback((c,d={})=>{if(is(o.current,U3),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=OP(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ya([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,i,t])}w.createContext(null);function um(){let{matches:t}=w.useContext(Ws),e=t[t.length-1];return e?e.params:{}}function dm(t,{relative:e}={}){let{matches:r}=w.useContext(Ws),{pathname:n}=fi(),i=JSON.stringify(_P(r));return w.useMemo(()=>OP(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function hJ(t,e){return V3(t,e)}function V3(t,e,r,n,i){pr(Wd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(Hs),{matches:o}=w.useContext(Ws),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";G3(d,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let m=fi(),g;if(e){let S=typeof e=="string"?Bd(e):e;pr(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=m;let j=g.pathname||"/",x=j;if(f!=="/"){let S=f.replace(/^\//,"").split("/");x="/"+j.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=F3(t,{pathname:x});is(h||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),is(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=yJ(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ya([f,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ya([f,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,i);return e&&b?w.createElement(cm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},b):b}function pJ(){let t=SJ(),e=oJ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:i},r):null,o)}var mJ=w.createElement(pJ,null),gJ=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(Ws.Provider,{value:this.props.routeContext},w.createElement(PP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vJ({routeContext:t,match:e,children:r}){let n=w.useContext(Hd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ws.Provider,{value:t},r)}function yJ(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r?.errors;if(o!=null){let f=s.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);pr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(r)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:g}=r,j=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||j){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let d=r&&n?(f,h)=>{n(f,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:h})}:void 0;return s.reduceRight((f,h,m)=>{let g,j=!1,x=null,y=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||mJ,l&&(c<0&&m===0?(G3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,y=null):c===m&&(j=!0,y=h.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,m+1)),S=()=>{let O;return g?O=x:j?O=y:h.route.Component?O=w.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=f,w.createElement(vJ,{match:h,routeContext:{outlet:f,matches:b,isDataRoute:r!=null},children:O})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(gJ,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:d}):S()},null)}function kP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xJ(t){let e=w.useContext(Hd);return pr(e,kP(t)),e}function bJ(t){let e=w.useContext(Vx);return pr(e,kP(t)),e}function wJ(t){let e=w.useContext(Ws);return pr(e,kP(t)),e}function TP(t){let e=wJ(t),r=e.matches[e.matches.length-1];return pr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function jJ(){return TP("useRouteId")}function SJ(){let t=w.useContext(PP),e=bJ("useRouteError"),r=TP("useRouteError");return t!==void 0?t:e.errors?.[r]}function CJ(){let{router:t}=xJ("useNavigate"),e=TP("useNavigate"),r=w.useRef(!1);return q3(()=>{r.current=!0}),w.useCallback(async(i,s={})=>{is(r.current,U3),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var tM={};function G3(t,e,r){!e&&!tM[t]&&(tM[t]=!0,is(!1,r))}w.memo(NJ);function NJ({routes:t,future:e,state:r,unstable_onError:n}){return V3(t,void 0,r,n,e)}function _J({to:t,replace:e,state:r,relative:n}){pr(Wd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Hs);is(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(Ws),{pathname:o}=fi(),l=kr(),c=OP(t,_P(s),o,n==="path"),d=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(d),{replace:e,state:r,relative:n})},[l,d,n,e,r]),null}function Vt(t){pr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OJ({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){pr(!Wd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=Bd(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=w.useMemo(()=>{let j=ro(c,o);return j==null?null:{location:{pathname:j,search:d,hash:f,state:h,key:m},navigationType:n}},[o,c,d,f,h,m,n]);return is(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:w.createElement(Hs.Provider,{value:l},w.createElement(cm.Provider,{children:e,value:g}))}function PJ({children:t,location:e}){return hJ(c_(t),e)}function c_(t,e=[]){let r=[];return w.Children.forEach(t,(n,i)=>{if(!w.isValidElement(n))return;let s=[...e,i];if(n.type===w.Fragment){r.push.apply(r,c_(n.props.children,s));return}pr(n.type===Vt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=c_(n.props.children,s)),r.push(o)}),r}var Fv="get",$v="application/x-www-form-urlencoded";function Gx(t){return t!=null&&typeof t.tagName=="string"}function kJ(t){return Gx(t)&&t.tagName.toLowerCase()==="button"}function TJ(t){return Gx(t)&&t.tagName.toLowerCase()==="form"}function AJ(t){return Gx(t)&&t.tagName.toLowerCase()==="input"}function EJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MJ(t,e){return t.button===0&&(!e||e==="_self")&&!EJ(t)}var tv=null;function DJ(){if(tv===null)try{new FormData(document.createElement("form"),0),tv=!1}catch{tv=!0}return tv}var RJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mj(t){return t!=null&&!RJ.has(t)?(is(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$v}"`),null):t}function IJ(t,e){let r,n,i,s,o;if(TJ(t)){let l=t.getAttribute("action");n=l?ro(l,e):null,r=t.getAttribute("method")||Fv,i=mj(t.getAttribute("enctype"))||$v,s=new FormData(t)}else if(kJ(t)||AJ(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?ro(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Fv,i=mj(t.getAttribute("formenctype"))||mj(l.getAttribute("enctype"))||$v,s=new FormData(l,t),!DJ()){let{name:d,type:f,value:h}=t;if(f==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,h)}}else{if(Gx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Fv,n=null,i=$v,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function AP(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LJ(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&ro(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function zJ(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FJ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $J(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await zJ(s,r);return o.links?o.links():[]}return[]}));return UJ(n.flat(1).filter(FJ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rM(t,e,r,n,i,s){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>r[d].pathname!==c.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function BJ(t,e,{includeHydrateFallback:r}={}){return HJ(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function HJ(t){return[...new Set(t)]}function WJ(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function UJ(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(WJ(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function X3(){let t=w.useContext(Hd);return AP(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qJ(){let t=w.useContext(Vx);return AP(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var EP=w.createContext(void 0);EP.displayName="FrameworkContext";function Y3(){let t=w.useContext(EP);return AP(t,"You must render this element inside a <HydratedRouter> element"),t}function VJ(t,e){let r=w.useContext(EP),[n,i]=w.useState(!1),[s,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=e,m=w.useRef(null);w.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=b=>{b.forEach(S=>{o(S.isIntersecting)})},y=new IntersectionObserver(x,{threshold:.5});return m.current&&y.observe(m.current),()=>{y.disconnect()}}},[t]),w.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{i(!0)},j=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,m,{}]:[s,m,{onFocus:rh(l,g),onBlur:rh(c,j),onMouseEnter:rh(d,g),onMouseLeave:rh(f,j),onTouchStart:rh(h,g)}]:[!1,m,{}]}function rh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function GJ({page:t,...e}){let{router:r}=X3(),n=w.useMemo(()=>F3(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?w.createElement(YJ,{page:t,matches:n,...e}):null}function XJ(t){let{manifest:e,routeModules:r}=Y3(),[n,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return $J(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function YJ({page:t,matches:e,...r}){let n=fi(),{manifest:i,routeModules:s}=Y3(),{basename:o}=X3(),{loaderData:l,matches:c}=qJ(),d=w.useMemo(()=>rM(t,e,c,i,n,"data"),[t,e,c,i,n]),f=w.useMemo(()=>rM(t,e,c,i,n,"assets"),[t,e,c,i,n]),h=w.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let j=new Set,x=!1;if(e.forEach(b=>{let S=i.routes[b.route.id];!S||!S.hasLoader||(!d.some(O=>O.route.id===b.route.id)&&b.route.id in l&&s[b.route.id]?.shouldRevalidate||S.hasClientLoader?x=!0:j.add(b.route.id))}),j.size===0)return[];let y=LJ(t,o,"data");return x&&j.size>0&&y.searchParams.set("_routes",e.filter(b=>j.has(b.route.id)).map(b=>b.route.id).join(",")),[y.pathname+y.search]},[o,l,n,i,d,e,t,s]),m=w.useMemo(()=>BJ(f,i),[f,i]),g=XJ(f);return w.createElement(w.Fragment,null,h.map(j=>w.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),m.map(j=>w.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),g.map(({key:j,link:x})=>w.createElement("link",{key:j,nonce:r.nonce,...x})))}function KJ(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var K3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K3&&(window.__reactRouterVersion="7.9.6")}catch{}function JJ({basename:t,children:e,window:r}){let n=w.useRef();n.current==null&&(n.current=LK({window:r,v5Compat:!0}));let i=n.current,[s,o]=w.useState({action:i.action,location:i.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>i.listen(l),[i,l]),w.createElement(OJ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var J3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=w.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:h,...m},g){let{basename:j}=w.useContext(Hs),x=typeof d=="string"&&J3.test(d),y,b=!1;if(typeof d=="string"&&x&&(y=d,K3))try{let M=new URL(window.location.href),D=d.startsWith("//")?new URL(M.protocol+d):new URL(d),L=ro(D.pathname,j);D.origin===M.origin&&L!=null?d=L+D.search+D.hash:b=!0}catch{is(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=dJ(d,{relative:i}),[O,P,C]=VJ(n,m),_=tZ(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:h});function k(M){e&&e(M),M.defaultPrevented||_(M)}let A=w.createElement("a",{...m,...C,href:y||S,onClick:b||s?e:k,ref:KJ(g,P),target:c,"data-discover":!x&&r==="render"?"true":void 0});return O&&!x?w.createElement(w.Fragment,null,A,w.createElement(GJ,{page:S})):A});Or.displayName="Link";var ZJ=w.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},f){let h=dm(o,{relative:d.relative}),m=fi(),g=w.useContext(Vx),{navigator:j,basename:x}=w.useContext(Hs),y=g!=null&&aZ(h)&&l===!0,b=j.encodeLocation?j.encodeLocation(h).pathname:h.pathname,S=m.pathname,O=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(S=S.toLowerCase(),O=O?O.toLowerCase():null,b=b.toLowerCase()),O&&x&&(O=ro(O,x)||O);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let C=S===b||!i&&S.startsWith(b)&&S.charAt(P)==="/",_=O!=null&&(O===b||!i&&O.startsWith(b)&&O.charAt(b.length)==="/"),k={isActive:C,isPending:_,isTransitioning:y},A=C?e:void 0,M;typeof n=="function"?M=n(k):M=[n,C?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(k):s;return w.createElement(Or,{...d,"aria-current":A,className:M,ref:f,style:D,to:o,viewTransition:l},typeof c=="function"?c(k):c)});ZJ.displayName="NavLink";var QJ=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=Fv,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:h,...m},g)=>{let j=iZ(),x=sZ(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&J3.test(l),S=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let P=O.nativeEvent.submitter,C=P?.getAttribute("formmethod")||o;j(P||O.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:h})};return w.createElement("form",{ref:g,method:y,action:x,onSubmit:n?c:S,...m,"data-discover":!b&&t==="render"?"true":void 0})});QJ.displayName="Form";function eZ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z3(t){let e=w.useContext(Hd);return pr(e,eZ(t)),e}function tZ(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=kr(),c=fi(),d=dm(t,{relative:s});return w.useCallback(f=>{if(MJ(f,e)){f.preventDefault();let h=r!==void 0?r:cp(c)===cp(d);l(t,{replace:h,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,r,n,e,t,i,s,o])}var rZ=0,nZ=()=>`__${String(++rZ)}__`;function iZ(){let{router:t}=Z3("useSubmit"),{basename:e}=w.useContext(Hs),r=jJ();return w.useCallback(async(n,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=IJ(n,e);if(i.navigate===!1){let f=i.fetcherKey||nZ();await t.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function sZ(t,{relative:e}={}){let{basename:r}=w.useContext(Hs),n=w.useContext(Ws);pr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...dm(t||".",{relative:e})},o=fi();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ya([r,s.pathname])),cp(s)}function aZ(t,{relative:e}={}){let r=w.useContext(W3);pr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Z3("useViewTransitionState"),i=dm(t,{relative:e});if(!r.isTransitioning)return!1;let s=ro(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ro(r.nextLocation.pathname,n)||r.nextLocation.pathname;return iy(i.pathname,o)!=null||iy(i.pathname,s)!=null}var aa=s3();const Q3=zt(aa),e$=w.createContext(void 0),vu="";function oZ({children:t,onOpenLoginModal:e}){const[r,n]=w.useState(!1),[i,s]=w.useState(null),[o,l]=w.useState(!0),c=async(g,j)=>{try{const x=await fetch(`${vu}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:g,password:j})}),y=await x.json().catch(()=>({}));return x.ok?(s(y.user),n(!0),{success:!0,user:y.user,isAdmin:y.user?.role==="admin"}):{success:!1,error:y.error||"Login failed"}}catch{return{success:!1,error:"Network error"}}},d=async(g,j,x,y)=>{try{const b=await fetch(`${vu}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:g,email:j,phone:x,password:y})}),S=await b.json().catch(()=>({}));return b.ok?(s(S.user),n(!0),{success:!0,user:S.user}):{success:!1,error:S.error||"Signup failed"}}catch{return{success:!1,error:"Network error"}}},f=async()=>{try{await fetch(`${vu}/auth/logout`,{method:"POST",credentials:"include"})}catch{}s(null),n(!1)},h=g=>{r?g():e()},m=()=>{e()};return w.useEffect(()=>{(async()=>{try{l(!0);let j=await fetch(`${vu}/auth/me`,{method:"GET",credentials:"include"});if(!j.ok&&j.status===401&&(await fetch(`${vu}/auth/refresh`,{method:"POST",credentials:"include"})).ok&&(j=await fetch(`${vu}/auth/me`,{method:"GET",credentials:"include"})),j.ok){const x=await j.json();x?.user&&(s(x.user),n(!0))}}catch{}finally{l(!1)}})()},[]),a.jsx(e$.Provider,{value:{isLoggedIn:r,user:i,isAdmin:i?.role==="admin",isHydrating:o,login:c,signup:d,logout:f,requireAuth:h,openLoginModal:m},children:t})}function hi(){const t=w.useContext(e$);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function lZ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const cZ=t=>{switch(t){case"success":return fZ;case"info":return pZ;case"warning":return hZ;case"error":return mZ;default:return null}},uZ=Array(12).fill(0),dZ=({visible:t,className:e})=>Y.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Y.createElement("div",{className:"sonner-spinner"},uZ.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vZ=()=>{const[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let u_=1;class yZ{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,s=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:u_++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:n}),{...c,...e,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=n!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],Y.isValidElement(d))s=!1,this.create({id:n,type:"default",message:d});else if(bZ(d)&&!d.ok){s=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,j=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...j})}else if(d instanceof Error){s=!1;const h=typeof r.error=="function"?await r.error(d):r.error,m=typeof r.description=="function"?await r.description(d):r.description,j=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...j})}else if(r.success!==void 0){s=!1;const h=typeof r.success=="function"?await r.success(d):r.success,m=typeof r.description=="function"?await r.description(d):r.description,j=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:m,...j})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){s=!1;const f=typeof r.error=="function"?await r.error(d):r.error,h=typeof r.description=="function"?await r.description(d):r.description,g=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=r?.id||u_++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const si=new yZ,xZ=(t,e)=>{const r=e?.id||u_++;return si.addToast({title:t,...e,id:r}),r},bZ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",wZ=xZ,jZ=()=>si.toasts,SZ=()=>si.getActiveToasts(),ve=Object.assign(wZ,{success:si.success,info:si.info,warning:si.warning,error:si.error,custom:si.custom,message:si.message,promise:si.promise,dismiss:si.dismiss,loading:si.loading},{getHistory:jZ,getToasts:SZ});lZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function rv(t){return t.label!==void 0}const CZ=3,NZ="24px",_Z="16px",nM=4e3,OZ=356,PZ=14,kZ=45,TZ=200;function ea(...t){return t.filter(Boolean).join(" ")}function AZ(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const EZ=t=>{var e,r,n,i,s,o,l,c,d;const{invert:f,toast:h,unstyled:m,interacting:g,setHeights:j,visibleToasts:x,heights:y,index:b,toasts:S,expanded:O,removeToast:P,defaultRichColors:C,closeButton:_,style:k,cancelButtonStyle:A,actionButtonStyle:M,className:D="",descriptionClassName:L="",duration:W,position:$,gap:H,expandByDefault:z,classNames:q,icons:E,closeButtonAriaLabel:U="Close toast"}=t,[B,I]=Y.useState(null),[F,G]=Y.useState(null),[Z,K]=Y.useState(!1),[ae,ie]=Y.useState(!1),[J,fe]=Y.useState(!1),[oe,ue]=Y.useState(!1),[de,le]=Y.useState(!1),[ke,Ne]=Y.useState(0),[Le,Ke]=Y.useState(0),De=Y.useRef(h.duration||W||nM),vt=Y.useRef(null),je=Y.useRef(null),ft=b===0,it=b+1<=x,st=h.type,Zt=h.dismissible!==!1,yn=h.className||"",br=h.descriptionClassName||"",gi=Y.useMemo(()=>y.findIndex(Xe=>Xe.toastId===h.id)||0,[y,h.id]),_t=Y.useMemo(()=>{var Xe;return(Xe=h.closeButton)!=null?Xe:_},[h.closeButton,_]),cr=Y.useMemo(()=>h.duration||W||nM,[h.duration,W]),xn=Y.useRef(0),Tt=Y.useRef(0),Ft=Y.useRef(0),Mn=Y.useRef(null),[vi,xo]=$.split("-"),Yn=Y.useMemo(()=>y.reduce((Xe,Ot,Pt)=>Pt>=gi?Xe:Xe+Ot.height,0),[y,gi]),cs=vZ(),Dn=h.invert||f,Ri=st==="loading";Tt.current=Y.useMemo(()=>gi*H+Yn,[gi,Yn]),Y.useEffect(()=>{De.current=cr},[cr]),Y.useEffect(()=>{K(!0)},[]),Y.useEffect(()=>{const Xe=je.current;if(Xe){const Ot=Xe.getBoundingClientRect().height;return Ke(Ot),j(Pt=>[{toastId:h.id,height:Ot,position:h.position},...Pt]),()=>j(Pt=>Pt.filter(mt=>mt.toastId!==h.id))}},[j,h.id]),Y.useLayoutEffect(()=>{if(!Z)return;const Xe=je.current,Ot=Xe.style.height;Xe.style.height="auto";const Pt=Xe.getBoundingClientRect().height;Xe.style.height=Ot,Ke(Pt),j(mt=>mt.find(Ut=>Ut.toastId===h.id)?mt.map(Ut=>Ut.toastId===h.id?{...Ut,height:Pt}:Ut):[{toastId:h.id,height:Pt,position:h.position},...mt])},[Z,h.title,h.description,j,h.id,h.jsx,h.action,h.cancel]);const Rn=Y.useCallback(()=>{ie(!0),Ne(Tt.current),j(Xe=>Xe.filter(Ot=>Ot.toastId!==h.id)),setTimeout(()=>{P(h)},TZ)},[h,P,j,Tt]);Y.useEffect(()=>{if(h.promise&&st==="loading"||h.duration===1/0||h.type==="loading")return;let Xe;return O||g||cs?(()=>{if(Ft.current<xn.current){const mt=new Date().getTime()-xn.current;De.current=De.current-mt}Ft.current=new Date().getTime()})():(()=>{De.current!==1/0&&(xn.current=new Date().getTime(),Xe=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Rn()},De.current))})(),()=>clearTimeout(Xe)},[O,g,h,st,cs,Rn]),Y.useEffect(()=>{h.delete&&(Rn(),h.onDismiss==null||h.onDismiss.call(h,h))},[Rn,h.delete]);function Vs(){var Xe;if(E?.loading){var Ot;return Y.createElement("div",{className:ea(q?.loader,h==null||(Ot=h.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":st==="loading"},E.loading)}return Y.createElement(dZ,{className:ea(q?.loader,h==null||(Xe=h.classNames)==null?void 0:Xe.loader),visible:st==="loading"})}const Ii=h.icon||E?.[st]||cZ(st);var Wt,xt;return Y.createElement("li",{tabIndex:0,ref:je,className:ea(D,yn,q?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,q?.default,q?.[st],h==null||(r=h.classNames)==null?void 0:r[st]),"data-sonner-toast":"","data-rich-colors":(Wt=h.richColors)!=null?Wt:C,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":Z,"data-promise":!!h.promise,"data-swiped":de,"data-removed":ae,"data-visible":it,"data-y-position":vi,"data-x-position":xo,"data-index":b,"data-front":ft,"data-swiping":J,"data-dismissible":Zt,"data-type":st,"data-invert":Dn,"data-swipe-out":oe,"data-swipe-direction":F,"data-expanded":!!(O||z&&Z),"data-testid":h.testId,style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${ae?ke:Tt.current}px`,"--initial-height":z?"auto":`${Le}px`,...k,...h.style},onDragEnd:()=>{fe(!1),I(null),Mn.current=null},onPointerDown:Xe=>{Xe.button!==2&&(Ri||!Zt||(vt.current=new Date,Ne(Tt.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(fe(!0),Mn.current={x:Xe.clientX,y:Xe.clientY})))},onPointerUp:()=>{var Xe,Ot,Pt;if(oe||!Zt)return;Mn.current=null;const mt=Number(((Xe=je.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cr=Number(((Ot=je.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((Pt=vt.current)==null?void 0:Pt.getTime()),bt=B==="x"?mt:Cr,Tr=Math.abs(bt)/Ut;if(Math.abs(bt)>=kZ||Tr>.11){Ne(Tt.current),h.onDismiss==null||h.onDismiss.call(h,h),G(B==="x"?mt>0?"right":"left":Cr>0?"down":"up"),Rn(),ue(!0);return}else{var Rt,Xt;(Rt=je.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(Xt=je.current)==null||Xt.style.setProperty("--swipe-amount-y","0px")}le(!1),fe(!1),I(null)},onPointerMove:Xe=>{var Ot,Pt,mt;if(!Mn.current||!Zt||((Ot=window.getSelection())==null?void 0:Ot.toString().length)>0)return;const Ut=Xe.clientY-Mn.current.y,bt=Xe.clientX-Mn.current.x;var Tr;const Rt=(Tr=t.swipeDirections)!=null?Tr:AZ($);!B&&(Math.abs(bt)>1||Math.abs(Ut)>1)&&I(Math.abs(bt)>Math.abs(Ut)?"x":"y");let Xt={x:0,y:0};const en=Nr=>1/(1.5+Math.abs(Nr)/20);if(B==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&Ut<0||Rt.includes("bottom")&&Ut>0)Xt.y=Ut;else{const Nr=Ut*en(Ut);Xt.y=Math.abs(Nr)<Math.abs(Ut)?Nr:Ut}}else if(B==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&bt<0||Rt.includes("right")&&bt>0)Xt.x=bt;else{const Nr=bt*en(bt);Xt.x=Math.abs(Nr)<Math.abs(bt)?Nr:bt}(Math.abs(Xt.x)>0||Math.abs(Xt.y)>0)&&le(!0),(Pt=je.current)==null||Pt.style.setProperty("--swipe-amount-x",`${Xt.x}px`),(mt=je.current)==null||mt.style.setProperty("--swipe-amount-y",`${Xt.y}px`)}},_t&&!h.jsx&&st!=="loading"?Y.createElement("button",{"aria-label":U,"data-disabled":Ri,"data-close-button":!0,onClick:Ri||!Zt?()=>{}:()=>{Rn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:ea(q?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(xt=E?.close)!=null?xt:gZ):null,(st||h.icon||h.promise)&&h.icon!==null&&(E?.[st]!==null||h.icon)?Y.createElement("div",{"data-icon":"",className:ea(q?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Vs():null,h.type!=="loading"?Ii:null):null,Y.createElement("div",{"data-content":"",className:ea(q?.content,h==null||(s=h.classNames)==null?void 0:s.content)},Y.createElement("div",{"data-title":"",className:ea(q?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Y.createElement("div",{"data-description":"",className:ea(L,br,q?.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),Y.isValidElement(h.cancel)?h.cancel:h.cancel&&rv(h.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:Xe=>{rv(h.cancel)&&Zt&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Xe),Rn())},className:ea(q?.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,Y.isValidElement(h.action)?h.action:h.action&&rv(h.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:Xe=>{rv(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Xe),!Xe.defaultPrevented&&Rn())},className:ea(q?.actionButton,h==null||(d=h.classNames)==null?void 0:d.actionButton)},h.action.label):null)};function iM(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function MZ(t,e){const r={};return[t,e].forEach((n,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",l=s?_Z:NZ;function c(d){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}const DZ=Y.forwardRef(function(e,r){const{id:n,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:f,mobileOffset:h,theme:m="light",richColors:g,duration:j,style:x,visibleToasts:y=CZ,toastOptions:b,dir:S=iM(),gap:O=PZ,icons:P,containerAriaLabel:C="Notifications"}=e,[_,k]=Y.useState([]),A=Y.useMemo(()=>n?_.filter(Z=>Z.toasterId===n):_.filter(Z=>!Z.toasterId),[_,n]),M=Y.useMemo(()=>Array.from(new Set([s].concat(A.filter(Z=>Z.position).map(Z=>Z.position)))),[A,s]),[D,L]=Y.useState([]),[W,$]=Y.useState(!1),[H,z]=Y.useState(!1),[q,E]=Y.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=Y.useRef(null),B=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=Y.useRef(null),F=Y.useRef(!1),G=Y.useCallback(Z=>{k(K=>{var ae;return(ae=K.find(ie=>ie.id===Z.id))!=null&&ae.delete||si.dismiss(Z.id),K.filter(({id:ie})=>ie!==Z.id)})},[]);return Y.useEffect(()=>si.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{k(K=>K.map(ae=>ae.id===Z.id?{...ae,delete:!0}:ae))});return}setTimeout(()=>{Q3.flushSync(()=>{k(K=>{const ae=K.findIndex(ie=>ie.id===Z.id);return ae!==-1?[...K.slice(0,ae),{...K[ae],...Z},...K.slice(ae+1)]:[Z,...K]})})})}),[_]),Y.useEffect(()=>{if(m!=="system"){E(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:K})=>{E(K?"dark":"light")})}catch{Z.addListener(({matches:ae})=>{try{E(ae?"dark":"light")}catch(ie){console.error(ie)}})}},[m]),Y.useEffect(()=>{_.length<=1&&$(!1)},[_]),Y.useEffect(()=>{const Z=K=>{var ae;if(o.every(fe=>K[fe]||K.code===fe)){var J;$(!0),(J=U.current)==null||J.focus()}K.code==="Escape"&&(document.activeElement===U.current||(ae=U.current)!=null&&ae.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[o]),Y.useEffect(()=>{if(U.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,F.current=!1)}},[U.current]),Y.createElement("section",{ref:r,"aria-label":`${C} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((Z,K)=>{var ae;const[ie,J]=Z.split("-");return A.length?Y.createElement("ol",{key:Z,dir:S==="auto"?iM():S,tabIndex:-1,ref:U,className:d,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":ie,"data-x-position":J,style:{"--front-toast-height":`${((ae=D[0])==null?void 0:ae.height)||0}px`,"--width":`${OZ}px`,"--gap":`${O}px`,...x,...MZ(f,h)},onBlur:fe=>{F.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(F.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||F.current||(F.current=!0,I.current=fe.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{H||$(!1)},onDragEnd:()=>$(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},A.filter(fe=>!fe.position&&K===0||fe.position===Z).map((fe,oe)=>{var ue,de;return Y.createElement(EZ,{key:fe.id,icons:P,index:oe,toast:fe,defaultRichColors:g,duration:(ue=b?.duration)!=null?ue:j,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:i,visibleToasts:y,closeButton:(de=b?.closeButton)!=null?de:c,interacting:H,position:Z,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,closeButtonAriaLabel:b?.closeButtonAriaLabel,removeToast:G,toasts:A.filter(le=>le.position==fe.position),heights:D.filter(le=>le.position==fe.position),setHeights:L,expandByDefault:l,gap:O,expanded:W,swipeDirections:e.swipeDirections})})):null}))});function Ud({id:t,name:e,price:r,image:n,category:i,isNew:s,onAddToCart:o,onToggleFavorite:l,isFavorited:c=!1}){const[d,f]=w.useState(!1),{requireAuth:h}=hi(),m=kr(),g=()=>{h(()=>{l&&(l(t),ve.success(c?"Removed from favorites":"Added to favorites"))})},j=()=>{h(()=>{o(t),ve.success(`${e} added to cart!`)})},x=()=>{m(`/product/${t}`)};return a.jsxs("div",{className:"group relative overflow-hidden rounded-lg bg-white",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[a.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100 cursor-pointer",onClick:x,children:[a.jsx(Pi,{src:n,alt:e,className:"size-full object-cover transition-transform duration-500 group-hover:scale-105"}),a.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[s&&a.jsx(nt,{className:"bg-black text-white hover:bg-black/90",children:"New"}),i&&a.jsx(nt,{variant:"secondary",className:"bg-white/90 text-black",children:i})]}),a.jsx("button",{onClick:y=>{y.stopPropagation(),g()},className:"absolute top-3 right-3 flex size-9 items-center justify-center rounded-full bg-white/90 backdrop-blur transition-all hover:bg-white active:scale-95",children:a.jsx(Zu,{className:`size-4 transition-colors ${c?"fill-red-500 text-red-500":"text-gray-700"}`})}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 transition-all duration-300 ${d?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:a.jsxs(ee,{onClick:y=>{y.stopPropagation(),j()},className:"w-full bg-black text-white hover:bg-black/90 transition-transform active:scale-95",children:[a.jsx(fl,{className:"mr-2 size-4"}),"Add to Cart"]})})]}),a.jsxs("div",{className:"p-4 cursor-pointer",onClick:x,children:[a.jsx("h3",{className:"mb-1 line-clamp-1",children:e}),a.jsxs("p",{className:"text-gray-600",children:["",r.toFixed(2)]})]})]})}function RZ({onAddToCart:t,onToggleFavorite:e,favorites:r=[]}){const n=kr(),i=[{id:"1",name:"Classic White T-Shirt - Round Neck",price:200,image:"https://images.unsplash.com/photo-1636458939465-9209848a5688?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwbW9kZWwlMjB0c2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts",isNew:!0},{id:"2",name:"Varsity Jacket - Blue & White",price:600,image:"https://images.unsplash.com/photo-1761245332312-fddc4f0b5bab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2YXJzaXR5JTIwamFja2V0JTIwc3RyZWV0fGVufDF8fHx8MTc2Mjk3Nzk3OXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets",isNew:!0},{id:"3",name:"Oversized Hoodie - Premium Cotton",price:450,image:"https://images.unsplash.com/photo-1688111421205-a0a85415b224?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwaG9vZGllfGVufDF8fHx8MTc2Mjk1MjY5MHww&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies",isNew:!1},{id:"4",name:"Denim Jacket - Classic Blue",price:550,image:"https://images.unsplash.com/photo-1657349038547-b18a07fb4329?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZW5pbSUyMGphY2tldCUyMHN0eWxlfGVufDF8fHx8MTc2MjkzMjg2MXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets",isNew:!1}];return a.jsxs("div",{children:[a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:[a.jsx("div",{className:"container mx-auto px-4 py-20 md:py-32 md:px-6",children:a.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[a.jsx(nt,{className:"mb-4 bg-white/10 text-white hover:bg-white/20 cursor-pointer",onClick:()=>n("/new-arrivals"),children:"New Collection Available"}),a.jsx("h1",{className:"mb-6",children:"Choose & Design Your Own Clothing"}),a.jsx("p",{className:"mb-8 text-lg text-gray-300",children:"Express your unique style with our customizable clothing collection. Premium quality, affordable prices, and endless possibilities."}),a.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:a.jsxs(ee,{size:"lg",className:"bg-white text-black hover:bg-gray-100",onClick:()=>n("/custom-products"),children:["Customizable Clothing",a.jsx(nc,{className:"ml-2 size-4"})]})})]})}),a.jsx("div",{className:"absolute top-1/2 left-10 size-72 rounded-full bg-blue-500/10 blur-3xl"}),a.jsx("div",{className:"absolute bottom-10 right-10 size-96 rounded-full bg-purple-500/10 blur-3xl"})]}),a.jsxs("section",{className:"container mx-auto px-4 py-20 md:px-6",children:[a.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mb-2",children:"Featured Products"}),a.jsx("p",{className:"text-gray-600",children:"Discover our latest collection"})]}),a.jsxs(ee,{variant:"outline",onClick:()=>n("/new-arrivals"),children:["View All",a.jsx(nc,{className:"ml-2 size-4"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(s=>a.jsx(Ud,{...s,onAddToCart:t,onToggleFavorite:e,isFavorited:r.some(o=>o.id===s.id)},s.id))})]}),a.jsxs("section",{className:"container mx-auto px-4 py-20 md:px-6",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h2",{className:"mb-2",children:"Shop by Category"}),a.jsx("p",{className:"text-gray-600",children:"Explore our curated collections"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{onClick:()=>n("/men"),className:"group relative overflow-hidden rounded-lg cursor-pointer aspect-[3/4] bg-gray-100",children:[a.jsx(Pi,{src:"https://images.unsplash.com/flagged/photo-1552708068-ddef64d75aee?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBmYXNoaW9uJTIwY2xvdGhpbmd8ZW58MXx8fHwxNzYyOTg2MjE1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Men's Collection",className:"size-full object-cover transition-transform duration-500 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[a.jsx("h3",{className:"mb-2 text-white",children:"Men"}),a.jsx("p",{className:"text-sm text-white/80 mb-4",children:"Stylish & Comfortable"}),a.jsxs(ee,{className:"bg-white text-black hover:bg-white/90",children:["Shop Now",a.jsx(nc,{className:"ml-2 size-4"})]})]})]}),a.jsxs("div",{onClick:()=>n("/women"),className:"group relative overflow-hidden rounded-lg cursor-pointer aspect-[3/4] bg-gray-100",children:[a.jsx(Pi,{src:"https://images.unsplash.com/photo-1708363390847-b4af54f45273?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGZhc2hpb24lMjBzdHlsZXxlbnwxfHx8fDE3NjI5OTEwNTJ8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Women's Collection",className:"size-full object-cover transition-transform duration-500 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[a.jsx("h3",{className:"mb-2 text-white",children:"Women"}),a.jsx("p",{className:"text-sm text-white/80 mb-4",children:"Elegant & Trendy"}),a.jsxs(ee,{className:"bg-white text-black hover:bg-white/90",children:["Shop Now",a.jsx(nc,{className:"ml-2 size-4"})]})]})]}),a.jsxs("div",{onClick:()=>n("/kids"),className:"group relative overflow-hidden rounded-lg cursor-pointer aspect-[3/4] bg-gray-100",children:[a.jsx(Pi,{src:"https://images.unsplash.com/photo-1695263747144-a52aa3739d62?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxraWRzJTIwY2hpbGRyZW4lMjBmYXNoaW9ufGVufDF8fHx8MTc2Mjk5MTA1Mnww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Kids' Collection",className:"size-full object-cover transition-transform duration-500 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[a.jsx("h3",{className:"mb-2 text-white",children:"Kids"}),a.jsx("p",{className:"text-sm text-white/80 mb-4",children:"Fun & Playful"}),a.jsxs(ee,{className:"bg-white text-black hover:bg-white/90",children:["Shop Now",a.jsx(nc,{className:"ml-2 size-4"})]})]})]})]})]}),a.jsx("section",{className:"container mx-auto px-4 pb-20 md:px-6",children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 to-purple-600 p-8 md:p-12 text-white",children:[a.jsxs("div",{className:"relative z-10 max-w-2xl",children:[a.jsx("h2",{className:"mb-4 text-white",children:"Design Your Own Clothing"}),a.jsx("p",{className:"mb-6 text-lg text-white/90",children:"Create custom designs with our easy-to-use design tool. Choose your style, add graphics, and make it uniquely yours."}),a.jsxs(ee,{size:"lg",className:"bg-white text-black hover:bg-gray-100",onClick:()=>n("/custom-products"),children:["Start Designing",a.jsx(nc,{className:"ml-2 size-4"})]})]}),a.jsx("div",{className:"absolute right-0 top-0 size-full opacity-20",children:a.jsx(Pi,{src:"https://images.unsplash.com/photo-1636458939465-9209848a5688?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwbW9kZWwlMjB0c2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Design",className:"size-full object-cover"})})]})})]})}function Ee(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function IZ(t,e){const r=w.createContext(e),n=s=>{const{children:o,...l}=s,c=w.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=w.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function En(t,e=[]){let r=[];function n(s,o){const l=w.createContext(o),c=r.length;r=[...r,o];const d=h=>{const{scope:m,children:g,...j}=h,x=m?.[t]?.[c]||l,y=w.useMemo(()=>j,Object.values(j));return a.jsx(x.Provider,{value:y,children:g})};d.displayName=s+"Provider";function f(h,m){const g=m?.[t]?.[c]||l,j=w.useContext(g);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(o=>w.createContext(o));return function(l){const c=l?.[t]||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,LZ(i,...e)]}function LZ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(s)[`__scope${d}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var zr=globalThis?.document?w.useLayoutEffect:()=>{},zZ=wP[" useId ".trim().toString()]||(()=>{}),FZ=0;function rs(t){const[e,r]=w.useState(zZ());return zr(()=>{r(n=>n??String(FZ++))},[t]),t||(e?`radix-${e}`:"")}var $Z=wP[" useInsertionEffect ".trim().toString()]||zr;function ss({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=BZ({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const f=w.useRef(t!==void 0);w.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=w.useCallback(f=>{if(l){const h=HZ(f)?f(t):f;h!==t&&o.current?.(h)}else s(f)},[l,t,s,o]);return[c,d]}function BZ({defaultProp:t,onChange:e}){const[r,n]=w.useState(t),i=w.useRef(r),s=w.useRef(e);return $Z(()=>{s.current=e},[e]),w.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function HZ(t){return typeof t=="function"}function WZ(t){const e=UZ(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,l=w.Children.toArray(s),c=l.find(VZ);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function UZ(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=XZ(i),l=GZ(s,i.props);return i.type!==w.Fragment&&(l.ref=n?ba(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qZ=Symbol("radix.slottable");function VZ(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qZ}function GZ(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function XZ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var YZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=YZ.reduce((t,e)=>{const r=WZ(`Primitive.${e}`),n=w.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function t$(t,e){t&&aa.flushSync(()=>t.dispatchEvent(e))}function Ms(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>e.current?.(...r),[])}function KZ(t,e=globalThis?.document){const r=Ms(t);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var JZ="DismissableLayer",d_="dismissableLayer.update",ZZ="dismissableLayer.pointerDownOutside",QZ="dismissableLayer.focusOutside",sM,r$=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fm=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=w.useContext(r$),[f,h]=w.useState(null),m=f?.ownerDocument??globalThis?.document,[,g]=w.useState({}),j=ct(e,k=>h(k)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(y),S=f?x.indexOf(f):-1,O=d.layersWithOutsidePointerEventsDisabled.size>0,P=S>=b,C=rQ(k=>{const A=k.target,M=[...d.branches].some(D=>D.contains(A));!P||M||(i?.(k),o?.(k),k.defaultPrevented||l?.())},m),_=nQ(k=>{const A=k.target;[...d.branches].some(D=>D.contains(A))||(s?.(k),o?.(k),k.defaultPrevented||l?.())},m);return KZ(k=>{S===d.layers.size-1&&(n?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),w.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(sM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),aM(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=sM)}},[f,m,r,d]),w.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),aM())},[f,d]),w.useEffect(()=>{const k=()=>g({});return document.addEventListener(d_,k),()=>document.removeEventListener(d_,k)},[]),a.jsx(Ze.div,{...c,ref:j,style:{pointerEvents:O?P?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,_.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,C.onPointerDownCapture)})});fm.displayName=JZ;var eQ="DismissableLayerBranch",tQ=w.forwardRef((t,e)=>{const r=w.useContext(r$),n=w.useRef(null),i=ct(e,n);return w.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Ze.div,{...t,ref:i})});tQ.displayName=eQ;function rQ(t,e=globalThis?.document){const r=Ms(t),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){n$(ZZ,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function nQ(t,e=globalThis?.document){const r=Ms(t),n=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!n.current&&n$(QZ,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aM(){const t=new CustomEvent(d_);document.dispatchEvent(t)}function n$(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?t$(i,s):i.dispatchEvent(s)}var gj="focusScope.autoFocusOnMount",vj="focusScope.autoFocusOnUnmount",oM={bubbles:!1,cancelable:!0},iQ="FocusScope",hm=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=w.useState(null),d=Ms(i),f=Ms(s),h=w.useRef(null),m=ct(e,x=>c(x)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let x=function(O){if(g.paused||!l)return;const P=O.target;l.contains(P)?h.current=P:Wo(h.current,{select:!0})},y=function(O){if(g.paused||!l)return;const P=O.relatedTarget;P!==null&&(l.contains(P)||Wo(h.current,{select:!0}))},b=function(O){if(document.activeElement===document.body)for(const C of O)C.removedNodes.length>0&&Wo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const S=new MutationObserver(b);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),S.disconnect()}}},[n,l,g.paused]),w.useEffect(()=>{if(l){cM.add(g);const x=document.activeElement;if(!l.contains(x)){const b=new CustomEvent(gj,oM);l.addEventListener(gj,d),l.dispatchEvent(b),b.defaultPrevented||(sQ(uQ(i$(l)),{select:!0}),document.activeElement===x&&Wo(l))}return()=>{l.removeEventListener(gj,d),setTimeout(()=>{const b=new CustomEvent(vj,oM);l.addEventListener(vj,f),l.dispatchEvent(b),b.defaultPrevented||Wo(x??document.body,{select:!0}),l.removeEventListener(vj,f),cM.remove(g)},0)}}},[l,d,f,g]);const j=w.useCallback(x=>{if(!r&&!n||g.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,b=document.activeElement;if(y&&b){const S=x.currentTarget,[O,P]=aQ(S);O&&P?!x.shiftKey&&b===P?(x.preventDefault(),r&&Wo(O,{select:!0})):x.shiftKey&&b===O&&(x.preventDefault(),r&&Wo(P,{select:!0})):b===S&&x.preventDefault()}},[r,n,g.paused]);return a.jsx(Ze.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});hm.displayName=iQ;function sQ(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Wo(n,{select:e}),document.activeElement!==r)return}function aQ(t){const e=i$(t),r=lM(e,t),n=lM(e.reverse(),t);return[r,n]}function i$(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function lM(t,e){for(const r of t)if(!oQ(r,{upTo:e}))return r}function oQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lQ(t){return t instanceof HTMLInputElement&&"select"in t}function Wo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&lQ(t)&&e&&t.select()}}var cM=cQ();function cQ(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=uM(t,e),t.unshift(e)},remove(e){t=uM(t,e),t[0]?.resume()}}}function uM(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function uQ(t){return t.filter(e=>e.tagName!=="A")}var dQ="Portal",pm=w.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=w.useState(!1);zr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?Q3.createPortal(a.jsx(Ze.div,{...n,ref:e}),o):null});pm.displayName=dQ;function fQ(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var pi=t=>{const{present:e,children:r}=t,n=hQ(e),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),s=ct(n.ref,pQ(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:s}):null};pi.displayName="Presence";function hQ(t){const[e,r]=w.useState(),n=w.useRef(null),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[l,c]=fQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=nv(n.current);s.current=l==="mounted"?d:"none"},[l]),zr(()=>{const d=n.current,f=i.current;if(f!==t){const m=s.current,g=nv(d);t?c("MOUNT"):g==="none"||d?.display==="none"?c("UNMOUNT"):c(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),zr(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,h=g=>{const x=nv(n.current).includes(CSS.escape(g.animationName));if(g.target===e&&x&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=g=>{g.target===e&&(s.current=nv(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function nv(t){return t?.animationName||"none"}function pQ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var yj=0;function Xx(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??dM()),document.body.insertAdjacentElement("beforeend",t[1]??dM()),yj++,()=>{yj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yj--}},[])}function dM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ia=function(){return ia=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ia.apply(this,arguments)};function s$(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mQ(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Bv="right-scroll-bar-position",Hv="width-before-scroll-bar",gQ="with-scroll-bars-hidden",vQ="--removed-body-scroll-bar-size";function xj(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yQ(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var xQ=typeof window<"u"?w.useLayoutEffect:w.useEffect,fM=new WeakMap;function bQ(t,e){var r=yQ(null,function(n){return t.forEach(function(i){return xj(i,n)})});return xQ(function(){var n=fM.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||xj(l,null)}),s.forEach(function(l){i.has(l)||xj(l,o)})}fM.set(r,t)},[t]),r}function wQ(t){return t}function jQ(t,e){e===void 0&&(e=wQ);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return i}function SQ(t){t===void 0&&(t={});var e=jQ(null);return e.options=ia({async:!0,ssr:!1},t),e}var a$=function(t){var e=t.sideCar,r=s$(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,ia({},r))};a$.isSideCarExport=!0;function CQ(t,e){return t.useMedium(e),a$}var o$=SQ(),bj=function(){},Yx=w.forwardRef(function(t,e){var r=w.useRef(null),n=w.useState({onScrollCapture:bj,onWheelCapture:bj,onTouchMoveCapture:bj}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,j=t.noIsolation,x=t.inert,y=t.allowPinchZoom,b=t.as,S=b===void 0?"div":b,O=t.gapMode,P=s$(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,_=bQ([r,e]),k=ia(ia({},P),i);return w.createElement(w.Fragment,null,f&&w.createElement(C,{sideCar:o$,removeScrollBar:d,shards:h,noRelative:g,noIsolation:j,inert:x,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:O}),o?w.cloneElement(w.Children.only(l),ia(ia({},k),{ref:_})):w.createElement(S,ia({},k,{className:c,ref:_}),l))});Yx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yx.classNames={fullWidth:Hv,zeroRight:Bv};var NQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _Q(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NQ();return e&&t.setAttribute("nonce",e),t}function OQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function PQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kQ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=_Q())&&(OQ(e,r),PQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TQ=function(){var t=kQ();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},l$=function(){var t=TQ(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},AQ={left:0,top:0,right:0,gap:0},wj=function(t){return parseInt(t||"",10)||0},EQ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[wj(r),wj(n),wj(i)]},MQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return AQ;var e=EQ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},DQ=l$(),Fu="data-scroll-locked",RQ=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(gQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Fu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Bv," .").concat(Bv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hv," .").concat(Hv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fu,`] {
    `).concat(vQ,": ").concat(l,`px;
  }
`)},hM=function(){var t=parseInt(document.body.getAttribute(Fu)||"0",10);return isFinite(t)?t:0},IQ=function(){w.useEffect(function(){return document.body.setAttribute(Fu,(hM()+1).toString()),function(){var t=hM()-1;t<=0?document.body.removeAttribute(Fu):document.body.setAttribute(Fu,t.toString())}},[])},LQ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;IQ();var s=w.useMemo(function(){return MQ(i)},[i]);return w.createElement(DQ,{styles:RQ(s,!e,i,r?"":"!important")})},f_=!1;if(typeof window<"u")try{var iv=Object.defineProperty({},"passive",{get:function(){return f_=!0,!0}});window.addEventListener("test",iv,iv),window.removeEventListener("test",iv,iv)}catch{f_=!1}var yu=f_?{passive:!1}:!1,zQ=function(t){return t.tagName==="TEXTAREA"},c$=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!zQ(t)&&r[e]==="visible")},FQ=function(t){return c$(t,"overflowY")},$Q=function(t){return c$(t,"overflowX")},pM=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=u$(t,n);if(i){var s=d$(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},BQ=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},HQ=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},u$=function(t,e){return t==="v"?FQ(e):$Q(e)},d$=function(t,e){return t==="v"?BQ(e):HQ(e)},WQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},UQ=function(t,e,r,n,i){var s=WQ(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),d=!1,f=o>0,h=0,m=0;do{if(!l)break;var g=d$(t,l),j=g[0],x=g[1],y=g[2],b=x-y-s*j;(j||b)&&u$(t,l)&&(h+=b,m+=j);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},sv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},mM=function(t){return[t.deltaX,t.deltaY]},gM=function(t){return t&&"current"in t?t.current:t},qQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},VQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},GQ=0,xu=[];function XQ(t){var e=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(GQ++)[0],s=w.useState(l$)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=mQ([t.lockRef.current],(t.shards||[]).map(gM),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=w.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var b=sv(x),S=r.current,O="deltaX"in x?x.deltaX:S[0]-b[0],P="deltaY"in x?x.deltaY:S[1]-b[1],C,_=x.target,k=Math.abs(O)>Math.abs(P)?"h":"v";if("touches"in x&&k==="h"&&_.type==="range")return!1;var A=pM(k,_);if(!A)return!0;if(A?C=k:(C=k==="v"?"h":"v",A=pM(k,_)),!A)return!1;if(!n.current&&"changedTouches"in x&&(O||P)&&(n.current=C),!C)return!0;var M=n.current||C;return UQ(M,y,x,M==="h"?O:P)},[]),c=w.useCallback(function(x){var y=x;if(!(!xu.length||xu[xu.length-1]!==s)){var b="deltaY"in y?mM(y):sv(y),S=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&qQ(C.delta,b)})[0];if(S&&S.should){y.cancelable&&y.preventDefault();return}if(!S){var O=(o.current.shards||[]).map(gM).filter(Boolean).filter(function(C){return C.contains(y.target)}),P=O.length>0?l(y,O[0]):!o.current.noIsolation;P&&y.cancelable&&y.preventDefault()}}},[]),d=w.useCallback(function(x,y,b,S){var O={name:x,delta:y,target:b,should:S,shadowParent:YQ(b)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(P){return P!==O})},1)},[]),f=w.useCallback(function(x){r.current=sv(x),n.current=void 0},[]),h=w.useCallback(function(x){d(x.type,mM(x),x.target,l(x,t.lockRef.current))},[]),m=w.useCallback(function(x){d(x.type,sv(x),x.target,l(x,t.lockRef.current))},[]);w.useEffect(function(){return xu.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,yu),document.addEventListener("touchmove",c,yu),document.addEventListener("touchstart",f,yu),function(){xu=xu.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,yu),document.removeEventListener("touchmove",c,yu),document.removeEventListener("touchstart",f,yu)}},[]);var g=t.removeScrollBar,j=t.inert;return w.createElement(w.Fragment,null,j?w.createElement(s,{styles:VQ(i)}):null,g?w.createElement(LQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const KQ=CQ(o$,XQ);var mm=w.forwardRef(function(t,e){return w.createElement(Yx,ia({},t,{ref:e,sideCar:KQ}))});mm.classNames=Yx.classNames;var JQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bu=new WeakMap,av=new WeakMap,ov={},jj=0,f$=function(t){return t&&(t.host||f$(t.parentNode))},ZQ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=f$(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},QQ=function(t,e,r,n){var i=ZQ(e,Array.isArray(t)?t:[t]);ov[r]||(ov[r]=new WeakMap);var s=ov[r],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var g=m.getAttribute(n),j=g!==null&&g!=="false",x=(bu.get(m)||0)+1,y=(s.get(m)||0)+1;bu.set(m,x),s.set(m,y),o.push(m),x===1&&j&&av.set(m,!0),y===1&&m.setAttribute(r,"true"),j||m.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return f(e),l.clear(),jj++,function(){o.forEach(function(h){var m=bu.get(h)-1,g=s.get(h)-1;bu.set(h,m),s.set(h,g),m||(av.has(h)||h.removeAttribute(n),av.delete(h)),g||h.removeAttribute(r)}),jj--,jj||(bu=new WeakMap,bu=new WeakMap,av=new WeakMap,ov={})}},Kx=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=JQ(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),QQ(n,i,r,"aria-hidden")):function(){return null}};function eee(t){const e=tee(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,l=w.Children.toArray(s),c=l.find(nee);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function tee(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=see(i),l=iee(s,i.props);return i.type!==w.Fragment&&(l.ref=n?ba(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ree=Symbol("radix.slottable");function nee(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ree}function iee(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function see(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Jx="Dialog",[h$,p$]=En(Jx),[aee,Us]=h$(Jx),m$=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=w.useRef(null),c=w.useRef(null),[d,f]=ss({prop:n,defaultProp:i??!1,onChange:s,caller:Jx});return a.jsx(aee,{scope:e,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:o,children:r})};m$.displayName=Jx;var g$="DialogTrigger",v$=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Us(g$,r),s=ct(e,i.triggerRef);return a.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":RP(i.open),...n,ref:s,onClick:Ee(t.onClick,i.onOpenToggle)})});v$.displayName=g$;var MP="DialogPortal",[oee,y$]=h$(MP,{forceMount:void 0}),x$=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Us(MP,e);return a.jsx(oee,{scope:e,forceMount:r,children:w.Children.map(n,o=>a.jsx(pi,{present:r||s.open,children:a.jsx(pm,{asChild:!0,container:i,children:o})}))})};x$.displayName=MP;var sy="DialogOverlay",b$=w.forwardRef((t,e)=>{const r=y$(sy,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Us(sy,t.__scopeDialog);return s.modal?a.jsx(pi,{present:n||s.open,children:a.jsx(cee,{...i,ref:e})}):null});b$.displayName=sy;var lee=eee("DialogOverlay.RemoveScroll"),cee=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Us(sy,r);return a.jsx(mm,{as:lee,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Ze.div,{"data-state":RP(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),wc="DialogContent",w$=w.forwardRef((t,e)=>{const r=y$(wc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Us(wc,t.__scopeDialog);return a.jsx(pi,{present:n||s.open,children:s.modal?a.jsx(uee,{...i,ref:e}):a.jsx(dee,{...i,ref:e})})});w$.displayName=wc;var uee=w.forwardRef((t,e)=>{const r=Us(wc,t.__scopeDialog),n=w.useRef(null),i=ct(e,r.contentRef,n);return w.useEffect(()=>{const s=n.current;if(s)return Kx(s)},[]),a.jsx(j$,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,s=>s.preventDefault())})}),dee=w.forwardRef((t,e)=>{const r=Us(wc,t.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return a.jsx(j$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),j$=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Us(wc,r),c=w.useRef(null),d=ct(e,c);return Xx(),a.jsxs(a.Fragment,{children:[a.jsx(hm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(fm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":RP(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(hee,{titleId:l.titleId}),a.jsx(mee,{contentRef:c,descriptionId:l.descriptionId})]})]})}),DP="DialogTitle",S$=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Us(DP,r);return a.jsx(Ze.h2,{id:i.titleId,...n,ref:e})});S$.displayName=DP;var C$="DialogDescription",N$=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Us(C$,r);return a.jsx(Ze.p,{id:i.descriptionId,...n,ref:e})});N$.displayName=C$;var _$="DialogClose",O$=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Us(_$,r);return a.jsx(Ze.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,()=>i.onOpenChange(!1))})});O$.displayName=_$;function RP(t){return t?"open":"closed"}var P$="DialogTitleWarning",[fee,k$]=IZ(P$,{contentName:wc,titleName:DP,docsSlug:"dialog"}),hee=({titleId:t})=>{const e=k$(P$),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},pee="DialogDescriptionWarning",mee=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${k$(pee).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},IP=m$,gee=v$,LP=x$,gm=b$,zP=w$,FP=S$,$P=N$,Zx=O$;function Qx({...t}){return a.jsx(IP,{"data-slot":"sheet",...t})}function vee({...t}){return a.jsx(LP,{"data-slot":"sheet-portal",...t})}const T$=w.forwardRef(({className:t,...e},r)=>a.jsx(gm,{ref:r,"data-slot":"sheet-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));T$.displayName=gm.displayName;function e0({className:t,children:e,side:r="right",...n}){return a.jsxs(vee,{children:[a.jsx(T$,{}),a.jsxs(zP,{"data-slot":"sheet-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,a.jsxs(Zx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(Ct,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function BP({className:t,...e}){return a.jsx("div",{"data-slot":"sheet-header",className:Je("flex flex-col gap-1.5 p-4",t),...e})}function t0({className:t,...e}){return a.jsx(FP,{"data-slot":"sheet-title",className:Je("text-foreground font-semibold",t),...e})}function r0({className:t,...e}){return a.jsx($P,{"data-slot":"sheet-description",className:Je("text-muted-foreground text-sm",t),...e})}function ay(t,[e,r]){return Math.min(r,Math.max(e,t))}var yee=w.createContext(void 0);function qd(t){const e=w.useContext(yee);return t||e||"ltr"}function vm(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function ym(t){const[e,r]=w.useState(void 0);return zr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function vM(t){const e=xee(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,l=w.Children.toArray(s),c=l.find(wee);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function xee(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=See(i),l=jee(s,i.props);return i.type!==w.Fragment&&(l.ref=n?ba(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bee=Symbol("radix.slottable");function wee(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bee}function jee(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function See(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function n0(t){const e=t+"CollectionProvider",[r,n]=En(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:b}=x,S=Y.useRef(null),O=Y.useRef(new Map).current;return a.jsx(i,{scope:y,itemMap:O,collectionRef:S,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=vM(l),d=Y.forwardRef((x,y)=>{const{scope:b,children:S}=x,O=s(l,b),P=ct(y,O.collectionRef);return a.jsx(c,{ref:P,children:S})});d.displayName=l;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=vM(f),g=Y.forwardRef((x,y)=>{const{scope:b,children:S,...O}=x,P=Y.useRef(null),C=ct(y,P),_=s(f,b);return Y.useEffect(()=>(_.itemMap.set(P,{ref:P,...O}),()=>void _.itemMap.delete(P))),a.jsx(m,{[h]:"",ref:C,children:S})});g.displayName=f;function j(x){const y=s(t+"CollectionConsumer",x);return Y.useCallback(()=>{const S=y.collectionRef.current;if(!S)return[];const O=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((_,k)=>O.indexOf(_.ref.current)-O.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},j,n]}var A$=["PageUp","PageDown"],E$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],M$={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Vd="Slider",[h_,Cee,Nee]=n0(Vd),[D$]=En(Vd,[Nee]),[_ee,i0]=D$(Vd),R$=w.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:j,...x}=t,y=w.useRef(new Set),b=w.useRef(0),O=o==="horizontal"?Oee:Pee,[P=[],C]=ss({prop:f,defaultProp:d,onChange:L=>{[...y.current][b.current]?.focus(),h(L)}}),_=w.useRef(P);function k(L){const W=Mee(P,L);D(L,W)}function A(L){D(L,b.current)}function M(){const L=_.current[b.current];P[b.current]!==L&&m(P)}function D(L,W,{commit:$}={commit:!1}){const H=Lee(s),z=zee(Math.round((L-n)/s)*s+n,H),q=ay(z,[n,i]);C((E=[])=>{const U=Aee(E,q,W);if(Iee(U,c*s)){b.current=U.indexOf(q);const B=String(U)!==String(E);return B&&$&&m(U),B?U:E}else return E})}return a.jsx(_ee,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:b,thumbs:y.current,values:P,orientation:o,form:j,children:a.jsx(h_.Provider,{scope:t.__scopeSlider,children:a.jsx(h_.Slot,{scope:t.__scopeSlider,children:a.jsx(O,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:Ee(x.onPointerDown,()=>{l||(_.current=P)}),min:n,max:i,inverted:g,onSlideStart:l?void 0:k,onSlideMove:l?void 0:A,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&D(n,0,{commit:!0}),onEndKeyDown:()=>!l&&D(i,P.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:W})=>{if(!l){const z=A$.includes(L.key)||L.shiftKey&&E$.includes(L.key)?10:1,q=b.current,E=P[q],U=s*z*W;D(E+U,q,{commit:!0})}}})})})})});R$.displayName=Vd;var[I$,L$]=D$(Vd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Oee=w.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[h,m]=w.useState(null),g=ct(e,O=>m(O)),j=w.useRef(void 0),x=qd(i),y=x==="ltr",b=y&&!s||!y&&s;function S(O){const P=j.current||h.getBoundingClientRect(),C=[0,P.width],k=HP(C,b?[r,n]:[n,r]);return j.current=P,k(O-P.left)}return a.jsx(I$,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:a.jsx(z$,{dir:x,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:O=>{const P=S(O.clientX);o?.(P)},onSlideMove:O=>{const P=S(O.clientX);l?.(P)},onSlideEnd:()=>{j.current=void 0,c?.()},onStepKeyDown:O=>{const C=M$[b?"from-left":"from-right"].includes(O.key);d?.({event:O,direction:C?-1:1})}})})}),Pee=w.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=w.useRef(null),h=ct(e,f),m=w.useRef(void 0),g=!i;function j(x){const y=m.current||f.current.getBoundingClientRect(),b=[0,y.height],O=HP(b,g?[n,r]:[r,n]);return m.current=y,O(x-y.top)}return a.jsx(I$,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:a.jsx(z$,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const y=j(x.clientY);s?.(y)},onSlideMove:x=>{const y=j(x.clientY);o?.(y)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:x=>{const b=M$[g?"from-bottom":"from-top"].includes(x.key);c?.({event:x,direction:b?-1:1})}})})}),z$=w.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=i0(Vd,r);return a.jsx(Ze.span,{...d,ref:e,onKeyDown:Ee(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):A$.concat(E$).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Ee(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():n(h)}),onPointerMove:Ee(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Ee(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),s(h))})})}),F$="SliderTrack",$$=w.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=i0(F$,r);return a.jsx(Ze.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});$$.displayName=F$;var p_="SliderRange",B$=w.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=i0(p_,r),s=L$(p_,r),o=w.useRef(null),l=ct(e,o),c=i.values.length,d=i.values.map(m=>U$(m,i.min,i.max)),f=c>1?Math.min(...d):0,h=100-Math.max(...d);return a.jsx(Ze.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:h+"%"}})});B$.displayName=p_;var m_="SliderThumb",H$=w.forwardRef((t,e)=>{const r=Cee(t.__scopeSlider),[n,i]=w.useState(null),s=ct(e,l=>i(l)),o=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(kee,{...t,ref:s,index:o})}),kee=w.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,o=i0(m_,r),l=L$(m_,r),[c,d]=w.useState(null),f=ct(e,S=>d(S)),h=c?o.form||!!c.closest("form"):!0,m=ym(c),g=o.values[n],j=g===void 0?0:U$(g,o.min,o.max),x=Eee(n,o.values.length),y=m?.[l.size],b=y?Dee(y,j,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${j}% + ${b}px)`},children:[a.jsx(h_.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(Ze.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:Ee(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&a.jsx(W$,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},n)]})});H$.displayName=m_;var Tee="RadioBubbleInput",W$=w.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=w.useRef(null),s=ct(i,n),o=vm(e);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const h=new Event("input",{bubbles:!0});f.call(l,e),l.dispatchEvent(h)}},[o,e]),a.jsx(Ze.input,{style:{display:"none"},...r,ref:s,defaultValue:e})});W$.displayName=Tee;function Aee(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function U$(t,e,r){const s=100/(r-e)*(t-e);return ay(s,[0,100])}function Eee(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Mee(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Dee(t,e,r){const n=t/2,s=HP([0,50],[0,n]);return(n-s(e)*r)*r}function Ree(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Iee(t,e){if(e>0){const r=Ree(t);return Math.min(...r)>=e}return!0}function HP(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Lee(t){return(String(t).split(".")[1]||"").length}function zee(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var Fee=R$,$ee=$$,Bee=B$,Hee=H$;function el({className:t,defaultValue:e,value:r,min:n=0,max:i=100,...s}){const o=w.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[n,i],[r,e,n,i]);return a.jsxs(Fee,{"data-slot":"slider",defaultValue:e,value:r,min:n,max:i,className:Je("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...s,children:[a.jsx($ee,{"data-slot":"slider-track",className:Je("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:a.jsx(Bee,{"data-slot":"slider-range",className:Je("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(l,c)=>a.jsx(Hee,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}const Wee={},Uee=Wee.VITE_API_URL||"http://localhost:4000";function xm(t){const[e,r]=w.useState([]),[n,i]=w.useState(!0),[s,o]=w.useState(null);w.useEffect(()=>{l()},[t]);const l=async()=>{i(!0),o(null);try{const c=await fetch(`${Uee}/api/catalog-products`,{credentials:"include"});if(!c.ok)throw new Error("Failed to fetch products");let f=(await c.json()).filter(m=>m.status==="Active");t&&(f=f.filter(m=>m.gender===t));const h=f.map(m=>{const g=m.product_images?.find(y=>y.display_order===1),j=m.product_images?.sort((y,b)=>y.display_order-b.display_order).map(y=>y.image_url)||[],x=m.created_at?new Date().getTime()-new Date(m.created_at).getTime()<720*60*60*1e3:!1;return{id:String(m.product_id),name:m.product_name,price:parseFloat(m.base_price),image:g?.image_url||j[0]||"",images:j,category:m.category,description:m.description,gender:m.gender,sizes:m.sizes||[],material:m.material,isNew:x}});r(h)}catch(c){console.error("Error fetching catalog products:",c),o(c.message)}finally{i(!1)}};return{products:e,loading:n,error:s,refetch:l}}function qee({onAddToCart:t,onToggleFavorite:e,favorites:r}){const{products:n,loading:i}=xm(),[s,o]=w.useState(!1),[l,c]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([0,1e3]),g=w.useMemo(()=>n.filter(C=>C.isNew),[n]),j=w.useMemo(()=>{const C=new Set(g.map(_=>_.category));return Array.from(C).sort()},[g]),x=w.useMemo(()=>{const C=new Set(g.map(_=>_.gender||"Unisex"));return Array.from(C).sort()},[g]),y=w.useMemo(()=>g.filter(C=>!(l.length>0&&!l.includes(C.category)||d.length>0&&!d.includes(C.gender||"Unisex")||C.price<h[0]||C.price>h[1])),[l,d,h,g]),b=C=>{c(_=>_.includes(C)?_.filter(k=>k!==C):[..._,C])},S=C=>{f(_=>_.includes(C)?_.filter(k=>k!==C):[..._,C])},O=()=>{c([]),f([]),m([0,1e3])},P=l.length>0||d.length>0||h[0]!==0||h[1]!==1e3;return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-white border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"mb-2",children:"Catalog"}),a.jsx("p",{className:"text-gray-600",children:"Browse our complete collection of clothing for everyone."})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[y.length," products"]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[a.jsx(lm,{className:"mr-2 size-4"}),"Filters",P&&a.jsx("span",{className:"ml-2 inline-flex items-center justify-center size-5 rounded-full bg-black text-white text-xs",children:l.length+d.length})]})]})]})}),P&&a.jsx("section",{className:"bg-gray-50 border-b",children:a.jsx("div",{className:"container mx-auto px-4 py-4 md:px-6",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),d.map(C=>a.jsxs("button",{onClick:()=>S(C),className:"inline-flex items-center gap-1 px-3 py-1 bg-black text-white text-sm rounded-full hover:bg-gray-800 transition-colors",children:[C,a.jsx(Ct,{className:"size-3"})]},C)),l.map(C=>a.jsxs("button",{onClick:()=>b(C),className:"inline-flex items-center gap-1 px-3 py-1 bg-black text-white text-sm rounded-full hover:bg-gray-800 transition-colors",children:[C,a.jsx(Ct,{className:"size-3"})]},C)),(h[0]!==0||h[1]!==1e3)&&a.jsxs("button",{onClick:()=>m([0,1e3]),className:"inline-flex items-center gap-1 px-3 py-1 bg-black text-white text-sm rounded-full hover:bg-gray-800 transition-colors",children:["",h[0]," - ",h[1],a.jsx(Ct,{className:"size-3"})]}),a.jsx("button",{onClick:O,className:"text-sm text-gray-600 hover:text-black underline",children:"Clear all"})]})})}),a.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:y.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(C=>a.jsx(Ud,{...C,onAddToCart:t,onToggleFavorite:e,isFavorited:r?.some(_=>_.id===C.id)},C.id))}):a.jsxs("div",{className:"text-center py-20",children:[a.jsx("h3",{className:"mb-2",children:"No new arrivals found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters to see more results"}),a.jsx(ee,{onClick:O,children:"Clear all filters"})]})}),a.jsx(Qx,{open:s,onOpenChange:o,children:a.jsxs(e0,{side:"right",className:"w-full sm:max-w-md overflow-y-auto p-0 flex flex-col",children:[a.jsxs(BP,{className:"px-6 py-4 border-b",children:[a.jsx(t0,{className:"text-left",children:"Filters"}),a.jsx(r0,{className:"text-left",children:"Refine your search by selecting categories and price range"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"mb-3 text-sm uppercase tracking-wide text-gray-500",children:"Section"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(C=>a.jsx("button",{onClick:()=>S(C),className:`px-4 py-2 rounded-full border transition-all ${d.includes(C)?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:border-black"}`,children:C},C))})]}),a.jsxs("div",{className:"pt-2 border-t",children:[a.jsx("h4",{className:"mb-3 text-sm uppercase tracking-wide text-gray-500",children:"Category"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(C=>a.jsx("button",{onClick:()=>b(C),className:`px-4 py-2 rounded-full border transition-all ${l.includes(C)?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:border-black"}`,children:C},C))})]}),a.jsxs("div",{className:"pt-2 border-t",children:[a.jsx("h4",{className:"mb-3 text-sm uppercase tracking-wide text-gray-500",children:"Price Range"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Min"}),a.jsxs("div",{className:"px-4 py-2 border rounded-lg bg-gray-50",children:["",h[0]]})]}),a.jsx("div",{className:"px-3 text-gray-400",children:""}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Max"}),a.jsxs("div",{className:"px-4 py-2 border rounded-lg bg-gray-50",children:["",h[1]]})]})]}),a.jsx(el,{min:0,max:1e3,step:50,value:h,onValueChange:C=>m(C),className:"w-full"})]})]})]}),a.jsxs("div",{className:"border-t bg-white px-6 py-4 space-y-3",children:[a.jsxs(ee,{onClick:()=>{o(!1)},className:"w-full h-12",size:"lg",children:["Show ",y.length," ",y.length===1?"Product":"Products"]}),P&&a.jsx(ee,{onClick:O,variant:"outline",className:"w-full h-12",size:"lg",children:"Clear All Filters"})]})]})})]})}function Vee({onAddToCart:t,onToggleFavorite:e,favorites:r}){const{products:n,loading:i}=xm("Men");return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-white border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"mb-2",children:"Men's Collection"}),a.jsx("p",{className:"text-gray-600",children:"Discover stylish and comfortable clothing for every occasion."})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," products"]}),a.jsxs(ee,{variant:"outline",size:"sm",children:[a.jsx(lm,{className:"mr-2 size-4"}),"Filters"]})]})]})}),a.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(s=>a.jsx(Ud,{...s,onAddToCart:t},s.id))})})]})}function Gee({onAddToCart:t,onToggleFavorite:e,favorites:r=[]}){const{products:n,loading:i}=xm("Women");return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-white border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"mb-2",children:"Women's Collection"}),a.jsx("p",{className:"text-gray-600",children:"Elegant and trendy pieces curated just for you."})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," products"]}),a.jsxs(ee,{variant:"outline",size:"sm",children:[a.jsx(lm,{className:"mr-2 size-4"}),"Filters"]})]})]})}),a.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(s=>a.jsx(Ud,{...s,onAddToCart:t,onToggleFavorite:e,isFavorited:r.some(o=>o.id===s.id)},s.id))})})]})}function Xee({onAddToCart:t,onToggleFavorite:e,favorites:r=[]}){const{products:n,loading:i}=xm("Kids");return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-white border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"mb-2",children:"Kids' Collection"}),a.jsx("p",{className:"text-gray-600",children:"Comfortable and stylish clothing for your little ones."})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," products"]}),a.jsxs(ee,{variant:"outline",size:"sm",children:[a.jsx(lm,{className:"mr-2 size-4"}),"Filters"]})]})]})}),a.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(s=>a.jsx(Ud,{...s,onAddToCart:t,onToggleFavorite:e,isFavorited:r.some(o=>o.id===s.id)},s.id))})})]})}function Yee({onAddToCart:t,onToggleFavorite:e,favorites:r=[]}){const{products:n,loading:i}=xm("Unisex");return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-white border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"mb-2",children:"Unisex Collection"}),a.jsx("p",{className:"text-gray-600",children:"Versatile styles for everyone. Classic designs that transcend gender boundaries."})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," products"]}),a.jsxs(ee,{variant:"outline",size:"sm",children:[a.jsx(lm,{className:"mr-2 size-4"}),"Filters"]})]})]})}),a.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(s=>a.jsx(Ud,{...s,onAddToCart:t,onToggleFavorite:e,isFavorited:r.some(o=>o.id===s.id)},s.id))})})]})}function ht({className:t,...e}){return a.jsx("div",{"data-slot":"card",className:Je("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function yr({className:t,...e}){return a.jsx("div",{"data-slot":"card-header",className:Je("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Rr({className:t,...e}){return a.jsx("h4",{"data-slot":"card-title",className:Je("leading-none",t),...e})}function cc({className:t,...e}){return a.jsx("p",{"data-slot":"card-description",className:Je("text-muted-foreground",t),...e})}function jt({className:t,...e}){return a.jsx("div",{"data-slot":"card-content",className:Je("px-6 [&:last-child]:pb-6",t),...e})}function Kee({className:t,...e}){return a.jsx("div",{"data-slot":"card-footer",className:Je("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...e})}function Jee(t,e=[]){let r=[];function n(s,o){const l=w.createContext(o);l.displayName=s+"Context";const c=r.length;r=[...r,o];const d=h=>{const{scope:m,children:g,...j}=h,x=m?.[t]?.[c]||l,y=w.useMemo(()=>j,Object.values(j));return a.jsx(x.Provider,{value:y,children:g})};d.displayName=s+"Provider";function f(h,m){const g=m?.[t]?.[c]||l,j=w.useContext(g);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(o=>w.createContext(o));return function(l){const c=l?.[t]||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,Zee(i,...e)]}function Zee(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(s)[`__scope${d}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Qee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WP=Qee.reduce((t,e)=>{const r=Lx(`Primitive.${e}`),n=w.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Sj={exports:{}},Cj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yM;function ete(){if(yM)return Cj;yM=1;var t=Bs();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(h,m){var g=m(),j=n({inst:{value:g,getSnapshot:m}}),x=j[0].inst,y=j[1];return s(function(){x.value=g,x.getSnapshot=m,c(x)&&y({inst:x})},[h,g,m]),i(function(){return c(x)&&y({inst:x}),h(function(){c(x)&&y({inst:x})})},[h]),o(g),g}function c(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!r(h,g)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Cj.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Cj}var xM;function tte(){return xM||(xM=1,Sj.exports=ete()),Sj.exports}var rte=tte();function nte(){return rte.useSyncExternalStore(ite,()=>!0,()=>!1)}function ite(){return()=>{}}var UP="Avatar",[ste]=Jee(UP),[ate,q$]=ste(UP),V$=w.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=w.useState("idle");return a.jsx(ate,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(WP.span,{...n,ref:e})})});V$.displayName=UP;var G$="AvatarImage",X$=w.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=q$(G$,r),l=ote(n,s),c=Ms(d=>{i(d),o.onImageLoadingStatusChange(d)});return zr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(WP.img,{...s,ref:e,src:n}):null});X$.displayName=G$;var Y$="AvatarFallback",K$=w.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=q$(Y$,r),[o,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(WP.span,{...i,ref:e}):null});K$.displayName=Y$;function bM(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ote(t,{referrerPolicy:e,crossOrigin:r}){const n=nte(),i=w.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>bM(s,t));return zr(()=>{l(bM(s,t))},[s,t]),zr(()=>{const c=h=>()=>{l(h)};if(!s)return;const d=c("loaded"),f=c("error");return s.addEventListener("load",d),s.addEventListener("error",f),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",d),s.removeEventListener("error",f)}},[s,r,e]),o}var lte=V$,cte=X$,ute=K$;function J$({className:t,...e}){return a.jsx(lte,{"data-slot":"avatar",className:Je("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Z$({className:t,...e}){return a.jsx(cte,{"data-slot":"avatar-image",className:Je("aspect-square size-full",t),...e})}function Q$({className:t,...e}){return a.jsx(ute,{"data-slot":"avatar-fallback",className:Je("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}var dte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fte=dte.reduce((t,e)=>{const r=Lx(`Primitive.${e}`),n=w.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),hte="Separator",wM="horizontal",pte=["horizontal","vertical"],eB=w.forwardRef((t,e)=>{const{decorative:r,orientation:n=wM,...i}=t,s=mte(n)?n:wM,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(fte.div,{"data-orientation":s,...l,...i,ref:e})});eB.displayName=hte;function mte(t){return pte.includes(t)}var gte=eB;function qt({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return a.jsx(gte,{"data-slot":"separator-root",decorative:r,orientation:e,className:Je("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}const vte="http://localhost:4000",tB={payment_pending:{label:"Payment Pending",color:"bg-yellow-500"},pending:{label:"Pending",color:"bg-yellow-400"},designing:{label:"Designing",color:"bg-cyan-500"},ripping:{label:"Ripping",color:"bg-blue-500"},heatpress:{label:"Heat Press",color:"bg-purple-500"},assembly:{label:"Assembly",color:"bg-red-600"},qa:{label:"QA",color:"bg-orange-500"},packing:{label:"Packing",color:"bg-green-500"},done:{label:"To Ship",color:"bg-green-600"},shipping:{label:"Shipping",color:"bg-blue-700"},delivered:{label:"Delivered",color:"bg-green-700"},cancelled:{label:"Cancelled",color:"bg-red-600"}};function yte(){const{user:t,isLoggedIn:e,isAdmin:r,isHydrating:n}=hi(),i=kr(),[s,o]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState(null);w.useEffect(()=>{!n&&(!e||!t)&&i("/")},[n,e,t,i]),w.useEffect(()=>{!n&&e&&t?.email?h():n||c(!1)},[t,e,n]);const h=async()=>{try{if(c(!0),!t?.email){console.warn("No user email available"),o([]);return}const j=t.email.trim().toLowerCase();console.log("Loading orders for email:",j);const x=await fetch(`${vte}/api/orders?customerEmail=${encodeURIComponent(j)}`,{credentials:"include"});if(x.ok){const y=await x.json();console.log("Orders fetched from API:",y),o(Array.isArray(y)?y:[])}else{const y=await x.json().catch(()=>({}));console.error("Failed to fetch orders from API:",x.status,y),o([]),x.status!==404&&ve.error("Failed to load orders. Please try again later.")}}catch(j){console.error("Error loading orders:",j),ve.error("Failed to load orders"),o([])}finally{c(!1)}},m=j=>tB[j]||{label:j,color:"bg-gray-500"},g=j=>j.split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2);return!e||!t?null:a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[a.jsxs(ee,{variant:"ghost",onClick:()=>i("/"),className:"mb-6",children:[a.jsx(fo,{className:"mr-2 size-4"}),"Back to Home"]}),a.jsx(ht,{className:"mb-6",children:a.jsx(yr,{children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs(J$,{className:"size-24",children:[a.jsx(Z$,{src:t.profilePicture,alt:t.name}),a.jsx(Q$,{className:"text-2xl bg-black text-white",children:g(t.name)})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Rr,{className:"text-3xl",children:t.name}),t.googleId&&a.jsxs(nt,{variant:"secondary",className:"gap-1",children:[a.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"size-3"}),"Google Account"]}),r&&a.jsxs(nt,{variant:"destructive",className:"gap-1",children:[a.jsx(hj,{className:"size-3"}),"Admin"]})]}),a.jsxs(cc,{className:"text-base",children:["Member since ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]})]})})}),a.jsxs(ht,{children:[a.jsxs(yr,{children:[a.jsx(Rr,{children:"Account Information"}),a.jsx(cc,{children:"Your personal details and account settings"})]}),a.jsxs(jt,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded-lg",children:a.jsx(Hx,{className:"size-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("p",{className:"text-base font-medium",children:t.email}),t.emailVerified&&a.jsx(Fx,{className:"size-4 text-green-600"})]}),t.emailVerified&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Verified"})]})]}),t.phone&&a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded-lg",children:a.jsx(Wx,{className:"size-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),a.jsx("p",{className:"text-base font-medium mt-1",children:t.phone})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded-lg",children:a.jsx(hj,{className:"size-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),a.jsx("p",{className:"text-base font-medium mt-1 capitalize",children:t.role||"Customer"})]})]}),t.googleId&&a.jsx("div",{className:"pt-4 border-t",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"size-4"}),a.jsx("span",{children:"This account is linked with Google Sign-In"})]})})]})]}),a.jsxs(ht,{className:"mt-6",children:[a.jsxs(yr,{children:[a.jsxs(Rr,{className:"flex items-center gap-2",children:[a.jsx(Zu,{className:"size-5"}),"My Favorites"]}),a.jsx(cc,{children:"Your saved favorite products"})]}),a.jsx(jt,{children:a.jsxs(ee,{variant:"outline",className:"w-full",onClick:()=>{ve.info("Favorites feature coming soon")},children:["View Favorites",a.jsx(ey,{className:"ml-2 size-4"})]})})]}),a.jsxs(ht,{className:"mt-6",children:[a.jsxs(yr,{children:[a.jsxs(Rr,{className:"flex items-center gap-2",children:[a.jsx(Qu,{className:"size-5"}),"My Orders"]}),a.jsx(cc,{children:"View and track your order status"})]}),a.jsx(jt,{children:l?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):d?a.jsx(xte,{order:d,onBack:()=>f(null)}):s.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nr,{className:"size-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"No orders yet"}),a.jsx(ee,{onClick:()=>i("/"),variant:"outline",children:"Start Shopping"})]}):a.jsx("div",{className:"space-y-3",children:s.map(j=>{const x=m(j.status);return a.jsx(ht,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>f(j),children:a.jsx(jt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("span",{className:"font-semibold",children:["Order #",j.orderId||j.id]}),a.jsx(nt,{className:x.color+" text-white",children:x.label})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zx,{className:"size-4"}),a.jsx("span",{children:j.orderDate?new Date(j.orderDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nr,{className:"size-4"}),a.jsxs("span",{children:[j.items.length," item",j.items.length!==1?"s":""]})]})]})]}),a.jsxs("div",{className:"text-right ml-4",children:[a.jsxs("p",{className:"font-bold text-lg",children:["",j.total.toFixed(2)]}),j.balanceRemaining>0&&a.jsxs("p",{className:"text-xs text-orange-600",children:["Balance: ",j.balanceRemaining.toFixed(2)]}),a.jsx(ey,{className:"size-5 text-gray-400 mt-2"})]})]})})},j.id)})})})]}),r&&a.jsx(ht,{className:"mt-6 border-red-200 bg-red-50",children:a.jsx(jt,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-red-900",children:"Admin Access"}),a.jsx("p",{className:"text-sm text-red-700",children:"You have administrative privileges"})]}),a.jsxs(ee,{onClick:()=>i("/admin/payment-verification"),variant:"destructive",children:[a.jsx(hj,{className:"mr-2 size-4"}),"Go to Admin Panel"]})]})})})]})})}function xte({order:t,onBack:e}){const r=tB[t.status]||{label:t.status,color:"bg-gray-500"},n=[{id:"payment_pending",label:"Payment Pending"},{id:"pending",label:"Pending"},{id:"designing",label:"Designing"},{id:"ripping",label:"Ripping"},{id:"heatpress",label:"Heat Press"},{id:"assembly",label:"Assembly"},{id:"qa",label:"Quality Assurance"},{id:"packing",label:"Packing"},{id:"done",label:"To Ship"},{id:"shipping",label:"Shipping"},{id:"delivered",label:"Delivered"}],i=n.findIndex(l=>l.id===t.status),s=l=>l<i,o=l=>l===i;return a.jsxs("div",{children:[a.jsxs(ee,{variant:"ghost",onClick:e,className:"mb-4",children:[a.jsx(fo,{className:"mr-2 size-4"}),"Back to Orders"]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Rr,{children:["Order #",t.orderId||t.id]}),a.jsxs(cc,{className:"mt-1",children:["Placed on"," ",t.orderDate?new Date(t.orderDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A"]})]}),a.jsx(nt,{className:r.color+" text-white text-base px-4 py-2",children:r.label})]})}),a.jsxs(jt,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Order Status"}),a.jsx("div",{className:"space-y-4",children:n.map((l,c)=>{const d=s(c),f=o(c);return a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${d?"bg-green-500 text-white":f?r.color+" text-white":"bg-gray-200 text-gray-500"}`,children:d?a.jsx(Fx,{className:"size-5"}):a.jsx("span",{className:"text-sm font-medium",children:c+1})}),c<n.length-1&&a.jsx("div",{className:`w-0.5 h-8 ${d?"bg-green-500":"bg-gray-200"}`})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsx("p",{className:`font-medium ${d?"text-green-600":f?"text-blue-600":"text-gray-500"}`,children:l.label}),f&&t.estimatedCompletion&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Estimated completion:"," ",new Date(t.estimatedCompletion).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]},l.id)})})]}),a.jsx(qt,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),a.jsx("div",{className:"space-y-3",children:t.items.map(l=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:l.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",l.quantity,"  ",l.unitPrice.toFixed(2)]})]}),a.jsxs("p",{className:"font-semibold",children:["",l.subtotal.toFixed(2)]})]},l.id))})]}),a.jsx(qt,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal"}),a.jsxs("span",{className:"font-medium",children:["",t.total.toFixed(2)]})]}),t.balanceRemaining>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Amount Paid"}),a.jsxs("span",{className:"font-medium",children:["",(t.total-t.balanceRemaining).toFixed(2)]})]}),t.balanceRemaining>0&&a.jsxs("div",{className:"flex justify-between text-orange-600",children:[a.jsx("span",{className:"font-medium",children:"Remaining Balance"}),a.jsxs("span",{className:"font-bold",children:["",t.balanceRemaining.toFixed(2)]})]}),a.jsx(qt,{}),a.jsxs("div",{className:"flex justify-between text-lg",children:[a.jsx("span",{className:"font-semibold",children:"Total"}),a.jsxs("span",{className:"font-bold",children:["",t.total.toFixed(2)]})]})]}),t.customer.address&&a.jsxs(a.Fragment,{children:[a.jsx(qt,{}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[a.jsx(D3,{className:"size-5"}),"Shipping Address"]}),a.jsx("p",{className:"text-gray-600",children:t.customer.address})]})]}),t.payment&&a.jsxs(a.Fragment,{children:[a.jsx(qt,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Payment Information"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Method:"}),a.jsx("span",{className:"font-medium",children:t.payment.method})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Status:"}),a.jsx(nt,{className:t.payment.status==="completed"?"bg-green-500":"bg-yellow-500",children:t.payment.status})]}),t.payment.referenceNumber&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Reference:"}),a.jsx("span",{className:"font-medium",children:t.payment.referenceNumber})]})]})]})]}),t.notes&&a.jsxs(a.Fragment,{children:[a.jsx(qt,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),a.jsx("p",{className:"text-gray-600",children:t.notes})]})]})]})]})]})}const bte="modulepreload",wte=function(t){return"/"+t},jM={},g_=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=o(r.map(d=>{if(d=wte(d),d in jM)return;jM[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":bte,f||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((g,j)=>{m.addEventListener("load",g),m.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function ze({className:t,type:e,...r}){return a.jsx("input",{type:e,"data-slot":"input",className:Je("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var jte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ste=jte.reduce((t,e)=>{const r=Lx(`Primitive.${e}`),n=w.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Cte="Label",rB=w.forwardRef((t,e)=>a.jsx(Ste.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rB.displayName=Cte;var Nte=rB;function be({className:t,...e}){return a.jsx(Nte,{"data-slot":"label",className:Je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var s0="Collapsible",[_te]=En(s0),[Ote,qP]=_te(s0),nB=w.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...l}=t,[c,d]=ss({prop:n,defaultProp:i??!1,onChange:o,caller:s0});return a.jsx(Ote,{scope:r,disabled:s,contentId:rs(),open:c,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),children:a.jsx(Ze.div,{"data-state":GP(c),"data-disabled":s?"":void 0,...l,ref:e})})});nB.displayName=s0;var iB="CollapsibleTrigger",sB=w.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=qP(iB,r);return a.jsx(Ze.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":GP(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Ee(t.onClick,i.onOpenToggle)})});sB.displayName=iB;var VP="CollapsibleContent",aB=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=qP(VP,t.__scopeCollapsible);return a.jsx(pi,{present:r||i.open,children:({present:s})=>a.jsx(Pte,{...n,ref:e,present:s})})});aB.displayName=VP;var Pte=w.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=t,o=qP(VP,r),[l,c]=w.useState(n),d=w.useRef(null),f=ct(e,d),h=w.useRef(0),m=h.current,g=w.useRef(0),j=g.current,x=o.open||l,y=w.useRef(x),b=w.useRef(void 0);return w.useEffect(()=>{const S=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(S)},[]),zr(()=>{const S=d.current;if(S){b.current=b.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const O=S.getBoundingClientRect();h.current=O.height,g.current=O.width,y.current||(S.style.transitionDuration=b.current.transitionDuration,S.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Ze.div,{"data-state":GP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:f,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...t.style},children:x&&i})});function GP(t){return t?"open":"closed"}var kte=nB;function SM({...t}){return a.jsx(kte,{"data-slot":"collapsible",...t})}function CM({...t}){return a.jsx(sB,{"data-slot":"collapsible-trigger",...t})}function NM({...t}){return a.jsx(aB,{"data-slot":"collapsible-content",...t})}const Tte=["top","right","bottom","left"],hl=Math.min,Ni=Math.max,oy=Math.round,lv=Math.floor,ua=t=>({x:t,y:t}),Ate={left:"right",right:"left",bottom:"top",top:"bottom"},Ete={start:"end",end:"start"};function v_(t,e,r){return Ni(t,hl(e,r))}function no(t,e){return typeof t=="function"?t(e):t}function io(t){return t.split("-")[0]}function Gd(t){return t.split("-")[1]}function XP(t){return t==="x"?"y":"x"}function YP(t){return t==="y"?"height":"width"}const Mte=new Set(["top","bottom"]);function oa(t){return Mte.has(io(t))?"y":"x"}function KP(t){return XP(oa(t))}function Dte(t,e,r){r===void 0&&(r=!1);const n=Gd(t),i=KP(t),s=YP(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ly(o)),[o,ly(o)]}function Rte(t){const e=ly(t);return[y_(t),e,y_(e)]}function y_(t){return t.replace(/start|end/g,e=>Ete[e])}const _M=["left","right"],OM=["right","left"],Ite=["top","bottom"],Lte=["bottom","top"];function zte(t,e,r){switch(t){case"top":case"bottom":return r?e?OM:_M:e?_M:OM;case"left":case"right":return e?Ite:Lte;default:return[]}}function Fte(t,e,r,n){const i=Gd(t);let s=zte(io(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(y_)))),s}function ly(t){return t.replace(/left|right|bottom|top/g,e=>Ate[e])}function $te(t){return{top:0,right:0,bottom:0,left:0,...t}}function oB(t){return typeof t!="number"?$te(t):{top:t,right:t,bottom:t,left:t}}function cy(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function PM(t,e,r){let{reference:n,floating:i}=t;const s=oa(e),o=KP(e),l=YP(o),c=io(e),d=s==="y",f=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let g;switch(c){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-i.width,y:h};break;default:g={x:n.x,y:n.y}}switch(Gd(e)){case"start":g[o]-=m*(r&&d?-1:1);break;case"end":g[o]+=m*(r&&d?-1:1);break}return g}const Bte=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=PM(d,n,c),m=n,g={},j=0;for(let x=0;x<l.length;x++){const{name:y,fn:b}=l[x],{x:S,y:O,data:P,reset:C}=await b({x:f,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});f=S??f,h=O??h,g={...g,[y]:{...g[y],...P}},C&&j<=50&&(j++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:f,y:h}=PM(d,m,c)),x=-1)}return{x:f,y:h,placement:m,strategy:i,middlewareData:g}};async function up(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=no(e,t),j=oB(g),y=l[m?h==="floating"?"reference":"floating":h],b=cy(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(y)))==null||r?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),S=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),P=await(s.isElement==null?void 0:s.isElement(O))?await(s.getScale==null?void 0:s.getScale(O))||{x:1,y:1}:{x:1,y:1},C=cy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:O,strategy:c}):S);return{top:(b.top-C.top+j.top)/P.y,bottom:(C.bottom-b.bottom+j.bottom)/P.y,left:(b.left-C.left+j.left)/P.x,right:(C.right-b.right+j.right)/P.x}}const Hte=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=no(t,e)||{};if(d==null)return{};const h=oB(f),m={x:r,y:n},g=KP(i),j=YP(g),x=await o.getDimensions(d),y=g==="y",b=y?"top":"left",S=y?"bottom":"right",O=y?"clientHeight":"clientWidth",P=s.reference[j]+s.reference[g]-m[g]-s.floating[j],C=m[g]-s.reference[g],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=_?_[O]:0;(!k||!await(o.isElement==null?void 0:o.isElement(_)))&&(k=l.floating[O]||s.floating[j]);const A=P/2-C/2,M=k/2-x[j]/2-1,D=hl(h[b],M),L=hl(h[S],M),W=D,$=k-x[j]-L,H=k/2-x[j]/2+A,z=v_(W,H,$),q=!c.arrow&&Gd(i)!=null&&H!==z&&s.reference[j]/2-(H<W?D:L)-x[j]/2<0,E=q?H<W?H-W:H-$:0;return{[g]:m[g]+E,data:{[g]:z,centerOffset:H-z-E,...q&&{alignmentOffset:E}},reset:q}}}),Wte=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:x=!0,...y}=no(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=io(i),S=oa(l),O=io(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=m||(O||!x?[ly(l)]:Rte(l)),_=j!=="none";!m&&_&&C.push(...Fte(l,x,j,P));const k=[l,...C],A=await up(e,y),M=[];let D=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&M.push(A[b]),h){const H=Dte(i,o,P);M.push(A[H[0]],A[H[1]])}if(D=[...D,{placement:i,overflows:M}],!M.every(H=>H<=0)){var L,W;const H=(((L=s.flip)==null?void 0:L.index)||0)+1,z=k[H];if(z&&(!(h==="alignment"?S!==oa(z):!1)||D.every(U=>oa(U.placement)===S?U.overflows[0]>0:!0)))return{data:{index:H,overflows:D},reset:{placement:z}};let q=(W=D.filter(E=>E.overflows[0]<=0).sort((E,U)=>E.overflows[1]-U.overflows[1])[0])==null?void 0:W.placement;if(!q)switch(g){case"bestFit":{var $;const E=($=D.filter(U=>{if(_){const B=oa(U.placement);return B===S||B==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(B=>B>0).reduce((B,I)=>B+I,0)]).sort((U,B)=>U[1]-B[1])[0])==null?void 0:$[0];E&&(q=E);break}case"initialPlacement":q=l;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function kM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TM(t){return Tte.some(e=>t[e]>=0)}const Ute=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=no(t,e);switch(n){case"referenceHidden":{const s=await up(e,{...i,elementContext:"reference"}),o=kM(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TM(o)}}}case"escaped":{const s=await up(e,{...i,altBoundary:!0}),o=kM(s,r.floating);return{data:{escapedOffsets:o,escaped:TM(o)}}}default:return{}}}}},lB=new Set(["left","top"]);async function qte(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=io(r),l=Gd(r),c=oa(r)==="y",d=lB.has(o)?-1:1,f=s&&c?-1:1,h=no(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof j=="number"&&(g=l==="end"?j*-1:j),c?{x:g*f,y:m*d}:{x:m*d,y:g*f}}const Vte=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await qte(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Gte=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:S}=y;return{x:b,y:S}}},...c}=no(t,e),d={x:r,y:n},f=await up(e,c),h=oa(io(i)),m=XP(h);let g=d[m],j=d[h];if(s){const y=m==="y"?"top":"left",b=m==="y"?"bottom":"right",S=g+f[y],O=g-f[b];g=v_(S,g,O)}if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",S=j+f[y],O=j-f[b];j=v_(S,j,O)}const x=l.fn({...e,[m]:g,[h]:j});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:s,[h]:o}}}}}},Xte=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=no(t,e),f={x:r,y:n},h=oa(i),m=XP(h);let g=f[m],j=f[h];const x=no(l,e),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const O=m==="y"?"height":"width",P=s.reference[m]-s.floating[O]+y.mainAxis,C=s.reference[m]+s.reference[O]-y.mainAxis;g<P?g=P:g>C&&(g=C)}if(d){var b,S;const O=m==="y"?"width":"height",P=lB.has(io(i)),C=s.reference[h]-s.floating[O]+(P&&((b=o.offset)==null?void 0:b[h])||0)+(P?0:y.crossAxis),_=s.reference[h]+s.reference[O]+(P?0:((S=o.offset)==null?void 0:S[h])||0)-(P?y.crossAxis:0);j<C?j=C:j>_&&(j=_)}return{[m]:g,[h]:j}}}},Yte=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=no(t,e),f=await up(e,d),h=io(i),m=Gd(i),g=oa(i)==="y",{width:j,height:x}=s.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,y=m==="end"?"top":"bottom");const S=x-f.top-f.bottom,O=j-f.left-f.right,P=hl(x-f[y],S),C=hl(j-f[b],O),_=!e.middlewareData.shift;let k=P,A=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=O),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=S),_&&!m){const D=Ni(f.left,0),L=Ni(f.right,0),W=Ni(f.top,0),$=Ni(f.bottom,0);g?A=j-2*(D!==0||L!==0?D+L:Ni(f.left,f.right)):k=x-2*(W!==0||$!==0?W+$:Ni(f.top,f.bottom))}await c({...e,availableWidth:A,availableHeight:k});const M=await o.getDimensions(l.floating);return j!==M.width||x!==M.height?{reset:{rects:!0}}:{}}}};function a0(){return typeof window<"u"}function Xd(t){return cB(t)?(t.nodeName||"").toLowerCase():"#document"}function ki(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wa(t){var e;return(e=(cB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cB(t){return a0()?t instanceof Node||t instanceof ki(t).Node:!1}function Ds(t){return a0()?t instanceof Element||t instanceof ki(t).Element:!1}function ga(t){return a0()?t instanceof HTMLElement||t instanceof ki(t).HTMLElement:!1}function AM(t){return!a0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ki(t).ShadowRoot}const Kte=new Set(["inline","contents"]);function bm(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Rs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Kte.has(i)}const Jte=new Set(["table","td","th"]);function Zte(t){return Jte.has(Xd(t))}const Qte=[":popover-open",":modal"];function o0(t){return Qte.some(e=>{try{return t.matches(e)}catch{return!1}})}const ere=["transform","translate","scale","rotate","perspective"],tre=["transform","translate","scale","rotate","perspective","filter"],rre=["paint","layout","strict","content"];function JP(t){const e=ZP(),r=Ds(t)?Rs(t):t;return ere.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||tre.some(n=>(r.willChange||"").includes(n))||rre.some(n=>(r.contain||"").includes(n))}function nre(t){let e=pl(t);for(;ga(e)&&!ed(e);){if(JP(e))return e;if(o0(e))return null;e=pl(e)}return null}function ZP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ire=new Set(["html","body","#document"]);function ed(t){return ire.has(Xd(t))}function Rs(t){return ki(t).getComputedStyle(t)}function l0(t){return Ds(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pl(t){if(Xd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||AM(t)&&t.host||wa(t);return AM(e)?e.host:e}function uB(t){const e=pl(t);return ed(e)?t.ownerDocument?t.ownerDocument.body:t.body:ga(e)&&bm(e)?e:uB(e)}function dp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=uB(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=ki(i);if(s){const l=x_(o);return e.concat(o,o.visualViewport||[],bm(i)?i:[],l&&r?dp(l):[])}return e.concat(i,dp(i,[],r))}function x_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dB(t){const e=Rs(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ga(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=oy(r)!==s||oy(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function QP(t){return Ds(t)?t:t.contextElement}function $u(t){const e=QP(t);if(!ga(e))return ua(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=dB(e);let o=(s?oy(r.width):r.width)/n,l=(s?oy(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const sre=ua(0);function fB(t){const e=ki(t);return!ZP()||!e.visualViewport?sre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function are(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ki(t)?!1:e}function jc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=QP(t);let o=ua(1);e&&(n?Ds(n)&&(o=$u(n)):o=$u(t));const l=are(s,r,n)?fB(s):ua(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const m=ki(s),g=n&&Ds(n)?ki(n):n;let j=m,x=x_(j);for(;x&&n&&g!==j;){const y=$u(x),b=x.getBoundingClientRect(),S=Rs(x),O=b.left+(x.clientLeft+parseFloat(S.paddingLeft))*y.x,P=b.top+(x.clientTop+parseFloat(S.paddingTop))*y.y;c*=y.x,d*=y.y,f*=y.x,h*=y.y,c+=O,d+=P,j=ki(x),x=x_(j)}}return cy({width:f,height:h,x:c,y:d})}function c0(t,e){const r=l0(t).scrollLeft;return e?e.left+r:jc(wa(t)).left+r}function hB(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-c0(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function ore(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=wa(n),l=e?o0(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=ua(1);const f=ua(0),h=ga(n);if((h||!h&&!s)&&((Xd(n)!=="body"||bm(o))&&(c=l0(n)),ga(n))){const g=jc(n);d=$u(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const m=o&&!h&&!s?hB(o,c):ua(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:r.y*d.y-c.scrollTop*d.y+f.y+m.y}}function lre(t){return Array.from(t.getClientRects())}function cre(t){const e=wa(t),r=l0(t),n=t.ownerDocument.body,i=Ni(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ni(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+c0(t);const l=-r.scrollTop;return Rs(n).direction==="rtl"&&(o+=Ni(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}const EM=25;function ure(t,e){const r=ki(t),n=wa(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const f=ZP();(!f||f&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=c0(n);if(d<=0){const f=n.ownerDocument,h=f.body,m=getComputedStyle(h),g=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,j=Math.abs(n.clientWidth-h.clientWidth-g);j<=EM&&(s-=j)}else d<=EM&&(s+=d);return{width:s,height:o,x:l,y:c}}const dre=new Set(["absolute","fixed"]);function fre(t,e){const r=jc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=ga(t)?$u(t):ua(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=n*s.y;return{width:o,height:l,x:c,y:d}}function MM(t,e,r){let n;if(e==="viewport")n=ure(t,r);else if(e==="document")n=cre(wa(t));else if(Ds(e))n=fre(e,r);else{const i=fB(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return cy(n)}function pB(t,e){const r=pl(t);return r===e||!Ds(r)||ed(r)?!1:Rs(r).position==="fixed"||pB(r,e)}function hre(t,e){const r=e.get(t);if(r)return r;let n=dp(t,[],!1).filter(l=>Ds(l)&&Xd(l)!=="body"),i=null;const s=Rs(t).position==="fixed";let o=s?pl(t):t;for(;Ds(o)&&!ed(o);){const l=Rs(o),c=JP(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&dre.has(i.position)||bm(o)&&!c&&pB(t,o))?n=n.filter(f=>f!==o):i=l,o=pl(o)}return e.set(t,n),n}function pre(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?o0(e)?[]:hre(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const h=MM(e,f,i);return d.top=Ni(h.top,d.top),d.right=hl(h.right,d.right),d.bottom=hl(h.bottom,d.bottom),d.left=Ni(h.left,d.left),d},MM(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function mre(t){const{width:e,height:r}=dB(t);return{width:e,height:r}}function gre(t,e,r){const n=ga(e),i=wa(e),s=r==="fixed",o=jc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=ua(0);function d(){c.x=c0(i)}if(n||!n&&!s)if((Xd(e)!=="body"||bm(i))&&(l=l0(e)),n){const g=jc(e,!0,s,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?hB(i,l):ua(0),h=o.left+l.scrollLeft-c.x-f.x,m=o.top+l.scrollTop-c.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function Nj(t){return Rs(t).position==="static"}function DM(t,e){if(!ga(t)||Rs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return wa(t)===r&&(r=r.ownerDocument.body),r}function mB(t,e){const r=ki(t);if(o0(t))return r;if(!ga(t)){let i=pl(t);for(;i&&!ed(i);){if(Ds(i)&&!Nj(i))return i;i=pl(i)}return r}let n=DM(t,e);for(;n&&Zte(n)&&Nj(n);)n=DM(n,e);return n&&ed(n)&&Nj(n)&&!JP(n)?r:n||nre(t)||r}const vre=async function(t){const e=this.getOffsetParent||mB,r=this.getDimensions,n=await r(t.floating);return{reference:gre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yre(t){return Rs(t).direction==="rtl"}const xre={convertOffsetParentRelativeRectToViewportRelativeRect:ore,getDocumentElement:wa,getClippingRect:pre,getOffsetParent:mB,getElementRects:vre,getClientRects:lre,getDimensions:mre,getScale:$u,isElement:Ds,isRTL:yre};function gB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bre(t,e){let r=null,n;const i=wa(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:h,width:m,height:g}=d;if(l||e(),!m||!g)return;const j=lv(h),x=lv(i.clientWidth-(f+m)),y=lv(i.clientHeight-(h+g)),b=lv(f),O={rootMargin:-j+"px "+-x+"px "+-y+"px "+-b+"px",threshold:Ni(0,hl(1,c))||1};let P=!0;function C(_){const k=_[0].intersectionRatio;if(k!==c){if(!P)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!gB(d,t.getBoundingClientRect())&&o(),P=!1}try{r=new IntersectionObserver(C,{...O,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,O)}r.observe(t)}return o(!0),s}function wre(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=QP(t),f=i||s?[...d?dp(d):[],...dp(e)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const h=d&&l?bre(d,r):null;let m=-1,g=null;o&&(g=new ResizeObserver(b=>{let[S]=b;S&&S.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var O;(O=g)==null||O.observe(e)})),r()}),d&&!c&&g.observe(d),g.observe(e));let j,x=c?jc(t):null;c&&y();function y(){const b=jc(t);x&&!gB(x,b)&&r(),x=b,j=requestAnimationFrame(y)}return r(),()=>{var b;f.forEach(S=>{i&&S.removeEventListener("scroll",r),s&&S.removeEventListener("resize",r)}),h?.(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(j)}}const jre=Vte,Sre=Gte,Cre=Wte,Nre=Yte,_re=Ute,RM=Hte,Ore=Xte,Pre=(t,e,r)=>{const n=new Map,i={platform:xre,...r},s={...i.platform,_c:n};return Bte(t,e,{...i,platform:s})};var kre=typeof document<"u",Tre=function(){},Wv=kre?w.useLayoutEffect:Tre;function uy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!uy(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!uy(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function vB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IM(t,e){const r=vB(t);return Math.round(e*r)/r}function _j(t){const e=w.useRef(t);return Wv(()=>{e.current=t}),e}function Are(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,h]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(n);uy(m,n)||g(n);const[j,x]=w.useState(null),[y,b]=w.useState(null),S=w.useCallback(U=>{U!==_.current&&(_.current=U,x(U))},[]),O=w.useCallback(U=>{U!==k.current&&(k.current=U,b(U))},[]),P=s||j,C=o||y,_=w.useRef(null),k=w.useRef(null),A=w.useRef(f),M=c!=null,D=_j(c),L=_j(i),W=_j(d),$=w.useCallback(()=>{if(!_.current||!k.current)return;const U={placement:e,strategy:r,middleware:m};L.current&&(U.platform=L.current),Pre(_.current,k.current,U).then(B=>{const I={...B,isPositioned:W.current!==!1};H.current&&!uy(A.current,I)&&(A.current=I,aa.flushSync(()=>{h(I)}))})},[m,e,r,L,W]);Wv(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[d]);const H=w.useRef(!1);Wv(()=>(H.current=!0,()=>{H.current=!1}),[]),Wv(()=>{if(P&&(_.current=P),C&&(k.current=C),P&&C){if(D.current)return D.current(P,C,$);$()}},[P,C,$,D,M]);const z=w.useMemo(()=>({reference:_,floating:k,setReference:S,setFloating:O}),[S,O]),q=w.useMemo(()=>({reference:P,floating:C}),[P,C]),E=w.useMemo(()=>{const U={position:r,left:0,top:0};if(!q.floating)return U;const B=IM(q.floating,f.x),I=IM(q.floating,f.y);return l?{...U,transform:"translate("+B+"px, "+I+"px)",...vB(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:I}},[r,l,q.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:$,refs:z,elements:q,floatingStyles:E}),[f,$,z,q,E])}const Ere=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?RM({element:n.current,padding:i}).fn(r):{}:n?RM({element:n,padding:i}).fn(r):{}}}},Mre=(t,e)=>({...jre(t),options:[t,e]}),Dre=(t,e)=>({...Sre(t),options:[t,e]}),Rre=(t,e)=>({...Ore(t),options:[t,e]}),Ire=(t,e)=>({...Cre(t),options:[t,e]}),Lre=(t,e)=>({...Nre(t),options:[t,e]}),zre=(t,e)=>({..._re(t),options:[t,e]}),Fre=(t,e)=>({...Ere(t),options:[t,e]});var $re="Arrow",yB=w.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(Ze.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});yB.displayName=$re;var Bre=yB,ek="Popper",[xB,Yd]=En(ek),[Hre,bB]=xB(ek),wB=t=>{const{__scopePopper:e,children:r}=t,[n,i]=w.useState(null);return a.jsx(Hre,{scope:e,anchor:n,onAnchorChange:i,children:r})};wB.displayName=ek;var jB="PopperAnchor",SB=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=bB(jB,r),o=w.useRef(null),l=ct(e,o),c=w.useRef(null);return w.useEffect(()=>{const d=c.current;c.current=n?.current||o.current,d!==c.current&&s.onAnchorChange(c.current)}),n?null:a.jsx(Ze.div,{...i,ref:l})});SB.displayName=jB;var tk="PopperContent",[Wre,Ure]=xB(tk),CB=w.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:j,...x}=t,y=bB(tk,r),[b,S]=w.useState(null),O=ct(e,J=>S(J)),[P,C]=w.useState(null),_=ym(P),k=_?.width??0,A=_?.height??0,M=n+(s!=="center"?"-"+s:""),D=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(d)?d:[d],W=L.length>0,$={padding:D,boundary:L.filter(Vre),altBoundary:W},{refs:H,floatingStyles:z,placement:q,isPositioned:E,middlewareData:U}=Are({strategy:"fixed",placement:M,whileElementsMounted:(...J)=>wre(...J,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[Mre({mainAxis:i+A,alignmentAxis:o}),c&&Dre({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Rre():void 0,...$}),c&&Ire({...$}),Lre({...$,apply:({elements:J,rects:fe,availableWidth:oe,availableHeight:ue})=>{const{width:de,height:le}=fe.reference,ke=J.floating.style;ke.setProperty("--radix-popper-available-width",`${oe}px`),ke.setProperty("--radix-popper-available-height",`${ue}px`),ke.setProperty("--radix-popper-anchor-width",`${de}px`),ke.setProperty("--radix-popper-anchor-height",`${le}px`)}}),P&&Fre({element:P,padding:l}),Gre({arrowWidth:k,arrowHeight:A}),m&&zre({strategy:"referenceHidden",...$})]}),[B,I]=OB(q),F=Ms(j);zr(()=>{E&&F?.()},[E,F]);const G=U.arrow?.x,Z=U.arrow?.y,K=U.arrow?.centerOffset!==0,[ae,ie]=w.useState();return zr(()=>{b&&ie(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:E?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Wre,{scope:r,placedSide:B,onArrowChange:C,arrowX:G,arrowY:Z,shouldHideArrow:K,children:a.jsx(Ze.div,{"data-side":B,"data-align":I,...x,ref:O,style:{...x.style,animation:E?void 0:"none"}})})})});CB.displayName=tk;var NB="PopperArrow",qre={top:"bottom",right:"left",bottom:"top",left:"right"},_B=w.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Ure(NB,n),o=qre[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Bre,{...i,ref:r,style:{...i.style,display:"block"}})})});_B.displayName=NB;function Vre(t){return t!==null}var Gre=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=OB(r),h={start:"0%",center:"50%",end:"100%"}[f],m=(i.arrow?.x??0)+l/2,g=(i.arrow?.y??0)+c/2;let j="",x="";return d==="bottom"?(j=o?h:`${m}px`,x=`${-c}px`):d==="top"?(j=o?h:`${m}px`,x=`${n.floating.height+c}px`):d==="right"?(j=`${-c}px`,x=o?h:`${g}px`):d==="left"&&(j=`${n.floating.width+c}px`,x=o?h:`${g}px`),{data:{x:j,y:x}}}});function OB(t){const[e,r="center"]=t.split("-");return[e,r]}var rk=wB,u0=SB,nk=CB,ik=_B;function Xre(t){const e=Yre(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,l=w.Children.toArray(s),c=l.find(Jre);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Yre(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=Qre(i),l=Zre(s,i.props);return i.type!==w.Fragment&&(l.ref=n?ba(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Kre=Symbol("radix.slottable");function Jre(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kre}function Zre(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Qre(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var PB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ene="VisuallyHidden",tne=w.forwardRef((t,e)=>a.jsx(Ze.span,{...t,ref:e,style:{...PB,...t.style}}));tne.displayName=ene;var rne=[" ","Enter","ArrowUp","ArrowDown"],nne=[" ","Enter"],Sc="Select",[d0,f0,ine]=n0(Sc),[Kd]=En(Sc,[ine,Yd]),h0=Yd(),[sne,bl]=Kd(Sc),[ane,one]=Kd(Sc),kB=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:h,disabled:m,required:g,form:j}=t,x=h0(e),[y,b]=w.useState(null),[S,O]=w.useState(null),[P,C]=w.useState(!1),_=qd(d),[k,A]=ss({prop:n,defaultProp:i??!1,onChange:s,caller:Sc}),[M,D]=ss({prop:o,defaultProp:l,onChange:c,caller:Sc}),L=w.useRef(null),W=y?j||!!y.closest("form"):!0,[$,H]=w.useState(new Set),z=Array.from($).map(q=>q.props.value).join(";");return a.jsx(rk,{...x,children:a.jsxs(sne,{required:g,scope:e,trigger:y,onTriggerChange:b,valueNode:S,onValueNodeChange:O,valueNodeHasChildren:P,onValueNodeHasChildrenChange:C,contentId:rs(),value:M,onValueChange:D,open:k,onOpenChange:A,dir:_,triggerPointerDownPosRef:L,disabled:m,children:[a.jsx(d0.Provider,{scope:e,children:a.jsx(ane,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(q=>{H(E=>new Set(E).add(q))},[]),onNativeOptionRemove:w.useCallback(q=>{H(E=>{const U=new Set(E);return U.delete(q),U})},[]),children:r})}),W?a.jsxs(JB,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:M,onChange:q=>D(q.target.value),disabled:m,form:j,children:[M===void 0?a.jsx("option",{value:""}):null,Array.from($)]},z):null]})})};kB.displayName=Sc;var TB="SelectTrigger",AB=w.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=h0(r),o=bl(TB,r),l=o.disabled||n,c=ct(e,o.onTriggerChange),d=f0(r),f=w.useRef("touch"),[h,m,g]=QB(x=>{const y=d().filter(O=>!O.disabled),b=y.find(O=>O.value===o.value),S=e6(y,x,b);S!==void 0&&o.onValueChange(S.value)}),j=x=>{l||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(u0,{asChild:!0,...s,children:a.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ZB(o.value)?"":void 0,...i,ref:c,onClick:Ee(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&j(x)}),onPointerDown:Ee(i.onPointerDown,x=>{f.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(j(x),x.preventDefault())}),onKeyDown:Ee(i.onKeyDown,x=>{const y=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&rne.includes(x.key)&&(j(),x.preventDefault())})})})});AB.displayName=TB;var EB="SelectValue",MB=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=t,c=bl(EB,r),{onValueNodeHasChildrenChange:d}=c,f=s!==void 0,h=ct(e,c.onValueNodeChange);return zr(()=>{d(f)},[d,f]),a.jsx(Ze.span,{...l,ref:h,style:{pointerEvents:"none"},children:ZB(c.value)?a.jsx(a.Fragment,{children:o}):s})});MB.displayName=EB;var lne="SelectIcon",DB=w.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(Ze.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});DB.displayName=lne;var cne="SelectPortal",RB=t=>a.jsx(pm,{asChild:!0,...t});RB.displayName=cne;var Cc="SelectContent",IB=w.forwardRef((t,e)=>{const r=bl(Cc,t.__scopeSelect),[n,i]=w.useState();if(zr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?aa.createPortal(a.jsx(LB,{scope:t.__scopeSelect,children:a.jsx(d0.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(zB,{...t,ref:e})});IB.displayName=Cc;var bs=10,[LB,wl]=Kd(Cc),une="SelectContentImpl",dne=Xre("SelectContent.RemoveScroll"),zB=w.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:j,hideWhenDetached:x,avoidCollisions:y,...b}=t,S=bl(Cc,r),[O,P]=w.useState(null),[C,_]=w.useState(null),k=ct(e,J=>P(J)),[A,M]=w.useState(null),[D,L]=w.useState(null),W=f0(r),[$,H]=w.useState(!1),z=w.useRef(!1);w.useEffect(()=>{if(O)return Kx(O)},[O]),Xx();const q=w.useCallback(J=>{const[fe,...oe]=W().map(le=>le.ref.current),[ue]=oe.slice(-1),de=document.activeElement;for(const le of J)if(le===de||(le?.scrollIntoView({block:"nearest"}),le===fe&&C&&(C.scrollTop=0),le===ue&&C&&(C.scrollTop=C.scrollHeight),le?.focus(),document.activeElement!==de))return},[W,C]),E=w.useCallback(()=>q([A,O]),[q,A,O]);w.useEffect(()=>{$&&E()},[$,E]);const{onOpenChange:U,triggerPointerDownPosRef:B}=S;w.useEffect(()=>{if(O){let J={x:0,y:0};const fe=ue=>{J={x:Math.abs(Math.round(ue.pageX)-(B.current?.x??0)),y:Math.abs(Math.round(ue.pageY)-(B.current?.y??0))}},oe=ue=>{J.x<=10&&J.y<=10?ue.preventDefault():O.contains(ue.target)||U(!1),document.removeEventListener("pointermove",fe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",oe,{capture:!0})}}},[O,U,B]),w.useEffect(()=>{const J=()=>U(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[U]);const[I,F]=QB(J=>{const fe=W().filter(de=>!de.disabled),oe=fe.find(de=>de.ref.current===document.activeElement),ue=e6(fe,J,oe);ue&&setTimeout(()=>ue.ref.current.focus())}),G=w.useCallback((J,fe,oe)=>{const ue=!z.current&&!oe;(S.value!==void 0&&S.value===fe||ue)&&(M(J),ue&&(z.current=!0))},[S.value]),Z=w.useCallback(()=>O?.focus(),[O]),K=w.useCallback((J,fe,oe)=>{const ue=!z.current&&!oe;(S.value!==void 0&&S.value===fe||ue)&&L(J)},[S.value]),ae=n==="popper"?b_:FB,ie=ae===b_?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:j,hideWhenDetached:x,avoidCollisions:y}:{};return a.jsx(LB,{scope:r,content:O,viewport:C,onViewportChange:_,itemRefCallback:G,selectedItem:A,onItemLeave:Z,itemTextRefCallback:K,focusSelectedItem:E,selectedItemText:D,position:n,isPositioned:$,searchRef:I,children:a.jsx(mm,{as:dne,allowPinchZoom:!0,children:a.jsx(hm,{asChild:!0,trapped:S.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Ee(i,J=>{S.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:a.jsx(fm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:a.jsx(ae,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:J=>J.preventDefault(),...b,...ie,onPlaced:()=>H(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,J=>{const fe=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!fe&&J.key.length===1&&F(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ue=W().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const de=J.target,le=ue.indexOf(de);ue=ue.slice(le+1)}setTimeout(()=>q(ue)),J.preventDefault()}})})})})})})});zB.displayName=une;var fne="SelectItemAlignedPosition",FB=w.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=bl(Cc,r),o=wl(Cc,r),[l,c]=w.useState(null),[d,f]=w.useState(null),h=ct(e,k=>f(k)),m=f0(r),g=w.useRef(!1),j=w.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:b,focusSelectedItem:S}=o,O=w.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&x&&y&&b){const k=s.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),D=b.getBoundingClientRect();if(s.dir!=="rtl"){const de=D.left-A.left,le=M.left-de,ke=k.left-le,Ne=k.width+ke,Le=Math.max(Ne,A.width),Ke=window.innerWidth-bs,De=ay(le,[bs,Math.max(bs,Ke-Le)]);l.style.minWidth=Ne+"px",l.style.left=De+"px"}else{const de=A.right-D.right,le=window.innerWidth-M.right-de,ke=window.innerWidth-k.right-le,Ne=k.width+ke,Le=Math.max(Ne,A.width),Ke=window.innerWidth-bs,De=ay(le,[bs,Math.max(bs,Ke-Le)]);l.style.minWidth=Ne+"px",l.style.right=De+"px"}const L=m(),W=window.innerHeight-bs*2,$=x.scrollHeight,H=window.getComputedStyle(d),z=parseInt(H.borderTopWidth,10),q=parseInt(H.paddingTop,10),E=parseInt(H.borderBottomWidth,10),U=parseInt(H.paddingBottom,10),B=z+q+$+U+E,I=Math.min(y.offsetHeight*5,B),F=window.getComputedStyle(x),G=parseInt(F.paddingTop,10),Z=parseInt(F.paddingBottom,10),K=k.top+k.height/2-bs,ae=W-K,ie=y.offsetHeight/2,J=y.offsetTop+ie,fe=z+q+J,oe=B-fe;if(fe<=K){const de=L.length>0&&y===L[L.length-1].ref.current;l.style.bottom="0px";const le=d.clientHeight-x.offsetTop-x.offsetHeight,ke=Math.max(ae,ie+(de?Z:0)+le+E),Ne=fe+ke;l.style.height=Ne+"px"}else{const de=L.length>0&&y===L[0].ref.current;l.style.top="0px";const ke=Math.max(K,z+x.offsetTop+(de?G:0)+ie)+oe;l.style.height=ke+"px",x.scrollTop=fe-K+x.offsetTop}l.style.margin=`${bs}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=W+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,l,d,x,y,b,s.dir,n]);zr(()=>O(),[O]);const[P,C]=w.useState();zr(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const _=w.useCallback(k=>{k&&j.current===!0&&(O(),S?.(),j.current=!1)},[O,S]);return a.jsx(pne,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:_,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:a.jsx(Ze.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});FB.displayName=fne;var hne="SelectPopperPosition",b_=w.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=bs,...s}=t,o=h0(r);return a.jsx(nk,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});b_.displayName=hne;var[pne,sk]=Kd(Cc,{}),w_="SelectViewport",$B=w.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=wl(w_,r),o=sk(w_,r),l=ct(e,s.onViewportChange),c=w.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(d0.Slot,{scope:r,children:a.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m?.current&&h){const g=Math.abs(c.current-f.scrollTop);if(g>0){const j=window.innerHeight-bs*2,x=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),b=Math.max(x,y);if(b<j){const S=b+g,O=Math.min(j,S),P=S-O;h.style.height=O+"px",h.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});$B.displayName=w_;var BB="SelectGroup",[mne,gne]=Kd(BB),vne=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=rs();return a.jsx(mne,{scope:r,id:i,children:a.jsx(Ze.div,{role:"group","aria-labelledby":i,...n,ref:e})})});vne.displayName=BB;var HB="SelectLabel",yne=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=gne(HB,r);return a.jsx(Ze.div,{id:i.id,...n,ref:e})});yne.displayName=HB;var dy="SelectItem",[xne,WB]=Kd(dy),UB=w.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,l=bl(dy,r),c=wl(dy,r),d=l.value===n,[f,h]=w.useState(s??""),[m,g]=w.useState(!1),j=ct(e,S=>c.itemRefCallback?.(S,n,i)),x=rs(),y=w.useRef("touch"),b=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(xne,{scope:r,value:n,disabled:i,textId:x,isSelected:d,onItemTextChange:w.useCallback(S=>{h(O=>O||(S?.textContent??"").trim())},[]),children:a.jsx(d0.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:a.jsx(Ze.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:j,onFocus:Ee(o.onFocus,()=>g(!0)),onBlur:Ee(o.onBlur,()=>g(!1)),onClick:Ee(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Ee(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Ee(o.onPointerDown,S=>{y.current=S.pointerType}),onPointerMove:Ee(o.onPointerMove,S=>{y.current=S.pointerType,i?c.onItemLeave?.():y.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ee(o.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(nne.includes(S.key)&&b(),S.key===" "&&S.preventDefault())})})})})});UB.displayName=dy;var yh="SelectItemText",qB=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=bl(yh,r),l=wl(yh,r),c=WB(yh,r),d=one(yh,r),[f,h]=w.useState(null),m=ct(e,b=>h(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),g=f?.textContent,j=w.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return zr(()=>(x(j),()=>y(j)),[x,y,j]),a.jsxs(a.Fragment,{children:[a.jsx(Ze.span,{id:c.textId,...s,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?aa.createPortal(s.children,o.valueNode):null]})});qB.displayName=yh;var VB="SelectItemIndicator",GB=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return WB(VB,r).isSelected?a.jsx(Ze.span,{"aria-hidden":!0,...n,ref:e}):null});GB.displayName=VB;var j_="SelectScrollUpButton",XB=w.forwardRef((t,e)=>{const r=wl(j_,t.__scopeSelect),n=sk(j_,t.__scopeSelect),[i,s]=w.useState(!1),o=ct(e,n.onScrollButtonChange);return zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(KB,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});XB.displayName=j_;var S_="SelectScrollDownButton",YB=w.forwardRef((t,e)=>{const r=wl(S_,t.__scopeSelect),n=sk(S_,t.__scopeSelect),[i,s]=w.useState(!1),o=ct(e,n.onScrollButtonChange);return zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(KB,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YB.displayName=S_;var KB=w.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=wl("SelectScrollButton",r),o=w.useRef(null),l=f0(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),zr(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{c()})})}),bne="SelectSeparator",wne=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Ze.div,{"aria-hidden":!0,...n,ref:e})});wne.displayName=bne;var C_="SelectArrow",jne=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=h0(r),s=bl(C_,r),o=wl(C_,r);return s.open&&o.position==="popper"?a.jsx(ik,{...i,...n,ref:e}):null});jne.displayName=C_;var Sne="SelectBubbleInput",JB=w.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=w.useRef(null),s=ct(n,i),o=vm(e);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const h=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(h)}},[o,e]),a.jsx(Ze.select,{...r,style:{...PB,...r.style},ref:s,defaultValue:e})});JB.displayName=Sne;function ZB(t){return t===""||t===void 0}function QB(t){const e=Ms(t),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(o=>{const l=r.current+o;e(l),(function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),s=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function e6(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=Cne(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Cne(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Nne=kB,_ne=AB,One=MB,Pne=DB,kne=RB,Tne=IB,Ane=$B,Ene=UB,Mne=qB,Dne=GB,Rne=XB,Ine=YB;function Gr({...t}){return a.jsx(Nne,{"data-slot":"select",...t})}function Xr({...t}){return a.jsx(One,{"data-slot":"select-value",...t})}function Yr({className:t,size:e="default",children:r,...n}){return a.jsxs(_ne,{"data-slot":"select-trigger","data-size":e,className:Je("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,a.jsx(Pne,{asChild:!0,children:a.jsx(Ba,{className:"size-4 opacity-50"})})]})}function Kr({className:t,children:e,position:r="popper",...n}){return a.jsx(kne,{children:a.jsxs(Tne,{"data-slot":"select-content",className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(Lne,{}),a.jsx(Ane,{className:Je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),a.jsx(zne,{})]})})}function He({className:t,children:e,...r}){return a.jsxs(Ene,{"data-slot":"select-item",className:Je("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(Dne,{children:a.jsx(Ju,{className:"size-4"})})}),a.jsx(Mne,{children:e})]})}function Lne({className:t,...e}){return a.jsx(Rne,{"data-slot":"select-scroll-up-button",className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Hh,{className:"size-4"})})}function zne({className:t,...e}){return a.jsx(Ine,{"data-slot":"select-scroll-down-button",className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Ba,{className:"size-4"})})}function te(t,e,r){return(e=(function(n){var i=(function(s,o){if(typeof s!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var c=l.call(s,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)})(n,"string");return typeof i=="symbol"?i:i+""})(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(r),!0).forEach((function(n){te(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function lr(t,e){if(t==null)return{};var r,n,i=(function(o,l){if(o==null)return{};var c={};for(var d in o)if({}.hasOwnProperty.call(o,d)){if(l.indexOf(d)>=0)continue;c[d]=o[d]}return c})(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ja(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class zM{constructor(){te(this,"browserShadowBlurConstant",1),te(this,"DPI",96),te(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),te(this,"perfLimitSizeTotal",2097152),te(this,"maxCacheSideLimit",4096),te(this,"minCacheSideLimit",256),te(this,"disableStyleCopyPaste",!1),te(this,"enableGLFiltering",!0),te(this,"textureSize",4096),te(this,"forceGLPutImageData",!1),te(this,"cachesBoundsOfCurve",!1),te(this,"fontPaths",{}),te(this,"NUM_FRACTION_DIGITS",4)}}const Nt=new class extends zM{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=re(re({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((t=>{delete this.fontPaths[t]}))}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new zM,r=t?.reduce(((n,i)=>(n[i]=e[i],n)),{})||e;this.configure(r)}},so=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return console[t]("fabric",...r)};class la extends Error{constructor(e,r){super("fabric: ".concat(e),r)}}let ak=class extends la{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}};class Fne{}class $ne extends Fne{testPrecision(e,r){const n="precision ".concat(r,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((n=>this.testPrecision(r,n))),r.getExtension("WEBGL_lose_context").loseContext(),so("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const Bne={};let N_;const Hne=t=>{N_=t},Is=()=>N_||(N_={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new $ne,dispose(){},copyPasteData:Bne}),Dc=()=>Is().document,Ps=()=>Is().window,t6=()=>{var t;return Math.max((t=Nt.devicePixelRatio)!==null&&t!==void 0?t:Ps().devicePixelRatio,1)},Bu=new class{constructor(){te(this,"boundsOfCurveCache",{}),this.charWidthsCache=new Map}getFontCache(t){let{fontFamily:e,fontStyle:r,fontWeight:n}=t;e=e.toLowerCase();const i=this.charWidthsCache;i.has(e)||i.set(e,new Map);const s=i.get(e),o="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return s.has(o)||s.set(o,new Map),s.get(o)}clearFontCache(t){t?this.charWidthsCache.delete((t||"").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(t){const{perfLimitSizeTotal:e}=Nt,r=Math.sqrt(e*t);return[Math.floor(r),Math.floor(e/r)]}},fy="6.9.0";function vc(){}const ml=Math.PI/2,ao=2*Math.PI,ok=Math.PI/180,An=Object.freeze([1,0,0,1,0,0]),lk=16,Fo=.4477152502,lt="center",Ht="left",ui="top",__="bottom",Pr="right",Un="none",ck=/\r?\n/,r6="moving",p0="scaling",n6="rotating",uk="rotate",i6="skewing",fp="resizing",s6="modifyPoly",Wne="modifyPath",hy="changed",m0="scale",Vn="scaleX",Di="scaleY",Jd="skewX",Zd="skewY",Ir="fill",qn="stroke",py="modified",wu="json",Oj="svg",Fe=new class{constructor(){this[wu]=new Map,this[Oj]=new Map}has(t){return this[wu].has(t)}getClass(t){const e=this[wu].get(t);if(!e)throw new la("No class registered for ".concat(t));return e}setClass(t,e){e?this[wu].set(e,t):(this[wu].set(t.type,t),this[wu].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[Oj].get(t)}setSVGClass(t,e){this[Oj].set(e??t.type.toLowerCase(),t)}},hp=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach((e=>e.abort())),t}cancelByCanvas(t){if(!t)return[];const e=this.filter((r=>{var n;return r.target===t||typeof r.target=="object"&&((n=r.target)===null||n===void 0?void 0:n.canvas)===t}));return e.forEach((r=>r.abort())),e}cancelByTarget(t){if(!t)return[];const e=this.filter((r=>r.target===t));return e.forEach((r=>r.abort())),e}};class a6{constructor(){te(this,"__eventListeners",{})}on(e,r){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach((n=>{let[i,s]=n;this.on(i,s)})),()=>this.off(e);if(r){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(r),()=>this.off(n,r)}return()=>!1}once(e,r){if(typeof e=="object"){const n=[];return Object.entries(e).forEach((i=>{let[s,o]=i;n.push(this.once(s,o))})),()=>n.forEach((i=>i()))}if(r){const n=this.on(e,(function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];r.call(this,...s),n()}));return n}return()=>!1}_removeEventListener(e,r){if(this.__eventListeners[e])if(r){const n=this.__eventListeners[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}else this.__eventListeners[e]=[]}off(e,r){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach((n=>{let[i,s]=n;this._removeEventListener(i,s)})):this._removeEventListener(e,r)}fire(e,r){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,r||{})}}const ac=(t,e)=>{const r=t.indexOf(e);return r!==-1&&t.splice(r,1),t},Ls=t=>{if(t===0)return 1;switch(Math.abs(t)/ml){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},zs=t=>{if(t===0)return 0;const e=t/ml,r=Math.sign(t);switch(e){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(t)};class pe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=r)}add(e){return new pe(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new pe(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new pe(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new pe(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new pe(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new pe(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new pe(this.x/e.x,this.y/e.y)}scalarDivide(e){return new pe(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new pe(this.x+(e.x-this.x)*r,this.y+(e.y-this.y)*r)}distanceFrom(e){const r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new pe(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new pe(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,r){return this.x=e,this.y=r,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const r=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=r,e.y=n}clone(){return new pe(this.x,this.y)}rotate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dk;const n=zs(e),i=Ls(e),s=this.subtract(r);return new pe(s.x*i-s.y*n,s.x*n+s.y*i).add(r)}transform(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new pe(e[0]*this.x+e[2]*this.y+(r?0:e[4]),e[1]*this.x+e[3]*this.y+(r?0:e[5]))}}const dk=new pe(0,0),Uv=t=>!!t&&Array.isArray(t._objects);function fk(t){class e extends t{constructor(){super(...arguments),te(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const o=this._objects.push(...i);return i.forEach((l=>this._onObjectAdded(l))),o}insertAt(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return this._objects.splice(n,0,...s),s.forEach((l=>this._onObjectAdded(l))),this._objects.length}remove(){const n=this._objects,i=[];for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return o.forEach((c=>{const d=n.indexOf(c);d!==-1&&(n.splice(d,1),i.push(c),this._onObjectRemoved(c))})),i}forEachObject(n){this.getObjects().forEach(((i,s,o)=>n(i,s,o)))}getObjects(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter((o=>o.isType(...i)))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some((s=>s instanceof e&&s.contains(n,!0)))}complexity(){return this._objects.reduce(((n,i)=>n+=i.complexity?i.complexity():0),0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(ac(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(ac(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==0){const o=this.findNewLowerIndex(n,s,i);return ac(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==this._objects.length-1){const o=this.findNewUpperIndex(n,s,i);return ac(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(ac(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,s){let o;if(s){o=i;for(let l=i-1;l>=0;--l)if(n.isOverlapping(this._objects[l])){o=l;break}}else o=i-1;return o}findNewUpperIndex(n,i,s){let o;if(s){o=i;for(let l=i+1;l<this._objects.length;++l)if(n.isOverlapping(this._objects[l])){o=l;break}}else o=i+1;return o}collectObjects(n){let{left:i,top:s,width:o,height:l}=n,{includeIntersecting:c=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=[],f=new pe(i,s),h=f.add(new pe(o,l));for(let m=this._objects.length-1;m>=0;m--){const g=this._objects[m];g.selectable&&g.visible&&(c&&g.intersectsWithRect(f,h)||g.isContainedWithinRect(f,h)||c&&g.containsPoint(f)||c&&g.containsPoint(h))&&d.push(g)}return d}}return e}class o6 extends a6{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in e)this.set(r,e[r])}_setObject(e){for(const r in e)this._set(r,e[r])}set(e,r){return typeof e=="object"?this._setObject(e):this._set(e,r),this}_set(e,r){this[e]=r}toggle(e){const r=this.get(e);return typeof r=="boolean"&&this.set(e,!r),this}get(e){return this[e]}}function Uh(t){return Ps().requestAnimationFrame(t)}function l6(t){return Ps().cancelAnimationFrame(t)}let Une=0;const gl=()=>Une++,as=()=>{const t=Dc().createElement("canvas");if(!t||t.getContext===void 0)throw new la("Failed to create `canvas` element");return t},c6=()=>Dc().createElement("img"),di=t=>{const e=as();return e.width=t.width,e.height=t.height,e},hk=(t,e,r)=>t.toDataURL("image/".concat(e),r),pk=(t,e,r)=>new Promise(((n,i)=>{t.toBlob(n,"image/".concat(e),r)})),Sr=t=>t*ok,va=t=>t/ok,u6=t=>t.every(((e,r)=>e===An[r])),Pn=(t,e,r)=>new pe(t).transform(e,r),li=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:n,y:i}=new pe(t[4],t[5]).transform(r,!0);return r[4]=-n,r[5]=-i,r},xr=(t,e,r)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]],g0=(t,e)=>t.reduceRight(((r,n)=>n&&r?xr(n,r,e):n||r),void 0)||An.concat(),d6=t=>{let[e,r]=t;return Math.atan2(r,e)},Nc=t=>{const e=d6(t),r=Math.pow(t[0],2)+Math.pow(t[1],2),n=Math.sqrt(r),i=(t[0]*t[3]-t[2]*t[1])/n,s=Math.atan2(t[0]*t[2]+t[1]*t[3],r);return{angle:va(e),scaleX:n,scaleY:i,skewX:va(s),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},Qd=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Rc(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Sr(t),i=Ls(n),s=zs(n);return[i,s,-s,i,e?e-(i*e-s*r):0,r?r-(s*e+i*r):0]}const v0=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},f6=t=>Math.tan(Sr(t)),mk=t=>[1,0,f6(t),1,0,0],gk=t=>[1,f6(t),0,1,0,0],wm=t=>{let{scaleX:e=1,scaleY:r=1,flipX:n=!1,flipY:i=!1,skewX:s=0,skewY:o=0}=t,l=v0(n?-e:e,i?-r:r);return s&&(l=xr(l,mk(s),!0)),o&&(l=xr(l,gk(o),!0)),l},h6=t=>{const{translateX:e=0,translateY:r=0,angle:n=0}=t;let i=Qd(e,r);n&&(i=xr(i,Rc({angle:n})));const s=wm(t);return u6(s)||(i=xr(i,s)),i},qh=function(t){let{signal:e,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((function(n,i){if(e&&e.aborted)return i(new ak("loadImage"));const s=c6();let o;e&&(o=function(c){s.src="",i(c)},e.addEventListener("abort",o,{once:!0}));const l=function(){s.onload=s.onerror=null,o&&e?.removeEventListener("abort",o),n(s)};t?(s.onload=l,s.onerror=function(){o&&e?.removeEventListener("abort",o),i(new la("Error loading ".concat(s.src)))},r&&(s.crossOrigin=r),s.src=t):l()}))},td=function(t){let{signal:e,reviver:r=vc}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(((n,i)=>{const s=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map((o=>Fe.getClass(o.type).fromObject(o,{signal:e}).then((l=>(r(o,l),s.push(l),l)))))).then(n).catch((o=>{s.forEach((l=>{l.dispose&&l.dispose()})),i(o)})).finally((()=>{e&&e.removeEventListener("abort",i)}))}))},jm=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(((r,n)=>{const i=[];e&&e.addEventListener("abort",n,{once:!0});const s=Object.values(t).map((l=>l&&l.type&&Fe.has(l.type)?td([l],{signal:e}).then((c=>{let[d]=c;return i.push(d),d})):l)),o=Object.keys(t);Promise.all(s).then((l=>l.reduce(((c,d,f)=>(c[o[f]]=d,c)),{}))).then(r).catch((l=>{i.forEach((c=>{c.dispose&&c.dispose()})),n(l)})).finally((()=>{e&&e.removeEventListener("abort",n)}))}))},Ic=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce(((e,r)=>(r in t&&(e[r]=t[r]),e)),{})},vk=(t,e)=>Object.keys(t).reduce(((r,n)=>(e(t[n],n,t)&&(r[n]=t[n]),r)),{}),Kt=(t,e)=>parseFloat(Number(t).toFixed(e)),rd=t=>"matrix("+t.map((e=>Kt(e,Nt.NUM_FRACTION_DIGITS))).join(" ")+")",Qi=t=>!!t&&t.toLive!==void 0,FM=t=>!!t&&typeof t.toObject=="function",$M=t=>!!t&&t.offsetX!==void 0&&"source"in t,oc=t=>!!t&&"multiSelectionStacking"in t;function p6(t){const e=t&&_s(t);let r=0,n=0;if(!t||!e)return{left:r,top:n};let i=t;const s=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(r=o.scrollLeft||s.scrollLeft||0,n=o.scrollTop||s.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:r,top:n}}const _s=t=>t.ownerDocument||null,m6=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},g6=function(t,e,r){let{width:n,height:i}=r,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=n,t.height=i,s>1&&(t.setAttribute("width",(n*s).toString()),t.setAttribute("height",(i*s).toString()),e.scale(s,s))},O_=(t,e)=>{let{width:r,height:n}=e;r&&(t.style.width=typeof r=="number"?"".concat(r,"px"):r),n&&(t.style.height=typeof n=="number"?"".concat(n,"px"):n)};function BM(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=Un,t}class yk{constructor(e){te(this,"_originalCanvasStyle",void 0),te(this,"lower",void 0);const r=this.createLowerCanvas(e);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(e){const r=(n=e)&&n.getContext!==void 0?e:e&&Dc().getElementById(e)||as();var n;if(r.hasAttribute("data-fabric"))throw new la("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(e){let{width:r,height:n}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,r){const{el:n,ctx:i}=this.lower;g6(n,i,e,r)}setCSSDimensions(e){O_(this.lower.el,e)}calcOffset(){return(function(e){var r;const n=e&&_s(e),i={left:0,top:0};if(!n)return i;const s=((r=m6(e))===null||r===void 0?void 0:r.getComputedStyle(e,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let o={left:0,top:0};const l=n.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const c=p6(e);return{left:o.left+c.left-(l.clientLeft||0)+i.left,top:o.top+c.top-(l.clientTop||0)+i.top}})(this.lower.el)}dispose(){Is().dispose(this.lower.el),delete this.lower}}const qne={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...An]},Vne=["objects"];class ef extends fk(o6){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return ef.ownDefaults}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new yk(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(so("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?t6():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,r){return this.setDimensions({width:e},r)}setHeight(e,r){return this.setDimensions({height:e},r)}_setDimensionsImpl(e){let{cssOnly:r=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const i=re({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,r){this._setDimensionsImpl(e,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,r){const n=e,i=[...this.viewportTransform],s=Pn(e,li(i));i[0]=r,i[3]=r;const o=Pn(s,i);i[4]+=n.x-o.x,i[5]+=n.y-o.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new pe(0,0),e)}absolutePan(e){const r=[...this.viewportTransform];return r[4]=-e.x,r[5]=-e.y,this.setViewportTransform(r)}relativePan(e){return this.absolutePan(new pe(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Uh((()=>this.renderAndReset())))}calcViewportBoundaries(){const e=this.width,r=this.height,n=li(this.viewportTransform),i=Pn({x:0,y:0},n),s=Pn({x:e,y:r},n),o=i.min(s),l=i.max(s);return this.vptCoords={tl:o,tr:new pe(l.x,o.y),bl:new pe(o.x,l.y),br:l}}cancelRequestedRender(){this.nextRenderHandle&&(l6(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,r){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,r),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,r){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}_renderObjects(e,r){for(let n=0,i=r.length;n<i;++n)r[n]&&r[n].render(e)}_renderBackgroundOrOverlay(e,r){const n=this["".concat(r,"Color")],i=this["".concat(r,"Image")],s=this.viewportTransform,o=this["".concat(r,"Vpt")];if(!n&&!i)return;const l=Qi(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=l?n.toLive(e):n,o&&e.transform(...s),l){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const c=n.gradientTransform||n.patternTransform;c&&e.transform(...c)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:c}=this;this.skipOffscreen=o,o&&e.transform(...s),i.render(e),this.skipOffscreen=c,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new pe(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new pe(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new pe(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new pe(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new pe(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Pn(this.getCenterPoint(),li(this.viewportTransform))}_centerObject(e,r){e.setXY(r,lt,lt),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,r){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,r):null;return re(re(re({version:fy},Ic(this,r)),{},{objects:this._objects.filter((s=>!s.excludeFromExport)).map((s=>this._toObject(s,e,r)))},this.__serializeBgOverlay(e,r)),i?{clipPath:i}:null)}_toObject(e,r,n){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[r](n);return this.includeDefaultValues||(e.includeDefaultValues=!!i),s}__serializeBgOverlay(e,r){const n={},i=this.backgroundImage,s=this.overlayImage,o=this.backgroundColor,l=this.overlayColor;return Qi(o)?o.excludeFromExport||(n.background=o.toObject(r)):o&&(n.background=o),Qi(l)?l.excludeFromExport||(n.overlay=l.toObject(r)):l&&(n.overlay=l),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,r)),s&&!s.excludeFromExport&&(n.overlayImage=this._toObject(s,e,r)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;e.reviver=r;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",r),this._setSVGObjects(n,r),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",r),n.push("</svg>"),n.join("")}_setSVGPreamble(e,r){r.suppressPreamble||e.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,r){const n=r.width||"".concat(this.width),i=r.height||"".concat(this.height),s=Nt.NUM_FRACTION_DIGITS,o=r.viewBox;let l;if(o)l='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const c=this.viewportTransform;l='viewBox="'.concat(Kt(-c[4]/c[0],s)," ").concat(Kt(-c[5]/c[3],s)," ").concat(Kt(this.width/c[0],s)," ").concat(Kt(this.height/c[3],s),'" ')}else l='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',l,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",fy,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(e){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(gl()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((e=>{const r=this["".concat(e,"Color")];if(Qi(r)){const n=this["".concat(e,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return r.toSVG(s,{additionalTransform:n?rd(i):""})}})).join("")}createSVGFontFacesMarkup(){const e=[],r={},n=Nt.fontPaths;this._objects.forEach((function s(o){e.push(o),Uv(o)&&o._objects.forEach(s)})),e.forEach((s=>{if(!(o=s)||typeof o._renderText!="function")return;var o;const{styles:l,fontFamily:c}=s;!r[c]&&n[c]&&(r[c]=!0,l&&Object.values(l).forEach((d=>{Object.values(d).forEach((f=>{let{fontFamily:h=""}=f;!r[h]&&n[h]&&(r[h]=!0)}))})))}));const i=Object.keys(r).map((s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(n[s],`');
		}
`))).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,r){this.forEachObject((n=>{n.excludeFromExport||this._setSVGObject(e,n,r)}))}_setSVGObject(e,r,n){e.push(r.toSVG(n))}_setSVGBgOverlayImage(e,r,n){const i=this[r];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(n))}_setSVGBgOverlayColor(e,r){const n=this["".concat(r,"Color")];if(n)if(Qi(n)){const i=n.repeat||"",s=this.width,o=this.height,l=this["".concat(r,"Vpt")]?rd(li(this.viewportTransform)):"";e.push('<rect transform="'.concat(l," translate(").concat(s/2,",").concat(o/2,')" x="').concat(n.offsetX-s/2,'" y="').concat(n.offsetY-o/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!$M(n)?s:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!$M(n)?o:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,r){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new la("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:s=[]}=i,o=lr(i,Vne),{backgroundImage:l,background:c,overlayImage:d,overlay:f,clipPath:h}=o,m=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([td(s,{reviver:r,signal:n}),jm({backgroundImage:l,backgroundColor:c,overlayImage:d,overlayColor:f,clipPath:h},{signal:n})]).then((g=>{let[j,x]=g;return this.clear(),this.add(...j),this.set(o),this.set(x),this.renderOnAddRemove=m,this}))}clone(e){const r=this.toObject(e);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const e=di(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return hk(this.toCanvasElement(o,e),r,n)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return pk(this.toCanvasElement(o,e),r,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:n,left:i,top:s,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=(r||this.width)*e,c=(n||this.height)*e,d=this.getZoom(),f=this.width,h=this.height,m=this.skipControlsDrawing,g=d*e,j=this.viewportTransform,x=[g,0,0,g,(j[4]-(i||0))*e,(j[5]-(s||0))*e],y=this.enableRetinaScaling,b=di({width:l,height:c}),S=o?this._objects.filter((O=>o(O))):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=x,this.width=l,this.height=c,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(b.getContext("2d"),S),this.viewportTransform=j,this.width=f,this.height=h,this.calcViewportBoundaries(),this.enableRetinaScaling=y,this.skipControlsDrawing=m,b}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),hp.cancelByCanvas(this),this.disposed=!0,new Promise(((e,r)=>{const n=()=>{this.destroy(),e(!0)};n.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()}))}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((e=>e.dispose())),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}te(ef,"ownDefaults",qne);const Gne=["touchstart","touchmove","touchend"],v6=t=>{const e=p6(t.target),r=(function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n})(t);return new pe(r.clientX+e.left,r.clientY+e.top)},my=t=>Gne.includes(t.type)||t.pointerType==="touch",HM=t=>{t.preventDefault(),t.stopPropagation()},da=t=>{let e=0,r=0,n=0,i=0;for(let s=0,o=t.length;s<o;s++){const{x:l,y:c}=t[s];(l>n||!s)&&(n=l),(l<e||!s)&&(e=l),(c>i||!s)&&(i=c),(c<r||!s)&&(r=c)}return{left:e,top:r,width:n-e,height:i-r}},Xne=["translateX","translateY","scaleX","scaleY"],y6=(t,e)=>nd(t,xr(e,t.calcOwnMatrix())),nd=(t,e)=>{const r=Nc(e),{translateX:n,translateY:i,scaleX:s,scaleY:o}=r,l=lr(r,Xne),c=new pe(n,i);t.flipX=!1,t.flipY=!1,Object.assign(t,l),t.set({scaleX:s,scaleY:o}),t.setPositionByOrigin(c,lt,lt)},x6=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},xk=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),y0=(t,e,r)=>{const n=t/2,i=e/2,s=[new pe(-n,-i),new pe(n,-i),new pe(-n,i),new pe(n,i)].map((l=>l.transform(r))),o=da(s);return new pe(o.width,o.height)},Sm=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:An;return xr(li(arguments.length>1&&arguments[1]!==void 0?arguments[1]:An),t)},Ka=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:An,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:An;return t.transform(Sm(e,r))},b6=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:An,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:An;return t.transform(Sm(e,r),!0)},P_=(t,e,r)=>{const n=Sm(e,r);return nd(t,xr(n,t.calcOwnMatrix())),n},bk=(t,e)=>{var r;const{transform:{target:n}}=e;(r=n.canvas)===null||r===void 0||r.fire("object:".concat(t),re(re({},e),{},{target:n})),n.fire(t,e)},Yne={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Dr=t=>typeof t=="string"?Yne[t]:t-.5,gy="not-allowed";function w6(t){return Dr(t.originX)===Dr(lt)&&Dr(t.originY)===Dr(lt)}function WM(t){return .5-Dr(t)}const As=(t,e)=>t[e],wk=(t,e,r,n)=>({e:t,transform:e,pointer:new pe(r,n)});function j6(t,e){const r=t.getTotalAngle()+va(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function x0(t,e,r,n,i){var s;let{target:o,corner:l}=t;const c=o.controls[l],d=((s=o.canvas)===null||s===void 0?void 0:s.getZoom())||1,f=o.padding/d,h=(function(m,g,j,x){const y=m.getRelativeCenterPoint(),b=j!==void 0&&x!==void 0?m.translateToGivenOrigin(y,lt,lt,j,x):new pe(m.left,m.top);return(m.angle?g.rotate(-Sr(m.angle),y):g).subtract(b)})(o,new pe(n,i),e,r);return h.x>=f&&(h.x-=f),h.x<=-f&&(h.x+=f),h.y>=f&&(h.y-=f),h.y<=f&&(h.y+=f),h.x-=c.offsetX,h.y-=c.offsetY,h}const S6=(t,e,r,n)=>{const{target:i,offsetX:s,offsetY:o}=e,l=r-s,c=n-o,d=!As(i,"lockMovementX")&&i.left!==l,f=!As(i,"lockMovementY")&&i.top!==c;return d&&i.set(Ht,l),f&&i.set(ui,c),(d||f)&&bk(r6,wk(t,e,r,n)),d||f},vy=t=>t.replace(/\s+/g," "),UM={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Pj=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),qM=(t,e,r,n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),s=Math.min(t,e,r);let o,l;const c=(i+s)/2;if(i===s)o=l=0;else{const d=i-s;switch(l=c>.5?d/(2-i-s):d/(i+s),i){case t:o=(e-r)/d+(e<r?6:0);break;case e:o=(r-t)/d+2;break;case r:o=(t-e)/d+4}o/=6}return[Math.round(360*o),Math.round(100*l),Math.round(100*c),n]},VM=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},cv=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),GM=t=>{let[e,r,n,i=1]=t;const s=Math.round(.3*e+.59*r+.11*n);return[s,s,s,i]};class Et{constructor(e){if(te(this,"isUnrecognised",!1),e)if(e instanceof Et)this.setSource([...e._source]);else if(Array.isArray(e)){const[r,n,i,s=1]=e;this.setSource([r,n,i,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in UM&&(e=UM[e]),e==="transparent"?[255,255,255,0]:Et.sourceFromHex(e)||Et.sourceFromRgb(e)||Et.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,r,n]=this.getSource();return"rgb(".concat(e,",").concat(r,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,r,n]=qM(...this.getSource());return"hsl(".concat(e,",").concat(r,"%,").concat(n,"%)")}toHsla(){const[e,r,n,i]=qM(...this.getSource());return"hsla(".concat(e,",").concat(r,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,r,n,i]=this.getSource();return"".concat(cv(e)).concat(cv(r)).concat(cv(n)).concat(cv(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(GM(this.getSource())),this}toBlackWhite(e){const[r,,,n]=GM(this.getSource()),i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(e){e instanceof Et||(e=new Et(e));const r=this.getSource(),n=e.getSource(),[i,s,o]=r.map(((l,c)=>Math.round(.5*l+.5*n[c])));return this.setSource([i,s,o,r[3]]),this}static fromRgb(e){return Et.fromRgba(e)}static fromRgba(e){return new Et(Et.sourceFromRgb(e))}static sourceFromRgb(e){const r=vy(e).match(/^rgba?\(\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d{0,3}(?:\.\d+)?%?)\s?)?\)$/i);if(r){const[n,i,s]=r.slice(1,4).map((o=>{const l=parseFloat(o);return o.endsWith("%")?Math.round(2.55*l):l}));return[n,i,s,VM(r[4])]}}static fromHsl(e){return Et.fromHsla(e)}static fromHsla(e){return new Et(Et.sourceFromHsl(e))}static sourceFromHsl(e){const r=vy(e).match(/^hsla?\(\s?([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d*(?:\.\d+)?%?)\s?)?\)$/i);if(!r)return;const n=(Et.parseAngletoDegrees(r[1])%360+360)%360/360,i=parseFloat(r[2])/100,s=parseFloat(r[3])/100;let o,l,c;if(i===0)o=l=c=s;else{const d=s<=.5?s*(i+1):s+i-s*i,f=2*s-d;o=Pj(f,d,n+1/3),l=Pj(f,d,n),c=Pj(f,d,n-1/3)}return[Math.round(255*o),Math.round(255*l),Math.round(255*c),VM(r[4])]}static fromHex(e){return new Et(Et.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=e.slice(e.indexOf("#")+1);let n;n=r.length<=4?r.split("").map((c=>c+c)):r.match(/.{2}/g);const[i,s,o,l=255]=n.map((c=>parseInt(c,16)));return[i,s,o,l/255]}}static parseAngletoDegrees(e){const r=e.toLowerCase(),n=parseFloat(r);return r.includes("rad")?va(n):r.includes("turn")?360*n:n}}const zn=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lk;const r=/\D{0,2}$/.exec(t),n=parseFloat(t),i=Nt.DPI;switch(r?.[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*e;default:return n}},jk=t=>{const[e,r]=t.trim().split(" "),[n,i]=(s=e)&&s!==Un?[s.slice(1,4),s.slice(5,8)]:s===Un?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:r||"meet",alignX:n,alignY:i}},pp=function(t,e){let r,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)r="url(#SVGID_".concat(e.id,")");else{const s=new Et(e),o=s.getAlpha();r=s.toRgb(),o!==1&&(n=o.toString())}else r="none";return i?"".concat(t,": ").concat(r,"; ").concat(n?"".concat(t,"-opacity: ").concat(n,"; "):""):"".concat(t,'="').concat(r,'" ').concat(n?"".concat(t,'-opacity="').concat(n,'" '):"")};class C6{getSvgStyles(e){const r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Un,s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",d=this.opacity!==void 0?this.opacity:"1",f=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),m=pp(Ir,this.fill);return[pp(qn,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",c,"; ",m,"fill-rule: ",r,"; ","opacity: ",d,";",h,f].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(rd(n));return"".concat(i).concat(r,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:r,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=i,r?r(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:r,reviver:n,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=r?"":'style="'.concat(this.getSvgStyles(),'" '),l=i?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",f=c&&c.absolutePositioned,h=this.stroke,m=this.fill,g=this.shadow,j=[],x=e.indexOf("COMMON_PARTS");let y;c&&(c.clipPathId="CLIPPATH_".concat(gl()),y='<clipPath id="'.concat(c.clipPathId,`" >
`).concat(c.toClipPathSVG(n),`</clipPath>
`)),f&&j.push("<g ",l,this.getSvgCommons(),` >
`),j.push("<g ",this.getSvgTransform(!1),f?"":l+this.getSvgCommons(),` >
`);const b=[o,d,r?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[x]=b,Qi(m)&&j.push(m.toSVG(this)),Qi(h)&&j.push(h.toSVG(this)),g&&j.push(g.toSVG(this)),c&&j.push(y),j.push(e.join("")),j.push(`</g>
`),f&&j.push(`</g>
`),n?n(j.join("")):j.join("")}addPaintOrder(){return this.paintFirst!==Ir?' paint-order="'.concat(this.paintFirst,'" '):""}}function b0(t){return new RegExp("^("+t.join("|")+")\\b","i")}const _c="textDecorationThickness",N6=["fontSize","fontWeight","fontFamily","fontStyle"],_6=["underline","overline","linethrough"],O6=[...N6,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],P6=[...O6,..._6,"textBackgroundColor","direction",_c],Kne=[...N6,..._6,qn,"strokeWidth",Ir,"deltaY","textBackgroundColor",_c],Jne={_reNewline:ck,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ht,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ht,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[_c]:66.667},sa="justify",yy="justify-left",Vh="justify-right",Gh="justify-center";var XM,YM,KM;const ks=String.raw(XM||(XM=ja(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),kj=String.raw(YM||(YM=ja(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),k_="http://www.w3.org/2000/svg",Zne=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+ks+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+ks+"))?\\s+(.*)"),Qne={cx:Ht,x:Ht,r:"radius",cy:ui,y:ui,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":_c},Tj="font-size",Aj="clip-path",eie=b0(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),tie=b0(["symbol","image","marker","pattern","view","svg"]),JM=b0(["symbol","g","a","svg","clipPath","defs"]),ZM=new RegExp(String.raw(KM||(KM=ja(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),ks,kj,ks,kj,ks,kj,ks)),rie=new pe(1,0),k6=new pe,Sk=(t,e)=>t.rotate(e),xy=(t,e)=>new pe(e).subtract(t),by=t=>t.distanceFrom(k6),wy=(t,e)=>Math.atan2(Hu(t,e),A6(t,e)),T6=t=>wy(rie,t),w0=t=>t.eq(k6)?t:t.scalarDivide(by(t)),Ck=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return w0(new pe(-t.y,t.x).scalarMultiply(e?1:-1))},Hu=(t,e)=>t.x*e.y-t.y*e.x,A6=(t,e)=>t.x*e.x+t.y*e.y,T_=(t,e,r)=>{if(t.eq(e)||t.eq(r))return!0;const n=Hu(e,r),i=Hu(e,t),s=Hu(r,t);return n>=0?i>=0&&s<=0:!(i<=0&&s>=0)},QM="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",eD=new RegExp("(?:\\s|^)"+QM+QM+"("+ks+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Ti{constructor(e){const r=typeof e=="string"?Ti.parseShadow(e):e;Object.assign(this,Ti.ownDefaults,r),this.id=gl()}static parseShadow(e){const r=e.trim(),[,n=0,i=0,s=0]=(eD.exec(r)||[]).map((o=>parseFloat(o)||0));return{color:(r.replace(eD,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const r=Sk(new pe(this.offsetX,this.offsetY),Sr(-e.angle)),n=new Et(this.color);let i=40,s=40;return e.width&&e.height&&(i=100*Kt((Math.abs(r.x)+this.blur)/e.width,Nt.NUM_FRACTION_DIGITS)+20,s=100*Kt((Math.abs(r.y)+this.blur)/e.height,Nt.NUM_FRACTION_DIGITS)+20),e.flipX&&(r.x*=-1),e.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Kt(this.blur?this.blur/2:0,Nt.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Kt(r.x,Nt.NUM_FRACTION_DIGITS),'" dy="').concat(Kt(r.y,Nt.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=Ti.ownDefaults;return this.includeDefaultValues?e:vk(e,((n,i)=>n!==r[i]))}static async fromObject(e){return new this(e)}}te(Ti,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),te(Ti,"type","shadow"),Fe.setClass(Ti,"shadow");const Oc=(t,e,r)=>Math.max(t,Math.min(e,r)),nie=[ui,Ht,Vn,Di,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Jd,Zd],ho=[Ir,qn,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],iie={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ht,originY:ui,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Ir,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Ej=(t,e,r,n)=>(t<Math.abs(e)?(t=e,n=r/4):n=e===0&&t===0?r/ao*Math.asin(1):r/ao*Math.asin(e/t),{a:t,c:e,p:r,s:n}),tD=(t,e,r,n,i)=>t*Math.pow(2,10*(n-=1))*Math.sin((n*i-e)*ao/r),E6=(t,e,r,n)=>-r*Math.cos(t/n*ml)+r+e,A_=(t,e,r,n)=>(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e,rD=(t,e,r,n)=>r-A_(n-t,0,r,n)+e;var sie=Object.freeze({__proto__:null,defaultEasing:E6,easeInBack:function(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return r*(t/=n)*t*((i+1)*t-i)+e},easeInBounce:rD,easeInCirc:(t,e,r,n)=>-r*(Math.sqrt(1-(t/=n)*t)-1)+e,easeInCubic:(t,e,r,n)=>r*(t/n)**3+e,easeInElastic:(t,e,r,n)=>{const i=r;let s=0;if(t===0)return e;if((t/=n)===1)return e+r;s||(s=.3*n);const{a:o,s:l,p:c}=Ej(i,r,s,1.70158);return-tD(o,l,c,t,n)+e},easeInExpo:(t,e,r,n)=>t===0?e:r*2**(10*(t/n-1))+e,easeInOutBack:function(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(t/=n/2)<1?r/2*(t*t*((1+(i*=1.525))*t-i))+e:r/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInOutBounce:(t,e,r,n)=>t<n/2?.5*rD(2*t,0,r,n)+e:.5*A_(2*t-n,0,r,n)+.5*r+e,easeInOutCirc:(t,e,r,n)=>(t/=n/2)<1?-r/2*(Math.sqrt(1-t**2)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e,easeInOutCubic:(t,e,r,n)=>(t/=n/2)<1?r/2*t**3+e:r/2*((t-2)**3+2)+e,easeInOutElastic:(t,e,r,n)=>{const i=r;let s=0;if(t===0)return e;if((t/=n/2)===2)return e+r;s||(s=n*(.3*1.5));const{a:o,s:l,p:c,c:d}=Ej(i,r,s,1.70158);return t<1?-.5*tD(o,l,c,t,n)+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-l)*ao/c)*.5+d+e},easeInOutExpo:(t,e,r,n)=>t===0?e:t===n?e+r:(t/=n/2)<1?r/2*2**(10*(t-1))+e:r/2*-(2**(-10*--t)+2)+e,easeInOutQuad:(t,e,r,n)=>(t/=n/2)<1?r/2*t**2+e:-r/2*(--t*(t-2)-1)+e,easeInOutQuart:(t,e,r,n)=>(t/=n/2)<1?r/2*t**4+e:-r/2*((t-=2)*t**3-2)+e,easeInOutQuint:(t,e,r,n)=>(t/=n/2)<1?r/2*t**5+e:r/2*((t-2)**5+2)+e,easeInOutSine:(t,e,r,n)=>-r/2*(Math.cos(Math.PI*t/n)-1)+e,easeInQuad:(t,e,r,n)=>r*(t/=n)*t+e,easeInQuart:(t,e,r,n)=>r*(t/=n)*t**3+e,easeInQuint:(t,e,r,n)=>r*(t/n)**5+e,easeInSine:(t,e,r,n)=>-r*Math.cos(t/n*ml)+r+e,easeOutBack:function(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeOutBounce:A_,easeOutCirc:(t,e,r,n)=>r*Math.sqrt(1-(t=t/n-1)*t)+e,easeOutCubic:(t,e,r,n)=>r*((t/n-1)**3+1)+e,easeOutElastic:(t,e,r,n)=>{const i=r;let s=0;if(t===0)return e;if((t/=n)===1)return e+r;s||(s=.3*n);const{a:o,s:l,p:c,c:d}=Ej(i,r,s,1.70158);return o*2**(-10*t)*Math.sin((t*n-l)*ao/c)+d+e},easeOutExpo:(t,e,r,n)=>t===n?e+r:r*-(2**(-10*t/n)+1)+e,easeOutQuad:(t,e,r,n)=>-r*(t/=n)*(t-2)+e,easeOutQuart:(t,e,r,n)=>-r*((t=t/n-1)*t**3-1)+e,easeOutQuint:(t,e,r,n)=>r*((t/n-1)**5+1)+e,easeOutSine:(t,e,r,n)=>r*Math.sin(t/n*ml)+e});const aie=()=>!1;class Nk{constructor(e){let{startValue:r,byValue:n,duration:i=500,delay:s=0,easing:o=E6,onStart:l=vc,onChange:c=vc,onComplete:d=vc,abort:f=aie,target:h}=e;te(this,"_state","pending"),te(this,"durationProgress",0),te(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=o,this._onStart=l,this._onChange=c,this._onComplete=d,this._abort=f,this.target=h,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout((()=>Uh(e)),this.delay):Uh(e)}tick(e){const r=(e||+new Date)-this.startTime,n=Math.min(r,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:s}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Uh(this.tick)))}register(){hp.push(this)}unregister(){hp.remove(this)}abort(){this._state="aborted",this.unregister()}}const oie=["startValue","endValue"];class lie extends Nk{constructor(e){let{startValue:r=0,endValue:n=100}=e;super(re(re({},lr(e,oie)),{},{startValue:r,byValue:n-r}))}calculate(e){const r=this.easing(e,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}}const cie=["startValue","endValue"];class uie extends Nk{constructor(e){let{startValue:r=[0],endValue:n=[100]}=e;super(re(re({},lr(e,cie)),{},{startValue:r,byValue:n.map(((i,s)=>i-r[s]))}))}calculate(e){const r=this.startValue.map(((n,i)=>this.easing(e,n,this.byValue[i],this.duration,i)));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}}const die=["startValue","endValue","easing","onChange","onComplete","abort"],fie=(t,e,r,n)=>e+r*(1-Math.cos(t/n*ml)),Mj=t=>t&&((e,r,n)=>t(new Et(e).toRgba(),r,n));class hie extends Nk{constructor(e){let{startValue:r,endValue:n,easing:i=fie,onChange:s,onComplete:o,abort:l}=e,c=lr(e,die);const d=new Et(r).getSource(),f=new Et(n).getSource();super(re(re({},c),{},{startValue:d,byValue:f.map(((h,m)=>h-d[m])),easing:i,onChange:Mj(s),onComplete:Mj(o),abort:Mj(l)}))}calculate(e){const[r,n,i,s]=this.startValue.map(((l,c)=>this.easing(e,l,this.byValue[c],this.duration,c))),o=[...[r,n,i].map(Math.round),Oc(0,s,1)];return{value:o,valueProgress:o.map(((l,c)=>this.byValue[c]!==0?Math.abs((l-this.startValue[c])/this.byValue[c]):0)).find((l=>l!==0))||0}}}function _k(t){const e=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(t)?new uie(t):new lie(t);return e.start(),e}function M6(t){const e=new hie(t);return e.start(),e}class fr{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some((r=>r.eq(e)))}append(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter((i=>!this.includes(i)))),this}static isPointContained(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(n))return e.eq(r);if(r.x===n.x)return e.x===r.x&&(i||e.y>=Math.min(r.y,n.y)&&e.y<=Math.max(r.y,n.y));if(r.y===n.y)return e.y===r.y&&(i||e.x>=Math.min(r.x,n.x)&&e.x<=Math.max(r.x,n.x));{const s=xy(r,n),o=xy(r,e).divide(s);return i?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,r){const n=new pe(e).setX(Math.min(e.x-1,...r.map((s=>s.x))));let i=0;for(let s=0;s<r.length;s++){const o=this.intersectSegmentSegment(r[s],r[(s+1)%r.length],e,n);if(o.includes(e))return!0;i+=+(o.status==="Intersection")}return i%2==1}static intersectLineLine(e,r,n,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const l=r.x-e.x,c=r.y-e.y,d=i.x-n.x,f=i.y-n.y,h=e.x-n.x,m=e.y-n.y,g=d*m-f*h,j=l*m-c*h,x=f*l-d*c;if(x!==0){const y=g/x,b=j/x;return(s||0<=y&&y<=1)&&(o||0<=b&&b<=1)?new fr("Intersection").append(new pe(e.x+y*l,e.y+y*c)):new fr}if(g===0||j===0){const y=s||o||fr.isPointContained(e,n,i)||fr.isPointContained(r,n,i)||fr.isPointContained(n,e,r)||fr.isPointContained(i,e,r);return new fr(y?"Coincident":void 0)}return new fr("Parallel")}static intersectSegmentLine(e,r,n,i){return fr.intersectLineLine(e,r,n,i,!1,!0)}static intersectSegmentSegment(e,r,n,i){return fr.intersectLineLine(e,r,n,i,!1,!1)}static intersectLinePolygon(e,r,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new fr,o=n.length;for(let l,c,d,f=0;f<o;f++){if(l=n[f],c=n[(f+1)%o],d=fr.intersectLineLine(e,r,l,c,i,!1),d.status==="Coincident")return d;s.append(...d.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,r,n){return fr.intersectLinePolygon(e,r,n,!1)}static intersectPolygonPolygon(e,r){const n=new fr,i=e.length,s=[];for(let o=0;o<i;o++){const l=e[o],c=e[(o+1)%i],d=fr.intersectSegmentPolygon(l,c,r);d.status==="Coincident"?(s.push(d),n.append(l,c)):n.append(...d.points)}return s.length>0&&s.length===e.length?new fr("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,r,n){const i=r.min(n),s=r.max(n),o=new pe(s.x,i.y),l=new pe(i.x,s.y);return fr.intersectPolygonPolygon(e,[i,o,s,l])}}class pie extends o6{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Pn(e,this.group.calcTransformMatrix()):e}setXY(e,r,n){this.group&&(e=Pn(e,li(this.group.calcTransformMatrix()))),this.setRelativeXY(e,r,n)}getRelativeXY(){return new pe(this.left,this.top)}setRelativeXY(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,r,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:r,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,r,n,i];if(this.group){const o=this.group.calcTransformMatrix();return s.map((l=>Pn(l,o)))}return s}intersectsWithRect(e,r){return fr.intersectPolygonRectangle(this.getCoords(),e,r).status==="Intersection"}intersectsWithObject(e){const r=fr.intersectPolygonPolygon(this.getCoords(),e.getCoords());return r.status==="Intersection"||r.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every((r=>e.containsPoint(r)))}isContainedWithinRect(e,r){const{left:n,top:i,width:s,height:o}=this.getBoundingRect();return n>=e.x&&n+s<=r.x&&i>=e.y&&i+o<=r.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return fr.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return!!this.getCoords().some((n=>n.x<=r.x&&n.x>=e.x&&n.y<=r.y&&n.y>=e.y))||!!this.intersectsWithRect(e,r)||this.containsPoint(e.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(e,r)?!0:this.getCoords().every((n=>(n.x>=r.x||n.x<=e.x)&&(n.y>=r.y||n.y<=e.y)))&&this.containsPoint(e.midPointFrom(r))}getBoundingRect(){return da(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Vn,e),this._set(Di,e),this.setCoords()}scaleToWidth(e){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/r)}scaleToHeight(e){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/r)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?va(d6(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||An.concat()}calcACoords(){const e=Rc({angle:this.angle}),{x:r,y:n}=this.getRelativeCenterPoint(),i=Qd(r,n),s=xr(i,e),o=this._getTransformedDimensions(),l=o.x/2,c=o.y/2;return{tl:Pn({x:-l,y:-c},s),tr:Pn({x:l,y:-c},s),bl:Pn({x:-l,y:c},s),br:Pn({x:l,y:c},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!e&&this.group&&(r=this.group.transformMatrixKey(e)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Dr(this.originX),Dr(this.originY)),r}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(e||!this.group)return r;const n=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every(((s,o)=>s===n[o]))?i.value:(this.group&&(r=xr(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:n,value:r},r)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===e)return r.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=h6(i);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new pe(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=re({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=r.strokeWidth;let i=n,s=0;this.strokeUniform&&(i=0,s=n);const o=r.width+i,l=r.height+i;let c;return c=r.skewX===0&&r.skewY===0?new pe(o*r.scaleX,l*r.scaleY):y0(o,l,wm(r)),c.scalarAdd(s)}translateToGivenOrigin(e,r,n,i,s){let o=e.x,l=e.y;const c=Dr(i)-Dr(r),d=Dr(s)-Dr(n);if(c||d){const f=this._getTransformedDimensions();o+=c*f.x,l+=d*f.y}return new pe(o,l)}translateToCenterPoint(e,r,n){if(r===lt&&n===lt)return e;const i=this.translateToGivenOrigin(e,r,n,lt,lt);return this.angle?i.rotate(Sr(this.angle),e):i}translateToOriginPoint(e,r,n){const i=this.translateToGivenOrigin(e,lt,lt,r,n);return this.angle?i.rotate(Sr(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Pn(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new pe(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,r)}setPositionByOrigin(e,r,n){const i=this.translateToCenterPoint(e,r,n),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ht,ui)}}const mie=["type"],gie=["extraParam"];let ra=class qv extends pie{static getDefaults(){return qv.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){so("warn","Setting type has no effect",e)}constructor(e){super(),te(this,"_cacheContext",null),Object.assign(this,qv.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=as(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const r=e.width,n=e.height,i=Nt.maxCacheSideLimit,s=Nt.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=Nt.perfLimitSizeTotal)return r<s&&(e.width=s),n<s&&(e.height=s),e;const o=r/n,[l,c]=Bu.limitDimsByArea(o),d=Oc(s,l,i),f=Oc(s,c,i);return r>d&&(e.zoomX/=r/d,e.width=d,e.capped=!0),n>f&&(e.zoomY/=n/f,e.height=f,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),n=r.x*e.x/this.scaleX,i=r.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:n,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,r=this._cacheContext,{width:n,height:i,zoomX:s,zoomY:o,x:l,y:c}=this._limitCacheSize(this._getCacheCanvasDimensions()),d=n!==e.width||i!==e.height,f=this.zoomX!==s||this.zoomY!==o;if(!e||!r)return!1;if(d||f){n!==e.width||i!==e.height?(e.width=n,e.height=i):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height));const h=l/2,m=c/2;return this.cacheTranslationX=Math.round(e.width/2-h)+h,this.cacheTranslationY=Math.round(e.height/2-m)+m,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(s,o),this.zoomX=s,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!r);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new pe(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=Nc(this.calcTransformMatrix());return new pe(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(r*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,r){e!==Vn&&e!==Di||(r=this._constrainScale(r)),e===Vn&&r<0?(this.flipX=!this.flipX,r*=-1):e==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):e!=="shadow"||!r||r instanceof Ti||(r=new Ti(r));const n=this[e]!==r;return this[e]=r,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s}=this,{width:o,height:l}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s,width:o,height:l,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===qn&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,r,n){e.save(),r.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,r,n){const i=this.fill,s=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=i,this.stroke=s}createClipPathLayer(e,r){const n=di(r),i=n.getContext("2d");if(i.translate(r.cacheTranslationX,r.cacheTranslationY),i.scale(r.zoomX,r.zoomY),e._cacheCanvas=n,r.parentClipPaths.forEach((s=>{s.transform(i)})),r.parentClipPaths.push(e),e.absolutePositioned){const s=li(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return e.transform(i),e.drawObject(i,!0,r),n}_drawClipPath(e,r,n){if(!r)return;r._transformDone=!0;const i=this.createClipPathLayer(r,n);this.drawClipPathOnCache(e,r,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,n=this._cacheContext;return!(!r||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,r){const n=r.stroke;n&&(e.lineWidth=r.strokeWidth,e.lineCap=r.strokeLineCap,e.lineDashOffset=r.strokeDashOffset,e.lineJoin=r.strokeLineJoin,e.miterLimit=r.strokeMiterLimit,Qi(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=r.stroke)}_setFillStyles(e,r){let{fill:n}=r;n&&(Qi(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,r){r&&r.length!==0&&e.setLineDash(r)}_setShadow(e){if(!this.shadow)return;const r=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,o]=n?.viewportTransform||An,l=s*i,c=o*i,d=r.nonScaling?new pe(1,1):this.getObjectScaling();e.shadowColor=r.color,e.shadowBlur=r.blur*Nt.browserShadowBlurConstant*(l+c)*(d.x+d.y)/4,e.shadowOffsetX=r.offsetX*l*d.x,e.shadowOffsetY=r.offsetY*c*d.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,r){if(!Qi(r))return{offsetX:0,offsetY:0};const n=r.gradientTransform||r.patternTransform,i=-this.width/2+r.offsetX||0,s=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,s):e.transform(1,0,0,1,i,s),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===qn?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const r=this.getObjectScaling();e.scale(1/r.x,1/r.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,r){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),o=i.x/this.scaleX/s,l=i.y/this.scaleY/s,c=di({width:Math.ceil(o),height:Math.ceil(l)}),d=c.getContext("2d");d&&(d.beginPath(),d.moveTo(0,0),d.lineTo(o,0),d.lineTo(o,l),d.lineTo(0,l),d.closePath(),d.translate(o/2,l/2),d.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(d,r),d.fillStyle=r.toLive(e),d.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(n=d.createPattern(c,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new pe(this.left+this.width/2,this.top+this.height/2)}clone(e){const r=this.toObject(e);return this.constructor.fromObject(r)}cloneAsImage(e){const r=this.toCanvasElement(e);return new(Fe.getClass("image"))(r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=xk(this),n=this.group,i=this.shadow,s=Math.abs,o=e.enableRetinaScaling?t6():1,l=(e.multiplier||1)*o,c=e.canvasProvider||(S=>new ef(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&x6(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&P_(this,this.getViewportTransform()),this.setCoords();const d=as(),f=this.getBoundingRect(),h=this.shadow,m=new pe;if(h){const S=h.blur,O=h.nonScaling?new pe(1,1):this.getObjectScaling();m.x=2*Math.round(s(h.offsetX)+S)*s(O.x),m.y=2*Math.round(s(h.offsetY)+S)*s(O.y)}const g=f.width+m.x,j=f.height+m.y;d.width=Math.ceil(g),d.height=Math.ceil(j);const x=c(d);e.format==="jpeg"&&(x.backgroundColor="#fff"),this.setPositionByOrigin(new pe(x.width/2,x.height/2),lt,lt);const y=this.canvas;x._objects=[this],this.set("canvas",x),this.setCoords();const b=x.toCanvasElement(l||1,e);return this.set("canvas",y),this.shadow=i,n&&(this.group=n),this.set(r),this.setCoords(),x._objects=[],x.destroy(),b}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return hk(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return pk(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:r,originX:n,originY:i}=this;if(r){const{x:s,y:o}=this.getRelativeCenterPoint();this.originX=lt,this.originY=lt,this.left=s,this.top=o}if(this.set("angle",e),r){const{x:s,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=s,this.top=o,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){hp.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Is().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,r){return Object.entries(e).reduce(((n,i)=>{let[s,o]=i;return n[s]=this._animate(s,o,r),n}),{})}_animate(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:o,startValue:l,onChange:c,onComplete:d}=n,f=re(re({},n),{},{target:this,startValue:l??i.reduce(((h,m)=>h[m]),this),endValue:r,abort:o?.bind(this),onChange:(h,m,g)=>{i.reduce(((j,x,y)=>(y===i.length-1&&(j[x]=h),j[x])),this),c&&c(h,m,g)},onComplete:(h,m,g)=>{this.setCoords(),d&&d(h,m,g)}});return s?M6(f):_k(f)}isDescendantOf(e){const{parent:r,group:n}=this;return r===e||n===e||!!r&&r.isDescendantOf(e)||!!n&&n!==r&&n.isDescendantOf(e)}getAncestors(){const e=[];let r=this;do r=r.parent,r&&e.push(r);while(r);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),n=e.getAncestors();if(r.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let i,s=0;s<r.length;s++){if(i=r[s],i===e)return{fork:[this,...r.slice(0,s)],otherFork:[],common:r.slice(s)};for(let o=0;o<n.length;o++){if(this===n[o])return{fork:[],otherFork:[e,...n.slice(0,o)],common:[this,...r]};if(i===n[o])return{fork:[this,...r.slice(0,s)],otherFork:[e,...n.slice(0,o)],common:r.slice(s)}}}return{fork:[this,...r],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const r=this.findCommonAncestors(e);return r&&!!r.common.length}isInFrontOf(e){if(this===e)return;const r=this.findCommonAncestors(e);if(r.fork.includes(e))return!0;if(r.otherFork.includes(this))return!1;const n=r.common[0]||this.canvas;if(!n)return;const i=r.fork.pop(),s=r.otherFork.pop(),o=n._objects.indexOf(i),l=n._objects.indexOf(s);return o>-1&&o>l}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(qv.customProperties,this.constructor.customProperties||[]);let r;const n=Nt.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:o,shadow:l,strokeDashArray:c,left:d,top:f,originX:h,originY:m,width:g,height:j,strokeWidth:x,strokeLineCap:y,strokeDashOffset:b,strokeLineJoin:S,strokeUniform:O,strokeMiterLimit:P,scaleX:C,scaleY:_,angle:k,flipX:A,flipY:M,opacity:D,visible:L,backgroundColor:W,fillRule:$,paintFirst:H,globalCompositeOperation:z,skewX:q,skewY:E}=this;i&&!i.excludeFromExport&&(r=i.toObject(e.concat("inverted","absolutePositioned")));const U=I=>Kt(I,n),B=re(re({},Ic(this,e)),{},{type:this.constructor.type,version:fy,originX:h,originY:m,left:U(d),top:U(f),width:U(g),height:U(j),fill:FM(s)?s.toObject():s,stroke:FM(o)?o.toObject():o,strokeWidth:U(x),strokeDashArray:c&&c.concat(),strokeLineCap:y,strokeDashOffset:b,strokeLineJoin:S,strokeUniform:O,strokeMiterLimit:U(P),scaleX:U(C),scaleY:U(_),angle:U(k),flipX:A,flipY:M,opacity:U(D),shadow:l&&l.toObject(),visible:L,backgroundColor:W,fillRule:$,paintFirst:H,globalCompositeOperation:z,skewX:U(q),skewY:U(E)},r?{clipPath:r}:null);return this.includeDefaultValues?B:this._removeDefaultValues(B)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const r=this.constructor.getDefaults(),n=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return vk(e,((i,s)=>{if(s===Ht||s===ui||s==="type")return!0;const o=n[s];return i!==o&&!(Array.isArray(i)&&Array.isArray(o)&&i.length===0&&o.length===0)}))}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let r=lr(e,mie),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,s=lr(n,gie);return jm(r,s).then((o=>i?(delete o[i],new this(r[i],o)):new this(o)))}static fromObject(e,r){return this._fromObject(e,r)}};te(ra,"stateProperties",nie),te(ra,"cacheProperties",ho),te(ra,"ownDefaults",iie),te(ra,"type","FabricObject"),te(ra,"colorProperties",[Ir,qn,"backgroundColor"]),te(ra,"customProperties",[]),Fe.setClass(ra),Fe.setClass(ra,"object");const jl=(t,e,r)=>(n,i,s,o)=>{const l=e(n,i,s,o);return l&&bk(t,re(re({},wk(n,i,s,o)),r)),l};function Lc(t){return(e,r,n,i)=>{const{target:s,originX:o,originY:l}=r,c=s.getRelativeCenterPoint(),d=s.translateToOriginPoint(c,o,l),f=t(e,r,n,i);return s.setPositionByOrigin(d,r.originX,r.originY),f}}const E_=jl(fp,Lc(((t,e,r,n)=>{const i=x0(e,e.originX,e.originY,r,n);if(Dr(e.originX)===Dr(lt)||Dr(e.originX)===Dr(Pr)&&i.x<0||Dr(e.originX)===Dr(Ht)&&i.x>0){const{target:s}=e,o=s.strokeWidth/(s.strokeUniform?s.scaleX:1),l=w6(e)?2:1,c=s.width,d=Math.abs(i.x*l/s.scaleX)-o;return s.set("width",Math.max(d,1)),c!==s.width}return!1})));function D6(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,l=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,c=l?qn:Ir,d=!l&&(n.cornerStrokeColor||i.cornerStrokeColor);let f,h=e,m=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",s>o?(f=s,t.scale(1,o/s),m=r*s/o):o>s?(f=o,t.scale(s/o,1),h=e*o/s):f=s,t.beginPath(),t.arc(h,m,f/2,0,ao,!1),t[c](),d&&t.stroke(),t.restore()}function R6(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,l=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,c=l?qn:Ir,d=!l&&(n.cornerStrokeColor||i.cornerStrokeColor),f=s/2,h=o/2;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,r);const m=i.getTotalAngle();t.rotate(Sr(m)),t["".concat(c,"Rect")](-f,-h,s,o),d&&t.strokeRect(-f,-h,s,o),t.restore()}class ai{constructor(e){te(this,"visible",!0),te(this,"actionName",m0),te(this,"angle",0),te(this,"x",0),te(this,"y",0),te(this,"offsetX",0),te(this,"offsetY",0),te(this,"sizeX",0),te(this,"sizeY",0),te(this,"touchSizeX",0),te(this,"touchSizeY",0),te(this,"cursorStyle","crosshair"),te(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,r,n,i){var s;let{tl:o,tr:l,br:c,bl:d}=i;return((s=r.canvas)===null||s===void 0?void 0:s.getActiveObject())===r&&r.isControlVisible(e)&&fr.isPointInPolygon(n,[o,l,c,d])}getActionHandler(e,r,n){return this.actionHandler}getMouseDownHandler(e,r,n){return this.mouseDownHandler}getMouseUpHandler(e,r,n){return this.mouseUpHandler}cursorStyleHandler(e,r,n){return r.cursorStyle}getActionName(e,r,n){return r.actionName}getVisibility(e,r){var n,i;return(n=(i=e._controlsVisibility)===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:this.visible}setVisibility(e,r,n){this.visible=e}positionHandler(e,r,n,i){return new pe(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(r)}calcCornerCoords(e,r,n,i,s,o){const l=g0([Qd(n,i),Rc({angle:e}),v0((s?this.touchSizeX:this.sizeX)||r,(s?this.touchSizeY:this.sizeY)||r)]);return{tl:new pe(-.5,-.5).transform(l),tr:new pe(.5,-.5).transform(l),br:new pe(.5,.5).transform(l),bl:new pe(-.5,.5).transform(l)}}render(e,r,n,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?D6.call(this,e,r,n,i,s):R6.call(this,e,r,n,i,s)}}const I6=(t,e,r)=>r.lockRotation?gy:e.cursorStyle,L6=jl(n6,Lc(((t,e,r,n)=>{let{target:i,ex:s,ey:o,theta:l,originX:c,originY:d}=e;const f=i.translateToOriginPoint(i.getRelativeCenterPoint(),c,d);if(As(i,"lockRotation"))return!1;const h=Math.atan2(o-f.y,s-f.x),m=Math.atan2(n-f.y,r-f.x);let g=va(m-h+l);if(i.snapAngle&&i.snapAngle>0){const x=i.snapAngle,y=i.snapThreshold||x,b=Math.ceil(g/x)*x,S=Math.floor(g/x)*x;Math.abs(g-S)<y?g=S:Math.abs(g-b)<y&&(g=b)}g<0&&(g=360+g),g%=360;const j=i.angle!==g;return i.angle=g,j})));function z6(t,e){const r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function F6(t,e,r){const n=As(t,"lockScalingX"),i=As(t,"lockScalingY");if(n&&i||!e&&(n||i)&&r||n&&e==="x"||i&&e==="y")return!0;const{width:s,height:o,strokeWidth:l}=t;return s===0&&l===0&&e!=="y"||o===0&&l===0&&e!=="x"}const vie=["e","se","s","sw","w","nw","n","ne","e"],ku=(t,e,r)=>{const n=z6(t,r);if(F6(r,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return gy;const i=j6(r,e);return"".concat(vie[i],"-resize")};function Ok(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,o=i.by,l=z6(t,s);let c,d,f,h,m,g;if(F6(s,o,l))return!1;if(e.gestureScale)d=e.scaleX*e.gestureScale,f=e.scaleY*e.gestureScale;else{if(c=x0(e,e.originX,e.originY,r,n),m=o!=="y"?Math.sign(c.x||e.signX||1):1,g=o!=="x"?Math.sign(c.y||e.signY||1):1,e.signX||(e.signX=m),e.signY||(e.signY=g),As(s,"lockScalingFlip")&&(e.signX!==m||e.signY!==g))return!1;if(h=s._getTransformedDimensions(),l&&!o){const y=Math.abs(c.x)+Math.abs(c.y),{original:b}=e,S=y/(Math.abs(h.x*b.scaleX/s.scaleX)+Math.abs(h.y*b.scaleY/s.scaleY));d=b.scaleX*S,f=b.scaleY*S}else d=Math.abs(c.x*s.scaleX/h.x),f=Math.abs(c.y*s.scaleY/h.y);w6(e)&&(d*=2,f*=2),e.signX!==m&&o!=="y"&&(e.originX=WM(e.originX),d*=-1,e.signX=m),e.signY!==g&&o!=="x"&&(e.originY=WM(e.originY),f*=-1,e.signY=g)}const j=s.scaleX,x=s.scaleY;return o?(o==="x"&&s.set(Vn,d),o==="y"&&s.set(Di,f)):(!As(s,"lockScalingX")&&s.set(Vn,d),!As(s,"lockScalingY")&&s.set(Di,f)),j!==s.scaleX||x!==s.scaleY}const xh=jl(p0,Lc(((t,e,r,n)=>Ok(t,e,r,n)))),$6=jl(p0,Lc(((t,e,r,n)=>Ok(t,e,r,n,{by:"x"})))),B6=jl(p0,Lc(((t,e,r,n)=>Ok(t,e,r,n,{by:"y"})))),yie=["target","ex","ey","skewingSide"],Dj={x:{counterAxis:"y",scale:Vn,skew:Jd,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Di,skew:Zd,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},xie=["ns","nesw","ew","nwse"],H6=(t,e,r)=>{if(e.x!==0&&As(r,"lockSkewingY")||e.y!==0&&As(r,"lockSkewingX"))return gy;const n=j6(r,e)%4;return"".concat(xie[n],"-resize")};function W6(t,e,r,n,i){const{target:s}=r,{counterAxis:o,origin:l,lockSkewing:c,skew:d,flip:f}=Dj[t];if(As(s,c))return!1;const{origin:h,flip:m}=Dj[o],g=Dr(r[h])*(s[m]?-1:1),j=-Math.sign(g)*(s[f]?-1:1),x=.5*-((s[d]===0&&x0(r,lt,lt,n,i)[t]>0||s[d]>0?1:-1)*j)+.5;return jl(i6,Lc(((b,S,O,P)=>(function(C,_,k){let{target:A,ex:M,ey:D,skewingSide:L}=_,W=lr(_,yie);const{skew:$}=Dj[C],H=k.subtract(new pe(M,D)).divide(new pe(A.scaleX,A.scaleY))[C],z=A[$],q=W[$],E=Math.tan(Sr(q)),U=C==="y"?A._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:A._getTransformedDimensions({scaleX:1,scaleY:1}).y,B=2*H*L/Math.max(U,1)+E,I=va(Math.atan(B));A.set($,I);const F=z!==A[$];if(F&&C==="y"){const{skewX:G,scaleX:Z}=A,K=A._getTransformedDimensions({skewY:z}),ae=A._getTransformedDimensions(),ie=G!==0?K.x/ae.x:1;ie!==1&&A.set(Vn,ie*Z)}return F})(t,S,new pe(O,P)))))(e,re(re({},r),{},{[l]:x,skewingSide:j}),n,i)}const U6=(t,e,r,n)=>W6("x",t,e,r,n),q6=(t,e,r,n)=>W6("y",t,e,r,n);function j0(t,e){return t[e.canvas.altActionKey]}const bh=(t,e,r)=>{const n=j0(t,r);return e.x===0?n?Jd:Di:e.y===0?n?Zd:Vn:""},uc=(t,e,r)=>j0(t,r)?H6(0,e,r):ku(t,e,r),M_=(t,e,r,n)=>j0(t,e.target)?q6(t,e,r,n):$6(t,e,r,n),D_=(t,e,r,n)=>j0(t,e.target)?U6(t,e,r,n):B6(t,e,r,n),Pk=()=>({ml:new ai({x:-.5,y:0,cursorStyleHandler:uc,actionHandler:M_,getActionName:bh}),mr:new ai({x:.5,y:0,cursorStyleHandler:uc,actionHandler:M_,getActionName:bh}),mb:new ai({x:0,y:.5,cursorStyleHandler:uc,actionHandler:D_,getActionName:bh}),mt:new ai({x:0,y:-.5,cursorStyleHandler:uc,actionHandler:D_,getActionName:bh}),tl:new ai({x:-.5,y:-.5,cursorStyleHandler:ku,actionHandler:xh}),tr:new ai({x:.5,y:-.5,cursorStyleHandler:ku,actionHandler:xh}),bl:new ai({x:-.5,y:.5,cursorStyleHandler:ku,actionHandler:xh}),br:new ai({x:.5,y:.5,cursorStyleHandler:ku,actionHandler:xh}),mtr:new ai({x:0,y:-.5,actionHandler:L6,cursorStyleHandler:I6,offsetY:-40,withConnection:!0,actionName:uk})}),V6=()=>({mr:new ai({x:.5,y:0,actionHandler:E_,cursorStyleHandler:uc,actionName:fp}),ml:new ai({x:-.5,y:0,actionHandler:E_,cursorStyleHandler:uc,actionName:fp})}),G6=()=>re(re({},Pk()),V6());class id extends ra{static getDefaults(){return re(re({},super.getDefaults()),id.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),id.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Pk()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const r=e._currentTransform,n=r.target,i=r.action;if(this===n&&i&&i.startsWith(m0))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[s,o]=n[i],l=this.controls[s];if(l.shouldActivate(s,this,e,r?o.touchCorner:o.corner))return this.__corner=s,{key:s,control:l,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),r=this.getCenterPoint(),n=Qd(r.x,r.y),i=Rc({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=xr(n,i),o=xr(e,s),l=xr(o,[1/e[0],0,0,1/e[3],0,0]),c=this.group?Nc(this.calcTransformMatrix()):void 0;c&&(c.scaleX=Math.abs(c.scaleX),c.scaleY=Math.abs(c.scaleY));const d=this._calculateCurrentDimensions(c),f={};return this.forEachControl(((h,m)=>{const g=h.positionHandler(d,l,this,h);f[m]=Object.assign(g,this._calcCornerCoords(h,g))})),f}_calcCornerCoords(e,r){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,r.x,r.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const r in this.controls)e(this.controls[r],r,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const r=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate(Sr(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,r){e.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=re({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,r),i.hasControls&&this.drawControlsConnectingLines(e,r),e.restore()}_renderControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,s=re({hasBorders:n,hasControls:i},r),o=this.getViewportTransform(),l=s.hasBorders,c=s.hasControls,d=xr(o,this.calcTransformMatrix()),f=Nc(d);e.save(),e.translate(f.translateX,f.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(f.angle-=180),e.rotate(Sr(this.group?f.angle:this.angle)),l&&this.drawBorders(e,f,r),c&&this.drawControls(e,r),e.restore()}drawBorders(e,r,n){let i;if(n&&n.forActiveSelection||this.group){const s=y0(this.width,this.height,wm(r)),o=this.isStrokeAccountedForInDimensions()?dk:(this.strokeUniform?new pe().scalarAdd(this.canvas?this.canvas.getZoom():1):new pe(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,n)}drawControlsConnectingLines(e,r){let n=!1;e.beginPath(),this.forEachControl(((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(n=!0,e.moveTo(i.x*r.x,i.y*r.y),e.lineTo(i.x*r.x+i.offsetX,i.y*r.y+i.offsetY))})),n&&e.stroke()}drawControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:o}=this,l=re({cornerStrokeColor:i,cornerDashArray:s,cornerColor:o},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=l.cornerColor,this.transparentCorners||(e.strokeStyle=l.cornerStrokeColor),this._setLineDash(e,l.cornerDashArray),this.forEachControl(((c,d)=>{if(c.getVisibility(this,d)){const f=this.oCoords[d];c.render(e,f.x,f.y,l,this)}})),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=r}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach((r=>{let[n,i]=r;return this.setControlVisible(n,i)}))}clearContextTop(e){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const n=this.canvas.viewportTransform;r.save(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(r);const i=this.width+4,s=this.height+4;return r.clearRect(-i/2,-s/2,i,s),e||r.restore(),r}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function X6(t,e){return e.forEach((r=>{Object.getOwnPropertyNames(r.prototype).forEach((n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}))})),t}te(id,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class cn extends id{}X6(cn,[C6]),Fe.setClass(cn),Fe.setClass(cn,"object");const Y6=(t,e,r,n)=>{const i=2*(n=Math.round(n))+1,{data:s}=t.getImageData(e-n,r-n,i,i);for(let o=3;o<s.length;o+=4)if(s[o]>0)return!1;return!0};class K6{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new pe(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new pe(1/this.options.scaleX,1/this.options.scaleY):new pe(1,1)}createSideVector(e,r){const n=xy(e,r);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,r,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,r,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const r=new pe(e);return r.y+=r.x*Math.tan(Sr(this.options.skewY)),r.x+=r.y*Math.tan(Sr(this.options.skewX)),r}scaleUnitVector(e,r){return e.multiply(this.strokeUniformScalar).scalarMultiply(r)}}const bie=new pe;class Wu extends K6{static getOrthogonalRotationFactor(e,r){const n=r?wy(e,r):T6(e);return Math.abs(n)<ml?-1:1}constructor(e,r,n,i){super(i),te(this,"AB",void 0),te(this,"AC",void 0),te(this,"alpha",void 0),te(this,"bisector",void 0),this.A=new pe(e),this.B=new pe(r),this.C=new pe(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=wy(this.AB,this.AC),this.bisector=w0(Sk(this.AB.eq(bie)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r),s=Ck(i),o=Wu.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,n*o)}projectBevel(){const e=[];return(this.alpha%ao==0?[this.B]:[this.B,this.C]).forEach((r=>{e.push(this.projectOrthogonally(this.A,r)),e.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))})),e}projectMiter(){const e=[],r=Math.abs(this.alpha),n=1/Math.sin(r/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),s=this.options.strokeUniform?by(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return by(i)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,r){const n=[],i=new pe(Wu.getOrthogonalRotationFactor(this.bisector),Wu.getOrthogonalRotationFactor(new pe(this.bisector.y,this.bisector.x)));return[new pe(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new pe(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach((s=>{T_(s,e,r)&&n.push(this.A.add(s))})),n}projectRoundWithSkew(e,r){const n=[],{skewX:i,skewY:s,scaleX:o,scaleY:l,strokeUniform:c}=this.options,d=new pe(Math.tan(Sr(i)),Math.tan(Sr(s))),f=this.strokeProjectionMagnitude,h=c?f/l/Math.sqrt(1/l**2+1/o**2*d.y**2):f/Math.sqrt(1+d.y**2),m=new pe(Math.sqrt(Math.max(f**2-h**2,0)),h),g=c?f/Math.sqrt(1+d.x**2*(1/l)**2/(1/o+1/o*d.x*d.y)**2):f/Math.sqrt(1+d.x**2/(1+d.x*d.y)**2),j=new pe(g,Math.sqrt(Math.max(f**2-g**2,0)));return[j,j.scalarMultiply(-1),m,m.scalarMultiply(-1)].map((x=>this.applySkew(c?x.multiply(this.strokeUniformScalar):x))).forEach((x=>{T_(x,e,r)&&n.push(this.applySkew(this.A).add(x))})),n}projectRound(){const e=[];e.push(...this.projectBevel());const r=this.alpha%ao==0,n=this.applySkew(this.A),i=e[r?0:2].subtract(n),s=e[r?1:0].subtract(n),o=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),l=Hu(i,o)>0,c=l?i:s,d=l?s:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(c,d)):e.push(...this.projectRoundNoSkew(c,d)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector})))}}class nD extends K6{constructor(e,r,n){super(n),this.A=new pe(e),this.T=new pe(r)}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r);return this.scaleUnitVector(Ck(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new pe(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else e.push(...new Wu(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const r=new pe(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(w0(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);e.push(i.add(r),i.subtract(r))}return e.map((r=>this.applySkew(r)))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((e=>({originPoint:this.A,projectedPoint:e})))}}const J6=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(t.length===0)return n;const i=t.reduce(((s,o)=>(s[s.length-1].eq(o)||s.push(new pe(o)),s)),[new pe(t[0])]);if(i.length===1)r=!0;else if(!r){const s=i[0],o=((l,c)=>{for(let d=l.length-1;d>=0;d--)if(c(l[d],d,l))return d;return-1})(i,(l=>!l.eq(s)));i.splice(o+1)}return i.forEach(((s,o,l)=>{let c,d;o===0?(d=l[1],c=r?s:l[l.length-1]):o===l.length-1?(c=l[o-1],d=r?s:l[0]):(c=l[o-1],d=l[o+1]),r&&l.length===1?n.push(...new nD(s,s,e).project()):!r||o!==0&&o!==l.length-1?n.push(...new Wu(s,c,d,e).project()):n.push(...new nD(s,o===0?d:c,e).project())})),n},kk=t=>{const e={};return Object.keys(t).forEach((r=>{e[r]={},Object.keys(t[r]).forEach((n=>{e[r][n]=re({},t[r][n])}))})),e},Z6=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let nh;const S0=t=>{if(nh||nh||(nh="Intl"in Ps()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),nh){const e=nh.segment(t);return Array.from(e).map((r=>{let{segment:n}=r;return n}))}return wie(t)},wie=t=>{const e=[];for(let r,n=0;n<t.length;n++)(r=jie(t,n))!==!1&&e.push(r);return e},jie=(t,e)=>{const r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1};var Sie=Object.freeze({__proto__:null,capitalize:function(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(t.charAt(0).toUpperCase()).concat(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:Z6,graphemeSplit:S0});const C0=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||r&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},Q6=(t,e)=>{const r=e.split(`
`),n=[];let i=-1,s={};t=kk(t);for(let o=0;o<r.length;o++){const l=S0(r[o]);if(t[o])for(let c=0;c<l.length;c++){i++;const d=t[o][c];d&&Object.keys(d).length>0&&(C0(s,d,!0)?n.push({start:i,end:i+1,style:d}):n[n.length-1].end++),s=d||{}}else i+=l.length,s={}}return n},e8=(t,e)=>{if(!Array.isArray(t))return kk(t);const r=e.split(ck),n={};let i=-1,s=0;for(let o=0;o<r.length;o++){const l=S0(r[o]);for(let c=0;c<l.length;c++)i++,t[s]&&t[s].start<=i&&i<t[s].end&&(n[o]=n[o]||{},n[o][c]=re({},t[s].style),i===t[s].end-1&&s++)}return n},Sl=["display","transform",Ir,"fill-opacity","fill-rule","opacity",qn,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function iD(t,e){const r=t.nodeName,n=t.getAttribute("class"),i=t.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+r,"i"),e=e.replace(o,""),i&&e.length&&(o=new RegExp("#"+i+s,"i"),e=e.replace(o,"")),n&&e.length){const l=n.split(" ");for(let c=l.length;c--;)o=new RegExp("\\."+l[c]+s,"i"),e=e.replace(o,"")}return e.length===0}function Cie(t,e){let r=!0;const n=iD(t,e.pop());return n&&e.length&&(r=(function(i,s){let o,l=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)l&&(o=s.pop()),l=iD(i=i.parentElement,o);return s.length===0})(t,e)),n&&r&&e.length===0}const Nie=t=>{var e;return(e=Qne[t])!==null&&e!==void 0?e:t},_ie=new RegExp("(".concat(ks,")"),"gi"),Oie=t=>vy(t.replace(_ie," $1 ").replace(/,/gi," "));var sD,aD,oD,lD,cD,uD,dD;const Fn="(".concat(ks,")"),Pie=String.raw(sD||(sD=ja(["(skewX)(",")"],["(skewX)\\(","\\)"])),Fn),kie=String.raw(aD||(aD=ja(["(skewY)(",")"],["(skewY)\\(","\\)"])),Fn),Tie=String.raw(oD||(oD=ja(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Fn,Fn,Fn),Aie=String.raw(lD||(lD=ja(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Fn,Fn),Eie=String.raw(cD||(cD=ja(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Fn,Fn),Mie=String.raw(uD||(uD=ja(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Fn,Fn,Fn,Fn,Fn,Fn),Tk="(?:".concat(Mie,"|").concat(Eie,"|").concat(Tie,"|").concat(Aie,"|").concat(Pie,"|").concat(kie,")"),Die="(?:".concat(Tk,"*)"),Rie=String.raw(dD||(dD=ja(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Die),Iie=new RegExp(Rie),Lie=new RegExp(Tk),zie=new RegExp(Tk,"g");function mp(t){const e=[];if(!(t=Oie(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!Iie.test(t))return[...An];for(const r of t.matchAll(zie)){const n=Lie.exec(r[0]);if(!n)continue;let i=An;const s=n.filter((j=>!!j)),[,o,...l]=s,[c,d,f,h,m,g]=l.map((j=>parseFloat(j)));switch(o){case"translate":i=Qd(c,d);break;case uk:i=Rc({angle:c},{x:d,y:f});break;case m0:i=v0(c,d);break;case Jd:i=mk(c);break;case Zd:i=gk(c);break;case"matrix":i=[c,d,f,h,m,g]}e.push(i)}return g0(e)}function Fie(t,e,r,n){const i=Array.isArray(e);let s,o=e;if(t!==Ir&&t!==qn||e!==Un){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")o=e===Un?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")o=r&&r.transformMatrix?xr(r.transformMatrix,mp(e)):mp(e);else if(t==="visible")o=e!==Un&&e!=="hidden",r&&r.visible===!1&&(o=!1);else if(t==="opacity")o=parseFloat(e),r&&r.opacity!==void 0&&(o*=r.opacity);else if(t==="textAnchor")o=e==="start"?Ht:e==="end"?Pr:lt;else if(t==="charSpacing"||t===_c)s=zn(e,n)/n*1e3;else if(t==="paintFirst"){const l=e.indexOf(Ir),c=e.indexOf(qn);o=Ir,(l>-1&&c>-1&&c<l||l===-1&&c>-1)&&(o=qn)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";s=i?e.map(zn):zn(e,n)}}else o="";return!i&&isNaN(s)?o:s}function t8(t,e){const r=t.match(Zne);if(!r)return;const n=r[1],i=r[3],s=r[4],o=r[5],l=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=zn(s)),l&&(e.fontFamily=l),o&&(e.lineHeight=o==="normal"?1:o)}function R_(t,e){t.replace(/;\s*$/,"").split(";").forEach((r=>{if(!r)return;const[n,i]=r.split(":");e[n.trim().toLowerCase()]=i.trim()}))}function r8(t){const e={},r=t.getAttribute("style");return r&&(typeof r=="string"?R_(r,e):(function(n,i){Object.entries(n).forEach((s=>{let[o,l]=s;l!==void 0&&(i[o.toLowerCase()]=l)}))})(r,e)),e}const $ie={stroke:"strokeOpacity",fill:"fillOpacity"};function Sa(t,e,r){if(!t)return{};let n,i={},s=lk;t.parentNode&&JM.test(t.parentNode.nodeName)&&(i=Sa(t.parentElement,e,r),i.fontSize&&(n=s=zn(i.fontSize)));const o=re(re(re({},e.reduce(((d,f)=>{const h=t.getAttribute(f);return h&&(d[f]=h),d}),{})),(function(d){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={};for(const m in f)Cie(d,m.split(" "))&&(h=re(re({},h),f[m]));return h})(t,r)),r8(t));o[Aj]&&t.setAttribute(Aj,o[Aj]),o[Tj]&&(n=zn(o[Tj],s),o[Tj]="".concat(n));const l={};for(const d in o){const f=Nie(d),h=Fie(f,o[d],i,n);l[f]=h}l&&l.font&&t8(l.font,l);const c=re(re({},i),l);return JM.test(t.nodeName)?c:(function(d){const f=cn.getDefaults();return Object.entries($ie).forEach((h=>{let[m,g]=h;if(d[g]===void 0||d[m]==="")return;if(d[m]===void 0){if(!f[m])return;d[m]=f[m]}if(d[m].indexOf("url(")===0)return;const j=new Et(d[m]);d[m]=j.setAlpha(Kt(j.getAlpha()*d[g],2)).toRgba()})),d})(c)}const Bie=["left","top","width","height","visible"],n8=["rx","ry"];class Ji extends cn{static getDefaults(){return re(re({},super.getDefaults()),Ji.ownDefaults)}constructor(e){super(),Object.assign(this,Ji.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:r}=this;e&&!r?this.ry=e:r&&!e&&(this.rx=r)}_render(e){const{width:r,height:n}=this,i=-r/2,s=-n/2,o=this.rx?Math.min(this.rx,r/2):0,l=this.ry?Math.min(this.ry,n/2):0,c=o!==0||l!==0;e.beginPath(),e.moveTo(i+o,s),e.lineTo(i+r-o,s),c&&e.bezierCurveTo(i+r-Fo*o,s,i+r,s+Fo*l,i+r,s+l),e.lineTo(i+r,s+n-l),c&&e.bezierCurveTo(i+r,s+n-Fo*l,i+r-Fo*o,s+n,i+r-o,s+n),e.lineTo(i+o,s+n),c&&e.bezierCurveTo(i+Fo*o,s+n,i,s+n-Fo*l,i,s+n-l),e.lineTo(i,s+l),c&&e.bezierCurveTo(i,s+Fo*l,i+Fo*o,s,i+o,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...n8,...e])}_toSVG(){const{width:e,height:r,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-r/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(r,`" />
`)]}static async fromElement(e,r,n){const i=Sa(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:o=0,width:l=0,height:c=0,visible:d=!0}=i,f=lr(i,Bie);return new this(re(re(re({},r),f),{},{left:s,top:o,width:l,height:c,visible:!!(d&&l&&c)}))}}te(Ji,"type","Rect"),te(Ji,"cacheProperties",[...ho,...n8]),te(Ji,"ownDefaults",{rx:0,ry:0}),te(Ji,"ATTRIBUTE_NAMES",[...Sl,"x","y","rx","ry","width","height"]),Fe.setClass(Ji),Fe.setSVGClass(Ji);const Ua="initialization",jy="added",Ak="removed",Sy="imperative",i8=(t,e)=>{const{strokeUniform:r,strokeWidth:n,width:i,height:s,group:o}=e,l=o&&o!==t?Sm(o.calcTransformMatrix(),t.calcTransformMatrix()):null,c=l?e.getRelativeCenterPoint().transform(l):e.getRelativeCenterPoint(),d=!e.isStrokeAccountedForInDimensions(),f=r&&d?b6(new pe(n,n),void 0,t.calcTransformMatrix()):dk,h=!r&&d?n:0,m=y0(i+h,s+h,g0([l,e.calcOwnMatrix()],!0)).add(f).scalarDivide(2);return[c.subtract(m),c.add(m)]};class Cm{calcLayoutResult(e,r){if(this.shouldPerformLayout(e))return this.calcBoundingBox(r,e)}shouldPerformLayout(e){let{type:r,prevStrategy:n,strategy:i}=e;return r===Ua||r===Sy||!!n&&i!==n}shouldLayoutClipPath(e){let{type:r,target:{clipPath:n}}=e;return r!==Ua&&n&&!n.absolutePositioned}getInitialSize(e,r){return r.size}calcBoundingBox(e,r){const{type:n,target:i}=r;if(n===Sy&&r.overrides)return r.overrides;if(e.length===0)return;const{left:s,top:o,width:l,height:c}=da(e.map((h=>i8(i,h))).reduce(((h,m)=>h.concat(m)),[])),d=new pe(l,c),f=new pe(s,o).add(d.scalarDivide(2));if(n===Ua){const h=this.getInitialSize(r,{size:d,center:f});return{center:f,relativeCorrection:new pe(0,0),size:h}}return{center:f.transform(i.calcOwnMatrix()),size:d}}}te(Cm,"type","strategy");class Cy extends Cm{shouldPerformLayout(e){return!0}}te(Cy,"type","fit-content"),Fe.setClass(Cy);const Hie=["strategy"],Wie=["target","strategy","bubbles","prevStrategy"],s8="layoutManager";class sd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Cy;te(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const r=re(re({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const n=this.getLayoutResult(r);n&&this.commitLayout(r,n),this.onAfterLayout(r,n),this._prevLayoutStrategy=r.strategy}attachHandlers(e,r){const{target:n}=r;return[py,r6,fp,n6,p0,i6,hy,s6,Wne].map((i=>e.on(i,(s=>this.performLayout(i===py?{type:"object_modified",trigger:i,e:s,target:n}:{type:"object_modifying",trigger:i,e:s,target:n})))))}subscribe(e,r){this.unsubscribe(e,r);const n=this.attachHandlers(e,r);this._subscriptions.set(e,n)}unsubscribe(e,r){(this._subscriptions.get(e)||[]).forEach((n=>n())),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach((r=>this.unsubscribe(r,e)))}subscribeTargets(e){e.targets.forEach((r=>this.subscribe(r,e)))}onBeforeLayout(e){const{target:r,type:n}=e,{canvas:i}=r;if(n===Ua||n===jy?this.subscribeTargets(e):n===Ak&&this.unsubscribeTargets(e),r.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:r,context:e}),n===Sy&&e.deep){const s=lr(e,Hie);r.forEachObject((o=>o.layoutManager&&o.layoutManager.performLayout(re(re({},s),{},{bubbles:!1,target:o}))))}}getLayoutResult(e){const{target:r,strategy:n,type:i}=e,s=n.calcLayoutResult(e,r.getObjects());if(!s)return;const o=i===Ua?new pe:r.getRelativeCenterPoint(),{center:l,correction:c=new pe,relativeCorrection:d=new pe}=s,f=o.subtract(l).add(c).transform(i===Ua?An:li(r.calcOwnMatrix()),!0).add(d);return{result:s,prevCenter:o,nextCenter:l,offset:f}}commitLayout(e,r){const{target:n}=e,{result:{size:i},nextCenter:s}=r;var o,l;n.set({width:i.x,height:i.y}),this.layoutObjects(e,r),e.type===Ua?n.set({left:(o=e.x)!==null&&o!==void 0?o:s.x+i.x*Dr(n.originX),top:(l=e.y)!==null&&l!==void 0?l:s.y+i.y*Dr(n.originY)}):(n.setPositionByOrigin(s,lt,lt),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,r){const{target:n}=e;n.forEachObject((i=>{i.group===n&&this.layoutObject(e,r,i)})),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,r,n.clipPath)}layoutObject(e,r,n){let{offset:i}=r;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(e,r){const{target:n,strategy:i,bubbles:s,prevStrategy:o}=e,l=lr(e,Wie),{canvas:c}=n;n.fire("layout:after",{context:e,result:r}),c&&c.fire("object:layout:after",{context:e,result:r,target:n});const d=n.parent;s&&d!=null&&d.layoutManager&&((l.path||(l.path=[])).push(n),d.layoutManager.performLayout(re(re({},l),{},{target:d}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach((r=>r.forEach((n=>n())))),e.clear()}toObject(){return{type:s8,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}Fe.setClass(sd,s8);const Uie=["type","objects","layoutManager"];class qie extends sd{performLayout(){}}class Ai extends fk(cn){static getDefaults(){return re(re({},super.getDefaults()),Ai.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),te(this,"_activeObjects",[]),te(this,"__objectSelectionTracker",void 0),te(this,"__objectSelectionDisposer",void 0),Object.assign(this,Ai.ownDefaults),this.setOptions(r),this.groupInit(e,r)}groupInit(e,r){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((i=>{this.enterGroup(i,!1)})),this.layoutManager=(n=r.layoutManager)!==null&&n!==void 0?n:new sd,this.layoutManager.performLayout({type:Ua,target:this,targets:[...e],x:r.left,y:r.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(so("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(so("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter(((r,n,i)=>this.canEnterGroup(r)&&i.indexOf(r)===n))}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(r),s=super.add(...i);return this._onAfterObjectsChange(jy,i),s}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(n),o=super.insertAt(e,...s);return this._onAfterObjectsChange(jy,s),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(Ak,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,r){this.exitGroup(e,r),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,r){this.layoutManager.performLayout({type:e,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,r){const n=this[e];return super._set(e,r),e==="canvas"&&n!==r&&(this._objects||[]).forEach((i=>{i._set(e,r)})),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,r){let{target:n}=r;const i=this._activeObjects;if(e)i.push(n),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(n);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(e,r){e&&this._watchObject(!1,r),e?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,r){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,r)}_enterGroup(e,r){r&&nd(e,xr(li(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,r){this._exitGroup(e,r),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,r){e._set("group",void 0),r||(nd(e,xr(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=cn.prototype.shouldCache.call(this);if(e){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,r,n){this._renderBackground(e);for(let s=0;s<this._objects.length;s++){var i;const o=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...li(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((e=>e.setCoords()))}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(re({target:this,type:Sy},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,r){const n=this.includeDefaultValues;return this._objects.filter((function(i){return!i.excludeFromExport})).map((function(i){const s=i.includeDefaultValues;i.includeDefaultValues=n;const o=i[e||"toObject"](r);return i.includeDefaultValues=s,o}))}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return re(re(re({},super.toObject(["subTargetCheck","interactive",...e])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((e=>{this._watchObject(!1,e),e.dispose()})),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const r=Ji.prototype._toSVG.call(this),n=r.indexOf("COMMON_PARTS");r[n]='for="group" ';const i=r.join("");return e?e(i):i}_toSVG(e){const r=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&r.push("		",n);for(let i=0;i<this._objects.length;i++)r.push("		",this._objects[i].toSVG(e));return r.push(`</g>
`),r}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),r].join("")}toClipPathSVG(e){const r=[],n=this._createSVGBgRect(e);n&&r.push("	",n);for(let i=0;i<this._objects.length;i++)r.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(r,{reviver:e})}static fromObject(e,r){let{type:n,objects:i=[],layoutManager:s}=e,o=lr(e,Uie);return Promise.all([td(i,r),jm(o,r)]).then((l=>{let[c,d]=l;const f=new this(c,re(re(re({},o),d),{},{layoutManager:new qie}));if(s){const h=Fe.getClass(s.type),m=Fe.getClass(s.strategy);f.layoutManager=new h(new m)}else f.layoutManager=new sd;return f.layoutManager.subscribeTargets({type:Ua,target:f,targets:f.getObjects()}),f.setCoords(),f}))}}te(Ai,"type","Group"),te(Ai,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Fe.setClass(Ai);const a8=(t,e)=>Math.min(e.width/t.width,e.height/t.height),o8=(t,e)=>Math.max(e.width/t.width,e.height/t.height),I_="\\s*,?\\s*",ih="".concat(I_,"(").concat(ks,")"),Vie="".concat(ih).concat(ih).concat(ih).concat(I_,"([01])").concat(I_,"([01])").concat(ih).concat(ih),Gie={m:"l",M:"L"},Xie=(t,e,r,n,i,s,o,l,c,d,f)=>{const h=Ls(t),m=zs(t),g=Ls(e),j=zs(e),x=r*i*g-n*s*j+o,y=n*i*g+r*s*j+l;return["C",d+c*(-r*i*m-n*s*h),f+c*(-n*i*m+r*s*h),x+c*(r*i*j+n*s*g),y+c*(n*i*j-r*s*g),x,y]},fD=(t,e,r,n)=>{const i=Math.atan2(e,t),s=Math.atan2(n,r);return s>=i?s-i:2*Math.PI-(i-s)};function L_(t,e,r,n,i,s,o,l){let c;if(Nt.cachesBoundsOfCurve&&(c=[...arguments].join(),Bu.boundsOfCurveCache[c]))return Bu.boundsOfCurveCache[c];const d=Math.sqrt,f=Math.abs,h=[],m=[[0,0],[0,0]];let g=6*t-12*r+6*i,j=-3*t+9*r-9*i+3*o,x=3*r-3*t;for(let P=0;P<2;++P){if(P>0&&(g=6*e-12*n+6*s,j=-3*e+9*n-9*s+3*l,x=3*n-3*e),f(j)<1e-12){if(f(g)<1e-12)continue;const M=-x/g;0<M&&M<1&&h.push(M);continue}const C=g*g-4*x*j;if(C<0)continue;const _=d(C),k=(-g+_)/(2*j);0<k&&k<1&&h.push(k);const A=(-g-_)/(2*j);0<A&&A<1&&h.push(A)}let y=h.length;const b=y,S=c8(t,e,r,n,i,s,o,l);for(;y--;){const{x:P,y:C}=S(h[y]);m[0][y]=P,m[1][y]=C}m[0][b]=t,m[1][b]=e,m[0][b+1]=o,m[1][b+1]=l;const O=[new pe(Math.min(...m[0]),Math.min(...m[1])),new pe(Math.max(...m[0]),Math.max(...m[1]))];return Nt.cachesBoundsOfCurve&&(Bu.boundsOfCurveCache[c]=O),O}const Yie=(t,e,r)=>{let[n,i,s,o,l,c,d,f]=r;const h=((m,g,j,x,y,b,S)=>{if(j===0||x===0)return[];let O=0,P=0,C=0;const _=Math.PI,k=S*ok,A=zs(k),M=Ls(k),D=.5*(-M*m-A*g),L=.5*(-M*g+A*m),W=j**2,$=x**2,H=L**2,z=D**2,q=W*$-W*H-$*z;let E=Math.abs(j),U=Math.abs(x);if(q<0){const ue=Math.sqrt(1-q/(W*$));E*=ue,U*=ue}else C=(y===b?-1:1)*Math.sqrt(q/(W*H+$*z));const B=C*E*L/U,I=-C*U*D/E,F=M*B-A*I+.5*m,G=A*B+M*I+.5*g;let Z=fD(1,0,(D-B)/E,(L-I)/U),K=fD((D-B)/E,(L-I)/U,(-D-B)/E,(-L-I)/U);b===0&&K>0?K-=2*_:b===1&&K<0&&(K+=2*_);const ae=Math.ceil(Math.abs(K/_*2)),ie=[],J=K/ae,fe=8/3*Math.sin(J/4)*Math.sin(J/4)/Math.sin(J/2);let oe=Z+J;for(let ue=0;ue<ae;ue++)ie[ue]=Xie(Z,oe,M,A,E,U,F,G,fe,O,P),O=ie[ue][5],P=ie[ue][6],Z=oe,oe+=J;return ie})(d-t,f-e,i,s,l,c,o);for(let m=0,g=h.length;m<g;m++)h[m][1]+=t,h[m][2]+=e,h[m][3]+=t,h[m][4]+=e,h[m][5]+=t,h[m][6]+=e;return h},l8=t=>{let e=0,r=0,n=0,i=0;const s=[];let o,l=0,c=0;for(const d of t){const f=[...d];let h;switch(f[0]){case"l":f[1]+=e,f[2]+=r;case"L":e=f[1],r=f[2],h=["L",e,r];break;case"h":f[1]+=e;case"H":e=f[1],h=["L",e,r];break;case"v":f[1]+=r;case"V":r=f[1],h=["L",e,r];break;case"m":f[1]+=e,f[2]+=r;case"M":e=f[1],r=f[2],n=f[1],i=f[2],h=["M",e,r];break;case"c":f[1]+=e,f[2]+=r,f[3]+=e,f[4]+=r,f[5]+=e,f[6]+=r;case"C":l=f[3],c=f[4],e=f[5],r=f[6],h=["C",f[1],f[2],l,c,e,r];break;case"s":f[1]+=e,f[2]+=r,f[3]+=e,f[4]+=r;case"S":o==="C"?(l=2*e-l,c=2*r-c):(l=e,c=r),e=f[3],r=f[4],h=["C",l,c,f[1],f[2],e,r],l=h[3],c=h[4];break;case"q":f[1]+=e,f[2]+=r,f[3]+=e,f[4]+=r;case"Q":l=f[1],c=f[2],e=f[3],r=f[4],h=["Q",l,c,e,r];break;case"t":f[1]+=e,f[2]+=r;case"T":o==="Q"?(l=2*e-l,c=2*r-c):(l=e,c=r),e=f[1],r=f[2],h=["Q",l,c,e,r];break;case"a":f[6]+=e,f[7]+=r;case"A":Yie(e,r,f).forEach((m=>s.push(m))),e=f[6],r=f[7];break;case"z":case"Z":e=n,r=i,h=["Z"]}h?(s.push(h),o=h[0]):o=""}return s},Ny=(t,e,r,n)=>Math.sqrt((r-t)**2+(n-e)**2),c8=(t,e,r,n,i,s,o,l)=>c=>{const d=c**3,f=(g=>3*g**2*(1-g))(c),h=(g=>3*g*(1-g)**2)(c),m=(g=>(1-g)**3)(c);return new pe(o*d+i*f+r*h+t*m,l*d+s*f+n*h+e*m)},u8=t=>t**2,d8=t=>2*t*(1-t),f8=t=>(1-t)**2,Kie=(t,e,r,n,i,s,o,l)=>c=>{const d=u8(c),f=d8(c),h=f8(c),m=3*(h*(r-t)+f*(i-r)+d*(o-i)),g=3*(h*(n-e)+f*(s-n)+d*(l-s));return Math.atan2(g,m)},Jie=(t,e,r,n,i,s)=>o=>{const l=u8(o),c=d8(o),d=f8(o);return new pe(i*l+r*c+t*d,s*l+n*c+e*d)},Zie=(t,e,r,n,i,s)=>o=>{const l=1-o,c=2*(l*(r-t)+o*(i-r)),d=2*(l*(n-e)+o*(s-n));return Math.atan2(d,c)},hD=(t,e,r)=>{let n=new pe(e,r),i=0;for(let s=1;s<=100;s+=1){const o=t(s/100);i+=Ny(n.x,n.y,o.x,o.y),n=o}return i},Qie=(t,e)=>{let r,n=0,i=0,s={x:t.x,y:t.y},o=re({},s),l=.01,c=0;const d=t.iterator,f=t.angleFinder;for(;i<e&&l>1e-4;)o=d(n),c=n,r=Ny(s.x,s.y,o.x,o.y),r+i>e?(n-=l,l/=2):(s=o,n+=l,i+=r);return re(re({},o),{},{angle:f(c)})},Ek=t=>{let e,r,n=0,i=0,s=0,o=0,l=0;const c=[];for(const d of t){const f={x:i,y:s,command:d[0],length:0};switch(d[0]){case"M":r=f,r.x=o=i=d[1],r.y=l=s=d[2];break;case"L":r=f,r.length=Ny(i,s,d[1],d[2]),i=d[1],s=d[2];break;case"C":e=c8(i,s,d[1],d[2],d[3],d[4],d[5],d[6]),r=f,r.iterator=e,r.angleFinder=Kie(i,s,d[1],d[2],d[3],d[4],d[5],d[6]),r.length=hD(e,i,s),i=d[5],s=d[6];break;case"Q":e=Jie(i,s,d[1],d[2],d[3],d[4]),r=f,r.iterator=e,r.angleFinder=Zie(i,s,d[1],d[2],d[3],d[4]),r.length=hD(e,i,s),i=d[3],s=d[4];break;case"Z":r=f,r.destX=o,r.destY=l,r.length=Ny(i,s,o,l),i=o,s=l}n+=r.length,c.push(r)}return c.push({length:n,x:i,y:s}),c},h8=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ek(t),n=0;for(;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;const i=r[n],s=e/i.length,o=t[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return re(re({},new pe(i.x,i.y).lerp(new pe(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return re(re({},new pe(i.x,i.y).lerp(new pe(o[1],o[2]),s)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return Qie(i,e)}},ese=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),pD=new RegExp(Vie,"g"),tse=new RegExp(ks,"gi"),rse={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},p8=t=>{var e;const r=[],n=(e=t.match(ese))!==null&&e!==void 0?e:[];for(const i of n){const s=i[0];if(s==="z"||s==="Z"){r.push([s]);continue}const o=rse[s.toLowerCase()];let l=[];if(s==="a"||s==="A"){pD.lastIndex=0;for(let c=null;c=pD.exec(i);)l.push(...c.slice(1))}else l=i.match(tse)||[];for(let c=0;c<l.length;c+=o){const d=new Array(o),f=Gie[s];d[0]=c>0&&f?f:s;for(let h=0;h<o;h++)d[h+1]=parseFloat(l[c+h]);r.push(d)}}return r},m8=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=new pe(t[0]),n=new pe(t[1]),i=1,s=0;const o=[],l=t.length,c=l>2;let d;for(c&&(i=t[2].x<n.x?-1:t[2].x===n.x?0:1,s=t[2].y<n.y?-1:t[2].y===n.y?0:1),o.push(["M",r.x-i*e,r.y-s*e]),d=1;d<l;d++){if(!r.eq(n)){const f=r.midPointFrom(n);o.push(["Q",r.x,r.y,f.x,f.y])}r=t[d],d+1<t.length&&(n=t[d+1])}return c&&(i=r.x>t[d-2].x?1:r.x===t[d-2].x?0:-1,s=r.y>t[d-2].y?1:r.y===t[d-2].y?0:-1),o.push(["L",r.x+i*e,r.y+s*e]),o},Mk=(t,e)=>t.map((r=>r.map(((n,i)=>i===0||e===void 0?n:Kt(n,e))).join(" "))).join(" ");function _y(t,e){const r=t.style;r&&e&&(typeof e=="string"?r.cssText+=";"+e:Object.entries(e).forEach((n=>{let[i,s]=n;return r.setProperty(i,s)})))}const dc=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;function g8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=e.onComplete||vc,n=new(Ps()).XMLHttpRequest,i=e.signal,s=function(){n.abort()},o=function(){i&&i.removeEventListener("abort",s),n.onerror=n.ontimeout=vc};if(i&&i.aborted)throw new ak("request");return i&&i.addEventListener("abort",s,{once:!0}),n.onreadystatechange=function(){n.readyState===4&&(o(),r(n),n.onreadystatechange=vc)},n.onerror=n.ontimeout=o,n.open("get",t,!0),n.send(),n}const Vv=(t,e)=>{let r=t._findCenterFromElement();t.transformMatrix&&((n=>{if(n.transformMatrix){const{scaleX:i,scaleY:s,angle:o,skewX:l}=Nc(n.transformMatrix);n.flipX=!1,n.flipY=!1,n.set(Vn,i),n.set(Di,s),n.angle=o,n.skewX=l,n.skewY=0}})(t),r=r.transform(t.transformMatrix)),delete t.transformMatrix,e&&(t.scaleX*=e.scaleX,t.scaleY*=e.scaleY,t.cropX=e.cropX,t.cropY=e.cropY,r.x+=e.offsetLeft,r.y+=e.offsetTop,t.width=e.width,t.height=e.height),t.setPositionByOrigin(r,lt,lt)};var nse=Object.freeze({__proto__:null,addTransformToObject:y6,animate:_k,animateColor:M6,applyTransformToObject:nd,calcAngleBetweenVectors:wy,calcDimensionsMatrix:wm,calcPlaneChangeMatrix:Sm,calcVectorRotation:T6,cancelAnimFrame:l6,capValue:Oc,composeMatrix:h6,copyCanvasElement:t=>{var e;const r=di(t);return(e=r.getContext("2d"))===null||e===void 0||e.drawImage(t,0,0),r},cos:Ls,createCanvasElement:as,createImage:c6,createRotateMatrix:Rc,createScaleMatrix:v0,createSkewXMatrix:mk,createSkewYMatrix:gk,createTranslateMatrix:Qd,createVector:xy,crossProduct:Hu,degreesToRadians:Sr,dotProduct:A6,ease:sie,enlivenObjectEnlivables:jm,enlivenObjects:td,findScaleToCover:o8,findScaleToFit:a8,getBoundsOfCurve:L_,getOrthonormalVector:Ck,getPathSegmentsInfo:Ek,getPointOnPath:h8,getPointer:v6,getRandomInt:dc,getRegularPolygonPath:(t,e)=>{const r=2*Math.PI/t;let n=-ml;t%2==0&&(n+=r/2);const i=new Array(t+1);for(let s=0;s<t;s++){const o=s*r+n,{x:l,y:c}=new pe(Ls(o),zs(o)).scalarMultiply(e);i[s]=[s===0?"M":"L",l,c]}return i[t]=["Z"],i},getSmoothPathFromPoints:m8,getSvgAttributes:t=>{const e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":return e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return e.concat(["offset","stop-color","stop-opacity"])}return e},getUnitVector:w0,groupSVGElements:(t,e)=>t&&t.length===1?t[0]:new Ai(t,e),hasStyleChanged:C0,invertTransform:li,isBetweenVectors:T_,isIdentityMatrix:u6,isTouchEvent:my,isTransparent:Y6,joinPath:Mk,loadImage:qh,magnitude:by,makeBoundingBoxFromPoints:da,makePathSimpler:l8,matrixToSVG:rd,mergeClipPaths:(t,e)=>{var r;let n=t,i=e;n.inverted&&!i.inverted&&(n=e,i=t),P_(i,(r=i.group)===null||r===void 0?void 0:r.calcTransformMatrix(),n.calcTransformMatrix());const s=n.inverted&&i.inverted;return s&&(n.inverted=i.inverted=!1),new Ai([n],{clipPath:i,inverted:s})},multiplyTransformMatrices:xr,multiplyTransformMatrixArray:g0,parsePath:p8,parsePreserveAspectRatioAttribute:jk,parseUnit:zn,pick:Ic,projectStrokeOnPoints:J6,qrDecompose:Nc,radiansToDegrees:va,removeFromArray:ac,removeTransformFromObject:(t,e)=>{const r=li(e),n=xr(r,t.calcOwnMatrix());nd(t,n)},removeTransformMatrixForSvgParsing:Vv,request:g8,requestAnimFrame:Uh,resetObjectTransform:x6,rotatePoint:(t,e,r)=>t.rotate(r,e),rotateVector:Sk,saveObjectTransform:xk,sendObjectToPlane:P_,sendPointToPlane:Ka,sendVectorToPlane:b6,setStyle:_y,sin:zs,sizeAfterTransform:y0,string:Sie,stylesFromArray:e8,stylesToArray:Q6,toBlob:pk,toDataURL:hk,toFixed:Kt,transformPath:(t,e,r)=>(r&&(e=xr(e,[1,0,0,1,-r.x,-r.y])),t.map((n=>{const i=[...n];for(let s=1;s<n.length-1;s+=2){const{x:o,y:l}=Pn({x:n[s],y:n[s+1]},e);i[s]=o,i[s+1]=l}return i}))),transformPoint:Pn});class v8 extends yk{constructor(e){let{allowTouchScrolling:r=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),te(this,"upper",void 0),te(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:r}),this.applyCanvasStyle(s,{allowTouchScrolling:r,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(n),i.parentNode&&i.parentNode.replaceChild(o,i),o.append(i,s),this.container=o}createUpperCanvas(){const{el:e}=this.lower,r=as();return r.className=e.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=e.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const e=Dc().createElement("div");return e.setAttribute("data-fabric","wrapper"),_y(e,{position:"relative"}),BM(e),e}applyCanvasStyle(e,r){const{styles:n,allowTouchScrolling:i}=r;_y(e,re(re({},n),{},{"touch-action":i?"manipulation":Un})),BM(e)}setDimensions(e,r){super.setDimensions(e,r);const{el:n,ctx:i}=this.upper;g6(n,i,e,r)}setCSSDimensions(e){super.setCSSDimensions(e),O_(this.upper.el,e),O_(this.container,e)}cleanupDOM(e){const r=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),r.removeChild(i),r.removeChild(n),r.parentNode&&r.parentNode.replaceChild(n,r)}dispose(){super.dispose(),Is().dispose(this.upper.el),delete this.upper,delete this.container}}class N0 extends ef{constructor(){super(...arguments),te(this,"targets",[]),te(this,"_hoveredTargets",[]),te(this,"_currentTransform",null),te(this,"_groupSelector",null),te(this,"contextTopDirty",!1)}static getDefaults(){return re(re({},super.getDefaults()),N0.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new v8(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter((r=>!r.group&&r!==e)).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const r=this.getRetinaScaling(),n=Math.ceil((2*e+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(r,r)}isTargetTransparent(e,r,n){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-r+i,-n+i),s.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=o,s.restore();const l=Math.round(i*this.getRetinaScaling());return Y6(s,l,l,l)}_isSelectionKeyPressed(e){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find((n=>!!n&&e[n]===!0)):e[r])}_shouldClearSelection(e,r){const n=this.getActiveObjects(),i=this._activeObject;return!!(!r||r&&i&&n.length>1&&n.indexOf(r)===-1&&i!==r&&!this._isSelectionKeyPressed(e)||r&&!r.evented||r&&!r.selectable&&i&&i!==r)}_shouldCenterTransform(e,r,n){if(!e)return;let i;return r===m0||r===Vn||r===Di||r===fp?i=this.centeredScaling||e.centeredScaling:r===uk&&(i=this.centeredRotation||e.centeredRotation),i?!n:n}_getOriginFromCorner(e,r){const n={x:e.originX,y:e.originY};return r&&(["ml","tl","bl"].includes(r)?n.x=Pr:["mr","tr","br"].includes(r)&&(n.x=Ht),["tl","mt","tr"].includes(r)?n.y=__:["bl","mb","br"].includes(r)&&(n.y=ui)),n}_setupCurrentTransform(e,r,n){var i;const s=r.group?Ka(this.getScenePoint(e),void 0,r.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:l}=r.getActiveControl()||{},c=n&&l?(i=l.getActionHandler(e,r,l))===null||i===void 0?void 0:i.bind(l):S6,d=((g,j,x,y)=>{if(!j||!g)return"drag";const b=y.controls[j];return b.getActionName(x,b,y)})(n,o,e,r),f=e[this.centeredKey],h=this._shouldCenterTransform(r,d,f)?{x:lt,y:lt}:this._getOriginFromCorner(r,o),m={target:r,action:d,actionHandler:c,actionPerformed:!1,corner:o,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:s.x-r.left,offsetY:s.y-r.top,originX:h.x,originY:h.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:Sr(r.angle),width:r.width,height:r.height,shiftKey:e.shiftKey,altKey:f,original:re(re({},xk(r)),{},{originX:h.x,originY:h.y})};this._currentTransform=m,this.fire("before:transform",{e,transform:m})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,o=new pe(r,n).transform(this.viewportTransform),l=new pe(r+i,n+s).transform(this.viewportTransform),c=this.selectionLineWidth/2;let d=Math.min(o.x,l.x),f=Math.min(o.y,l.y),h=Math.max(o.x,l.x),m=Math.max(o.y,l.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(d,f,h-d,m-f)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,d+=c,f+=c,h-=c,m-=c,cn.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(d,f,h-d,m-f))}findTarget(e){if(this.skipTargetFind)return;const r=this.getViewportPoint(e),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(r,my(e))||i.length>1&&this.searchPossibleTargets([n],r))return n;if(n===this.searchPossibleTargets([n],r)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&o&&o!==n?(this.targets=s,n):o}return n}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(e,r){let n=e.getCoords();const i=this.getZoom(),s=e.padding/i;if(s){const[o,l,c,d]=n,f=Math.atan2(l.y-o.y,l.x-o.x),h=Ls(f)*s,m=zs(f)*s,g=h+m,j=h-m;n=[new pe(o.x-j,o.y-g),new pe(l.x+g,l.y-j),new pe(c.x+j,c.y+g),new pe(d.x-g,d.y+j)]}return fr.isPointInPolygon(r,n)}_checkTarget(e,r){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Ka(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,r.x,r.y)))}_searchPossibleTargets(e,r){let n=e.length;for(;n--;){const i=e[n];if(this._checkTarget(i,r)){if(Uv(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,r);s&&this.targets.push(s)}return i}}}searchPossibleTargets(e,r){const n=this._searchPossibleTargets(e,r);if(n&&Uv(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const o=i[s];if(!Uv(o)||!o.interactive)return o}return i[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let s=v6(e),o=i.width||0,l=i.height||0;o&&l||(ui in i&&__ in i&&(l=Math.abs(i.top-i.bottom)),Pr in i&&Ht in i&&(o=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,r||(s=Ka(s,void 0,this.viewportTransform));const c=this.getRetinaScaling();c!==1&&(s.x/=c,s.y/=c);const d=o===0||l===0?new pe(1,1):new pe(n.width/o,n.height/l);return s.multiply(d)}_setDimensionsImpl(e,r){this._resetTransformEventData(),super._setDimensionsImpl(e,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=as(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return oc(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,r){let n=!1,i=!1;const s=this.getActiveObjects(),o=[],l=[];e.forEach((c=>{s.includes(c)||(n=!0,c.fire("deselected",{e:r,target:c}),l.push(c))})),s.forEach((c=>{e.includes(c)||(n=!0,c.fire("selected",{e:r,target:c}),o.push(c))})),e.length>0&&s.length>0?(i=!0,n&&this.fire("selection:updated",{e:r,selected:o,deselected:l})):s.length>0?(i=!0,this.fire("selection:created",{e:r,selected:o})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:r,deselected:l})),i&&(this._objectsToRender=void 0)}setActiveObject(e,r){const n=this.getActiveObjects(),i=this._setActiveObject(e,r);return this._fireSelectionEvents(n,r),i}_setActiveObject(e,r){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(r,e)&&this._activeObject)&&!e.onSelect({e:r})&&(this._activeObject=e,oc(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,r){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:r})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),oc(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const r=this.getActiveObjects(),n=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(r,e),i}endCurrentTransform(e){const r=this._currentTransform;this._finalizeCurrentTransform(e),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const r=this._currentTransform,n=r.target,i={e,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),r.actionPerformed&&(this.fire("object:modified",i),n.fire(py,i))}setViewportTransform(e){super.setViewportTransform(e);const r=this._activeObject;r&&r.setCoords()}destroy(){const e=this._activeObject;oc(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const r=this._activeObject;r&&r._renderControls(e)}_toObject(e,r,n){const i=this._realizeGroupTransformOnObject(e),s=super._toObject(e,r,n);return e.set(i),s}_realizeGroupTransformOnObject(e){const{group:r}=e;if(r&&oc(r)&&this._activeObject===r){const n=Ic(e,["angle","flipX","flipY",Ht,Vn,Di,Jd,Zd,ui]);return y6(e,r.calcOwnMatrix()),n}return{}}_setSVGObject(e,r,n){const i=this._realizeGroupTransformOnObject(r);super._setSVGObject(e,r,n),r.set(i)}}te(N0,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class ise{constructor(e){te(this,"targets",[]),te(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},n=e.upperCanvasEl;n.addEventListener("click",r),this.__disposer=()=>n.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach((e=>{e.isEditing&&e.exitEditing()}))}add(e){this.targets.push(e)}remove(e){this.unregister(e),ac(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const sse=["target","oldTarget","fireCanvas","e"],wi={passive:!1},ju=(t,e)=>{const r=t.getViewportPoint(e),n=t.getScenePoint(e);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},$o=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.addEventListener(...r)},Ui=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.removeEventListener(...r)},ase={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class gp extends N0{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),te(this,"_isClick",void 0),te(this,"textEditingManager",new ise(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((r=>{this[r]=this[r].bind(this)})),this.addOrRemove($o,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,r){const n=this.upperCanvasEl,i=this._getEventPrefix();e(m6(n),"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,"".concat(i,"move"),this._onMouseMove,wi),e(n,"".concat(i,"out"),this._onMouseOut),e(n,"".concat(i,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel,{passive:!1}),e(n,"contextmenu",this._onContextMenu),e(n,"click",this._onClick),e(n,"dblclick",this._onClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,wi)}removeListeners(){this.addOrRemove(Ui,"remove");const e=this._getEventPrefix(),r=_s(this.upperCanvasEl);Ui(r,"".concat(e,"up"),this._onMouseUp),Ui(r,"touchend",this._onTouchEnd,wi),Ui(r,"".concat(e,"move"),this._onMouseMove,wi),Ui(r,"touchmove",this._onMouseMove,wi),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const r=this._hoveredTarget,n=re({e},ju(this,e));this.fire("mouse:out",re(re({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",re({},n)),this._hoveredTargets.forEach((i=>{this.fire("mouse:out",re(re({},n),{},{target:i})),i&&i.fire("mouseout",re({},n))})),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",re({e},ju(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(e)){this._dragSource=r;const n={e,target:r};return this.fire("dragstart",n),r.fire("dragstart",n),void $o(this.upperCanvasEl,"drag",this._onDragProgress)}HM(e)}_renderDragEffects(e,r,n){let i=!1;const s=this._dropTarget;s&&s!==r&&s!==n&&(s.clearContextTop(),i=!0),r?.clearContextTop(),n!==r&&n?.clearContextTop();const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),r&&(o.save(),r.transform(o),r.renderDragSourceEffect(e),o.restore(),i=!0),n&&(o.save(),n.transform(o),n.renderDropTargetEffect(e),o.restore(),i=!0),o.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const r=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Un,n=r?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:n};Ui(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const r={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const r="dragover",{target:n,targets:i}=this.findDragTargets(e),s=this._dragSource,o={e,target:n,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let l;this.fire(r,o),this._fireEnterLeaveEvents(n,o),n&&(n.canDrop(e)&&(l=n),n.fire(r,o));for(let c=0;c<i.length;c++){const d=i[c];d.canDrop(e)&&(l=d),d.fire(r,o)}this._renderDragEffects(e,s,l),this._dropTarget=l}_onDragEnter(e){const{target:r,targets:n}=this.findDragTargets(e),i={e,target:r,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(r,i)}_onDragLeave(e){const r={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:r,targets:n}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",re({e,target:r,subTargets:n,dragSource:this._dragSource},ju(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const r=this.findTarget(e),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:r,subTargets:n});return this.stopContextMenu&&HM(e),this._basicEventHandler("contextmenu",i),!1}_onClick(e){const r=e.detail;r>3||r<2||(this._cacheTransformEventData(e),r==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),r==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const r=e.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let r=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(r=!0),r&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),o=_s(i);$o(o,"touchend",this._onTouchEnd,wi),r&&$o(o,"touchmove",this._onMouseMove,wi),Ui(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();Ui(r,"".concat(n,"move"),this._onMouseMove,wi);const i=_s(r);$o(i,"".concat(n,"up"),this._onMouseUp),$o(i,"".concat(n,"move"),this._onMouseMove,wi)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),n=_s(this.upperCanvasEl);Ui(n,"touchend",this._onTouchEnd,wi),Ui(n,"touchmove",this._onMouseMove,wi),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((()=>{$o(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0}),400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const i=_s(this.upperCanvasEl);Ui(i,"".concat(n,"up"),this._onMouseUp),Ui(i,"".concat(n,"move"),this._onMouseMove,wi),$o(r,"".concat(n,"move"),this._onMouseMove,wi)}}_onMouseMove(e){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const r=this.getActiveObject();return!!r!=!!e||r&&e&&r!==e}__onMouseUp(e){var r;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,i=this._isClick,s=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let l,c,d=!1;if(n&&(this._finalizeCurrentTransform(e),d=n.actionPerformed),!i){const f=s===this._activeObject;this.handleSelection(e),d||(d=this._shouldRender(s)||!f&&s===this._activeObject)}if(s){const f=s.findControl(this.getViewportPoint(e),my(e)),{key:h,control:m}=f||{};if(c=h,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),d=!0;else if(m){const g=m.getMouseUpHandler(e,s,m);g&&(l=this.getScenePoint(e),g.call(m,e,n,l.x,l.y))}s.isMoving=!1}if(n&&(n.target!==s||n.corner!==c)){const f=n.target&&n.target.controls[n.corner],h=f&&f.getMouseUpHandler(e,n.target,f);l=l||this.getScenePoint(e),h&&h.call(f,e,n,l.x,l.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),d?this.requestRenderAll():i||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(e,r){const{target:n,subTargets:i=[]}=r;this.fire(e,r),n&&n.fire(e,r);for(let s=0;s<i.length;s++)i[s]!==n&&i[s].fire(e,r);return r}_handleEvent(e,r,n){const i=this._target,s=this.targets||[],o=re(re(re({e,target:i,subTargets:s},ju(this,e)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),r==="down:before"||r==="down"?n:{});this.fire("mouse:".concat(r),o),i&&i.fire("mouse".concat(r),o);for(let l=0;l<s.length;l++)s[l]!==i&&s[l].fire("mouse".concat(r),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e,pointer:r}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const r=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let r=this._target,n=!!r&&r===this._activeObject;const{button:i}=e;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(e,"down",{alreadySelected:n}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let s=this._shouldRender(r),o=!1;if(this.handleMultiSelection(e,r)?(r=this._activeObject,o=!0,s=!0):this._shouldClearSelection(e,r)&&this.discardActiveObject(e),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const l=this.getScenePoint(e);this._groupSelector={x:l.x,y:l.y,deltaY:0,deltaX:0}}if(n=!!r&&r===this._activeObject,r){r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,e);const l=r.findControl(this.getViewportPoint(e),my(e));if(r===this._activeObject&&(l||!o)){this._setupCurrentTransform(e,r,n);const c=l?l.control:void 0,d=this.getScenePoint(e),f=c&&c.getMouseDownHandler(e,r,c);f&&f.call(c,e,this._currentTransform,d.x,d.y)}}s&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:n}),s&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Ka(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const r=this._groupSelector;if(r){const n=this.getScenePoint(e);r.deltaX=n.x-r.x,r.deltaY=n.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,r){const n=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:r,oldTarget:n,fireCanvas:!0});for(let l=0;l<o;l++)s[l]===r||i[l]&&i[l]===n||this.fireSyntheticInOutEvents("mouse",{e,target:s[l],oldTarget:i[l]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,r){const n=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",re(re({},r),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let l=0;l<o;l++)this.fireSyntheticInOutEvents("drag",re(re({},r),{},{target:s[l],oldTarget:i[l]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,r){let{target:n,oldTarget:i,fireCanvas:s,e:o}=r,l=lr(r,sse);const{targetIn:c,targetOut:d,canvasIn:f,canvasOut:h}=ase[e],m=i!==n;if(i&&m){const g=re(re({},l),{},{e:o,target:i,nextTarget:n},ju(this,o));s&&this.fire(h,g),i.fire(d,g)}if(n&&m){const g=re(re({},l),{},{e:o,target:n,previousTarget:i},ju(this,o));s&&this.fire(f,g),n.fire(c,g)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const r=this.getScenePoint(e),n=this._currentTransform,i=n.target,s=i.group?Ka(r,void 0,i.group.calcTransformMatrix()):r;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,s),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,r,n){const{action:i,actionHandler:s,target:o}=r,l=!!s&&s(e,r,n.x,n.y);l&&o.setCoords(),i==="drag"&&l&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||l}_setCursorFromEvent(e,r){if(!r)return void this.setCursor(this.defaultCursor);let n=r.hoverCursor||this.hoverCursor;const i=oc(this._activeObject)?this._activeObject:null,s=(!i||r.group!==i)&&r.findControl(this.getViewportPoint(e));if(s){const o=s.control;this.setCursor(o.cursorStyleHandler(e,o,r))}else r.subTargetCheck&&this.targets.concat().reverse().map((o=>{n=o.hoverCursor||n})),this.setCursor(n)}handleMultiSelection(e,r){const n=this._activeObject,i=oc(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&r&&r.selectable&&(n!==r||i)&&(i||!r.isDescendantOf(n)&&!n.isDescendantOf(r))&&!r.onSelect({e})&&!n.getActiveControl()){if(i){const s=n.getObjects();if(r===n){const o=this.getViewportPoint(e);if(!(r=this.searchPossibleTargets(s,o)||this.searchPossibleTargets(this._objects,o))||!r.selectable)return!1}r.group===n?(n.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(r),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{n.isEditing&&n.exitEditing();const s=new(Fe.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(n,r),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,o=new pe(r,n),l=o.add(new pe(i,s)),c=o.min(l),d=o.max(l).subtract(c),f=this.collectObjects({left:c.x,top:c.y,width:d.x,height:d.y},{includeIntersecting:!this.selectionFullyContained}),h=o.eq(l)?f[0]?[f[0]]:[]:f.length>1?f.filter((m=>!m.onSelect({e}))).reverse():f;if(h.length===1)this.setActiveObject(h[0],e);else if(h.length>1){const m=Fe.getClass("ActiveSelection");this.setActiveObject(new m(h,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const y8={x1:0,y1:0,x2:0,y2:0},ose=re(re({},y8),{},{r1:0,r2:0}),Tu=(t,e)=>isNaN(t)&&typeof e=="number"?e:t;function x8(t){return t&&/%$/.test(t)&&Number.isFinite(parseFloat(t))}function b8(t,e){const r=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(x8(t)?100:1):NaN;return Oc(0,Tu(r,e),1)}const lse=/\s*;\s*/,cse=/\s*:\s*/;function use(t,e){let r,n;const i=t.getAttribute("style");if(i){const o=i.split(lse);o[o.length-1]===""&&o.pop();for(let l=o.length;l--;){const[c,d]=o[l].split(cse).map((f=>f.trim()));c==="stop-color"?r=d:c==="stop-opacity"&&(n=d)}}const s=new Et(r||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:b8(t.getAttribute("offset"),0),color:s.toRgb(),opacity:Tu(parseFloat(n||t.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function dse(t,e){const r=[],n=t.getElementsByTagName("stop"),i=b8(e,1);for(let s=n.length;s--;)r.push(use(n[s],i));return r}function w8(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function j8(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function ys(t,e){return t.getAttribute(e)}function fse(t,e){return(function(r,n){let i,{width:s,height:o,gradientUnits:l}=n;return Object.entries(r).reduce(((c,d)=>{let[f,h]=d;if(h==="Infinity")i=1;else if(h==="-Infinity")i=0;else{const m=typeof h=="string";i=m?parseFloat(h):h,m&&x8(h)&&(i*=.01,l==="pixels"&&(f!=="x1"&&f!=="x2"&&f!=="r2"||(i*=s),f!=="y1"&&f!=="y2"||(i*=o)))}return c[f]=i,c}),{})})(w8(t)==="linear"?(function(r){return{x1:ys(r,"x1")||0,y1:ys(r,"y1")||0,x2:ys(r,"x2")||"100%",y2:ys(r,"y2")||0}})(t):(function(r){return{x1:ys(r,"fx")||ys(r,"cx")||"50%",y1:ys(r,"fy")||ys(r,"cy")||"50%",r1:0,x2:ys(r,"cx")||"50%",y2:ys(r,"cy")||"50%",r2:ys(r,"r")||"50%"}})(t),re(re({},e),{},{gradientUnits:j8(t)}))}class Au{constructor(e){const{type:r="linear",gradientUnits:n="pixels",coords:i={},colorStops:s=[],offsetX:o=0,offsetY:l=0,gradientTransform:c,id:d}=e||{};Object.assign(this,{type:r,gradientUnits:n,coords:re(re({},r==="radial"?ose:y8),i),colorStops:s,offsetX:o,offsetY:l,gradientTransform:c,id:d?"".concat(d,"_").concat(gl()):gl()})}addColorStop(e){for(const r in e){const n=new Et(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return re(re({},Ic(this,e)),{},{type:this.type,coords:re({},this.coords),colorStops:this.colorStops.map((r=>re({},r))),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():An.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map((h=>re({},h))).sort(((h,m)=>h.offset-m.offset));let l=-this.offsetX,c=-this.offsetY;var d;s==="objectBoundingBox"?(l/=e.width,c/=e.height):(l+=e.width/2,c+=e.height/2),(d=e)&&typeof d._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(l-=e.pathOffset.x,c-=e.pathOffset.y),i[4]-=l,i[5]-=c;const f=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(rd(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:h,y1:m,x2:g,y2:j}=this.coords;n.push("<linearGradient ",f,' x1="',h,'" y1="',m,'" x2="',g,'" y2="',j,`">
`)}else if(this.type==="radial"){const{x1:h,y1:m,x2:g,y2:j,r1:x,r2:y}=this.coords,b=x>y;n.push("<radialGradient ",f,' cx="',b?h:g,'" cy="',b?m:j,'" r="',b?x:y,'" fx="',b?g:h,'" fy="',b?j:m,`">
`),b&&(o.reverse(),o.forEach((O=>{O.offset=1-O.offset})));const S=Math.min(x,y);if(S>0){const O=S/Math.max(x,y);o.forEach((P=>{P.offset+=O*(1-P.offset)}))}}return o.forEach((h=>{let{color:m,offset:g,opacity:j}=h;n.push("<stop ",'offset="',100*g+"%",'" style="stop-color:',m,j!==void 0?";stop-opacity: "+j:";",`"/>
`)})),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:r,y1:n,x2:i,y2:s,r1:o,r2:l}=this.coords,c=this.type==="linear"?e.createLinearGradient(r,n,i,s):e.createRadialGradient(r,n,o,i,s,l);return this.colorStops.forEach((d=>{let{color:f,opacity:h,offset:m}=d;c.addColorStop(m,h!==void 0?new Et(f).setAlpha(h).toRgba():f)})),c}static async fromObject(e){const{colorStops:r,gradientTransform:n}=e;return new this(re(re({},e),{},{colorStops:r?r.map((i=>re({},i))):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,r,n){const i=j8(e),s=r._findCenterFromElement();return new this(re({id:e.getAttribute("id")||void 0,type:w8(e),coords:fse(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:dse(e,n.opacity),gradientUnits:i,gradientTransform:mp(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:r.width/2-s.x,offsetY:r.height/2-s.y}:{offsetX:0,offsetY:0}))}}te(Au,"type","Gradient"),Fe.setClass(Au,"gradient"),Fe.setClass(Au,"linear"),Fe.setClass(Au,"radial");const hse=["type","source","patternTransform"];class Xh{get type(){return"pattern"}set type(e){so("warn","Setting type has no effect",e)}constructor(e){te(this,"repeat","repeat"),te(this,"offsetX",0),te(this,"offsetY",0),te(this,"crossOrigin",""),this.id=gl(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:n}=this;return re(re({},Ic(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:n,offsetX:Kt(this.offsetX,Nt.NUM_FRACTION_DIGITS),offsetY:Kt(this.offsetY,Nt.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:r,height:n}=e;const{source:i,repeat:s,id:o}=this,l=Tu(this.offsetX/r,0),c=Tu(this.offsetY/n,0),d=s==="repeat-y"||s==="no-repeat"?1+Math.abs(l||0):Tu(i.width/r,0),f=s==="repeat-x"||s==="no-repeat"?1+Math.abs(c||0):Tu(i.height/n,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(l,'" y="').concat(c,'" width="').concat(d,'" height="').concat(f,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,r){let{type:n,source:i,patternTransform:s}=e,o=lr(e,hse);const l=await qh(i,re(re({},r),{},{crossOrigin:o.crossOrigin}));return new this(re(re({},o),{},{patternTransform:s&&s.slice(0),source:l}))}}te(Xh,"type","Pattern"),Fe.setClass(Xh),Fe.setClass(Xh,"pattern");class _0{constructor(e){te(this,"color","rgb(0, 0, 0)"),te(this,"width",1),te(this,"shadow",null),te(this,"strokeLineCap","round"),te(this,"strokeLineJoin","round"),te(this,"strokeMiterLimit",10),te(this,"strokeDashArray",null),te(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}needsFullRender(){return new Et(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,r=this.shadow,n=e.contextTop,i=e.getZoom()*e.getRetinaScaling();n.shadowColor=r.color,n.shadowBlur=r.blur*i,n.shadowOffsetX=r.offsetX*i,n.shadowOffsetY=r.offsetY*i}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}const pse=["path","left","top"],mse=["d"];class Ha extends cn{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:s}=r,o=lr(r,pse);super(),Object.assign(this,Ha.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof i=="number"&&this.set(Ht,i),typeof s=="number"&&this.set(ui,s)}_setPath(e,r){this.path=l8(Array.isArray(e)?e:p8(e)),this.setBoundingBox(r)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new pe(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const r=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+r,i[2]+n);break;case"M":e.moveTo(i[1]+r,i[2]+n);break;case"C":e.bezierCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n,i[5]+r,i[6]+n);break;case"Q":e.quadraticCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(re({},super.toObject(e)),{},{path:this.path.map((r=>r.slice()))})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(e);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const e=Mk(this.path,Nt.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Nt.NUM_FRACTION_DIGITS;return" translate(".concat(Kt(-this.pathOffset.x,e),", ").concat(Kt(-this.pathOffset.y,e),")")}toClipPathSVG(e){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}toSVG(e){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:r,height:n,pathOffset:i}=this._calcDimensions();this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,lt,lt)}_calcBoundsFromPath(){const e=[];let r=0,n=0,i=0,s=0;for(const o of this.path)switch(o[0]){case"L":i=o[1],s=o[2],e.push({x:r,y:n},{x:i,y:s});break;case"M":i=o[1],s=o[2],r=i,n=s;break;case"C":e.push(...L_(i,s,o[1],o[2],o[3],o[4],o[5],o[6])),i=o[5],s=o[6];break;case"Q":e.push(...L_(i,s,o[1],o[2],o[1],o[2],o[3],o[4])),i=o[3],s=o[4];break;case"Z":i=r,s=n}return da(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return re(re({},e),{},{pathOffset:new pe(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,r,n){const i=Sa(e,this.ATTRIBUTE_NAMES,n),{d:s}=i;return new this(s,re(re(re({},lr(i,mse)),r),{},{left:void 0,top:void 0}))}}te(Ha,"type","Path"),te(Ha,"cacheProperties",[...ho,"path","fillRule"]),te(Ha,"ATTRIBUTE_NAMES",[...Sl,"d"]),Fe.setClass(Ha),Fe.setSVGClass(Ha);class vp extends _0{constructor(e){super(e),te(this,"decimate",.4),te(this,"drawStraightLine",!1),te(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,r,n){const i=r.midPointFrom(n);return e.quadraticCurveTo(r.x,r.y,i.x,i.y),i}onMouseDown(e,r){let{e:n}=r;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,r){let{e:n}=r;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const i=this._points,s=i.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=vp.drawSegment(o,i[s-2],i[s-1]),o.stroke(),o.restore()}}onMouseUp(e){let{e:r}=e;return!this.canvas._isMainEvent(r)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&r.x===n.x&&r.y===n.y){const i=this.width/1e3;r.x-=i,n.x+=i}e.moveTo(r.x,r.y);for(let i=1;i<this._points.length;i++)vp.drawSegment(e,r,n),r=this._points[i],n=this._points[i+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const r=this.width/1e3;return m8(e,r)}createPath(e){const r=new Ha(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new Ti(this.shadow)),r}decimatePoints(e,r){if(e.length<=2)return e;let n,i=e[0];const s=this.canvas.getZoom(),o=Math.pow(r/s,2),l=e.length-1,c=[i];for(let d=1;d<l-1;d++)n=Math.pow(i.x-e[d].x,2)+Math.pow(i.y-e[d].y,2),n>=o&&(i=e[d],c.push(i));return c.push(e[l]),c}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if((function(n){return Mk(n)==="M 0 0 Q 0 0 0 0 L 0 0"})(e))return void this.canvas.requestRenderAll();const r=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}}const gse=["left","top","radius"],S8=["radius","startAngle","endAngle","counterClockwise"];class Cs extends cn{static getDefaults(){return re(re({},super.getDefaults()),Cs.ownDefaults)}constructor(e){super(),Object.assign(this,Cs.ownDefaults),this.setOptions(e)}_set(e,r){return super._set(e,r),e==="radius"&&this.setRadius(r),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Sr(this.startAngle),Sr(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Vn)}getRadiusY(){return this.get("radius")*this.get(Di)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...S8,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,n=Sr(this.startAngle),i=Sr(this.endAngle),s=Ls(n)*r,o=zs(n)*r,l=Ls(i)*r,c=zs(i)*r,d=e>180?1:0,f=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(o," A ").concat(r," ").concat(r," 0 ").concat(d," ").concat(f," ").concat(l," ").concat(c,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,r,n){const i=Sa(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:o=0,radius:l=0}=i;return new this(re(re({},lr(i,gse)),{},{radius:l,left:s-l,top:o-l}))}static fromObject(e){return super._fromObject(e)}}te(Cs,"type","Circle"),te(Cs,"cacheProperties",[...ho,...S8]),te(Cs,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),te(Cs,"ATTRIBUTE_NAMES",["cx","cy","r",...Sl]),Fe.setClass(Cs),Fe.setSVGClass(Cs);class vse extends _0{constructor(e){super(e),te(this,"width",10),this.points=[]}drawDot(e){const r=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,r),n.restore()}dot(e,r){e.fillStyle=r.fill,e.beginPath(),e.arc(r.x,r.y,r.radius,0,2*Math.PI,!1),e.closePath(),e.fill()}onMouseDown(e){this.points=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)}_render(){const e=this.canvas.contextTop,r=this.points;this._saveAndTransform(e);for(let n=0;n<r.length;n++)this.dot(e,r[n]);e.restore()}onMouseMove(e){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))}onMouseUp(){const e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const r=[];for(let i=0;i<this.points.length;i++){const s=this.points[i],o=new Cs({radius:s.radius,left:s.x,top:s.y,originX:lt,originY:lt,fill:s.fill});this.shadow&&(o.shadow=new Ti(this.shadow)),r.push(o)}const n=new Ai(r,{canvas:this.canvas});this.canvas.fire("before:path:created",{path:n}),this.canvas.add(n),this.canvas.fire("path:created",{path:n}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()}addPoint(e){let{x:r,y:n}=e;const i={x:r,y:n,radius:dc(Math.max(0,this.width-20),this.width+20)/2,fill:new Et(this.color).setAlpha(dc(0,100)/100).toRgba()};return this.points.push(i),i}}class yse extends _0{constructor(e){super(e),te(this,"width",10),te(this,"density",20),te(this,"dotWidth",1),te(this,"dotWidthVariance",1),te(this,"randomOpacity",!1),te(this,"optimizeOverlapping",!0),this.sprayChunks=[],this.sprayChunk=[]}onMouseDown(e){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.renderChunck(this.sprayChunk)}onMouseMove(e){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.renderChunck(this.sprayChunk))}onMouseUp(){const e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const r=[];for(let i=0;i<this.sprayChunks.length;i++){const s=this.sprayChunks[i];for(let o=0;o<s.length;o++){const l=s[o],c=new Ji({width:l.width,height:l.width,left:l.x+1,top:l.y+1,originX:lt,originY:lt,fill:this.color});r.push(c)}}const n=new Ai(this.optimizeOverlapping?(function(i){const s={},o=[];for(let l,c=0;c<i.length;c++)l="".concat(i[c].left).concat(i[c].top),s[l]||(s[l]=!0,o.push(i[c]));return o})(r):r,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&n.set("shadow",new Ti(this.shadow)),this.canvas.fire("before:path:created",{path:n}),this.canvas.add(n),this.canvas.fire("path:created",{path:n}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()}renderChunck(e){const r=this.canvas.contextTop;r.fillStyle=this.color,this._saveAndTransform(r);for(let n=0;n<e.length;n++){const i=e[n];r.globalAlpha=i.opacity,r.fillRect(i.x,i.y,i.width,i.width)}r.restore()}_render(){const e=this.canvas.contextTop;e.fillStyle=this.color,this._saveAndTransform(e);for(let r=0;r<this.sprayChunks.length;r++)this.renderChunck(this.sprayChunks[r]);e.restore()}addSprayChunk(e){this.sprayChunk=[];const r=this.width/2;for(let n=0;n<this.density;n++)this.sprayChunk.push({x:dc(e.x-r,e.x+r),y:dc(e.y-r,e.y+r),width:this.dotWidthVariance?dc(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?dc(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}}class xse extends vp{constructor(e){super(e)}getPatternSrc(){const e=as(),r=e.getContext("2d");return e.width=e.height=25,r&&(r.fillStyle=this.color,r.beginPath(),r.arc(10,10,10,0,2*Math.PI,!1),r.closePath(),r.fill()),e}getPattern(e){return e.createPattern(this.source||this.getPatternSrc(),"repeat")}_setBrushStyles(e){super._setBrushStyles(e);const r=this.getPattern(e);r&&(e.strokeStyle=r)}createPath(e){const r=super.createPath(e),n=r._getLeftTopCoords().scalarAdd(r.strokeWidth/2);return r.stroke=new Xh({source:this.source||this.getPatternSrc(),offsetX:-n.x,offsetY:-n.y}),r}}const bse=["x1","y1","x2","y2"],wse=["x1","y1","x2","y2"],z_=["x1","x2","y1","y2"];class Vo extends cn{constructor(){let[e,r,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Vo.ownDefaults),this.setOptions(s),this.x1=e,this.x2=n,this.y1=r,this.y2=i,this._setWidthHeight();const{left:o,top:l}=s;typeof o=="number"&&this.set(Ht,o),typeof l=="number"&&this.set(ui,l)}_setWidthHeight(){const{x1:e,y1:r,x2:n,y2:i}=this;this.width=Math.abs(n-e),this.height=Math.abs(i-r);const{left:s,top:o,width:l,height:c}=da([{x:e,y:r},{x:n,y:i}]),d=new pe(s+l/2,o+c/2);this.setPositionByOrigin(d,lt,lt)}_set(e,r){return super._set(e,r),z_.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const r=this.calcLinePoints();e.moveTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var i;Qi(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new pe((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(re({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:r,y1:n,y2:i,width:s,height:o}=this,l=e<=r?-1:1,c=n<=i?-1:1;return{x1:l*s/2,x2:l*-s/2,y1:c*o/2,y2:c*-o/2}}_toSVG(){const{x1:e,x2:r,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,`" />
`)]}static async fromElement(e,r,n){const i=Sa(e,this.ATTRIBUTE_NAMES,n),{x1:s=0,y1:o=0,x2:l=0,y2:c=0}=i;return new this([s,o,l,c],lr(i,bse))}static fromObject(e){let{x1:r,y1:n,x2:i,y2:s}=e,o=lr(e,wse);return this._fromObject(re(re({},o),{},{points:[r,n,i,s]}),{extraParam:"points"})}}te(Vo,"type","Line"),te(Vo,"cacheProperties",[...ho,...z_]),te(Vo,"ATTRIBUTE_NAMES",Sl.concat(z_)),Fe.setClass(Vo),Fe.setSVGClass(Vo);class Yo extends cn{static getDefaults(){return re(re({},super.getDefaults()),Yo.ownDefaults)}constructor(e){super(),Object.assign(this,Yo.ownDefaults),this.setOptions(e)}_render(e){const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,n),e.lineTo(0,-n),e.lineTo(r,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(r,",0 ").concat(-r,",").concat(e," ").concat(r),'" />']}}te(Yo,"type","Triangle"),te(Yo,"ownDefaults",{width:100,height:100}),Fe.setClass(Yo),Fe.setSVGClass(Yo);const C8=["rx","ry"];class na extends cn{static getDefaults(){return re(re({},super.getDefaults()),na.ownDefaults)}constructor(e){super(),Object.assign(this,na.ownDefaults),this.setOptions(e)}_set(e,r){switch(super._set(e,r),e){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(Vn)}getRy(){return this.get("ry")*this.get(Di)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...C8,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,ao,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,r,n){const i=Sa(e,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function N8(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),r=[];for(let n=0;n<e.length;n+=2)r.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return r}te(na,"type","Ellipse"),te(na,"cacheProperties",[...ho,...C8]),te(na,"ownDefaults",{rx:0,ry:0}),te(na,"ATTRIBUTE_NAMES",[...Sl,"cx","cy","rx","ry"]),Fe.setClass(na),Fe.setSVGClass(na);const jse=["left","top"],_8={exactBoundingBox:!1};class Yi extends cn{static getDefaults(){return re(re({},super.getDefaults()),Yi.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),te(this,"strokeDiff",void 0),Object.assign(this,Yi.ownDefaults),this.setOptions(r),this.points=e;const{left:n,top:i}=r;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(Ht,n),typeof i=="number"&&this.set(ui,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return J6(this.points,e,this.isOpen())}_calcDimensions(e){e=re({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(e).map((d=>d.projectedPoint)):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new pe,strokeOffset:new pe,strokeDiff:new pe};const n=da(r),i=wm(re(re({},e),{},{scaleX:1,scaleY:1})),s=da(this.points.map((d=>Pn(d,i,!0)))),o=new pe(this.scaleX,this.scaleY);let l=n.left+n.width/2,c=n.top+n.height/2;return this.exactBoundingBox&&(l-=c*Math.tan(Sr(this.skewX)),c-=l*Math.tan(Sr(this.skewY))),re(re({},n),{},{pathOffset:new pe(l,c),strokeOffset:new pe(s.left,s.top).subtract(new pe(n.left,n.top)).multiply(o),strokeDiff:new pe(n.width,n.height).subtract(new pe(s.width,s.height)).multiply(o)})}_findCenterFromElement(){const e=da(this.points);return new pe(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:r,top:n,width:i,height:s,pathOffset:o,strokeOffset:l,strokeDiff:c}=this._calcDimensions();this.set({width:i,height:s,pathOffset:o,strokeOffset:l,strokeDiff:c}),e&&this.setPositionByOrigin(new pe(r+i/2,n+s/2),lt,lt)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new pe(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some((l=>this.strokeUniform||this.constructor.layoutProperties.includes(l)))){var r,n;const{width:l,height:c}=this._calcDimensions(e);o=new pe((r=e.width)!==null&&r!==void 0?r:l,(n=e.height)!==null&&n!==void 0?n:c)}else{var i,s;o=new pe((i=e.width)!==null&&i!==void 0?i:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return o.multiply(new pe(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,r){const n=this.initialized&&this[e]!==r,i=super._set(e,r);return this.exactBoundingBox&&n&&((e===Vn||e===Di)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(re({},super.toObject(e)),{},{points:this.points.map((r=>{let{x:n,y:i}=r;return{x:n,y:i}}))})}_toSVG(){const e=[],r=this.pathOffset.x,n=this.pathOffset.y,i=Nt.NUM_FRACTION_DIGITS;for(let s=0,o=this.points.length;s<o;s++)e.push(Kt(this.points[s].x-r,i),",",Kt(this.points[s].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-i);for(let s=0;s<r;s++){const o=this.points[s];e.lineTo(o.x-n,o.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,r,n){return new this(N8(e.getAttribute("points")),re(re({},lr(Sa(e,this.ATTRIBUTE_NAMES,n),jse)),r))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}te(Yi,"ownDefaults",_8),te(Yi,"type","Polyline"),te(Yi,"layoutProperties",[Jd,Zd,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),te(Yi,"cacheProperties",[...ho,"points"]),te(Yi,"ATTRIBUTE_NAMES",[...Sl]),Fe.setClass(Yi),Fe.setSVGClass(Yi);class wh extends Yi{isOpen(){return!1}}te(wh,"ownDefaults",_8),te(wh,"type","Polygon"),Fe.setClass(wh),Fe.setSVGClass(wh);class O8 extends cn{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const r=e===void 0?this.styles:{line:this.styles[e]};for(const n in r)for(const i in r[n])for(const s in r[n][i])return!1;return!0}styleHas(e,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const n=r===void 0?this.styles:{0:this.styles[r]};for(const i in n)for(const s in n[i])if(n[i][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const r=this.styles;let n,i,s=0,o=!0,l=0;for(const c in r){n=0;for(const d in r[c]){const f=r[c][d]||{};s++,f[e]!==void 0?(i?f[e]!==i&&(o=!1):i=f[e],f[e]===this[e]&&delete f[e]):o=!1,Object.keys(f).length!==0?n++:delete r[c][d]}n===0&&delete r[c]}for(let c=0;c<this._textLines.length;c++)l+=this._textLines[c].length;o&&s===l&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const r=this.styles;let n,i,s;for(i in r){for(s in n=r[i],n)delete n[s][e],Object.keys(n[s]).length===0&&delete n[s];Object.keys(n).length===0&&delete r[i]}}_extendStyles(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const s=vk(re(re({},this._getStyleDeclaration(n,i)),r),(o=>o!==void 0));this._setStyleDeclaration(n,i,s)}getSelectionStyles(e,r,n){const i=[];for(let s=e;s<(r||e);s++)i.push(this.getStyleAtPosition(s,n));return i}getStyleAtPosition(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);return r?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(e,r,n){for(let i=r;i<(n||r);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,r){var n;const i=this.styles&&this.styles[e];return i&&(n=i[r])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,r){return re(re({},Ic(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,r))}_setStyleDeclaration(e,r,n){this.styles[e][r]=n}_deleteStyleDeclaration(e,r){delete this.styles[e][r]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}te(O8,"_styleProperties",Kne);const Sse=/  +/g,Cse=/"/g;function Rj(t,e,r,n,i){return"		".concat((function(s,o){let{left:l,top:c,width:d,height:f}=o,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nt.NUM_FRACTION_DIGITS;const m=pp(Ir,s,!1),[g,j,x,y]=[l,c,d,f].map((b=>Kt(b,h)));return"<rect ".concat(m,' x="').concat(g,'" y="').concat(j,'" width="').concat(x,'" height="').concat(y,'"></rect>')})(t,{left:e,top:r,width:n,height:i}),`
`)}const Nse=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Ij;class vn extends O8{static getDefaults(){return re(re({},super.getDefaults()),vn.ownDefaults)}constructor(e,r){super(),te(this,"__charBounds",[]),Object.assign(this,vn.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=Ek(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(sa)&&this.enlargeSpaces()}enlargeSpaces(){let e,r,n,i,s,o,l;for(let c=0,d=this._textLines.length;c<d;c++)if((this.textAlign===sa||c!==d-1&&!this.isEndOfWrapping(c))&&(i=0,s=this._textLines[c],r=this.getLineWidth(c),r<this.width&&(l=this.textLines[c].match(this._reSpacesAndTabs)))){n=l.length,e=(this.width-r)/n;for(let f=0;f<=s.length;f++)o=this.__charBounds[c][f],this._reSpaceAndTab.test(s[f])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,r){const n=r?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),r=this.fontSize;return e.width+=r*e.zoomX,e.height+=r*e.zoomY,e}_render(e){const r=this.path;r&&!r.isNotVisible()&&r._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===qn?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,r,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case lt:e.textBaseline="middle";break;case"ascender":e.textBaseline=ui;break;case"descender":e.textBaseline=__}e.font=this._getFontDeclaration(r,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let r=1,n=this._textLines.length;r<n;r++){const i=this.getLineWidth(r);i>e&&(e=i)}return e}_renderTextLine(e,r,n,i,s,o){this._renderChars(e,r,n,i,s,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=e.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){const l=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=l;continue}const c=this._textLines[s].length,d=this._getLineLeftOffset(s);let f,h,m=0,g=0,j=this.getValueOfPropertyAt(s,0,"textBackgroundColor");const x=this.getHeightOfLineImpl(s);for(let y=0;y<c;y++){const b=this.__charBounds[s][y];h=this.getValueOfPropertyAt(s,y,"textBackgroundColor"),this.path?(e.save(),e.translate(b.renderLeft,b.renderTop),e.rotate(b.angle),e.fillStyle=h,h&&e.fillRect(-b.width/2,-x*(1-this._fontSizeFraction),b.width,x),e.restore()):h!==j?(f=n+d+g,this.direction==="rtl"&&(f=this.width-f-m),e.fillStyle=j,j&&e.fillRect(f,i,m,x),g=b.left,m=b.width,j=h):m+=b.kernedWidth}h&&!this.path&&(f=n+d+g,this.direction==="rtl"&&(f=this.width-f-m),e.fillStyle=h,e.fillRect(f,i,m,x)),i+=l}e.fillStyle=r,this._removeShadow(e)}_measureChar(e,r,n,i){const s=Bu.getFontCache(r),o=this._getFontDeclaration(r),l=n+e,c=n&&o===this._getFontDeclaration(i),d=r.fontSize/this.CACHE_FONT_SIZE;let f,h,m,g;if(n&&s.has(n)&&(m=s.get(n)),s.has(e)&&(g=f=s.get(e)),c&&s.has(l)&&(h=s.get(l),g=h-m),f===void 0||m===void 0||h===void 0){const j=(function(){return Ij||(Ij=di({width:0,height:0}).getContext("2d")),Ij})();this._setTextStyles(j,r,!0),f===void 0&&(g=f=j.measureText(e).width,s.set(e,f)),m===void 0&&c&&n&&(m=j.measureText(n).width,s.set(n,m)),c&&h===void 0&&(h=j.measureText(l).width,s.set(l,h),g=h-m)}return{width:f*d,kernedWidth:g*d}}getHeightOfChar(e,r){return this.getValueOfPropertyAt(e,r,"fontSize")}measureLine(e){const r=this._measureLine(e);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(e){let r,n,i=0;const s=this.pathSide===Pr,o=this.path,l=this._textLines[e],c=l.length,d=new Array(c);this.__charBounds[e]=d;for(let f=0;f<c;f++){const h=l[f];n=this._getGraphemeBox(h,e,f,r),d[f]=n,i+=n.kernedWidth,r=h}if(d[c]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let f=0;const h=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Ht:f=s?h-i:0;break;case lt:f=(h-i)/2;break;case Pr:f=s?0:h-i}f+=this.pathStartOffset*(s?-1:1);for(let m=s?c-1:0;s?m>=0:m<c;s?m--:m++)n=d[m],f>h?f%=h:f<0&&(f+=h),this._setGraphemeOnPath(f,n),f+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,r){const n=e+r.kernedWidth/2,i=this.path,s=h8(i.path,n,i.segmentsInfo);r.renderLeft=s.x-i.pathOffset.x,r.renderTop=s.y-i.pathOffset.y,r.angle=s.angle+(this.pathSide===Pr?Math.PI:0)}_getGraphemeBox(e,r,n,i,s){const o=this.getCompleteStyleDeclaration(r,n),l=i?this.getCompleteStyleDeclaration(r,n-1):{},c=this._measureChar(e,o,i,l);let d,f=c.kernedWidth,h=c.width;this.charSpacing!==0&&(d=this._getWidthOfCharSpacing(),h+=d,f+=d);const m={width:h,left:0,height:o.fontSize,kernedWidth:f,deltaY:o.deltaY};if(n>0&&!s){const g=this.__charBounds[r][n-1];m.left=g.left+g.width+c.kernedWidth-c.width}return m}getHeightOfLineImpl(e){const r=this.__lineHeights;if(r[e])return r[e];let n=this.getHeightOfChar(e,0);for(let i=1,s=this._textLines[e].length;i<s;i++)n=Math.max(this.getHeightOfChar(e,i),n);return r[e]=n*this._fontSizeMult}getHeightOfLine(e){return this.getHeightOfLineImpl(e)*this.lineHeight}calcTextHeight(){let e=0;for(let r=0,n=this._textLines.length;r<n;r++)e+=r===n-1?this.getHeightOfLineImpl(r):this.getHeightOfLine(r);return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,r){e.save();let n=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let o=0,l=this._textLines.length;o<l;o++)this._renderTextLine(r,e,this._textLines[o],i+this._getLineLeftOffset(o),s+n+this.getHeightOfLineImpl(o),o),n+=this.getHeightOfLine(o);e.restore()}_renderTextFill(e){(this.fill||this.styleHas(Ir))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,r,n,i,s,o){const l=this.textAlign.includes(sa),c=this.path,d=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!c,f=this.direction==="ltr",h=this.direction==="ltr"?1:-1,m=r.direction;let g,j,x,y,b,S="",O=0;if(r.save(),m!==this.direction&&(r.canvas.setAttribute("dir",f?"ltr":"rtl"),r.direction=f?"ltr":"rtl",r.textAlign=f?Ht:Pr),s-=this.getHeightOfLineImpl(o)*this._fontSizeFraction,d)return this._renderChar(e,r,o,0,n.join(""),i,s),void r.restore();for(let P=0,C=n.length-1;P<=C;P++)y=P===C||this.charSpacing||c,S+=n[P],x=this.__charBounds[o][P],O===0?(i+=h*(x.kernedWidth-x.width),O+=x.width):O+=x.kernedWidth,l&&!y&&this._reSpaceAndTab.test(n[P])&&(y=!0),y||(g=g||this.getCompleteStyleDeclaration(o,P),j=this.getCompleteStyleDeclaration(o,P+1),y=C0(g,j,!1)),y&&(c?(r.save(),r.translate(x.renderLeft,x.renderTop),r.rotate(x.angle),this._renderChar(e,r,o,P,S,-O/2,0),r.restore()):(b=i,this._renderChar(e,r,o,P,S,b,s)),S="",g=j,i+=h*O,O=0);r.restore()}_applyPatternGradientTransformText(e){const r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=di({width:r,height:n}),s=i.getContext("2d");return i.width=r,i.height=n,s.beginPath(),s.moveTo(0,0),s.lineTo(r,0),s.lineTo(r,n),s.lineTo(0,n),s.closePath(),s.translate(r/2,n/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(e,r,n){let i,s;return Qi(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,s=-this.height/2,e.translate(i,s),e[r]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:s}):(e[r]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[r]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,r){let{stroke:n,strokeWidth:i}=r;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,r){let{fill:n}=r;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,r,n,i,s,o,l){const c=this._getStyleDeclaration(n,i),d=this.getCompleteStyleDeclaration(n,i),f=e==="fillText"&&d.fill,h=e==="strokeText"&&d.stroke&&d.strokeWidth;if(h||f){if(r.save(),r.font=this._getFontDeclaration(d),c.textBackgroundColor&&this._removeShadow(r),c.deltaY&&(l+=c.deltaY),f){const m=this._setFillStyles(r,d);r.fillText(s,o-m.offsetX,l-m.offsetY)}if(h){const m=this._setStrokeStyles(r,d);r.strokeText(s,o-m.offsetX,l-m.offsetY)}r.restore()}}setSuperscript(e,r){this._setScript(e,r,this.superscript)}setSubscript(e,r){this._setScript(e,r,this.subscript)}_setScript(e,r,n){const i=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),l={fontSize:s*n.size,deltaY:o+s*n.baseline};this.setSelectionStyles(l,e,r)}_getLineLeftOffset(e){const r=this.getLineWidth(e),n=this.width-r,i=this.textAlign,s=this.direction,o=this.isEndOfWrapping(e);let l=0;return i===sa||i===Gh&&!o||i===Vh&&!o||i===yy&&!o?0:(i===lt&&(l=n/2),i===Pr&&(l=n),i===Gh&&(l=n/2),i===Vh&&(l=n),s==="rtl"&&(i===Pr||i===sa||i===Vh?l=0:i===Ht||i===yy?l=-n:i!==lt&&i!==Gh||(l=-n/2)),l)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:r}=this.measureLine(e);return this.__lineWidths[e]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,r,n){var i;return(i=this._getStyleDeclaration(e,r)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(e,r){if(!this[r]&&!this.styleHas(r))return;let n=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,o=this._getWidthOfCharSpacing(),l=r==="linethrough"?.5:r==="overline"?1:0,c=this.offsets[r];for(let d=0,f=this._textLines.length;d<f;d++){const h=this.getHeightOfLine(d);if(!this[r]&&!this.styleHas(r,d)){n+=h;continue}const m=this._textLines[d],g=h/this.lineHeight,j=this._getLineLeftOffset(d);let x=0,y=0,b=this.getValueOfPropertyAt(d,0,r),S=this.getValueOfPropertyAt(d,0,Ir),O=this.getValueOfPropertyAt(d,0,_c),P=b,C=S,_=O;const k=n+g*(1-this._fontSizeFraction);let A=this.getHeightOfChar(d,0),M=this.getValueOfPropertyAt(d,0,"deltaY");for(let W=0,$=m.length;W<$;W++){const H=this.__charBounds[d][W];P=this.getValueOfPropertyAt(d,W,r),C=this.getValueOfPropertyAt(d,W,Ir),_=this.getValueOfPropertyAt(d,W,_c);const z=this.getHeightOfChar(d,W),q=this.getValueOfPropertyAt(d,W,"deltaY");if(s&&P&&C){const E=this.fontSize*_/1e3;e.save(),e.fillStyle=S,e.translate(H.renderLeft,H.renderTop),e.rotate(H.angle),e.fillRect(-H.kernedWidth/2,c*z+q-l*E,H.kernedWidth,E),e.restore()}else if((P!==b||C!==S||z!==A||_!==O||q!==M)&&y>0){const E=this.fontSize*O/1e3;let U=i+j+x;this.direction==="rtl"&&(U=this.width-U-y),b&&S&&O&&(e.fillStyle=S,e.fillRect(U,k+c*A+M-l*E,y,E)),x=H.left,y=H.width,b=P,O=_,S=C,A=z,M=q}else y+=H.kernedWidth}let D=i+j+x;this.direction==="rtl"&&(D=this.width-D-y),e.fillStyle=C;const L=this.fontSize*_/1e3;P&&C&&_&&e.fillRect(D,k+c*A+M-l*L,y-o,L),n+=h}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||vn.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[r,n,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return S0(e)}_splitTextIntoLines(e){const r=e.split(this._reNewline),n=new Array(r.length),i=[`
`];let s=[];for(let o=0;o<r.length;o++)n[o]=this.graphemeSplit(r[o]),s=s.concat(n[o],i);return s.pop(),{_unwrappedLines:n,lines:r,graphemeText:s,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(re({},super.toObject([...P6,...e])),{},{styles:Q6(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,r){const{textLayoutProperties:n}=this.constructor;super.set(e,r);let i=!1,s=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),i=i||n.includes(o),s=s||o==="path";else i=n.includes(e),s=e==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,r,n){const i=Sa(e,vn.ATTRIBUTE_NAMES,n),s=re(re({},r),i),{textAnchor:o=Ht,textDecoration:l="",dx:c=0,dy:d=0,top:f=0,left:h=0,fontSize:m=lk,strokeWidth:g=1}=s,j=lr(s,Nse),x=new this(vy(e.textContent||"").trim(),re({left:h+c,top:f+d,underline:l.includes("underline"),overline:l.includes("overline"),linethrough:l.includes("line-through"),strokeWidth:0,fontSize:m},j)),y=x.getScaledHeight()/x.height,b=((x.height+x.strokeWidth)*x.lineHeight-x.height)*y,S=x.getScaledHeight()+b;let O=0;return o===lt&&(O=x.getScaledWidth()/2),o===Pr&&(O=x.getScaledWidth()),x.set({left:x.left-O,top:x.top-(S-x.fontSize*(.07+x._fontSizeFraction))/x.lineHeight,strokeWidth:g}),x}static fromObject(e){return this._fromObject(re(re({},e),{},{styles:e8(e.styles||{},e.text)}),{extraParam:"text"})}}te(vn,"textLayoutProperties",O6),te(vn,"cacheProperties",[...ho,...P6]),te(vn,"ownDefaults",Jne),te(vn,"type","Text"),te(vn,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),te(vn,"ATTRIBUTE_NAMES",Sl.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),X6(vn,[class extends C6{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),r=this.path;return r?e+r._createBaseSVGMarkup(r._toSVG(),{reviver:t,withShadow:!0,additionalTransform:rd(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:r}=t;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(Cse,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const r=[],n=[];let i,s=t;this.backgroundColor&&n.push(...Rj(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,l=this._textLines.length;o<l;o++)i=this._getLineLeftOffset(o),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,e+i,s),this._setSVGTextLineText(r,o,e+i,s),s+=this.getHeightOfLine(o);return{textSpans:r,textBgRects:n}}_createTextCharSpan(t,e,r,n,i){const s=Nt.NUM_FRACTION_DIGITS,o=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(Sse)),l=o?'style="'.concat(o,'"'):"",c=e.deltaY,d=c?' dy="'.concat(Kt(c,s),'" '):"",{angle:f,renderLeft:h,renderTop:m,width:g}=i;let j="";if(h!==void 0){const x=g/2;f&&(j=' rotate="'.concat(Kt(va(f),s),'"'));const y=Rc({angle:va(f)});y[4]=h,y[5]=m;const b=new pe(-x,0).transform(y);r=b.x,n=b.y}return'<tspan x="'.concat(Kt(r,s),'" y="').concat(Kt(n,s),'" ').concat(d).concat(j).concat(l,">").concat(Z6(t),"</tspan>")}_setSVGTextLineText(t,e,r,n){const i=this.getHeightOfLine(e),s=this.textAlign.includes(sa),o=this._textLines[e];let l,c,d,f,h,m="",g=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let j=0,x=o.length-1;j<=x;j++)h=j===x||this.charSpacing||this.path,m+=o[j],d=this.__charBounds[e][j],g===0?(r+=d.kernedWidth-d.width,g+=d.width):g+=d.kernedWidth,s&&!h&&this._reSpaceAndTab.test(o[j])&&(h=!0),h||(l=l||this.getCompleteStyleDeclaration(e,j),c=this.getCompleteStyleDeclaration(e,j+1),h=C0(l,c,!0)),h&&(f=this._getStyleDeclaration(e,j),t.push(this._createTextCharSpan(m,f,r,n,d)),m="",l=c,this.direction==="rtl"?r-=g:r+=g,g=0)}_setSVGTextLineBg(t,e,r,n){const i=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let o,l=0,c=0,d=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let f=0;f<i.length;f++){const{left:h,width:m,kernedWidth:g}=this.__charBounds[e][f];o=this.getValueOfPropertyAt(e,f,"textBackgroundColor"),o!==d?(d&&t.push(...Rj(d,r+c,n,l,s)),c=h,l=m,d=o):l+=g}o&&t.push(...Rj(d,r+c,n,l,s))}_getSVGLineTopOffset(t){let e,r=0;for(e=0;e<t;e++)r+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," text-decoration-thickness: ").concat(Kt(this.textDecorationThickness*this.getObjectScaling().y/10,Nt.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:r,strokeWidth:n,stroke:i,fill:s,fontSize:o,fontStyle:l,fontWeight:c,deltaY:d,textDecorationThickness:f,linethrough:h,overline:m,underline:g}=t,j=this.getSvgTextDecoration({underline:g??this.underline,overline:m??this.overline,linethrough:h??this.linethrough}),x=f||this.textDecorationThickness;return[i?pp(qn,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",l?"font-style: ".concat(l,"; "):"",c?"font-weight: ".concat(c,"; "):"",j?"text-decoration: ".concat(j,"; text-decoration-thickness: ").concat(Kt(x*this.getObjectScaling().y/10,Nt.NUM_FRACTION_DIGITS),"%; "):"",s?pp(Ir,s):"",d?"baseline-shift: ".concat(-d,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter((e=>t[e.replace("-","")])).join(" ")}}]),Fe.setClass(vn),Fe.setSVGClass(vn);class _se{constructor(e){te(this,"target",void 0),te(this,"__mouseDownInPlace",!1),te(this,"__dragStartFired",!1),te(this,"__isDraggingOver",!1),te(this,"__dragStartSelection",void 0),te(this,"__dragImageDisposer",void 0),te(this,"_dispose",void 0),this.target=e;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach((n=>n())),this._dispose=void 0}}isPointerOverSelection(e){const r=this.target,n=r.getSelectionStartFromPointer(e);return r.isEditing&&n>=r.selectionStart&&n<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,r){var n;let{selectionStart:i,selectionEnd:s}=r;const o=this.target,l=o.canvas,c=new pe(o.flipX?-1:1,o.flipY?-1:1),d=o._getCursorBoundaries(i),f=new pe(d.left+d.leftOffset,d.top+d.topOffset).multiply(c).transform(o.calcTransformMatrix()),h=l.getScenePoint(e).subtract(f),m=o.getCanvasRetinaScaling(),g=o.getBoundingRect(),j=f.subtract(new pe(g.left,g.top)),x=l.viewportTransform,y=j.add(h).transform(x,!0),b=o.backgroundColor,S=kk(o.styles);o.backgroundColor="";const O={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(O,0,i),o.setSelectionStyles(O,s,o.text.length),o.dirty=!0;const P=o.toCanvasElement({enableRetinaScaling:l.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=b,o.styles=S,o.dirty=!0,_y(P,{position:"fixed",left:"".concat(-P.width,"px"),border:Un,width:"".concat(P.width/m,"px"),height:"".concat(P.height/m,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{P.remove()},_s(e.target||this.target.hiddenTextarea).body.appendChild(P),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(P,y.x,y.y)}onDragStart(e){this.__dragStartFired=!0;const r=this.target,n=this.isActive();if(n&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},s=r._text.slice(i.selectionStart,i.selectionEnd).join(""),o=re({text:r.text,value:s},i);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:r.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return r.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return r<n.selectionStart||r>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:r}=e;const n=this.targetCanDrop(r);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:r}=e,n=this.targetCanDrop(r);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var r;const{e:n}=e,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let s=(r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(s&&!i){const o=this.target,l=o.canvas;let c=o.getSelectionStartFromPointer(n);const{styles:d}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},f=s[Math.max(0,s.length-1)],h=0;if(this.__dragStartSelection){const m=this.__dragStartSelection.selectionStart,g=this.__dragStartSelection.selectionEnd;c>m&&c<=g?c=m:c>g&&(c-=g-m),o.removeChars(m,g),delete this.__dragStartSelection}o._reNewline.test(f)&&(o._reNewline.test(o._text[c])||c===o._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(s,d,c),l.setActiveObject(o),o.enterEditing(n),o.selectionStart=Math.min(c+h,o._text.length),o.selectionEnd=Math.min(o.selectionStart+s.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(hy,{index:c+h,action:"drop"}),l.fire("text:changed",{target:o}),l.contextTopDirty=!0,l.requestRenderAll()}}dragEndHandler(e){let{e:r}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,s=this.target.canvas,{selectionStart:o,selectionEnd:l}=this.__dragStartSelection,c=((n=r.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||Un;c===Un?(i.selectionStart=o,i.selectionEnd=l,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),c==="move"&&(i.removeChars(o,l),i.selectionStart=i.selectionEnd=o,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(hy,{index:o,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const mD=/[ \n\.,;!\?\-]/;class Ose extends vn{constructor(){super(...arguments),te(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:r,duration:n,delay:i,onComplete:s}=e;return _k({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach((r=>{r&&!r.isDone()&&(e=!0,r.abort())})),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((e=>!e||e.isDone()))&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let r=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n--;for(;/\S/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findWordBoundaryRight(e){let r=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}findLineBoundaryLeft(e){let r=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findLineBoundaryRight(e){let r=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}searchWordBoundary(e,r){const n=this._text;let i=e>0&&this._reSpace.test(n[e])&&(r===-1||!ck.test(n[e-1]))?e-1:e,s=n[i];for(;i>0&&i<n.length&&!mD.test(s);)i+=r,s=n[i];return r===-1&&mD.test(s)&&i++,i}selectWord(e){var r;e=(r=e)!==null&&r!==void 0?r:this.selectionStart;const n=this.searchWordBoundary(e,-1),i=Math.max(n,this.searchWordBoundary(e,1));this.selectionStart=n,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var r;e=(r=e)!==null&&r!==void 0?r:this.selectionStart;const n=this.findLineBoundaryLeft(e),i=this.findLineBoundaryRight(e);this.selectionStart=n,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const r=this.hiddenTextarea;_s(r).activeElement!==r&&r.focus();const n=this.getSelectionStartFromPointer(e),i=this.selectionStart,s=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==s||i!==n&&s!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,r,n){const i=n.slice(0,e),s=this.graphemeSplit(i).length;if(e===r)return{selectionStart:s,selectionEnd:s};const o=n.slice(e,r);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,r,n){const i=n.slice(0,e).join("").length;return e===r?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex,o=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,l=r.leftOffset,c=this.getCanvasRetinaScaling(),d=this.canvas.upperCanvasEl,f=d.width/c,h=d.height/c,m=f-o,g=h-o,j=new pe(r.left+l,r.top+r.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new pe(d.clientWidth/f,d.clientHeight/h));return j.x<0&&(j.x=0),j.x>m&&(j.x=m),j.y<0&&(j.y=0),j.y>g&&(j.y=g),j.x+=this.canvas._offset.left,j.y+=this.canvas._offset.top,{left:"".concat(j.x,"px"),top:"".concat(j.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(py),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:o}=this.get2DCursorLocation(r,!0);if(n!==s){if(this.styles[n])for(let l=i;l<this._unwrappedTextLines[n].length;l++)delete this.styles[n][l];if(this.styles[s])for(let l=o;l<this._unwrappedTextLines[s].length;l++){const c=this.styles[s][l];c&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+l-o]=c)}for(let l=n+1;l<=s;l++)delete this.styles[l];this.shiftLineStyles(s,n-s)}else if(this.styles[n]){const l=this.styles[n],c=o-i;for(let d=i;d<o;d++)delete l[d];for(const d in this.styles[n]){const f=parseInt(d,10);f>=o&&(l[f-c]=l[d],delete l[d])}}}shiftLineStyles(e,r){const n=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>e&&(this.styles[s+r]=n[s],n[s-r]||delete this.styles[s])}}insertNewlineStyleObject(e,r,n,i){const s={},o=this._unwrappedTextLines[e].length,l=o===r;let c=!1;n||(n=1),this.shiftLineStyles(e,n);const d=this.styles[e]?this.styles[e][r===0?r:r-1]:void 0;for(const h in this.styles[e]){const m=parseInt(h,10);m>=r&&(c=!0,s[m-r]=this.styles[e][h],l&&r===0||delete this.styles[e][h])}let f=!1;for(c&&!l&&(this.styles[e+n]=s,f=!0),(f||o>r)&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:re({},i[n-1])}:d?this.styles[e+n]={0:re({},d)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,r,n,i){this.styles||(this.styles={});const s=this.styles[e],o=s?re({},s):{};n||(n=1);for(const c in o){const d=parseInt(c,10);d>=r&&(s[d+n]=o[d],o[d-n]||delete s[d])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=re({},i[n]));return}if(!s)return;const l=s[r?r-1:1];for(;l&&n--;)this.styles[e][r+n]=re({},l)}insertNewStyleBlock(e,r,n){const i=this.get2DCursorLocation(r,!0),s=[0];let o,l=0;for(let c=0;c<e.length;c++)e[c]===`
`?(l++,s[l]=0):s[l]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],n),n=n&&n.slice(s[0]+1)),l&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],l),o=1;o<l;o++)s[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,s[o],n):n&&this.styles[i.lineIndex+o]&&n[0]&&(this.styles[i.lineIndex+o][0]=n[0]),n=n&&n.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,s[o],n)}removeChars(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,r),this._text.splice(e,r-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,n,r),this._text=[...this._text.slice(0,n),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,r,n){n<=e?(r===e?this._selectionDirection=Ht:this._selectionDirection===Pr&&(this._selectionDirection=Ht,this.selectionEnd=e),this.selectionStart=n):n>e&&n<r?this._selectionDirection===Pr?this.selectionEnd=n:this.selectionStart=n:(r===e?this._selectionDirection=Pr:this._selectionDirection===Ht&&(this._selectionDirection=Pr,this.selectionStart=r),this.selectionEnd=n)}}class Pse extends Ose{initHiddenTextarea(){const e=this.canvas&&_s(this.canvas.getElement())||Dc(),r=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off",name:"fabricTextarea"}).map((o=>{let[l,c]=o;return r.setAttribute(l,c)}));const{top:n,left:i,fontSize:s}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((o=>{let[l,c]=o;return r.addEventListener(l,this[c].bind(this))})),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in r)this[r[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const r=this.fromPaste,{value:n,selectionStart:i,selectionEnd:s}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(hy),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const l=this._splitTextIntoLines(n).graphemeText,c=this._text.length,d=l.length,f=this.selectionStart,h=this.selectionEnd,m=f!==h;let g,j,x,y,b=d-c;const S=this.fromStringToGraphemeSelection(i,s,n),O=f>S.selectionStart;m?(j=this._text.slice(f,h),b+=h-f):d<c&&(j=O?this._text.slice(h+b,h):this._text.slice(f,f-b));const P=l.slice(S.selectionEnd-b,S.selectionEnd);if(j&&j.length&&(P.length&&(g=this.getSelectionStyles(f,f+1,!1),g=P.map((()=>g[0]))),m?(x=f,y=h):O?(x=h-j.length,y=h):(x=h,y=h+j.length),this.removeStyleFromTo(x,y)),P.length){const{copyPasteData:C}=Is();r&&P.join("")===C.copiedText&&!Nt.disableStyleCopyPaste&&(g=C.copiedTextStyle),this.insertNewStyleBlock(P,f,g)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:r}=e;const{selectionStart:n,selectionEnd:i}=r;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Is();e.copiedText=this.getSelectedText(),Nt.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,r){let n,i=this._getLineLeftOffset(e);return r>0&&(n=this.__charBounds[e][r-1],i+=n.left+n.width),i}getDownCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const o=i.charIndex,l=this._getWidthBeforeCursor(s,o),c=this._getIndexOnLine(s+1,l);return this._textLines[s].slice(o).length+c+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,r){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-n;const o=i.charIndex,l=this._getWidthBeforeCursor(s,o),c=this._getIndexOnLine(s-1,l),d=this._textLines[s].slice(0,o),f=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+c-d.length+(1-f)}_getIndexOnLine(e,r){const n=this._textLines[e];let i,s,o=this._getLineLeftOffset(e),l=0;for(let c=0,d=n.length;c<d;c++)if(i=this.__charBounds[e][c].width,o+=i,o>r){s=!0;const f=o-i,h=o,m=Math.abs(f-r);l=Math.abs(h-r)<m?c:c-1;break}return s||(l=n.length-1),l}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,r){const n=this["get".concat(e,"CursorOffset")](r,this._selectionDirection===Pr);if(r.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=Oc(0,this.selectionStart,i),this.selectionEnd=Oc(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const r=this._selectionDirection===Ht?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,r,n){let i;if(e.altKey)i=this["findWordBoundary".concat(n)](this[r]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[r]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[r])}return i!==void 0&&this[r]!==i&&(this[r]=i,!0)}_moveLeft(e,r){return this._move(e,r,"Left")}_moveRight(e,r){return this._move(e,r,"Right")}moveCursorLeftWithoutShift(e){let r=!0;return this._selectionDirection=Ht,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(e){return this._selectionDirection===Pr&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ht,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,r){const n="moveCursor".concat(e).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Ht&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Pr,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let r=!0;return this._selectionDirection=Pr,this.selectionStart===this.selectionEnd?(r=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}}const gD=t=>!!t.button;class kse extends Pse{constructor(){super(...arguments),te(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new _se(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:r,alreadySelected:n}=e;this.canvas&&this.editable&&!gD(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),n&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=n||this.isEditing)))}mouseUpHandler(e){let{e:r,transform:n}=e;const i=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||gD(r)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const r=this.canvas.getScenePoint(e).transform(li(this.calcTransformMatrix())).add(new pe(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,s=0;for(let d=0;d<this._textLines.length&&n<=r.y;d++)n+=this.getHeightOfLine(d),s=d,d>0&&(i+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));let o=Math.abs(this._getLineLeftOffset(s));const l=this._textLines[s].length,c=this.__charBounds[s];for(let d=0;d<l;d++){const f=o+c[d].kernedWidth;if(r.x<=f){Math.abs(r.x-f)<=Math.abs(r.x-o)&&i++;break}o=f,i++}return Math.min(this.flipX?l-i:i,this._text.length)}}const uv="moveCursorUp",dv="moveCursorDown",fv="moveCursorLeft",hv="moveCursorRight",pv="exitEditing",vD=(t,e)=>{const r=e.getRetinaScaling();t.setTransform(r,0,0,r,0,0);const n=e.viewportTransform;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])},Tse=re({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:pv,27:pv,33:uv,34:dv,35:hv,36:fv,37:fv,38:uv,39:hv,40:dv},keysMapRtl:{9:pv,27:pv,33:uv,34:dv,35:fv,36:hv,37:hv,38:uv,39:fv,40:dv},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Ts extends kse{static getDefaults(){return re(re({},super.getDefaults()),Ts.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,r){super(e,re(re({},Ts.ownDefaults),r)),this.initBehavior()}_set(e,r){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=r,this):(e==="canvas"&&(this.canvas instanceof gp&&this.canvas.textEditingManager.remove(this),r instanceof gp&&r.textEditingManager.add(this)),super._set(e,r))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,r){this[e]!==r&&(this._fireSelectionChanged(),this[e]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,r,n)}setSelectionStyles(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,r,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,r)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const r=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=r,n}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const r=this._getCursorBoundaries(),n=this.findAncestorsWithClipPath(),i=n.length>0;let s,o=e;if(i){s=di(e.canvas),o=s.getContext("2d"),vD(o,this.canvas);const l=this.calcTransformMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,r):this.renderCursor(o,r),i)for(const l of n){const c=l.clipPath,d=di(e.canvas),f=d.getContext("2d");if(vD(f,this.canvas),!c.absolutePositioned){const h=l.calcTransformMatrix();f.transform(h[0],h[1],h[2],h[3],h[4],h[5])}c.transform(f),c.drawObject(f,!0,{}),this.drawClipPathOnCache(o,c,d)}i&&(e.setTransform(1,0,0,1,0,0),e.drawImage(s,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let r=this;for(;r;)r.clipPath&&e.push(r),r=r.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,r);return{left:n,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,r){return r?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let r=0,n=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(e);for(let d=0;d<s;d++)r+=this.getHeightOfLine(d);const o=this._getLineLeftOffset(s),l=this.__charBounds[s][i];l&&(n=l.left),this.charSpacing!==0&&i===this._textLines[s].length&&(n-=this._getWidthOfCharSpacing());const c={top:r,left:o+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Pr||this.textAlign===sa||this.textAlign===Vh?c.left*=-1:this.textAlign===Ht||this.textAlign===yy?c.left=o-(n>0?n:0):this.textAlign!==lt&&this.textAlign!==Gh||(c.left=o-(n>0?n:0))),c}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,r){this._renderCursor(e,r,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,s,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),c=this.cursorWidth/l,d=this.getValueOfPropertyAt(i,s,"deltaY"),f=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:r.left+r.leftOffset-c/2,top:f+r.top+d,width:c,height:o}}_renderCursor(e,r,n){const{color:i,opacity:s,left:o,top:l,width:c,height:d}=this.getCursorRenderingData(n,r);e.fillStyle=i,e.globalAlpha=s,e.fillRect(o,l,c,d)}renderSelection(e,r){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,r)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const r=this.getSelectionStartFromPointer(e);this.renderCursorAt(r)}_renderSelection(e,r,n){const i=r.selectionStart,s=r.selectionEnd,o=this.textAlign.includes(sa),l=this.get2DCursorLocation(i),c=this.get2DCursorLocation(s),d=l.lineIndex,f=c.lineIndex,h=l.charIndex<0?0:l.charIndex,m=c.charIndex<0?0:c.charIndex;for(let g=d;g<=f;g++){const j=this._getLineLeftOffset(g)||0;let x=this.getHeightOfLine(g),y=0,b=0,S=0;if(g===d&&(b=this.__charBounds[d][h].left),g>=d&&g<f)S=o&&!this.isEndOfWrapping(g)?this.width:this.getLineWidth(g)||5;else if(g===f)if(m===0)S=this.__charBounds[f][m].left;else{const k=this._getWidthOfCharSpacing();S=this.__charBounds[f][m-1].left+this.__charBounds[f][m-1].width-k}y=x,(this.lineHeight<1||g===f&&this.lineHeight>1)&&(x/=this.lineHeight);let O=n.left+j+b,P=x,C=0;const _=S-b;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",P=1,C=x):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Pr||this.textAlign===sa||this.textAlign===Vh?O=this.width-O-_:this.textAlign===Ht||this.textAlign===yy?O=n.left+j-S:this.textAlign!==lt&&this.textAlign!==Gh||(O=n.left+j-S)),e.fillRect(O,n.top+n.topOffset+C,_,P),n.topOffset+=y}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,Ir)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),r=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:r}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}te(Ts,"ownDefaults",Tse),te(Ts,"type","IText"),Fe.setClass(Ts),Fe.setClass(Ts,"i-text");class Ko extends Ts{static getDefaults(){return re(re({},super.getDefaults()),Ko.ownDefaults)}constructor(e,r){super(e,re(re({},Ko.ownDefaults),r))}static createControls(){return{controls:G6()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(sa)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let r=0,n=0,i=0;const s={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[i]===`
`&&o>0?(n=0,i++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(n++,i++),s[o]={line:r,offset:n},i+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return s}styleHas(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[r];n&&(r=n.line)}return super.styleHas(e,r)}isEmptyStyles(e){if(!this.styles)return!0;let r,n=0,i=e+1,s=!1;const o=this._styleMap[e],l=this._styleMap[e+1];o&&(e=o.line,n=o.offset),l&&(i=l.line,s=i===e,r=l.offset);const c=e===void 0?this.styles:{line:this.styles[e]};for(const d in c)for(const f in c[d]){const h=parseInt(f,10);if(h>=n&&(!s||h<r))for(const m in c[d][f])return!1}return!0}_getStyleDeclaration(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,r=n.offset+r}return super._getStyleDeclaration(e,r)}_setStyleDeclaration(e,r,n){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+r,n)}_deleteStyleDeclaration(e,r){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+r)}_getLineStyle(e){const r=this._styleMap[e];return!!this.styles[r.line]}_setLineStyle(e){const r=this._styleMap[e];super._setLineStyle(r.line)}_wrapText(e,r){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),i=[];for(let s=0;s<n.wordsData.length;s++)i.push(...this._wrapLine(s,r,n));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const r=this.splitByGrapheme,n=r?"":" ";let i=0;return{wordsData:e.map(((s,o)=>{let l=0;const c=r?this.graphemeSplit(s):this.wordSplit(s);return c.length===0?[{word:[],width:0}]:c.map((d=>{const f=r?[d]:this.graphemeSplit(d),h=this._measureWord(f,o,l);return i=Math.max(h,i),l+=f.length+n.length,{word:f,width:h}}))})),largestWordWidth:i}}_measureWord(e,r){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let o=0,l=e.length;o<l;o++)s+=this._getGraphemeBox(e[o],r,o+i,n,!0).kernedWidth,n=e[o];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,r,n){let{largestWordWidth:i,wordsData:s}=n,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const l=this._getWidthOfCharSpacing(),c=this.splitByGrapheme,d=[],f=c?"":" ";let h=0,m=[],g=0,j=0,x=!0;r-=o;const y=Math.max(r,i,this.dynamicMinWidth),b=s[e];let S;for(g=0,S=0;S<b.length;S++){const{word:O,width:P}=b[S];g+=O.length,h+=j+P-l,h>y&&!x?(d.push(m),m=[],h=P,x=!0):h+=l,x||c||m.push(f),m=m.concat(O),j=c?0:this._measureWord([f],e,g),g++,x=!1}return S&&d.push(m),i+o>this.dynamicMinWidth&&(this.dynamicMinWidth=i-l+o),d}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const r=super._splitTextIntoLines(e),n=this._wrapText(r.lines,this.width),i=new Array(n.length);for(let s=0;s<n.length;s++)i[s]=n[s].join("");return r.lines=i,r.graphemeLines=n,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const r in this._styleMap){const n=parseInt(r,10);if(this._textLines[n]){const i=this._styleMap[r].line;e.set("".concat(i),!0)}}for(const r in this.styles)e.has(r)||delete this.styles[r]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}te(Ko,"type","Textbox"),te(Ko,"textLayoutProperties",[...Ts.textLayoutProperties,"width"]),te(Ko,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Fe.setClass(Ko);class F_ extends Cm{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,r){const{target:n}=e,{clipPath:i,group:s}=n;if(!i||!this.shouldPerformLayout(e))return;const{width:o,height:l}=da(i8(n,i)),c=new pe(o,l);if(i.absolutePositioned)return{center:Ka(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:c};{const d=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:f=new pe,correction:h=new pe}=this.calcBoundingBox(r,e)||{};return{center:f.add(d),correction:h.subtract(d),size:c}}return{center:n.getRelativeCenterPoint().add(d),size:c}}}}te(F_,"type","clip-path"),Fe.setClass(F_);class $_ extends Cm{getInitialSize(e,r){let{target:n}=e,{size:i}=r;return new pe(n.width||i.x,n.height||i.y)}}te($_,"type","fixed"),Fe.setClass($_);class Ase extends sd{subscribeTargets(e){const r=e.target;e.targets.reduce(((n,i)=>(i.parent&&n.add(i.parent),n)),new Set).forEach((n=>{n.layoutManager.subscribeTargets({target:n,targets:[r]})}))}unsubscribeTargets(e){const r=e.target,n=r.getObjects();e.targets.reduce(((i,s)=>(s.parent&&i.add(s.parent),i)),new Set).forEach((i=>{!n.some((s=>s.parent===i))&&i.layoutManager.unsubscribeTargets({target:i,targets:[r]})}))}}class Jo extends Ai{static getDefaults(){return re(re({},super.getDefaults()),Jo.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Jo.ownDefaults),this.setOptions(r);const{left:n,top:i,layoutManager:s}=r;this.groupInit(e,{left:n,top:i,layoutManager:s??new Ase})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach((i=>{const s=this._objects.findIndex((l=>l.isInFrontOf(i))),o=s===-1?this.size():s;this.insertAt(o,i)}))}canEnterGroup(e){return this.getObjects().some((r=>r.isDescendantOf(e)||e.isDescendantOf(r)))?(so("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,r){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,r)}exitGroup(e,r){this._exitGroup(e,r),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,r){super._onAfterObjectsChange(e,r);const n=new Set;r.forEach((i=>{const{parent:s}=i;s&&n.add(s)})),e===Ak?n.forEach((i=>{i._onAfterObjectsChange(jy,r)})):n.forEach((i=>{i._set("dirty",!0)}))}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,r,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=re(re({hasControls:!1},n),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,i);super._renderControls(e,r),e.restore()}}te(Jo,"type","ActiveSelection"),te(Jo,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Fe.setClass(Jo),Fe.setClass(Jo,"activeSelection");class P8{constructor(){te(this,"resources",{})}applyFilters(e,r,n,i,s){const o=s.getContext("2d");if(!o)return;o.drawImage(r,0,0,n,i);const l={sourceWidth:n,sourceHeight:i,imageData:o.getImageData(0,0,n,i),originalEl:r,originalImageData:o.getImageData(0,0,n,i),canvasEl:s,ctx:o,filterBackend:this};e.forEach((d=>{d.applyTo(l)}));const{imageData:c}=l;return c.width===n&&c.height===i||(s.width=c.width,s.height=c.height),o.putImageData(c,0,0),l}}class yp{constructor(){let{tileSize:e=Nt.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),te(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,r){this.dispose(),this.createWebGLCanvas(e,r)}createWebGLCanvas(e,r){const n=di({width:e,height:r}),i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(e,r,n,i,s,o){const l=this.gl,c=s.getContext("2d");if(!l||!c)return;let d;o&&(d=this.getCachedTexture(o,r));const f={originalWidth:r.width||r.naturalWidth||0,originalHeight:r.height||r.naturalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:l,sourceTexture:this.createTexture(l,n,i,d?void 0:r),targetTexture:this.createTexture(l,n,i),originalTexture:d||this.createTexture(l,n,i,d?void 0:r),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},h=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,h),e.forEach((m=>{m&&m.applyTo(f)})),(function(m){const g=m.targetCanvas,j=g.width,x=g.height,y=m.destinationWidth,b=m.destinationHeight;j===y&&x===b||(g.width=y,g.height=b)})(f),this.copyGLTo2D(l,f),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(f.sourceTexture),l.deleteTexture(f.targetTexture),l.deleteFramebuffer(h),c.setTransform(1,0,0,1,0,0),f}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,r,n,i,s){const{NEAREST:o,TEXTURE_2D:l,RGBA:c,UNSIGNED_BYTE:d,CLAMP_TO_EDGE:f,TEXTURE_MAG_FILTER:h,TEXTURE_MIN_FILTER:m,TEXTURE_WRAP_S:g,TEXTURE_WRAP_T:j}=e,x=e.createTexture();return e.bindTexture(l,x),e.texParameteri(l,h,s||o),e.texParameteri(l,m,s||o),e.texParameteri(l,g,f),e.texParameteri(l,j,f),i?e.texImage2D(l,0,c,c,d,i):e.texImage2D(l,0,c,r,n,0,c,d,null),x}getCachedTexture(e,r,n){const{textureCache:i}=this;if(i[e])return i[e];{const s=this.createTexture(this.gl,r.width,r.height,r,n);return s&&(i[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,r){const n=e.canvas,i=r.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const o=n.height-i.height;s.drawImage(n,0,o,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,r){const n=r.targetCanvas.getContext("2d"),i=r.destinationWidth,s=r.destinationHeight,o=i*s*4;if(!n)return;const l=new Uint8Array(this.imageBuffer,0,o),c=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,s,e.RGBA,e.UNSIGNED_BYTE,l);const d=new ImageData(c,i,s);n.putImageData(d,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,r={renderer:"",vendor:""};if(!e)return r;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),s=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),s&&(r.vendor=s.toLowerCase())}return this.gpuInfo=r,r}}let Gv;function k8(){const{WebGLProbe:t}=Is();return t.queryWebGL(as()),Nt.enableGLFiltering&&t.isSupported(Nt.textureSize)?new yp({tileSize:Nt.textureSize}):new P8}function Xv(){return!Gv&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Gv=k8()),Gv}function Ese(t){Gv=t}const Mse=["filters","resizeFilter","src","crossOrigin","type"],T8=["cropX","cropY"];class kn extends cn{static getDefaults(){return re(re({},super.getDefaults()),kn.ownDefaults)}constructor(e,r){super(),te(this,"_lastScaleX",1),te(this,"_lastScaleY",1),te(this,"_filterScalingX",1),te(this,"_filterScalingY",1),this.filters=[],Object.assign(this,kn.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(gl()),this.setElement(typeof e=="string"?(this.canvas&&_s(this.canvas.getElement())||Dc()).getElementById(e):e,r)}getElement(){return this._element}setElement(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),(r=e.classList)===null||r===void 0||r.add(kn.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const r=Xv(!1);r instanceof yp&&r.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((e=>{const r=this[e];r&&Is().dispose(r),this[e]=void 0}))}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,-n),e.lineTo(r,-n),e.lineTo(r,n),e.lineTo(-r,n),e.lineTo(-r,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach((n=>{n&&r.push(n.toObject())})),re(re({},super.toObject([...T8,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],r=this._element,n=-this.width/2,i=-this.height/2;let s=[],o=[],l="",c="";if(!r)return[];if(this.hasCrop()){const d=gl();s.push('<clipPath id="imageCrop_'+d+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+d+')" '}if(this.imageSmoothing||(c=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(c).concat(l,`></image>
`)),this.stroke||this.strokeDashArray){const d=this.fill;this.fill=null,o=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=d}return s=this.paintFirst!==Ir?s.concat(o,e):s.concat(e,o),s}getSrc(e){const r=e?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:r,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return qh(e,{crossOrigin:r,signal:n}).then((i=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(i)}))}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,r=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,s=n.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>r&&s>r)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const l=di(o),{width:c,height:d}=o;this._element=l,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=s,Xv().applyFilters([e],o,c,d,this._element),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter((s=>s&&!s.isNeutralState())),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,n=r.naturalWidth||r.width,i=r.naturalHeight||r.height;if(this._element===this._originalElement){const s=di({width:n,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);Xv().applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const r=this._element;if(!r)return;const n=this._filterScalingX,i=this._filterScalingY,s=this.width,o=this.height,l=Math.max(this.cropX,0),c=Math.max(this.cropY,0),d=r.naturalWidth||r.width,f=r.naturalHeight||r.height,h=l*n,m=c*i,g=Math.min(s*n,d-h),j=Math.min(o*i,f-m),x=-s/2,y=-o/2,b=Math.min(s,d/n-l),S=Math.min(o,f/i-c);r&&e.drawImage(r,h,m,g,j,x,y,b,S)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=r||n.height}parsePreserveAspectRatioAttribute(){const e=jk(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n};let s,o=this._element.width,l=this._element.height,c=1,d=1,f=0,h=0,m=0,g=0;return!e||e.alignX===Un&&e.alignY===Un?(c=r/o,d=n/l):(e.meetOrSlice==="meet"&&(c=d=a8(this._element,i),s=(r-o*c)/2,e.alignX==="Min"&&(f=-s),e.alignX==="Max"&&(f=s),s=(n-l*d)/2,e.alignY==="Min"&&(h=-s),e.alignY==="Max"&&(h=s)),e.meetOrSlice==="slice"&&(c=d=o8(this._element,i),s=o-r/c,e.alignX==="Mid"&&(m=s/2),e.alignX==="Max"&&(m=s),s=l-n/d,e.alignY==="Mid"&&(g=s/2),e.alignY==="Max"&&(g=s),o=r/c,l=n/d)),{width:o,height:l,scaleX:c,scaleY:d,offsetLeft:f,offsetTop:h,cropX:m,cropY:g}}static fromObject(e,r){let{filters:n,resizeFilter:i,src:s,crossOrigin:o,type:l}=e,c=lr(e,Mse);return Promise.all([qh(s,re(re({},r),{},{crossOrigin:o})),n&&td(n,r),i&&td([i],r),jm(c,r)]).then((d=>{let[f,h=[],[m]=[],g={}]=d;return new this(f,re(re({},c),{},{src:s,filters:h,resizeFilter:m},g))}))}static fromURL(e){let{crossOrigin:r=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return qh(e,{crossOrigin:r,signal:n}).then((s=>new this(s,i)))}static async fromElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=Sa(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"]||i.href,r,i).catch((s=>(so("log","Unable to parse Image",s),null)))}}function Lj(t){if(!tie.test(t.nodeName))return{};const e=t.getAttribute("viewBox");let r,n,i=1,s=1,o=0,l=0;const c=t.getAttribute("width"),d=t.getAttribute("height"),f=t.getAttribute("x")||0,h=t.getAttribute("y")||0,m=!(e&&ZM.test(e)),g=!c||!d||c==="100%"||d==="100%";let j="",x=0,y=0;if(m&&(f||h)&&t.parentNode&&t.parentNode.nodeName!=="#document"&&(j=" translate("+zn(f||"0")+" "+zn(h||"0")+") ",r=(t.getAttribute("transform")||"")+j,t.setAttribute("transform",r),t.removeAttribute("x"),t.removeAttribute("y")),m&&g)return{width:0,height:0};const b={width:0,height:0};if(m)return b.width=zn(c),b.height=zn(d),b;const S=e.match(ZM);o=-parseFloat(S[1]),l=-parseFloat(S[2]);const O=parseFloat(S[3]),P=parseFloat(S[4]);b.minX=o,b.minY=l,b.viewBoxWidth=O,b.viewBoxHeight=P,g?(b.width=O,b.height=P):(b.width=zn(c),b.height=zn(d),i=b.width/O,s=b.height/P);const C=jk(t.getAttribute("preserveAspectRatio")||"");if(C.alignX!==Un&&(C.meetOrSlice==="meet"&&(s=i=i>s?s:i),C.meetOrSlice==="slice"&&(s=i=i>s?i:s),x=b.width-O*i,y=b.height-P*i,C.alignX==="Mid"&&(x/=2),C.alignY==="Mid"&&(y/=2),C.alignX==="Min"&&(x=0),C.alignY==="Min"&&(y=0)),i===1&&s===1&&o===0&&l===0&&f===0&&h===0)return b;if((f||h)&&t.parentNode.nodeName!=="#document"&&(j=" translate("+zn(f||"0")+" "+zn(h||"0")+") "),r=j+" matrix("+i+" 0 0 "+s+" "+(o*i+x)+" "+(l*s+y)+") ",t.nodeName==="svg"){for(n=t.ownerDocument.createElementNS(k_,"g");t.firstChild;)n.appendChild(t.firstChild);t.appendChild(n)}else n=t,n.removeAttribute("x"),n.removeAttribute("y"),r=n.getAttribute("transform")+r;return n.setAttribute("transform",r),b}te(kn,"type","Image"),te(kn,"cacheProperties",[...ho,...T8]),te(kn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),te(kn,"CSS_CANVAS","canvas-img"),te(kn,"ATTRIBUTE_NAMES",[...Sl,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),Fe.setClass(kn),Fe.setSVGClass(kn);const Oy=t=>t.tagName.replace("svg:",""),Dse=b0(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);function A8(t,e){let r,n,i,s,o=[];for(i=0,s=e.length;i<s;i++)r=e[i],n=t.getElementsByTagNameNS("http://www.w3.org/2000/svg",r),o=o.concat(Array.from(n));return o}const Rse=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],zj="xlink:href";function E8(t,e){var r;const n=((r=e.getAttribute(zj))===null||r===void 0?void 0:r.slice(1))||"",i=t.getElementById(n);if(i&&i.getAttribute(zj)&&E8(t,i),i&&(Rse.forEach((s=>{const o=i.getAttribute(s);!e.hasAttribute(s)&&o&&e.setAttribute(s,o)})),!e.children.length)){const s=i.cloneNode(!0);for(;s.firstChild;)e.appendChild(s.firstChild)}e.removeAttribute(zj)}const Ise=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"];function M8(t){const e=t.getElementsByTagName("style"),r={};for(let n=0;n<e.length;n++){const i=(e[n].textContent||"").replace(/\/\*[\s\S]*?\*\//g,"");i.trim()!==""&&i.split("}").filter(((s,o,l)=>l.length>1&&s.trim())).forEach((s=>{if((s.match(/{/g)||[]).length>1&&s.trim().startsWith("@"))return;const o=s.split("{"),l={},c=o[1].trim().split(";").filter((function(d){return d.trim()}));for(let d=0;d<c.length;d++){const f=c[d].split(":"),h=f[0].trim(),m=f[1].trim();l[h]=m}(s=o[0].trim()).split(",").forEach((d=>{(d=d.replace(/^svg/i,"").trim())!==""&&(r[d]=re(re({},r[d]||{}),l))}))}))}return r}const yD=t=>Fe.getSVGClass(Oy(t).toLowerCase());class Lse{constructor(e,r,n,i,s){this.elements=e,this.options=r,this.reviver=n,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=i,this.clipPaths=s,this.gradientDefs=(function(o){const l=A8(o,Ise),c={};let d=l.length;for(;d--;){const f=l[d];f.getAttribute("xlink:href")&&E8(o,f);const h=f.getAttribute("id");h&&(c[h]=f)}return c})(i),this.cssRules=M8(i)}parse(){return Promise.all(this.elements.map((e=>this.createObject(e))))}async createObject(e){const r=yD(e);if(r){const n=await r.fromElement(e,this.options,this.cssRules);return this.resolveGradient(n,e,Ir),this.resolveGradient(n,e,qn),n instanceof kn&&n._originalElement?Vv(n,n.parsePreserveAspectRatioAttribute()):Vv(n),await this.resolveClipPath(n,e),this.reviver&&this.reviver(e,n),n}return null}extractPropertyDefinition(e,r,n){const i=e[r],s=this.regexUrl;if(!s.test(i))return;s.lastIndex=0;const o=s.exec(i)[1];return s.lastIndex=0,n[o]}resolveGradient(e,r,n){const i=this.extractPropertyDefinition(e,n,this.gradientDefs);if(i){const s=r.getAttribute(n+"-opacity"),o=Au.fromElement(i,e,re(re({},this.options),{},{opacity:s}));e.set(n,o)}}async resolveClipPath(e,r,n){const i=this.extractPropertyDefinition(e,"clipPath",this.clipPaths);if(i){const s=li(e.calcTransformMatrix()),o=i[0].parentElement;let l=r;for(;!n&&l.parentElement&&l.getAttribute("clip-path")!==e.clipPath;)l=l.parentElement;l.parentElement.appendChild(o);const c=mp("".concat(l.getAttribute("transform")||""," ").concat(o.getAttribute("originalTransform")||""));o.setAttribute("transform","matrix(".concat(c.join(","),")"));const d=await Promise.all(i.map((S=>yD(S).fromElement(S,this.options,this.cssRules).then((O=>(Vv(O),O.fillRule=O.clipRule,delete O.clipRule,O)))))),f=d.length===1?d[0]:new Ai(d),h=xr(s,f.calcTransformMatrix());f.clipPath&&await this.resolveClipPath(f,l,o.getAttribute("clip-path")?l:void 0);const{scaleX:m,scaleY:g,angle:j,skewX:x,translateX:y,translateY:b}=Nc(h);f.set({flipX:!1,flipY:!1}),f.set({scaleX:m,scaleY:g,angle:j,skewX:x,skewY:0}),f.setPositionByOrigin(new pe(y,b),lt,lt),e.clipPath=f}else delete e.clipPath}}const xD=t=>eie.test(Oy(t)),B_=()=>({objects:[],elements:[],options:{},allElements:[]});async function Dk(t,e){let{crossOrigin:r,signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n&&n.aborted)return so("log",new ak("parseSVGDocument")),B_();const i=t.documentElement;(function(f){const h=A8(f,["use","svg:use"]),m=["x","y","xlink:href","href","transform"];for(const g of h){const j=g.attributes,x={};for(const M of j)M.value&&(x[M.name]=M.value);const y=(x["xlink:href"]||x.href||"").slice(1);if(y==="")return;const b=f.getElementById(y);if(b===null)return;let S=b.cloneNode(!0);const O=S.attributes,P={};for(const M of O)M.value&&(P[M.name]=M.value);const{x:C=0,y:_=0,transform:k=""}=x,A="".concat(k," ").concat(P.transform||""," translate(").concat(C,", ").concat(_,")");if(Lj(S),/^svg$/i.test(S.nodeName)){const M=S.ownerDocument.createElementNS(k_,"g");Object.entries(P).forEach((D=>{let[L,W]=D;return M.setAttributeNS(k_,L,W)})),M.append(...S.childNodes),S=M}for(const M of j){if(!M)continue;const{name:D,value:L}=M;if(!m.includes(D))if(D==="style"){const W={};R_(L,W),Object.entries(P).forEach((H=>{let[z,q]=H;W[z]=q})),R_(P.style||"",W);const $=Object.entries(W).map((H=>H.join(":"))).join(";");S.setAttribute(D,$)}else!P[D]&&S.setAttribute(D,L)}S.setAttribute("transform",A),S.setAttribute("instantiated_by_use","1"),S.removeAttribute("id"),g.parentNode.replaceChild(S,g)}})(t);const s=Array.from(i.getElementsByTagName("*")),o=re(re({},Lj(i)),{},{crossOrigin:r,signal:n}),l=s.filter((f=>(Lj(f),xD(f)&&!(function(h){let m=h;for(;m&&(m=m.parentElement);)if(m&&m.nodeName&&Dse.test(Oy(m))&&!m.getAttribute("instantiated_by_use"))return!0;return!1})(f))));if(!l||l&&!l.length)return re(re({},B_()),{},{options:o,allElements:s});const c={};return s.filter((f=>Oy(f)==="clipPath")).forEach((f=>{f.setAttribute("originalTransform",f.getAttribute("transform")||"");const h=f.getAttribute("id");c[h]=Array.from(f.getElementsByTagName("*")).filter((m=>xD(m)))})),{objects:await new Lse(l,o,e,t,c).parse(),elements:l,options:o,allElements:s}}function zse(t,e,r){return Dk(new(Ps()).DOMParser().parseFromString(t.trim(),"text/xml"),e,r)}function Fse(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(((n,i)=>{g8(t.replace(/^\n\s*/,"").trim(),{onComplete:s=>{const o=s.responseXML;o&&n(o),i()},signal:r.signal})})).then((n=>Dk(n,e,r))).catch((()=>B_()))}const D8=s6,bD=t=>function(e,r,n){const{points:i,pathOffset:s}=n;return new pe(i[t]).subtract(s).transform(xr(n.getViewportTransform(),n.calcTransformMatrix()))},R8=(t,e,r,n)=>{const{target:i,pointIndex:s}=e,o=i,l=Ka(new pe(r,n),void 0,o.calcOwnMatrix());return o.points[s]=l.add(o.pathOffset),o.setDimensions(),o.set("dirty",!0),!0},I8=(t,e)=>function(r,n,i,s){const o=n.target,l=new pe(o.points[(t>0?t:o.points.length)-1]),c=l.subtract(o.pathOffset).transform(o.calcOwnMatrix()),d=e(r,re(re({},n),{},{pointIndex:t}),i,s),f=l.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(c);return o.left-=f.x,o.top-=f.y,d},wD=t=>jl(D8,I8(t,R8)),H_=(t,e,r)=>{const{path:n,pathOffset:i}=t,s=n[e];return new pe(s[r]-i.x,s[r+1]-i.y).transform(xr(t.getViewportTransform(),t.calcTransformMatrix()))};function $se(t,e,r){const{commandIndex:n,pointIndex:i}=this;return H_(r,n,i)}function Bse(t,e,r,n){const{target:i}=e,{commandIndex:s,pointIndex:o}=this,l=((c,d,f,h,m)=>{const{path:g,pathOffset:j}=c,x=g[(h>0?h:g.length)-1],y=new pe(x[m],x[m+1]),b=y.subtract(j).transform(c.calcOwnMatrix()),S=Ka(new pe(d,f),void 0,c.calcOwnMatrix());g[h][m]=S.x+j.x,g[h][m+1]=S.y+j.y,c.setDimensions();const O=y.subtract(c.pathOffset).transform(c.calcOwnMatrix()).subtract(b);return c.left-=O.x,c.top-=O.y,c.set("dirty",!0),!0})(i,r,n,s,o);return bk(this.actionName,re(re({},wk(t,e,r,n)),{},{commandIndex:s,pointIndex:o})),l}class L8 extends ai{constructor(e){super(e)}render(e,r,n,i,s){const o=re(re({},i),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(e,r,n,o,s)}}class Hse extends L8{constructor(e){super(e)}render(e,r,n,i,s){const{path:o}=s,{commandIndex:l,pointIndex:c,connectToCommandIndex:d,connectToPointIndex:f}=this;e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray);const[h]=o[l],m=H_(s,d,f);if(h==="Q"){const g=H_(s,l,c+2);e.moveTo(g.x,g.y),e.lineTo(r,n)}else e.moveTo(r,n);e.lineTo(m.x,m.y),e.stroke(),e.restore(),super.render(e,r,n,i,s)}}const mv=(t,e,r,n,i,s)=>new(r?Hse:L8)(re(re({commandIndex:t,pointIndex:e,actionName:"modifyPath",positionHandler:$se,actionHandler:Bse,connectToCommandIndex:i,connectToPointIndex:s},n),r?n.controlPointStyle:n.pointStyle));var Wse=Object.freeze({__proto__:null,changeWidth:E_,createObjectDefaultControls:Pk,createPathControls:function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={};let n="M";return t.path.forEach(((i,s)=>{const o=i[0];switch(o!=="Z"&&(r["c_".concat(s,"_").concat(o)]=mv(s,i.length-2,!1,e)),o){case"C":r["c_".concat(s,"_C_CP_1")]=mv(s,1,!0,e,s-1,(l=>l==="C"?5:l==="Q"?3:1)(n)),r["c_".concat(s,"_C_CP_2")]=mv(s,3,!0,e,s,5);break;case"Q":r["c_".concat(s,"_Q_CP_1")]=mv(s,1,!0,e,s,3)}n=o})),r},createPolyActionHandler:wD,createPolyControls:function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={};for(let n=0;n<(typeof t=="number"?t:t.points.length);n++)r["p".concat(n)]=new ai(re({actionName:D8,positionHandler:bD(n),actionHandler:wD(n)},e));return r},createPolyPositionHandler:bD,createResizeControls:V6,createTextboxDefaultControls:G6,dragHandler:S6,factoryPolyActionHandler:I8,getLocalPoint:x0,polyActionHandler:R8,renderCircleControl:D6,renderSquareControl:R6,rotationStyleHandler:I6,rotationWithSnapping:L6,scaleCursorStyleHandler:ku,scaleOrSkewActionName:bh,scaleSkewCursorStyleHandler:uc,scalingEqually:xh,scalingX:$6,scalingXOrSkewingY:M_,scalingY:B6,scalingYOrSkewingX:D_,skewCursorStyleHandler:H6,skewHandlerX:U6,skewHandlerY:q6,wrapWithFireEvent:jl,wrapWithFixedAnchor:Lc});const Nm=t=>t.webgl!==void 0,Use=(t,e)=>{const r=di({width:t,height:e}),n=as().getContext("webgl"),i={imageBuffer:new ArrayBuffer(t*e*4)},s={destinationWidth:t,destinationHeight:e,targetCanvas:r};let o;o=Ps().performance.now(),yp.prototype.copyGLTo2D.call(i,n,s);const l=Ps().performance.now()-o;return o=Ps().performance.now(),yp.prototype.copyGLTo2DPutImageData.call(i,n,s),l>Ps().performance.now()-o},Rk="precision highp float",qse=`
    `.concat(Rk,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),Vse=["type"],Gse=["type"],Xse=new RegExp(Rk,"g");class Fr{get type(){return this.constructor.type}constructor(){let e=lr(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Vse);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return qse}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=Is();i!=="highp"&&(r=r.replace(Xse,Rk.replace("highp",i)));const s=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),l=e.createProgram();if(!s||!o||!l)throw new la("Vertex, fragment shader or program creation error");if(e.shaderSource(s,n),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new la("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new la("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(l,s),e.attachShader(l,o),e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw new la('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(l)));const c=this.getUniformLocations(e,l)||{};return c.uStepW=e.getUniformLocation(l,"uStepW"),c.uStepH=e.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:this.getAttributeLocations(e,l),uniformLocations:c}}getAttributeLocations(e,r){return{aPosition:e.getAttribLocation(r,"aPosition")}}getUniformLocations(e,r){const n=this.constructor.uniformLocations,i={};for(let s=0;s<n.length;s++)i[n[s]]=e.getUniformLocation(r,n[s]);return i}sendAttributeData(e,r,n){const i=r.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const r=e.context;if(e.passes>1){const n=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===i||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,n,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(e){e.passes--,e.pass++;const r=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=r}isNeutralState(e){return!1}applyTo(e){Nm(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const r=this.getCacheKey();return e.programCache[r]||(e.programCache[r]=this.createProgram(e.context)),e.programCache[r]}applyToWebGL(e){const r=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?r.bindTexture(r.TEXTURE_2D,e.originalTexture):r.bindTexture(r.TEXTURE_2D,e.sourceTexture),r.useProgram(n.program),this.sendAttributeData(r,n.attributeLocations,e.aPosition),r.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),r.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(r,n.uniformLocations),r.viewport(0,0,e.destinationWidth,e.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,r,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,r),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,r){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:r,sourceHeight:n}=e,i=di({width:r,height:n});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return re({type:this.type},e.reduce(((r,n)=>(r[n]=this[n],r)),{}))}toJSON(){return this.toObject()}static async fromObject(e,r){return new this(lr(e,Gse))}}te(Fr,"type","BaseFilter"),te(Fr,"uniformLocations",[]);const Yse={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class jh extends Fr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(Yse[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:r}}=e;const n=new Et(this.color).getSource(),i=this.alpha,s=n[0]*i,o=n[1]*i,l=n[2]*i,c=1-i;for(let d=0;d<r.length;d+=4){const f=r[d],h=r[d+1],m=r[d+2];let g,j,x;switch(this.mode){case"multiply":g=f*s/255,j=h*o/255,x=m*l/255;break;case"screen":g=255-(255-f)*(255-s)/255,j=255-(255-h)*(255-o)/255,x=255-(255-m)*(255-l)/255;break;case"add":g=f+s,j=h+o,x=m+l;break;case"difference":g=Math.abs(f-s),j=Math.abs(h-o),x=Math.abs(m-l);break;case"subtract":g=f-s,j=h-o,x=m-l;break;case"darken":g=Math.min(f,s),j=Math.min(h,o),x=Math.min(m,l);break;case"lighten":g=Math.max(f,s),j=Math.max(h,o),x=Math.max(m,l);break;case"overlay":g=s<128?2*f*s/255:255-2*(255-f)*(255-s)/255,j=o<128?2*h*o/255:255-2*(255-h)*(255-o)/255,x=l<128?2*m*l/255:255-2*(255-m)*(255-l)/255;break;case"exclusion":g=s+f-2*s*f/255,j=o+h-2*o*h/255,x=l+m-2*l*m/255;break;case"tint":g=s+f*c,j=o+h*c,x=l+m*c}r[d]=g,r[d+1]=j,r[d+2]=x}}sendUniformData(e,r){const n=new Et(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(r.uColor,n)}}te(jh,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),te(jh,"type","BlendColor"),te(jh,"uniformLocations",["uColor"]),Fe.setClass(jh);const Kse={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},Jse=["type","image"];class Sh extends Fr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Kse[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const r=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(e,r){return e.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const e=this.image,{width:r,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}applyTo2d(e){let{imageData:{data:r,width:n,height:i},filterBackend:{resources:s}}=e;const o=this.image;s.blendImage||(s.blendImage=as());const l=s.blendImage,c=l.getContext("2d");l.width!==n||l.height!==i?(l.width=n,l.height=i):c.clearRect(0,0,n,i),c.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),c.drawImage(o.getElement(),0,0,n,i);const d=c.getImageData(0,0,n,i).data;for(let f=0;f<r.length;f+=4){const h=r[f],m=r[f+1],g=r[f+2],j=r[f+3],x=d[f],y=d[f+1],b=d[f+2],S=d[f+3];switch(this.mode){case"multiply":r[f]=h*x/255,r[f+1]=m*y/255,r[f+2]=g*b/255,r[f+3]=j*S/255;break;case"mask":r[f+3]=S}}}sendUniformData(e,r){const n=this.calculateMatrix();e.uniform1i(r.uImage,1),e.uniformMatrix3fv(r.uTransformMatrix,!1,n)}toObject(){return re(re({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,r){let{type:n,image:i}=e,s=lr(e,Jse);return kn.fromObject(i,r).then((o=>new this(re(re({},s),{},{image:o}))))}}te(Sh,"type","BlendImage"),te(Sh,"defaults",{mode:"multiply",alpha:1}),te(Sh,"uniformLocations",["uTransformMatrix","uImage"]),Fe.setClass(Sh);class Ch extends Fr{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){Nm(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;this.aspectRatio=n/i,this.horizontal=!0;let s=this.getBlurValue()*n;const o=new Uint8ClampedArray(r),l=15,c=4*n;for(let d=0;d<r.length;d+=4){let f=0,h=0,m=0,g=0,j=0;const x=d-d%c,y=x+c;for(let b=-14;b<l;b++){const S=b/l,O=4*Math.floor(s*S),P=1-Math.abs(S);let C=d+O;C<x?C=x:C>y&&(C=y);const _=r[C+3]*P;f+=r[C]*_,h+=r[C+1]*_,m+=r[C+2]*_,g+=_,j+=P}o[d]=f/g,o[d+1]=h/g,o[d+2]=m/g,o[d+3]=g/j}this.horizontal=!1,s=this.getBlurValue()*i;for(let d=0;d<o.length;d+=4){let f=0,h=0,m=0,g=0,j=0;const x=d%c,y=o.length-c+x;for(let b=-14;b<l;b++){const S=b/l,O=Math.floor(s*S)*c,P=1-Math.abs(S);let C=d+O;C<x?C=x:C>y&&(C=y);const _=o[C+3]*P;f+=o[C]*_,h+=o[C+1]*_,m+=o[C+2]*_,g+=_,j+=P}r[d]=f/g,r[d+1]=h/g,r[d+2]=m/g,r[d+3]=g/j}}sendUniformData(e,r){const n=this.chooseRightDelta();e.uniform2fv(r.uDelta,n)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:r,aspectRatio:n}=this;return r?n>1&&(e=1/n):n<1&&(e=n),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}te(Ch,"type","Blur"),te(Ch,"defaults",{blur:0}),te(Ch,"uniformLocations",["uDelta"]),Fe.setClass(Ch);class Nh extends Fr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.round(255*this.brightness);for(let i=0;i<r.length;i+=4)r[i]+=n,r[i+1]+=n,r[i+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(e,r){e.uniform1f(r.uBrightness,this.brightness)}}te(Nh,"type","Brightness"),te(Nh,"defaults",{brightness:0}),te(Nh,"uniformLocations",["uBrightness"]),Fe.setClass(Nh);const z8={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class fc extends Fr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const r=e.imageData.data,n=this.matrix,i=this.colorsOnly;for(let s=0;s<r.length;s+=4){const o=r[s],l=r[s+1],c=r[s+2];if(r[s]=o*n[0]+l*n[1]+c*n[2]+255*n[4],r[s+1]=o*n[5]+l*n[6]+c*n[7]+255*n[9],r[s+2]=o*n[10]+l*n[11]+c*n[12]+255*n[14],!i){const d=r[s+3];r[s]+=d*n[3],r[s+1]+=d*n[8],r[s+2]+=d*n[13],r[s+3]=o*n[15]+l*n[16]+c*n[17]+d*n[18]+255*n[19]}}}sendUniformData(e,r){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],s=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(r.uColorMatrix,!1,i),e.uniform4fv(r.uConstants,s)}toObject(){return re(re({},super.toObject()),{},{matrix:[...this.matrix]})}}function zc(t,e){var r;const n=(te(r=class extends fc{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),te(r,"defaults",{colorsOnly:!1,matrix:e}),r);return Fe.setClass(n,t),n}te(fc,"type","ColorMatrix"),te(fc,"defaults",z8),te(fc,"uniformLocations",["uColorMatrix","uConstants"]),Fe.setClass(fc);const Zse=zc("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),Qse=zc("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),eae=zc("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),tae=zc("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),rae=zc("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),nae=zc("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),iae=zc("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class W_ extends Fr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Nm(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach((r=>{r.applyTo(e)}))}toObject(){return{type:this.type,subFilters:this.subFilters.map((e=>e.toObject()))}}isNeutralState(){return!this.subFilters.some((e=>!e.isNeutralState()))}static fromObject(e,r){return Promise.all((e.subFilters||[]).map((n=>Fe.getClass(n.type).fromObject(n,r)))).then((n=>new this({subFilters:n})))}}te(W_,"type","Composed"),Fe.setClass(W_);class _h extends Fr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let s=0;s<r.length;s+=4)r[s]=i*(r[s]-128)+128,r[s+1]=i*(r[s+1]-128)+128,r[s+2]=i*(r[s+2]-128)+128}sendUniformData(e,r){e.uniform1f(r.uContrast,this.contrast)}}te(_h,"type","Contrast"),te(_h,"defaults",{contrast:0}),te(_h,"uniformLocations",["uContrast"]),Fe.setClass(_h);const sae={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Oh extends Fr{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return sae[this.getCacheKey()]}applyTo2d(e){const r=e.imageData,n=r.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),l=r.width,c=r.height,d=e.ctx.createImageData(l,c),f=d.data,h=this.opaque?1:0;let m,g,j,x,y,b,S,O,P,C,_,k,A;for(_=0;_<c;_++)for(C=0;C<l;C++){for(y=4*(_*l+C),m=0,g=0,j=0,x=0,A=0;A<s;A++)for(k=0;k<s;k++)S=_+A-o,b=C+k-o,S<0||S>=c||b<0||b>=l||(O=4*(S*l+b),P=i[A*s+k],m+=n[O]*P,g+=n[O+1]*P,j+=n[O+2]*P,h||(x+=n[O+3]*P));f[y]=m,f[y+1]=g,f[y+2]=j,f[y+3]=h?n[y+3]:x}e.imageData=d}sendUniformData(e,r){e.uniform1fv(r.uMatrix,this.matrix)}toObject(){return re(re({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}te(Oh,"type","Convolute"),te(Oh,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),te(Oh,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Fe.setClass(Oh);const F8="Gamma";class Ph extends Fr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.gamma,i=1/n[0],s=1/n[1],o=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const l=this.rgbValues;for(let c=0;c<256;c++)l.r[c]=255*Math.pow(c/255,i),l.g[c]=255*Math.pow(c/255,s),l.b[c]=255*Math.pow(c/255,o);for(let c=0;c<r.length;c+=4)r[c]=l.r[r[c]],r[c+1]=l.g[r[c+1]],r[c+2]=l.b[r[c+2]]}sendUniformData(e,r){e.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:F8,gamma:this.gamma.concat()}}}te(Ph,"type",F8),te(Ph,"defaults",{gamma:[1,1,1]}),te(Ph,"uniformLocations",["uGamma"]),Fe.setClass(Ph);const aae={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class kh extends Fr{applyTo2d(e){let{imageData:{data:r}}=e;for(let n,i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],l=r[i+2];switch(this.mode){case"average":n=(s+o+l)/3;break;case"lightness":n=(Math.min(s,o,l)+Math.max(s,o,l))/2;break;case"luminosity":n=.21*s+.72*o+.07*l}r[i+2]=r[i+1]=r[i]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return aae[this.mode]}sendUniformData(e,r){e.uniform1i(r.uMode,1)}isNeutralState(){return!1}}te(kh,"type","Grayscale"),te(kh,"defaults",{mode:"average"}),te(kh,"uniformLocations",["uMode"]),Fe.setClass(kh);const oae=re(re({},z8),{},{rotation:0});class Yv extends fc{calculateMatrix(){const e=this.rotation*Math.PI,r=Ls(e),n=zs(e),i=1/3,s=Math.sqrt(i)*n,o=1-r;this.matrix=[r+o/3,i*o-s,i*o+s,0,0,i*o+s,r+i*o,i*o-s,0,0,i*o-s,i*o+s,r+i*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}te(Yv,"type","HueRotation"),te(Yv,"defaults",oae),Fe.setClass(Yv);class Th extends Fr{applyTo2d(e){let{imageData:{data:r}}=e;for(let n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2],this.alpha&&(r[n+3]=255-r[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,r){e.uniform1i(r.uInvert,Number(this.invert)),e.uniform1i(r.uAlpha,Number(this.alpha))}}te(Th,"type","Invert"),te(Th,"defaults",{alpha:!1,invert:!0}),te(Th,"uniformLocations",["uInvert","uAlpha"]),Fe.setClass(Th);class Ah extends Fr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.noise;for(let i=0;i<r.length;i+=4){const s=(.5-Math.random())*n;r[i]+=s,r[i+1]+=s,r[i+2]+=s}}sendUniformData(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}}te(Ah,"type","Noise"),te(Ah,"defaults",{noise:0}),te(Ah,"uniformLocations",["uNoise","uSeed"]),Fe.setClass(Ah);class Eh extends Fr{applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;for(let s=0;s<i;s+=this.blocksize)for(let o=0;o<n;o+=this.blocksize){const l=4*s*n+4*o,c=r[l],d=r[l+1],f=r[l+2],h=r[l+3];for(let m=s;m<Math.min(s+this.blocksize,i);m++)for(let g=o;g<Math.min(o+this.blocksize,n);g++){const j=4*m*n+4*g;r[j]=c,r[j+1]=d,r[j+2]=f,r[j+3]=h}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,r){e.uniform1f(r.uBlocksize,this.blocksize)}}te(Eh,"type","Pixelate"),te(Eh,"defaults",{blocksize:4}),te(Eh,"uniformLocations",["uBlocksize"]),Fe.setClass(Eh);class Mh extends Fr{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=255*this.distance,i=new Et(this.color).getSource(),s=[i[0]-n,i[1]-n,i[2]-n],o=[i[0]+n,i[1]+n,i[2]+n];for(let l=0;l<r.length;l+=4){const c=r[l],d=r[l+1],f=r[l+2];c>s[0]&&d>s[1]&&f>s[2]&&c<o[0]&&d<o[1]&&f<o[2]&&(r[l+3]=0)}}sendUniformData(e,r){const n=new Et(this.color).getSource(),i=this.distance,s=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],o=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];e.uniform4fv(r.uLow,s),e.uniform4fv(r.uHigh,o)}}te(Mh,"type","RemoveColor"),te(Mh,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),te(Mh,"uniformLocations",["uLow","uHigh"]),Fe.setClass(Mh);class Dh extends Fr{sendUniformData(e,r){e.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let s=1;s<=n;s++)i[s-1]=e(s*r);return i}generateShader(e){const r=new Array(e);for(let n=1;n<=e;n++)r[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map(((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `))).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Nm(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return r=>{if(r>=e||r<=-e)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const n=(r*=Math.PI)/e;return Math.sin(r)/r*Math.sin(n)/n}}applyTo2d(e){const r=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const s=r.width,o=r.height,l=Math.round(s*n),c=Math.round(o*i);let d;d=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,o,l,c):this.resizeType==="hermite"?this.hermiteFastResize(e,s,o,l,c):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,o,l,c):this.resizeType==="lanczos"?this.lanczosResize(e,s,o,l,c):new ImageData(l,c),e.imageData=d}sliceByTwo(e,r,n,i,s){const o=e.imageData,l=.5;let c=!1,d=!1,f=r*l,h=n*l;const m=e.filterBackend.resources;let g=0,j=0;const x=r;let y=0;m.sliceByTwo||(m.sliceByTwo=as());const b=m.sliceByTwo;(b.width<1.5*r||b.height<n)&&(b.width=1.5*r,b.height=n);const S=b.getContext("2d");for(S.clearRect(0,0,1.5*r,n),S.putImageData(o,0,0),i=Math.floor(i),s=Math.floor(s);!c||!d;)r=f,n=h,i<Math.floor(f*l)?f=Math.floor(f*l):(f=i,c=!0),s<Math.floor(h*l)?h=Math.floor(h*l):(h=s,d=!0),S.drawImage(b,g,j,r,n,x,y,f,h),g=x,j=y,y+=h;return S.getImageData(g,j,i,s)}lanczosResize(e,r,n,i,s){const o=e.imageData.data,l=e.ctx.createImageData(i,s),c=l.data,d=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,h=this.rcpScaleY,m=2/this.rcpScaleX,g=2/this.rcpScaleY,j=Math.ceil(f*this.lanczosLobes/2),x=Math.ceil(h*this.lanczosLobes/2),y={},b={x:0,y:0},S={x:0,y:0};return(function O(P){let C,_,k,A,M,D,L,W,$,H,z;for(b.x=(P+.5)*f,S.x=Math.floor(b.x),C=0;C<s;C++){for(b.y=(C+.5)*h,S.y=Math.floor(b.y),M=0,D=0,L=0,W=0,$=0,_=S.x-j;_<=S.x+j;_++)if(!(_<0||_>=r)){H=Math.floor(1e3*Math.abs(_-b.x)),y[H]||(y[H]={});for(let q=S.y-x;q<=S.y+x;q++)q<0||q>=n||(z=Math.floor(1e3*Math.abs(q-b.y)),y[H][z]||(y[H][z]=d(Math.sqrt(Math.pow(H*m,2)+Math.pow(z*g,2))/1e3)),k=y[H][z],k>0&&(A=4*(q*r+_),M+=k,D+=k*o[A],L+=k*o[A+1],W+=k*o[A+2],$+=k*o[A+3]))}A=4*(C*i+P),c[A]=D/M,c[A+1]=L/M,c[A+2]=W/M,c[A+3]=$/M}return++P<i?O(P):l})(0)}bilinearFiltering(e,r,n,i,s){let o,l,c,d,f,h,m,g,j,x,y,b,S,O=0;const P=this.rcpScaleX,C=this.rcpScaleY,_=4*(r-1),k=e.imageData.data,A=e.ctx.createImageData(i,s),M=A.data;for(m=0;m<s;m++)for(g=0;g<i;g++)for(f=Math.floor(P*g),h=Math.floor(C*m),j=P*g-f,x=C*m-h,S=4*(h*r+f),y=0;y<4;y++)o=k[S+y],l=k[S+4+y],c=k[S+_+y],d=k[S+_+4+y],b=o*(1-j)*(1-x)+l*j*(1-x)+c*x*(1-j)+d*j*x,M[O++]=b;return A}hermiteFastResize(e,r,n,i,s){const o=this.rcpScaleX,l=this.rcpScaleY,c=Math.ceil(o/2),d=Math.ceil(l/2),f=e.imageData.data,h=e.ctx.createImageData(i,s),m=h.data;for(let g=0;g<s;g++)for(let j=0;j<i;j++){const x=4*(j+g*i);let y=0,b=0,S=0,O=0,P=0,C=0,_=0;const k=(g+.5)*l;for(let A=Math.floor(g*l);A<(g+1)*l;A++){const M=Math.abs(k-(A+.5))/d,D=(j+.5)*o,L=M*M;for(let W=Math.floor(j*o);W<(j+1)*o;W++){let $=Math.abs(D-(W+.5))/c;const H=Math.sqrt(L+$*$);H>1&&H<-1||(y=2*H*H*H-3*H*H+1,y>0&&($=4*(W+A*r),_+=y*f[$+3],S+=y,f[$+3]<255&&(y=y*f[$+3]/250),O+=y*f[$],P+=y*f[$+1],C+=y*f[$+2],b+=y))}}m[x]=O/b,m[x+1]=P/b,m[x+2]=C/b,m[x+3]=_/S}return h}}te(Dh,"type","Resize"),te(Dh,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),te(Dh,"uniformLocations",["uDelta","uTaps"]),Fe.setClass(Dh);class Rh extends Fr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.saturation;for(let i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],l=r[i+2],c=Math.max(s,o,l);r[i]+=c!==s?(c-s)*n:0,r[i+1]+=c!==o?(c-o)*n:0,r[i+2]+=c!==l?(c-l)*n:0}}sendUniformData(e,r){e.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}te(Rh,"type","Saturation"),te(Rh,"defaults",{saturation:0}),te(Rh,"uniformLocations",["uSaturation"]),Fe.setClass(Rh);class Ih extends Fr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.vibrance;for(let i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],l=r[i+2],c=Math.max(s,o,l),d=(s+o+l)/3,f=2*Math.abs(c-d)/255*n;r[i]+=c!==s?(c-s)*f:0,r[i+1]+=c!==o?(c-o)*f:0,r[i+2]+=c!==l?(c-l)*f:0}}sendUniformData(e,r){e.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}te(Ih,"type","Vibrance"),te(Ih,"defaults",{vibrance:0}),te(Ih,"uniformLocations",["uVibrance"]),Fe.setClass(Ih);var lae=Object.freeze({__proto__:null,BaseFilter:Fr,BlackWhite:iae,BlendColor:jh,BlendImage:Sh,Blur:Ch,Brightness:Nh,Brownie:Zse,ColorMatrix:fc,Composed:W_,Contrast:_h,Convolute:Oh,Gamma:Ph,Grayscale:kh,HueRotation:Yv,Invert:Th,Kodachrome:eae,Noise:Ah,Pixelate:Eh,Polaroid:rae,RemoveColor:Mh,Resize:Dh,Saturation:Rh,Sepia:nae,Technicolor:tae,Vibrance:Ih,Vintage:Qse});const U_=Object.freeze(Object.defineProperty({__proto__:null,ActiveSelection:Jo,BaseBrush:_0,BaseFabricObject:ra,Canvas:gp,Canvas2dFilterBackend:P8,CanvasDOMManager:v8,Circle:Cs,CircleBrush:vse,ClipPathLayout:F_,Color:Et,Control:ai,Ellipse:na,FabricImage:kn,FabricObject:cn,FabricText:vn,FitContentLayout:Cy,FixedLayout:$_,Gradient:Au,Group:Ai,IText:Ts,Image:kn,InteractiveFabricObject:id,Intersection:fr,LayoutManager:sd,LayoutStrategy:Cm,Line:Vo,Object:cn,Observable:a6,Path:Ha,Pattern:Xh,PatternBrush:xse,PencilBrush:vp,Point:pe,Polygon:wh,Polyline:Yi,Rect:Ji,Shadow:Ti,SprayBrush:yse,StaticCanvas:ef,StaticCanvasDOMManager:yk,Text:vn,Textbox:Ko,Triangle:Yo,WebGLFilterBackend:yp,cache:Bu,classRegistry:Fe,config:Nt,controlsUtils:Wse,createCollectionMixin:fk,filters:lae,getCSSRules:M8,getEnv:Is,getFabricDocument:Dc,getFabricWindow:Ps,getFilterBackend:Xv,iMatrix:An,initFilterBackend:k8,isPutImageFaster:Use,isWebGLPipelineState:Nm,loadSVGFromString:zse,loadSVGFromURL:Fse,parseAttributes:Sa,parseFontDeclaration:t8,parsePointsAttribute:N8,parseSVGDocument:Dk,parseStyleAttribute:r8,parseTransformAttribute:mp,runningAnimations:hp,setEnv:Hne,setFilterBackend:Ese,util:nse,version:fy},Symbol.toStringTag,{value:"Module"})),ii={A4:{width:2480,height:3508,label:"A4 (210297mm)",physicalSize:'8.311.7"'},Letter:{width:2550,height:3300,label:'Letter (8.511")',physicalSize:'8.511"'},Legal:{width:2550,height:4200,label:'Legal (8.514")',physicalSize:'8.514"'},Square:{width:3600,height:3600,label:'Square (1212")',physicalSize:'1212"'},Custom:{width:4800,height:5400,label:'Custom (1618")',physicalSize:'1618"'}},q_=4800,jD=5400,Eu=240,Lh=280,cae=Eu/q_,Bo=25;function SD(t,e){const r={left:0,top:0,width:e.width||Eu,height:e.height||Lh};t.setCoords();const n=t.getBoundingRect();n.left<r.left&&(t.left=Math.max(t.left+(r.left-n.left),0)),n.top<r.top&&(t.top=Math.max(t.top+(r.top-n.top),0)),n.left+n.width>r.width&&(t.left=Math.min(t.left-(n.left+n.width-r.width),r.width)),n.top+n.height>r.height&&(t.top=Math.min(t.top-(n.top+n.height-r.height),r.height)),t.setCoords()}function uae(t,e,r,n=20){const i=e-n*2,s=r-n*2;if(!t.width||!t.height)return;const o=i/t.width,l=s/t.height,c=Math.min(o,l,1);t.scale(c),t.setCoords()}function dae(t,e){t.set({left:(e.width||0)/2,top:(e.height||0)/2,originX:"center",originY:"center"}),t.setCoords(),e.renderAll()}function fae(t,e={}){const r=w.useRef(null),[n,i]=w.useState(null),[s,o]=w.useState([]),[l,c]=w.useState(1);w.useEffect(()=>{if(!document.getElementById(t))return;const C=new gp(t,{width:e.canvasWidth||Eu,height:e.canvasHeight||Lh,backgroundColor:"transparent",selection:!0,preserveObjectStacking:!0,enableRetinaScaling:!1,controlsAboveOverlay:!0});return r.current=C,C.on("object:added",_=>{_.target&&(e.onObjectAdded?.(_.target),d())}),C.on("object:removed",_=>{_.target&&(e.onObjectRemoved?.(_.target),d())}),C.on("object:modified",_=>{_.target&&(SD(_.target,C),e.onObjectModified?.(_.target),C.renderAll())}),C.on("object:moving",_=>{_.target&&SD(_.target,C)}),C.on("selection:created",_=>{const k=_.selected?.[0]||null;i(k),e.onSelectionCreated?.(k)}),C.on("selection:updated",_=>{const k=_.selected?.[0]||null;i(k),e.onSelectionCreated?.(k)}),C.on("selection:cleared",()=>{i(null),e.onSelectionCleared?.()}),()=>{C.dispose()}},[t]),w.useEffect(()=>{if(!r.current)return;const P=e.canvasWidth||Eu,C=e.canvasHeight||Lh;r.current.setDimensions({width:P,height:C}),r.current.renderAll()},[e.canvasWidth,e.canvasHeight]);const d=w.useCallback(()=>{r.current&&o([...r.current.getObjects()])},[]),f=w.useCallback((P,C={})=>{r.current&&kn.fromURL(P,{crossOrigin:"anonymous"}).then(_=>{if(!r.current)return;const k=r.current,A=k.width||Eu,M=k.height||Lh;C.fit!==!1&&uae(_,A,M),C.center!==!1&&dae(_,k),k.add(_),k.setActiveObject(_),k.renderAll()})},[]),h=w.useCallback((P,C={})=>{if(!r.current)return;const _=r.current,k=(_.width||Eu)/2,A=(_.height||Lh)/2,M=new Ts(P,{fontSize:C.fontSize||40,fontFamily:C.fontFamily||"Arial",fill:C.fill||"#000000",fontWeight:C.fontWeight||"normal",fontStyle:C.fontStyle||"normal",left:k,top:A,originX:"center",originY:"center"});return r.current.add(M),r.current.setActiveObject(M),r.current.renderAll(),M},[]),m=w.useCallback(()=>{!r.current||!n||(r.current.remove(n),r.current.renderAll(),i(null))},[n]),g=w.useCallback(P=>{r.current&&(r.current.remove(P),r.current.renderAll())},[]),j=w.useCallback(()=>{r.current&&(r.current.clear(),r.current.backgroundColor="transparent",r.current.renderAll(),o([]))},[]),x=w.useCallback(()=>r.current?r.current.toJSON():null,[]),y=w.useCallback(P=>{r.current&&r.current.loadFromJSON(P,()=>{r.current?.renderAll(),d()})},[d]),b=w.useCallback(P=>{if(!r.current)return;const C=Math.max(.1,Math.min(3,P));c(C)},[]),S=w.useCallback(()=>{r.current&&(c(1),r.current.renderAll())},[]),O=w.useCallback(async()=>{if(!r.current)return null;const P=document.createElement("canvas");P.width=q_,P.height=jD;const C=new gp(P,{width:q_,height:jD}),_=r.current.toJSON();return new Promise(k=>{C.loadFromJSON(_,()=>{const A=C.getObjects(),M=1/cae;A.forEach(L=>{L.scaleX=(L.scaleX||1)*M,L.scaleY=(L.scaleY||1)*M,L.left=(L.left||0)*M,L.top=(L.top||0)*M,L.setCoords()}),C.renderAll();const D=C.toDataURL({format:"png",quality:1,multiplier:1});fetch(D).then(L=>L.blob()).then(L=>{C.dispose(),k(L)}).catch(()=>{C.dispose(),k(null)})})})},[]);return{canvasRef:r.current,selectedObject:n,canvasObjects:s,zoom:l,addImageToCanvas:f,addTextToCanvas:h,removeSelectedObject:m,removeObject:g,clearCanvas:j,getCanvasJSON:x,loadCanvasFromJSON:y,setZoom:b,resetView:S,exportHighDPI:O,updateCanvasObjects:d}}const hae=w.createContext(void 0);function pae({children:t,value:e}){return a.jsx(hae.Provider,{value:e,children:t})}function mae(){const[t,e]=w.useState(!1),[r,n]=w.useState(0),[i,s]=w.useState(null),o="dpvrv7btt",l="rfm_uploads",c=w.useCallback(async f=>f.size>10*1024*1024?{valid:!1,error:"File too large. Maximum size is 10MB."}:f.type.match(/^image\/(png|jpeg|jpg|svg\+xml)$/)?new Promise(h=>{const m=new Image,g=URL.createObjectURL(f);m.onload=()=>{URL.revokeObjectURL(g),Math.min(m.width,m.height)<2e3?h({valid:!1,error:`Image resolution too low (${m.width}${m.height}px). For print quality, images must have at least 2000px on the shortest side.`}):h({valid:!0})},m.onerror=()=>{URL.revokeObjectURL(g),h({valid:!1,error:"Failed to load image. The file may be corrupted."})},m.src=g}):{valid:!1,error:"Invalid file type. Please upload PNG, JPG, or SVG."},[]);return{uploadImage:w.useCallback(async(f,h="user_uploads")=>{e(!0),n(0),s(null);try{const m=await c(f);if(!m.valid)return s(m.error||"Invalid image"),e(!1),null;const g=new Image,j=URL.createObjectURL(f);g.src=j,await g.decode();const{width:x,height:y}=g;URL.revokeObjectURL(j);const b=new FormData;b.append("file",f),b.append("upload_preset",l),b.append("folder",`rfm_images/${h}`);const S=await fetch(`https://api.cloudinary.com/v1_1/${o}/image/upload`,{method:"POST",body:b});if(!S.ok)throw new Error("Upload failed");const O=await S.json();return n(100),e(!1),{url:O.secure_url,width:x,height:y,publicId:O.public_id}}catch(m){const g=m instanceof Error?m.message:"Failed to upload image";return s(g),e(!1),null}},[c,o,l]),validateImage:c,isUploading:t,uploadProgress:r,error:i}}const Fj="http://localhost:4000/api/canvas-resources";function gae(){const[t,e]=w.useState([]),[r,n]=w.useState([]),[i,s]=w.useState(!1),[o,l]=w.useState(null),c=async f=>{s(!0),l(null);try{const h=f?`${Fj}/graphics?category=${f}`:`${Fj}/graphics`,m=await fetch(h);if(!m.ok)throw new Error("Failed to fetch graphics");const g=await m.json();return e(g),g}catch(h){const m=h.message||"Failed to load graphics";return l(m),console.error(h),[]}finally{s(!1)}},d=async()=>{s(!0),l(null);try{const f=await fetch(`${Fj}/patterns`);if(!f.ok)throw new Error("Failed to fetch patterns");const h=await f.json();return n(h),h}catch(f){const h=f.message||"Failed to load patterns";return l(h),console.error(f),[]}finally{s(!1)}};return w.useEffect(()=>{c(),d()},[]),{graphics:t,patterns:r,loading:i,error:o,fetchGraphics:c,fetchPatterns:d}}const qi={MARGIN:100,VIEWPORT_WIDTH:1200,VIEWPORT_HEIGHT:800,DESIGN_WIDTH:240,DESIGN_HEIGHT:280,DEFAULT_ZOOM:100};function vae(){const[t,e]=w.useState(.25),[r,n]=w.useState({x:0,y:0}),[i,s]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[f,h]=w.useState(!1),m=w.useRef({x:0,y:0,offsetX:0,offsetY:0}),g=w.useCallback(()=>{e(z=>Math.min(4,z+.1))},[]),j=w.useCallback(()=>{e(z=>Math.max(.25,z-.1))},[]),x=w.useCallback(z=>{e(Math.max(.25,Math.min(4,z)))},[]),y=w.useCallback(z=>{e(z/100)},[]),b=w.useCallback(()=>{e(.25),n({x:0,y:0})},[]),S=w.useCallback((z,q,E)=>{const U=qi.DESIGN_WIDTH*(qi.DEFAULT_ZOOM/100)*E,B=qi.DESIGN_HEIGHT*(qi.DEFAULT_ZOOM/100)*E,I=(qi.VIEWPORT_WIDTH-U)/2+qi.MARGIN,F=(qi.VIEWPORT_HEIGHT-B)/2+qi.MARGIN,G=-(qi.VIEWPORT_WIDTH-U)/2-qi.MARGIN,Z=-(qi.VIEWPORT_HEIGHT-B)/2-qi.MARGIN;return{x:Math.max(G,Math.min(I,z)),y:Math.max(Z,Math.min(F,q))}},[]),O=w.useCallback((z,q)=>{s(!0),m.current={x:z,y:q,offsetX:r.x,offsetY:r.y}},[r]),P=w.useCallback((z,q)=>{if(!i)return;const E=z-m.current.x,U=q-m.current.y,B=S(m.current.offsetX+E,m.current.offsetY+U,t);n(B)},[i,t,S]),C=w.useCallback(()=>{s(!1)},[]),_=w.useCallback(z=>{const q=z.target,E=q.tagName==="INPUT"||q.tagName==="TEXTAREA"||q.isContentEditable;(z.ctrlKey||z.metaKey)&&!E&&(z.key==="="||z.key==="+"?(z.preventDefault(),g()):z.key==="-"?(z.preventDefault(),j()):z.key==="0"&&(z.preventDefault(),x(1))),z.code==="Space"&&!E&&(document.activeElement?.classList.contains("upper-canvas")||(z.preventDefault(),l(!0)))},[g,j,x]),k=w.useCallback(z=>{z.code==="Space"&&(l(!1),h(!1),s(!1))},[]),A=w.useCallback(z=>{(z.ctrlKey||z.metaKey)&&(z.preventDefault(),z.stopPropagation(),requestAnimationFrame(()=>{const q=z.deltaY>0?-.1:.1;e(E=>Math.max(.25,Math.min(4,E+q)))}))},[]),M=w.useCallback(z=>{z.target.tagName!=="CANVAS"&&(d(!0),m.current={x:z.clientX,y:z.clientY,offsetX:r.x,offsetY:r.y})},[r]),D=w.useCallback(z=>{if(c){const q=z.clientX-m.current.x,E=z.clientY-m.current.y,U=S(m.current.offsetX+q,m.current.offsetY+E,t);n(U)}},[c,t,S]),L=w.useCallback(()=>{d(!1)},[]),W=w.useCallback(z=>{o&&(z.preventDefault(),z.stopPropagation(),h(!0),m.current={x:z.clientX,y:z.clientY,offsetX:r.x,offsetY:r.y})},[o,r]),$=w.useCallback(z=>{if(!f)return;z.preventDefault();const q=z.clientX-m.current.x,E=z.clientY-m.current.y,U=S(m.current.offsetX+q,m.current.offsetY+E,t);n(U)},[f,t,S]),H=w.useCallback(()=>{h(!1)},[]);return w.useEffect(()=>{const z=document.querySelector(".canvas-area-container");if(!z)return;const q=E=>{A(E)};return z.addEventListener("wheel",q,{passive:!1}),()=>{z.removeEventListener("wheel",q)}},[A]),{canvasScale:t,panOffset:r,isPanning:i,spaceKeyPressed:o,isPanningCanvas:c,isSpacePanning:f,zoomIn:g,zoomOut:j,setZoom:x,zoomToPreset:y,resetView:b,startPan:O,updatePan:P,endPan:C,handleCanvasMouseDown:M,handleCanvasMouseMove:D,handleCanvasMouseUp:L,handleOverlayMouseDown:W,handleOverlayMouseMove:$,handleOverlayMouseUp:H,handleKeyDown:_,handleKeyUp:k,handleWheel:A}}const Su="customizable_products",sh="http://localhost:4000";function gv(t){return t&&t.replace(/ /g,"_")}function yae(t){return{id:t.id?.toString()||"",category:t.category||"",name:t.name||"",type:t.type||"",sizes:t.sizes||[],fitType:t.fitType||"",fitDescription:t.fitDescription||"",description:t.description||"",images:(t.images||[]).map(e=>({id:e.id,url:e.url,publicId:e.publicId,type:e.type,displayOrder:e.displayOrder||0})),fabricComposition:t.fabricComposition||"",fabricWeight:t.fabricWeight||"",texture:t.texture||"",baseCost:t.baseCost||0,retailPrice:t.retailPrice||0,sizePricing:t.sizePricing||{},frontPrintCost:t.frontPrintCost||void 0,backPrintCost:t.backPrintCost||void 0,differentiationType:t.differentiationType||"none",color:t.color||void 0,variant:t.variant||void 0,sizeAvailability:t.sizeAvailability||{},printMethod:t.printMethod||"",printAreas:t.printAreas||[],designRequirements:t.designRequirements||"",turnaroundTime:t.turnaroundTime||"",minOrderQuantity:t.minOrderQuantity||1,status:t.status||"active",createdAt:t.createdAt||new Date().toISOString(),updatedAt:t.updatedAt||new Date().toISOString()}}const vv=[{id:"1",category:"T-Shirt - Round Neck",name:"Classic Round Neck Tee",type:"Unisex",sizes:["XS","S","M","L","XL","2XL"],fitType:"Classic",fitDescription:"Regular fit with comfortable cut",description:"Premium quality round neck t-shirt perfect for custom printing. Made from 100% cotton for superior comfort and durability.",images:[{url:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=500",publicId:"mock-front-1",type:"front",displayOrder:0},{url:"https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=500",publicId:"mock-back-1",type:"back",displayOrder:1}],fabricComposition:"100% Cotton",fabricWeight:"180 g/m",texture:"Soft-washed",baseCost:150,retailPrice:350,color:{name:"White",hexCode:"#FFFFFF"},printMethod:"DTG (Direct to Garment)",printAreas:["Front","Back"],designRequirements:"PNG file with transparent background, 300 DPI minimum",turnaroundTime:"3-5 business days",minOrderQuantity:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",category:"Polo Shirt",name:"Premium Polo Shirt",type:"Men",sizes:["S","M","L","XL","2XL"],fitType:"Slim Fit",fitDescription:"Tailored slim fit for modern look",description:"High-quality polo shirt with collar, perfect for corporate branding and team uniforms.",images:[{url:"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=500",publicId:"mock-front-2",type:"front",displayOrder:0},{url:"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=500",publicId:"mock-back-2",type:"back",displayOrder:1}],fabricComposition:"65% Cotton, 35% Polyester",fabricWeight:"200 g/m",texture:"Pique knit",baseCost:200,retailPrice:450,color:{name:"Gray",hexCode:"#6B7280"},printMethod:"Embroidery",printAreas:["Chest","Back"],designRequirements:"Vector files (AI, EPS) preferred for embroidery",turnaroundTime:"5-7 business days",minOrderQuantity:1,status:"inactive",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];function O0(){const[t,e]=w.useState([]),[r,n]=w.useState(!0),[i,s]=w.useState(null),o=async()=>{n(!0),s(null);try{const b=await fetch(`${sh}/api/customizable-products`);if(!b.ok)throw new Error("Failed to fetch products");const O=(await b.json()).map(yae);e(O)}catch(b){console.error("Error fetching products:",b),s(b instanceof Error?b.message:"Failed to fetch products"),l()}finally{n(!1)}},l=()=>{const b=localStorage.getItem(Su);if(b)try{const O=JSON.parse(b).map(P=>{let C={...P};if(P&&Array.isArray(P.colors)){const _=P.colors[0],{colors:k,...A}=P;C={...A,color:_?{name:_.name,hexCode:_.hexCode}:void 0}}if(P.frontImage||P.backImage||P.additionalImages){const _=[];P.frontImage&&_.push({url:P.frontImage,publicId:"migrated-front",type:"front",displayOrder:0}),P.backImage&&_.push({url:P.backImage,publicId:"migrated-back",type:"back",displayOrder:1}),Array.isArray(P.additionalImages)&&P.additionalImages.forEach((L,W)=>{_.push({url:L,publicId:`migrated-additional-${W}`,type:"additional",displayOrder:W+2})});const{frontImage:k,backImage:A,additionalImages:M,...D}=C;C={...D,images:_}}return C});e(O)}catch(S){console.error("Failed to parse products:",S),e(vv),localStorage.setItem(Su,JSON.stringify(vv))}else e(vv),localStorage.setItem(Su,JSON.stringify(vv))};w.useEffect(()=>{o()},[]),w.useEffect(()=>{!r&&t.length>0&&localStorage.setItem(Su,JSON.stringify(t))},[t,r]);const c=async b=>{try{const S={name:b.name,category:b.category,gender:b.type,fitType:gv(b.fitType),description:b.description,fabricComposition:b.fabricComposition,fabricWeight:b.fabricWeight,texture:b.texture,availableSizes:b.sizes,fitDescription:b.fitDescription,sizePricing:b.sizePricing,colorName:b.color?.name,colorHex:b.color?.hexCode,variantName:b.variant?.name,variantImageUrl:b.variant?.image,variantImagePublicId:b.variant?.publicId,printMethod:gv(b.printMethod),printAreas:b.printAreas,designRequirements:b.designRequirements,baseCost:b.baseCost,retailPrice:b.retailPrice,turnaroundTime:b.turnaroundTime,minimumOrderQty:b.minOrderQuantity,frontPrintCost:b.frontPrintCost,backPrintCost:b.backPrintCost,sizeAvailability:b.sizeAvailability,differentiationType:b.differentiationType,status:b.status,images:b.images},O=await fetch(`${sh}/api/customizable-products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!O.ok)throw new Error("Failed to create product");const P=await O.json();return e(C=>[P,...C]),P}catch(S){console.error("Error adding product:",S);const O={...b,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(P=>[O,...P]),O}},d=async(b,S)=>{try{const O={id:parseInt(b)};S.name!==void 0&&(O.name=S.name),S.category!==void 0&&(O.category=S.category),S.type!==void 0&&(O.gender=S.type),S.fitType!==void 0&&(O.fitType=gv(S.fitType)),S.description!==void 0&&(O.description=S.description),S.fabricComposition!==void 0&&(O.fabricComposition=S.fabricComposition),S.fabricWeight!==void 0&&(O.fabricWeight=S.fabricWeight),S.texture!==void 0&&(O.texture=S.texture),S.sizes!==void 0&&(O.availableSizes=S.sizes),S.fitDescription!==void 0&&(O.fitDescription=S.fitDescription),S.sizePricing!==void 0&&(O.sizePricing=S.sizePricing),S.color!==void 0&&(O.colorName=S.color.name,O.colorHex=S.color.hexCode),S.variant!==void 0&&(O.variantName=S.variant.name,O.variantImageUrl=S.variant.image,O.variantImagePublicId=S.variant.publicId),S.printMethod!==void 0&&(O.printMethod=gv(S.printMethod)),S.printAreas!==void 0&&(O.printAreas=S.printAreas),S.designRequirements!==void 0&&(O.designRequirements=S.designRequirements),S.baseCost!==void 0&&(O.baseCost=S.baseCost),S.retailPrice!==void 0&&(O.retailPrice=S.retailPrice),S.turnaroundTime!==void 0&&(O.turnaroundTime=S.turnaroundTime),S.minOrderQuantity!==void 0&&(O.minimumOrderQty=S.minOrderQuantity),S.frontPrintCost!==void 0&&(O.frontPrintCost=S.frontPrintCost),S.backPrintCost!==void 0&&(O.backPrintCost=S.backPrintCost),S.sizeAvailability!==void 0&&(O.sizeAvailability=S.sizeAvailability),S.differentiationType!==void 0&&(O.differentiationType=S.differentiationType),S.status!==void 0&&(O.status=S.status),S.images!==void 0&&(O.images=S.images);const P=await fetch(`${sh}/api/customizable-products/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!P.ok)throw new Error("Failed to update product");const C=await P.json();e(_=>_.map(k=>k.id===b?C:k))}catch(O){console.error("Error updating product:",O),e(P=>P.map(C=>C.id===b?{...C,...S,updatedAt:new Date().toISOString()}:C))}};return{products:t,loading:r,error:i,fetchProducts:o,addProduct:c,updateProduct:d,deleteProduct:async b=>{try{if(!(await fetch(`${sh}/api/customizable-products/${b}`,{method:"DELETE"})).ok)throw new Error("Failed to delete product");e(O=>O.filter(P=>P.id!==b))}catch(S){console.error("Error deleting product:",S),e(O=>O.filter(P=>P.id!==b))}},activateProduct:async b=>{await d(b,{status:"active"})},deactivateProduct:async b=>{await d(b,{status:"inactive"})},archiveProduct:async b=>{await d(b,{status:"archived"})},restoreProduct:async b=>{await d(b,{status:"inactive"})},getProductsByStatus:b=>b==="all"?t:t.filter(S=>S.status===b),clearAllProducts:async()=>{try{const b=await fetch(`${sh}/api/customizable-products`,{method:"DELETE"});if(!b.ok)throw new Error("Failed to clear all products");const S=await b.json();return e([]),localStorage.removeItem(Su),await o(),S}catch(b){throw console.error("Error clearing all products:",b),e([]),localStorage.removeItem(Su),b}}}}const Jl="http://localhost:4000";function $8(){const{isLoggedIn:t}=hi(),[e,r]=w.useState([]),[n,i]=w.useState(!1),s=w.useCallback(async()=>{if(!t){r([]);return}i(!0);try{const f=await fetch(`${Jl}/api/cart`,{credentials:"include"});if(f.ok){const m=(await f.json()).items.map(g=>({id:g.productId,name:g.productName,price:Number(g.price),image:g.image||"",category:g.category||"",quantity:g.quantity,isNew:!1}));r(m)}}catch(f){console.error("Failed to load cart:",f)}finally{i(!1)}},[t]);w.useEffect(()=>{s()},[s]);const o=w.useCallback(async(f,h,m,g,j,x=1,y,b,S)=>{if(!t){r(O=>O.find(C=>C.id===f)?O.map(C=>C.id===f?{...C,quantity:C.quantity+x}:C):[...O,{id:f,name:h,price:m,image:g,category:j,quantity:x,isNew:!1}]);return}try{(await fetch(`${Jl}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productId:f,productName:h,price:m,image:g,category:j,quantity:x,size:y,color:b,customizationData:S})})).ok&&await s()}catch(O){console.error("Failed to add to cart:",O)}},[t,s]),l=w.useCallback(async(f,h)=>{if(!t){r(m=>m.map(g=>g.id===f?{...g,quantity:h}:g));return}try{const m=await fetch(`${Jl}/api/cart`,{method:"GET",credentials:"include"});if(m.ok){const j=(await m.json()).items.find(x=>x.productId===f);j&&(await fetch(`${Jl}/api/cart/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({quantity:h})})).ok&&await s()}}catch(m){console.error("Failed to update cart:",m)}},[t,s]),c=w.useCallback(async f=>{if(!t){r(h=>h.filter(m=>m.id!==f));return}try{const h=await fetch(`${Jl}/api/cart`,{method:"GET",credentials:"include"});if(h.ok){const g=(await h.json()).items.find(j=>j.productId===f);g&&(await fetch(`${Jl}/api/cart/${g.id}`,{method:"DELETE",credentials:"include"})).ok&&await s()}}catch(h){console.error("Failed to remove from cart:",h)}},[t,s]),d=w.useCallback(async()=>{if(!t){r([]);return}try{(await fetch(`${Jl}/api/cart`,{method:"DELETE",credentials:"include"})).ok&&await s()}catch(f){console.error("Failed to clear cart:",f)}},[t,s]);return{cartItems:e,isLoading:n,addToCart:o,updateQuantity:l,removeItem:c,clearCart:d,reloadCart:s}}function xae({object:t,canvas:e,onUpdate:r}){const[n,i]=w.useState({x:0,y:0}),[s,o]=w.useState({width:0,height:0}),[l,c]=w.useState(0),[d,f]=w.useState(100),[h,m]=w.useState(!0),[g,j]=w.useState(1);w.useEffect(()=>{if(!t)return;const O=()=>{i({x:Math.round(t.left||0),y:Math.round(t.top||0)});const C=Math.round((t.width||0)*(t.scaleX||1)),_=Math.round((t.height||0)*(t.scaleY||1));o({width:C,height:_}),c(Math.round(t.angle||0)),f(Math.round((t.opacity||1)*100)),C&&_&&j(C/_)};O();const P=()=>O();return t.on("modified",P),t.on("scaling",P),t.on("rotating",P),t.on("moving",P),()=>{t.off("modified",P),t.off("scaling",P),t.off("rotating",P),t.off("moving",P)}},[t]);const x=(O,P)=>{const C=parseFloat(P)||0;O==="x"?(i(_=>({..._,x:C})),r({left:C})):(i(_=>({..._,y:C})),r({top:C}))},y=(O,P)=>{const C=parseFloat(P)||0;if(O==="width"){const _=C,k=_/(t.width||1);if(h){const A=_/g,M=A/(t.height||1);o({width:_,height:Math.round(A)}),r({scaleX:k,scaleY:M})}else o(A=>({...A,width:_})),r({scaleX:k})}else{const _=C,k=_/(t.height||1);if(h){const A=_*g,M=A/(t.width||1);o({width:Math.round(A),height:_}),r({scaleX:M,scaleY:k})}else o(A=>({...A,height:_})),r({scaleY:k})}},b=O=>{c(O),r({angle:O})},S=O=>{const P=O[0];f(P),r({opacity:P/100})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(be,{className:"text-xs font-semibold text-gray-700 mb-2 block",children:"Position"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"X"}),a.jsx(ze,{type:"number",value:n.x,onChange:O=>x("x",O.target.value),className:"h-8 text-sm"})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Y"}),a.jsx(ze,{type:"number",value:n.y,onChange:O=>x("y",O.target.value),className:"h-8 text-sm"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(be,{className:"text-xs font-semibold text-gray-700",children:"Size"}),a.jsx(ee,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>m(!h),title:h?"Unlock aspect ratio":"Lock aspect ratio",children:h?a.jsx(E3,{className:"h-3 w-3"}):a.jsx(A3,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"W"}),a.jsx(ze,{type:"number",value:s.width,onChange:O=>y("width",O.target.value),className:"h-8 text-sm"})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"H"}),a.jsx(ze,{type:"number",value:s.height,onChange:O=>y("height",O.target.value),className:"h-8 text-sm"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(be,{className:"text-xs font-semibold text-gray-700",children:"Rotation"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{type:"number",value:l,onChange:O=>b(parseFloat(O.target.value)||0),className:"h-7 w-16 text-xs text-center",min:"0",max:"360"}),a.jsx("span",{className:"text-xs text-gray-500",children:""})]})]}),a.jsx(el,{value:[l],onValueChange:O=>b(O[0]),min:0,max:360,step:1,className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(be,{className:"text-xs font-semibold text-gray-700",children:"Opacity"}),a.jsxs("span",{className:"text-xs text-gray-600",children:[d,"%"]})]}),a.jsx(el,{value:[d],onValueChange:S,min:0,max:100,step:1,className:"w-full"})]})]})}function bae({object:t,canvas:e,onUpdate:r}){const n=()=>{e.bringObjectToFront(t),e.renderAll(),r?.()},i=()=>{e.bringObjectForward(t),e.renderAll(),r?.()},s=()=>{e.sendObjectBackwards(t),e.renderAll(),r?.()},o=()=>{e.sendObjectToBack(t),e.renderAll(),r?.()};return a.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[a.jsx(be,{className:"text-xs font-semibold text-gray-700 block",children:"Layer Order"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",onClick:n,className:"flex items-center justify-center gap-2",title:"Bring to Front",children:[a.jsx(P3,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:"To Front"})]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:i,className:"flex items-center justify-center gap-2",title:"Bring Forward",children:[a.jsx(Hh,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:"Forward"})]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:s,className:"flex items-center justify-center gap-2",title:"Send Backward",children:[a.jsx(Ba,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:"Backward"})]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:o,className:"flex items-center justify-center gap-2",title:"Send to Back",children:[a.jsx(O3,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:"To Back"})]})]})]})}function Py({className:t,...e}){return a.jsx("textarea",{"data-slot":"textarea",className:Je("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const wae=["Arial","Helvetica","Times New Roman","Georgia","Verdana","Comic Sans MS","Courier New","Impact","Trebuchet MS","Arial Black"],jae=[8,10,12,14,16,18,20,24,28,32,36,40,48,56,64,72,80,96];function Sae({object:t,canvas:e,onUpdate:r}){const[n,i]=w.useState(""),[s,o]=w.useState("Arial"),[l,c]=w.useState(40),[d,f]=w.useState(!1),[h,m]=w.useState(!1),[g,j]=w.useState(!1),[x,y]=w.useState("left"),[b,S]=w.useState("#000000");w.useEffect(()=>{!t||t.type!=="i-text"||(i(t.text||""),o(t.fontFamily||"Arial"),c(t.fontSize||40),f(t.fontWeight==="bold"),m(t.fontStyle==="italic"),j(t.underline||!1),y(t.textAlign||"left"),S(t.fill||"#000000"))},[t]);const O=L=>{i(L),r({text:L})},P=L=>{o(L),r({fontFamily:L})},C=L=>{const W=parseInt(L)||40;c(W),r({fontSize:W})},_=()=>{const L=!d;f(L),r({fontWeight:L?"bold":"normal"})},k=()=>{const L=!h;m(L),r({fontStyle:L?"italic":"normal"})},A=()=>{const L=!g;j(L),r({underline:L})},M=L=>{y(L),r({textAlign:L})},D=L=>{S(L),r({fill:L})};return a.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[a.jsx(be,{className:"text-xs font-semibold text-gray-700 block",children:"Text Properties"}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Content"}),a.jsx(Py,{value:n,onChange:L=>O(L.target.value),className:"text-sm resize-none",rows:3,placeholder:"Enter text..."})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Font"}),a.jsx("select",{value:s,onChange:L=>P(L.target.value),className:"w-full h-9 px-3 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:wae.map(L=>a.jsx("option",{value:L,style:{fontFamily:L},children:L},L))})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Size"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("select",{value:l,onChange:L=>C(L.target.value),className:"flex-1 h-9 px-3 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:jae.map(L=>a.jsxs("option",{value:L,children:[L,"px"]},L))}),a.jsx(ze,{type:"number",value:l,onChange:L=>C(L.target.value),className:"w-20 h-9 text-sm",min:"8",max:"500"})]})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-2 block",children:"Style"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ee,{variant:d?"default":"outline",size:"sm",onClick:_,className:"flex-1",title:"Bold",children:a.jsx(qX,{className:"h-4 w-4"})}),a.jsx(ee,{variant:h?"default":"outline",size:"sm",onClick:k,className:"flex-1",title:"Italic",children:a.jsx(AY,{className:"h-4 w-4"})}),a.jsx(ee,{variant:g?"default":"outline",size:"sm",onClick:A,className:"flex-1",title:"Underline",children:a.jsx(bK,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-2 block",children:"Alignment"}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx(ee,{variant:x==="left"?"default":"outline",size:"sm",onClick:()=>M("left"),title:"Align Left",children:a.jsx(C3,{className:"h-4 w-4"})}),a.jsx(ee,{variant:x==="center"?"default":"outline",size:"sm",onClick:()=>M("center"),title:"Align Center",children:a.jsx(S3,{className:"h-4 w-4"})}),a.jsx(ee,{variant:x==="right"?"default":"outline",size:"sm",onClick:()=>M("right"),title:"Align Right",children:a.jsx(N3,{className:"h-4 w-4"})}),a.jsx(ee,{variant:x==="justify"?"default":"outline",size:"sm",onClick:()=>M("justify"),title:"Justify",children:a.jsx(RX,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"color",value:b,onChange:L=>D(L.target.value),className:"h-9 w-16 border border-gray-300 rounded cursor-pointer"}),a.jsx(ze,{type:"text",value:b,onChange:L=>D(L.target.value),className:"flex-1 h-9 text-sm font-mono",placeholder:"#000000"})]})]})]})}function Cae({object:t,canvas:e,onUpdate:r}){const[n,i]=w.useState(0),[s,o]=w.useState(0),[l,c]=w.useState(0);w.useEffect(()=>{if(!t||t.type!=="image")return;const j=t.filters||[],x=j.find(S=>S.type==="Brightness"),y=j.find(S=>S.type==="Contrast"),b=j.find(S=>S.type==="Saturation");i(x?.brightness||0),o(y?.contrast||0),c(b?.saturation||0)},[t]);const d=async(j,x)=>{if(!t)return;const b=(await g_(()=>Promise.resolve().then(()=>U_),[])).filters;let S=t.filters||[];S=S.filter(O=>O.constructor.name!==j),j==="Brightness"&&x!==0?S.push(new b.Brightness({brightness:x})):j==="Contrast"&&x!==0?S.push(new b.Contrast({contrast:x})):j==="Saturation"&&x!==0&&S.push(new b.Saturation({saturation:x})),t.filters=S,t.applyFilters(),e.renderAll()},f=j=>{const x=j[0]/100;i(x),d("Brightness",x)},h=j=>{const x=j[0]/100;o(x),d("Contrast",x)},m=j=>{const x=j[0]/100;c(x),d("Saturation",x)},g=()=>{i(0),o(0),c(0),t.filters=[],t.applyFilters(),e.renderAll()};return a.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[a.jsx(be,{className:"text-xs font-semibold text-gray-700 block",children:"Image Adjustments"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(be,{className:"text-xs text-gray-600",children:"Brightness"}),a.jsx("span",{className:"text-xs text-gray-600",children:Math.round(n*100)})]}),a.jsx(el,{value:[n*100],onValueChange:f,min:-100,max:100,step:1,className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(be,{className:"text-xs text-gray-600",children:"Contrast"}),a.jsx("span",{className:"text-xs text-gray-600",children:Math.round(s*100)})]}),a.jsx(el,{value:[s*100],onValueChange:h,min:-100,max:100,step:1,className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(be,{className:"text-xs text-gray-600",children:"Saturation"}),a.jsx("span",{className:"text-xs text-gray-600",children:Math.round(l*100)})]}),a.jsx(el,{value:[l*100],onValueChange:m,min:-100,max:100,step:1,className:"w-full"})]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:g,className:"w-full",children:[a.jsx(om,{className:"h-4 w-4 mr-2"}),"Reset Filters"]})]})}function Nae({object:t,canvas:e,onUpdate:r}){const[n,i]=w.useState("#000000"),[s,o]=w.useState("#000000"),[l,c]=w.useState(0),[d,f]=w.useState(0);w.useEffect(()=>{t&&(i(t.fill||"#000000"),o(t.stroke||"#000000"),c(t.strokeWidth||0),t.type==="rect"&&f(t.rx||0))},[t]);const h=y=>{i(y),r({fill:y})},m=y=>{o(y),r({stroke:y})},g=y=>{const b=y[0];c(b),r({strokeWidth:b})},j=y=>{const b=y[0];f(b),r({rx:b,ry:b})},x=t.type==="rect";return a.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[a.jsx(be,{className:"text-xs font-semibold text-gray-700 block",children:"Shape Properties"}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Fill Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"color",value:n,onChange:y=>h(y.target.value),className:"h-9 w-16 border border-gray-300 rounded cursor-pointer"}),a.jsx(ze,{type:"text",value:n,onChange:y=>h(y.target.value),className:"flex-1 h-9 text-sm font-mono",placeholder:"#000000"})]})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Stroke Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"color",value:s,onChange:y=>m(y.target.value),className:"h-9 w-16 border border-gray-300 rounded cursor-pointer"}),a.jsx(ze,{type:"text",value:s,onChange:y=>m(y.target.value),className:"flex-1 h-9 text-sm font-mono",placeholder:"#000000"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(be,{className:"text-xs text-gray-600",children:"Stroke Width"}),a.jsxs("span",{className:"text-xs text-gray-600",children:[l,"px"]})]}),a.jsx(el,{value:[l],onValueChange:g,min:0,max:50,step:1,className:"w-full"})]}),x&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(be,{className:"text-xs text-gray-600",children:"Corner Radius"}),a.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(d),"px"]})]}),a.jsx(el,{value:[d],onValueChange:j,min:0,max:100,step:1,className:"w-full"})]})]})}function _ae({isOpen:t,onClose:e,selectedObject:r,canvas:n,onUpdate:i,onLayerUpdate:s}){return t?a.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl",children:"Properties"}),r&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-2 rounded-full bg-green-500"}),a.jsx("span",{className:"text-gray-600",children:"Object Selected"})]})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:e,children:a.jsx(Ct,{className:"size-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:r?a.jsx(Pae,{object:r,canvas:n,onUpdate:i,onLayerUpdate:s}):a.jsx(Oae,{})})]})}):null}function Oae(){return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[a.jsx("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:a.jsx("svg",{className:"size-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No object selected"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click on any text, image, or shape on the canvas to edit its properties"})]})}function Pae({object:t,canvas:e,onUpdate:r,onLayerUpdate:n}){const i=o=>{const l=o.type||"object";return l==="i-text"||l==="text"?"Text":l==="image"?"Image":l==="rect"?"Rectangle":l==="circle"?"Circle":l==="polygon"?"Polygon":"Object"},s=o=>{const l=o.type||"object";return l==="i-text"||l==="text"?"":l==="image"?"":l==="rect"?"":l==="circle"?"":l==="polygon"?"":""};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-gray-200",children:[a.jsx("span",{className:"text-2xl",children:s(t)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:i(t)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",t.type]})]})]}),e&&a.jsx(xae,{object:t,canvas:e,onUpdate:r}),e&&a.jsx(bae,{object:t,canvas:e,onUpdate:n}),e&&(t.type==="i-text"||t.type==="text")&&a.jsx(Sae,{object:t,canvas:e,onUpdate:r}),e&&t.type==="image"&&a.jsx(Cae,{object:t,canvas:e,onUpdate:r}),e&&(t.type==="rect"||t.type==="circle"||t.type==="polygon"||t.type==="triangle")&&a.jsx(Nae,{object:t,canvas:e,onUpdate:r})]})}function kae(t){const e=Math.floor((new Date().getTime()-t.getTime())/1e3),r=[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"week",seconds:604800},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60}];for(const n of r){const i=Math.floor(e/n.seconds);if(i>=1)return`${i} ${n.label}${i!==1?"s":""} ago`}return"just now"}function Tae({design:t,onLoad:e,onDelete:r}){const n=t.frontThumbnailUrl||t.backThumbnailUrl,i=kae(new Date(t.lastSavedAt)),s={none:"No Print",front:"Front Print",back:"Back Print",both:"Both Sides"}[t.selectedPrintOption]||t.selectedPrintOption;return a.jsxs(ht,{className:"group overflow-hidden hover:shadow-lg transition-shadow border-2 hover:border-blue-400",children:[a.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[n?a.jsx("img",{src:n,alt:`${t.product.name} design`,className:"w-full h-full object-contain p-4"}):a.jsxs("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:[a.jsx(to,{className:"size-16 opacity-30"}),a.jsx("span",{className:"absolute bottom-4 text-sm",children:"No Preview"})]}),a.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[a.jsxs(ee,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>e(t),children:[a.jsx(to,{className:"size-4 mr-2"}),"Load Design"]}),a.jsx(ee,{size:"sm",variant:"destructive",onClick:o=>{o.stopPropagation(),confirm("Delete this design? This action cannot be undone.")&&r(t.id)},children:a.jsx(ma,{className:"size-4"})})]})]}),a.jsx(jt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-sm truncate",children:t.product.name}),a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[a.jsx(nt,{variant:"secondary",className:"text-xs",children:t.selectedSize}),t.product.base_color_name&&a.jsxs(nt,{variant:"outline",className:"text-xs",children:[a.jsx("div",{className:"size-2 rounded-full mr-1.5 border border-gray-300",style:{backgroundColor:t.product.base_color_hex||"#666"}}),t.product.base_color_name]}),a.jsx(nt,{variant:"outline",className:"text-xs",children:s})]}),a.jsx("p",{className:"text-xs text-gray-500",children:t.product.category}),a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 pt-1 border-t",children:[a.jsx(a_,{className:"size-3"}),a.jsxs("span",{children:["Edited ",i]})]})]})})]})}function $j(t,e={}){const{format:r="png",quality:n=1,multiplier:i=2,left:s,top:o,width:l,height:c}=e;try{return s!==void 0&&o!==void 0&&l!==void 0&&c!==void 0?t.toDataURL({format:r,quality:n,multiplier:i,left:s,top:o,width:l,height:c}):t.toDataURL({format:r,quality:n,multiplier:i})}catch(d){throw console.error("Canvas export error:",d),new Error("Failed to export canvas")}}function Aae(t,e){const r=t.getWidth(),n=t.getHeight(),i=(r-e.width)/2,s=(n-e.height)/2;return{left:i,top:s,width:e.width,height:e.height}}const Fa={MAX_OBJECTS:50,MAX_CANVAS_JSON_SIZE_MB:2,MAX_IMAGE_WIDTH:4e3,MAX_IMAGE_HEIGHT:4e3,MIN_OBJECTS:1};function B8(t,e){const r=ii[e],n=(t.width||0)/2,i=(t.height||0)/2;return{left:n-r.width/2,top:i-r.height/2,right:n+r.width/2,bottom:i+r.height/2}}function Eae(t,e){const r=t.getBoundingRect();return r.left>=e.left&&r.top>=e.top&&r.left+r.width<=e.right&&r.top+r.height<=e.bottom}function H8(t,e){const r=B8(t,e);return t.getObjects().filter(i=>!i.get("name")?.includes("print-area")).map(i=>{const s=i.getBoundingRect();return{object:i,isOutsidePrintArea:!Eae(i,r),bounds:{left:s.left,top:s.top,right:s.left+s.width,bottom:s.top+s.height}}})}function Mae(t,e){const r=[],n=[];if(!t)return r.push("Canvas is not initialized"),{valid:!1,errors:r,warnings:n};const i=t.getObjects().filter(f=>!f.get("name")?.includes("print-area"));i.length<Fa.MIN_OBJECTS&&n.push("Your design is empty. Add some elements before saving."),i.length>Fa.MAX_OBJECTS&&r.push(`Too many objects (${i.length}). Maximum allowed is ${Fa.MAX_OBJECTS}.`);const s=JSON.stringify(t.toJSON()),l=new Blob([s]).size/(1024*1024);l>Fa.MAX_CANVAS_JSON_SIZE_MB&&r.push(`Design data is too large (${l.toFixed(2)}MB). Maximum allowed is ${Fa.MAX_CANVAS_JSON_SIZE_MB}MB. Consider removing some elements or reducing image quality.`);const d=H8(t,e).filter(f=>f.isOutsidePrintArea);return d.length>0&&n.push(`${d.length} object${d.length>1?"s are":" is"} outside the print area and won't be printed. Consider moving them inside.`),i.forEach((f,h)=>{if(f.type==="image"){const m=f,g=m.width||0,j=m.height||0;(g>Fa.MAX_IMAGE_WIDTH||j>Fa.MAX_IMAGE_HEIGHT)&&n.push(`Image ${h+1} is very large (${g}${j}px). This may affect performance.`)}}),{valid:r.length===0,errors:r,warnings:n}}function Dae(t,e){const r=B8(t,e),i=H8(t,e).filter(o=>o.isOutsidePrintArea);let s=0;return i.forEach(({object:o,bounds:l})=>{let c=o.left||0,d=o.top||0;l.left<r.left?c+=r.left-l.left:l.right>r.right&&(c-=l.right-r.right),l.top<r.top?d+=r.top-l.top:l.bottom>r.bottom&&(d-=l.bottom-r.bottom),o.set({left:c,top:d}),o.setCoords(),s++}),t.requestRenderAll(),s}function Rae(t,e,r,n){const i=new Error(t);return i.status=e,i.statusText=r,i.data=n,i}function W8(t){return t.message.includes("Failed to fetch")||t.message.includes("Network request failed")||t.message.includes("NetworkError")||t.message.includes("ECONNREFUSED")}function U8(t){return t.message.includes("timeout")||t.message.includes("timed out")||t.message.includes("ETIMEDOUT")}function Iae(t){return t===408||t===429||t===503||t===504||t>=500}function CD(t){return new Promise(e=>setTimeout(e,t))}async function Lae(t,e={},r={}){const{maxRetries:n=3,retryDelay:i=1e3,exponentialBackoff:s=!0,onRetry:o}=r;let l=null;for(let c=0;c<=n;c++)try{const d=await fetch(t,e);if(d.ok||!Iae(d.status))return d;const f=await d.clone().json().catch(()=>({}));if(l=Rae(`Request failed with status ${d.status}`,d.status,d.statusText,f),c===n)throw l;const h=s?i*Math.pow(2,c):i;o&&o(c+1,l),await CD(h)}catch(d){if(l=d instanceof Error?d:new Error("Unknown error"),!(c<n&&(W8(l)||U8(l))))throw l;const h=s?i*Math.pow(2,c):i;o&&o(c+1,l),await CD(h)}throw l||new Error("Request failed after all retries")}function zae(t){if(!t)return"An unknown error occurred";if(typeof t=="string")return t;if(t instanceof Error){if(W8(t))return"Unable to connect to the server. Please check your internet connection and try again.";if(U8(t))return"The request took too long. Please try again.";const e=t;if(e.status)switch(e.status){case 400:return"Invalid request. Please check your input and try again.";case 401:return"You need to log in to perform this action.";case 403:return"You don't have permission to perform this action.";case 404:return"The requested resource was not found.";case 409:return"There was a conflict with the current state. Please refresh and try again.";case 413:return"The file or data is too large. Please reduce the size and try again.";case 422:return"The data provided is invalid. Please check your input.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:case 502:case 503:case 504:return"Server error. Please try again in a few moments.";default:return`Request failed: ${t.message}`}return t.message}return"An unexpected error occurred. Please try again."}function ND(t){if(!t)return"Unknown error";if(t instanceof Error){const e=t;return[`Error: ${t.message}`,e.status?`Status: ${e.status}`:null,e.statusText?`Status Text: ${e.statusText}`:null,e.data?`Data: ${JSON.stringify(e.data)}`:null,t.stack?`Stack: ${t.stack}`:null].filter(Boolean).join(`
`)}return String(t)}function Fae({message:t="Loading...",className:e=""}){return a.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center ${e}`,children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl flex flex-col items-center gap-4 max-w-sm",children:[a.jsx($n,{className:"w-12 h-12 animate-spin text-blue-600"}),a.jsx("p",{className:"text-gray-700 font-medium",children:t})]})})}function $ae(){const t=kr(),e=fi(),{user:r,isHydrating:n}=hi(),[i,s]=w.useState(Bo);w.useEffect(()=>{!n&&!r&&ve.info("Log in to save your designs automatically",{duration:5e3})},[r,n]);const{canvasScale:o,panOffset:l,isPanning:c,spaceKeyPressed:d,isPanningCanvas:f,isSpacePanning:h,zoomIn:m,zoomOut:g,zoomToPreset:j,resetView:x,handleCanvasMouseDown:y,handleCanvasMouseMove:b,handleCanvasMouseUp:S,handleOverlayMouseDown:O,handleOverlayMouseMove:P,handleOverlayMouseUp:C,handleKeyDown:_,handleKeyUp:k}=vae(),[A,M]=w.useState("Letter"),[D,L]=w.useState("edit"),[W,$]=w.useState(null),H=w.useRef(!1),[z,q]=w.useState(!1),[E,U]=w.useState(!1),[B,I]=w.useState(!1),[F,G]=w.useState(!1),[Z,K]=w.useState(!1),[ae,ie]=w.useState(!1),[J,fe]=w.useState(!1),[oe,ue]=w.useState(!1),[de,le]=w.useState(new Set),[ke,Ne]=w.useState(new Set),[Le,Ke]=w.useState(!1),[De,vt]=w.useState(!0),[je,ft]=w.useState(null),[it,st]=w.useState(""),[Zt,yn]=w.useState("none"),[br,gi]=w.useState([]),[_t,cr]=w.useState(-1),xn=w.useRef(null),[Tt,Ft]=w.useState({type:"idle"}),Mn=w.useRef(null),[vi,xo]=w.useState(!1),[Yn,cs]=w.useState(!1),[Dn,Ri]=w.useState(50),[Rn,Vs]=w.useState(""),[Ii,Wt]=w.useState(""),[xt,Xe]=w.useState("front"),[Ot,Pt]=w.useState([]),mt=w.useRef(null),{uploadImage:Cr,validateImage:Ut,isUploading:bt,error:Tr}=mae(),[Rt,Xt]=w.useState(null),[en,Nr]=w.useState(""),[fn,us]=w.useState("Arial"),[bo,Ob]=w.useState("Medium"),[Um,_a]=w.useState("#000000"),[mf,qm]=w.useState([]),[Oa,gf]=w.useState([]),[Vm,vf]=w.useState(!1),{graphics:Vc,patterns:yf,fetchGraphics:Pb}=gae(),[Qt,kb]=w.useState("all"),xf=Math.round(ii[A].width*(Bo/100)),Gm=Math.round(ii[A].height*(Bo/100)),ce=fae("design-canvas",{canvasWidth:xf,canvasHeight:Gm,onObjectAdded:X=>{console.log("Object added:",X)},onObjectRemoved:X=>{console.log("Object removed:",X)},onSelectionCreated:X=>{console.log("Object selected:",X)}}),{addToCart:Tb}=$8(),[bf,kl]=w.useState(!1),bn=()=>je!==null,Tl=()=>{alert(" Please select a clothing variant first to start customizing"),q(!0),I(!1),G(!1),K(!1),ie(!1),fe(!1);const X=document.querySelector("[data-clothing-variants-btn]");X&&(X.classList.add("glow-pulse"),setTimeout(()=>X.classList.remove("glow-pulse"),3e3))},Kn=w.useCallback(()=>{ce.canvasRef&&(xn.current&&clearTimeout(xn.current),xn.current=window.setTimeout(()=>{const X=JSON.stringify(ce.canvasRef.toJSON());gi(ge=>{const we=_t>=0?ge.slice(0,_t+1):[];return we.push(X),we.length>50&&we.shift(),we}),cr(ge=>{const we=ge+1;return we>49?49:we})},300))},[ce.canvasRef,_t]),wf=w.useCallback(()=>{if(_t<=0||!ce.canvasRef)return;const X=_t-1,ge=br[X];ge&&ce.canvasRef.loadFromJSON(ge,()=>{ce.canvasRef.renderAll(),ce.updateCanvasObjects?.(),cr(X)})},[_t,br,ce]),jf=w.useCallback(()=>{if(_t>=br.length-1||!ce.canvasRef)return;const X=_t+1,ge=br[X];ge&&ce.canvasRef.loadFromJSON(ge,()=>{ce.canvasRef.renderAll(),ce.updateCanvasObjects?.(),cr(X)})},[_t,br,ce]);w.useEffect(()=>{const X=ge=>{(ge.ctrlKey||ge.metaKey)&&ge.key==="z"&&!ge.shiftKey?(ge.preventDefault(),wf()):(ge.ctrlKey||ge.metaKey)&&(ge.key==="y"||ge.shiftKey&&ge.key==="z")&&(ge.preventDefault(),jf())};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[wf,jf]);const Pa=w.useCallback(async()=>{if(!ce.canvasRef||!je){console.log("Cannot save: no canvas or active variant");return}if(!r)throw console.error(" Cannot save: User not authenticated"),ve.error("Please log in to save your design"),new Error("User not authenticated");console.log(" Starting save process...",{productId:je.productId,view:xt,userId:r.id});const X=Mae(ce.canvasRef,A);if(!X.valid)throw console.error(" Validation failed:",X.errors),X.errors.forEach(ge=>ve.error(ge)),Ft({type:"idle"}),new Error("Validation failed");X.warnings.length>0&&(console.warn(" Validation warnings:",X.warnings),X.warnings.forEach(ge=>ve.warning(ge)));try{Ft({type:"saving",message:"Saving design..."}),console.log(" Saving design via proxy"),console.log(" Exporting canvas thumbnail...");const ge=$j(ce.canvasRef,{format:"png",quality:.8,multiplier:.5});console.log(" Thumbnail exported"),console.log(" Uploading to Cloudinary...");const we=await(await fetch(ge)).blob(),Ae=new FormData;Ae.append("image",we,"thumbnail.png"),Ae.append("userId",r.id),Ae.append("productId",je.productId),Ae.append("view",xt);const Re=await fetch("/api/custom-design/upload-preview",{method:"POST",body:Ae,credentials:"include"});if(console.log(" Upload response status:",Re.status),!Re.ok){const Ar=await Re.text();throw console.error(" Upload failed:",Ar),new Error(`Failed to upload thumbnail: ${Re.status} ${Ar}`)}const Yt=(await Re.json()).url,gt=JSON.stringify(ce.canvasRef.toJSON()),Ve=xt;let ut=null,ur=null,jn=null,mr=null;try{const Ar=await fetch(`/api/design/load/${je.productId}?userId=${r.id}`,{credentials:"include"});if(Ar.ok){const Ys=await Ar.json();ut=Ys.data?.frontCanvasJson,ur=Ys.data?.backCanvasJson,jn=Ys.data?.frontThumbnailUrl,mr=Ys.data?.backThumbnailUrl,console.log(" Loaded existing design to preserve other view")}else Ar.status===404?console.log(" No existing design found (this is normal for new designs)"):console.warn(" Unexpected status when loading existing design:",Ar.status)}catch{console.log(" No existing design to preserve (this is normal for new designs)")}const Jn=await Lae("/api/design/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:r.id,customizableProductId:parseInt(je.productId),selectedSize:it||"M",selectedPrintOption:Ve==="front"?"front":"back",printAreaPreset:A,frontCanvasJson:Ve==="front"?gt:ut,backCanvasJson:Ve==="back"?gt:ur,frontThumbnailUrl:Ve==="front"?Yt:jn,backThumbnailUrl:Ve==="back"?Yt:mr})},{maxRetries:2,onRetry:Ar=>{ve.info(`Save failed, retrying... (Attempt ${Ar}/2)`)}});if(!Jn.ok){const Ar=await Jn.json().catch(()=>({}));throw console.error("Save failed:",ND({status:Jn.status,message:Ar.message||Jn.statusText})),new Error(Ar.message||`Failed to save design: ${Jn.statusText}`)}Ft({type:"saved",message:"Auto-saved!"}),setTimeout(()=>{Ft({type:"idle"})},3e3)}catch(ge){console.error("Save error:",ND(ge));const we=zae(ge);ve.error(we),Ft({type:"save-error",message:we})}},[ce.canvasRef,je,xt,A,it,r]),Al=w.useCallback(async X=>{X!==xt&&(ce.canvasRef&&je&&ce.canvasRef.getObjects().filter(we=>!we.name?.includes("print-area")).length>0&&(console.log(`Saving ${xt} view before switching to ${X}...`),await Pa(),console.log(" Save complete, switching view now")),Xe(X))},[xt,ce.canvasRef,je,Pa]),El=async()=>{console.log(" Preview button clicked"),console.log(" Canvas ref exists:",!!ce.canvasRef),console.log(" Active variant:",je?.productName||"none");const X=ce.canvasRef;if(!X){console.error(" Canvas not initialized"),ve.error("Canvas not ready. Please wait and try again.");return}if(!je){console.error(" No variant selected"),ve.error("Please select a product first");return}const ge=X.getObjects();console.log(" Total objects on canvas:",ge.length);const we=ge.filter(Ae=>{const Re=Ae.name||"";return!Re.includes("print-area")&&!Re.includes("boundary")});if(console.log(" Design objects (excluding markers):",we.length),we.length===0){console.error(" No design objects found"),ve.error("Please add some design elements before previewing");return}try{if(r){console.log(" User logged in, saving design to database before preview...");try{await Pa(),console.log(" Design saved to database")}catch(ut){console.warn(" Save failed, but continuing to preview:",ut)}}const Ae=X.toJSON(),Re=JSON.stringify(Ae);console.log(" Canvas JSON exported, objects:",Ae.objects?.length||0);const Lt=ii[A];if(!Lt){console.error(" Invalid print area preset:",A),ve.error("Invalid print area configuration");return}const Yt=Aae(X,{width:Lt.width,height:Lt.height});console.log(" Print area bounds:",Yt);const gt=$j(X,{format:"png",quality:1,multiplier:2,...Yt});console.log(" Preview image exported, length:",gt.length);const Ve={designData:Re,variant:{id:je.id,productId:je.productId,productName:je.productName,variantName:je.variantName,size:it||"M",image:je.image,retailPrice:je.retailPrice,totalPrice:je.totalPrice},view:xt,printAreaSize:A,previewImage:gt,timestamp:Date.now()};console.log(" Navigation state built:",{designDataLength:Ve.designData.length,variantName:Ve.variant.productName,view:Ve.view,printAreaSize:Ve.printAreaSize,previewImageLength:Ve.previewImage.length}),console.log(" Calling navigate to /custom-design-preview"),t("/custom-design-preview",{state:Ve}),console.log(" Navigate called successfully")}catch(Ae){console.error(" Preview error:",Ae),console.error(" Error stack:",Ae.stack),ve.error("Failed to generate preview: "+Ae.message)}},Gs=w.useCallback(()=>{!ce.canvasRef||ce.canvasRef.getObjects().filter(ge=>!ge.name?.includes("print-area")).length<1||(Mn.current&&window.clearTimeout(Mn.current),Mn.current=window.setTimeout(()=>{Pa()},2e3))},[Pa,ce.canvasRef]),Ml=w.useCallback(()=>ce.canvasRef?ce.canvasRef.getObjects().filter(ge=>!ge.name?.includes("print-area")).length>=Fa.MAX_OBJECTS?(ve.error(`Maximum number of objects (${Fa.MAX_OBJECTS}) reached. Remove some objects to add more.`),!1):!0:!1,[ce.canvasRef]);w.useCallback(()=>{if(!ce.canvasRef)return;const X=Dae(ce.canvasRef,A);X>0?(ve.success(`Moved ${X} object${X>1?"s":""} into print area`),Gs()):ve.info("All objects are already within the print area")},[ce.canvasRef,A,Gs]);const Ab=w.useCallback(async()=>{if(!r?.id||!je||!ce.canvasRef){console.log("loadUserDesign: Skipped - missing user, variant, or canvas");return}console.log("loadUserDesign: Attempting to load for product",je.productId),H.current=!0;try{const X=await fetch(`/api/design/load/${je.productId}?userId=${r.id}`,{credentials:"include"});if(X.status===404){console.log("No saved design found - starting fresh"),H.current=!1;return}if(!X.ok){console.warn("Failed to load design, status:",X.status),H.current=!1;return}const we=(await X.json()).data;if(!we){console.log("No design data in response"),H.current=!1;return}we.printAreaPreset&&M(we.printAreaPreset);const Ae=xt==="front"?we.frontCanvasJson:we.backCanvasJson;Ae&&ce.canvasRef&&ce.canvasRef.loadFromJSON(Ae,()=>{ce.canvasRef?.renderAll(),console.log(" Design loaded from database"),ve.success("Previous design restored")}),H.current=!1}catch(X){console.warn("Error loading design (will start fresh):",X),H.current=!1}},[je?.productId,xt,ce.canvasRef,r?.id,M]),Xm=w.useCallback(async()=>{if(r?.id){vf(!0);try{const X=await fetch(`/api/saved-designs/all?userId=${r.id}`);if(!X.ok)throw new Error("Failed to fetch saved designs");const ge=await X.json();ge.success&&gf(ge.data||[])}catch(X){console.error("Error fetching saved designs:",X),ve.error("Failed to load saved designs from library")}finally{vf(!1)}}},[r]),Sf=w.useCallback(async X=>{if(je?.productId!==X.customizableProductId.toString()){sessionStorage.setItem("designToLoad",JSON.stringify(X)),ve.info(`Switching to ${X.product.name}...`),t(`/custom-design?productId=${X.customizableProductId}`);return}try{H.current=!0,Ft({type:"loading",message:"Loading design..."}),xt==="front"&&X.frontCanvasJson?await ce.loadCanvasFromJSON(X.frontCanvasJson):xt==="back"&&X.backCanvasJson&&await ce.loadCanvasFromJSON(X.backCanvasJson),st(X.selectedSize),yn(X.selectedPrintOption),K(!1),Ft({type:"loaded",message:"Design loaded successfully"}),ve.success("Design loaded!"),setTimeout(()=>{H.current=!1},500)}catch(ge){console.error("Error loading design:",ge),ve.error("Failed to load design"),Ft({type:"load-error"}),H.current=!1}},[je,xt,ce,t]),Ym=w.useCallback(async X=>{if(r?.id)try{if(!(await fetch(`/api/saved-designs/${X}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.id})})).ok)throw new Error("Failed to delete design");gf(we=>we.filter(Ae=>Ae.id!==X)),ve.success("Design deleted from library")}catch(ge){console.error("Error deleting design:",ge),ve.error("Failed to delete design")}},[r]);w.useEffect(()=>{Z&&r?.id&&Xm()},[Z,r,Xm]);const Cf=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(X){if(X.type==="activeSelection"){const ge=X._objects,we=Math.min(...ge.map(Ae=>Ae.left-Ae.width/2));ge.forEach(Ae=>{Ae.set({left:we+Ae.width/2})})}else X.set({left:X.width/2});ce.canvasRef.renderAll(),ce.canvasRef.fire("object:modified",{target:X})}},[ce.canvasRef]),Dl=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(!X)return;const ge=ce.canvasRef.width/2;X.type==="activeSelection"?X._objects.forEach(Ae=>{Ae.set({left:ge})}):X.set({left:ge}),ce.canvasRef.renderAll(),ce.canvasRef.fire("object:modified",{target:X})},[ce.canvasRef]),Eb=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(!X)return;const ge=ce.canvasRef.width;if(X.type==="activeSelection"){const we=X._objects,Ae=Math.max(...we.map(Re=>Re.left+Re.width/2));we.forEach(Re=>{Re.set({left:ge-(Ae-Re.left)})})}else X.set({left:ge-X.width/2});ce.canvasRef.renderAll(),ce.canvasRef.fire("object:modified",{target:X})},[ce.canvasRef]),Nf=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(X){if(X.type==="activeSelection"){const ge=X._objects,we=Math.min(...ge.map(Ae=>Ae.top-Ae.height/2));ge.forEach(Ae=>{Ae.set({top:we+Ae.height/2})})}else X.set({top:X.height/2});ce.canvasRef.renderAll(),ce.canvasRef.fire("object:modified",{target:X})}},[ce.canvasRef]),It=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(!X)return;const ge=ce.canvasRef.height/2;X.type==="activeSelection"?X._objects.forEach(Ae=>{Ae.set({top:ge})}):X.set({top:ge}),ce.canvasRef.renderAll(),ce.canvasRef.fire("object:modified",{target:X})},[ce.canvasRef]),Km=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(!X)return;const ge=ce.canvasRef.height;if(X.type==="activeSelection"){const we=X._objects,Ae=Math.max(...we.map(Re=>Re.top+Re.height/2));we.forEach(Re=>{Re.set({top:ge-(Ae-Re.top)})})}else X.set({top:ge-X.height/2});ce.canvasRef.renderAll(),ce.canvasRef.fire("object:modified",{target:X})},[ce.canvasRef]),Jm=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(!X||X.type!=="activeSelection")return;const ge=X._objects;if(ge.length<3)return;const we=[...ge].sort((gt,Ve)=>gt.left-Ve.left),Ae=we[0].left,Yt=(we[we.length-1].left-Ae)/(we.length-1);we.forEach((gt,Ve)=>{gt.set({left:Ae+Yt*Ve})}),ce.canvasRef.renderAll(),ce.canvasRef.fire("object:modified",{target:X})},[ce.canvasRef]),_f=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(!X||X.type!=="activeSelection")return;const ge=X._objects;if(ge.length<3)return;const we=[...ge].sort((gt,Ve)=>gt.top-Ve.top),Ae=we[0].top,Yt=(we[we.length-1].top-Ae)/(we.length-1);we.forEach((gt,Ve)=>{gt.set({top:Ae+Yt*Ve})}),ce.canvasRef.renderAll(),ce.canvasRef.fire("object:modified",{target:X})},[ce.canvasRef]),Of=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(!X||X.type!=="activeSelection"){console.log("Select multiple objects to group");return}const ge=X,we=ge._objects;if(we.length<2){ve.error("Select at least 2 objects to group");return}ge.toGroup(),ce.canvasRef.renderAll(),ce.updateCanvasObjects?.();const Ae=ce.canvasRef.getActiveObject();Ae&&ce.canvasRef.fire("object:modified",{target:Ae}),console.log(`Grouped ${we.length} objects`),ve.success("Objects grouped")},[ce.canvasRef]),Pf=w.useCallback(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef.getActiveObject();if(!X||X.type!=="group"){console.log("Select a group to ungroup");return}const ge=X,we=ge._objects.slice();ge.toActiveSelection(),ce.canvasRef.renderAll(),ce.updateCanvasObjects?.();const Ae=ce.canvasRef.getActiveObject();Ae&&ce.canvasRef.fire("object:modified",{target:Ae}),console.log(`Ungrouped ${we.length} objects`),ve.success("Group ungrouped")},[ce.canvasRef]),Zm=w.useCallback(X=>{if(!ce.canvasRef)return;const we=!(X.customProps?.locked||!1);X.customProps||(X.customProps={}),X.customProps.locked=we,X.set({selectable:!we,evented:!we,hasControls:!we,hasBorders:!we,lockMovementX:we,lockMovementY:we,lockRotation:we,lockScalingX:we,lockScalingY:we}),we&&ce.canvasRef.getActiveObject()===X&&ce.canvasRef.discardActiveObject(),ce.canvasRef.renderAll(),ce.updateCanvasObjects?.(),ce.canvasRef.fire("object:modified",{target:X}),ve.success(we?"Object locked":"Object unlocked")},[ce]),Gc=w.useCallback(async()=>{if(!ce.canvasRef)return;const X=ce.canvasRef;if(!vi){X.overlayImage=void 0,X.renderAll();return}const ge=X.getWidth(),we=X.getHeight();if(!ge||!we)return;const Lt=Dn/100*300*(Bo/100),Yt=document.createElement("canvas");Yt.width=ge,Yt.height=we;const gt=Yt.getContext("2d",{alpha:!0});if(gt){gt.clearRect(0,0,ge,we),gt.strokeStyle="#b0b0b0",gt.lineWidth=1,gt.beginPath();for(let Ve=0;Ve<=ge;Ve+=Lt)gt.moveTo(Math.round(Ve)+.5,0),gt.lineTo(Math.round(Ve)+.5,we);gt.stroke(),gt.beginPath();for(let Ve=0;Ve<=we;Ve+=Lt)gt.moveTo(0,Math.round(Ve)+.5),gt.lineTo(ge,Math.round(Ve)+.5);gt.stroke();try{const{Image:Ve}=await g_(async()=>{const{Image:jn}=await Promise.resolve().then(()=>U_);return{Image:jn}},void 0),ut=Yt.toDataURL("image/png"),ur=await Ve.fromURL(ut);ur.set({opacity:.4,selectable:!1,evented:!1,left:0,top:0,originX:"left",originY:"top"}),X.overlayImage=ur,X.requestRenderAll()}catch(Ve){console.error("Error rendering grid:",Ve)}}},[ce,vi,Dn]),wo=w.useCallback(X=>Math.round(X/Dn)*Dn,[Dn]);w.useEffect(()=>{const X=ge=>{(ge.ctrlKey||ge.metaKey)&&ge.key==="g"&&!ge.shiftKey?(ge.preventDefault(),Of()):(ge.ctrlKey||ge.metaKey)&&ge.shiftKey&&ge.key==="g"&&(ge.preventDefault(),Pf())};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[Of,Pf]),w.useEffect(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef,ge=()=>{if(H.current){console.log("Skipping auto-save during design load");return}Kn(),Gs()};return X.on("object:added",ge),X.on("object:modified",ge),X.on("object:removed",ge),X.on("text:changed",ge),()=>{X.off("object:added",ge),X.off("object:modified",ge),X.off("object:removed",ge),X.off("text:changed",ge)}},[ce.canvasRef,Kn,Gs]),w.useEffect(()=>{ce.canvasRef&&Gc()},[ce.canvasRef,vi,Dn,Gc]),w.useEffect(()=>{if(!ce.canvasRef)return;const X=ce.canvasRef,ge=we=>{if(!Yn||!we.target)return;const Ae=we.target;Ae.set({left:wo(Ae.left||0),top:wo(Ae.top||0)})};return Yn&&X.on("object:moving",ge),()=>{X.off("object:moving",ge)}},[ce.canvasRef,Yn,wo]),w.useEffect(()=>{ce.selectedObject&&ue(!0)},[ce.selectedObject]),w.useEffect(()=>(window.addEventListener("keydown",_),window.addEventListener("keyup",k),document.addEventListener("touchmove",X=>{X.touches.length>1&&X.preventDefault()},{passive:!1}),()=>{window.removeEventListener("keydown",_),window.removeEventListener("keyup",k)}),[_,k]),w.useEffect(()=>{const X=ge=>{ce.canvasRef&&je&&Tt.type!=="saving"&&Pa(),(Tt.type==="saving"||Tt.type==="save-error")&&(ge.preventDefault(),ge.returnValue="")};return window.addEventListener("beforeunload",X),()=>{window.removeEventListener("beforeunload",X)}},[ce.canvasRef,je,Pa,Tt.type]),w.useEffect(()=>{if(console.log("Load effect triggered:",{hasVariant:!!je,hasCanvas:!!ce.canvasRef,productId:je?.productId,view:xt,isHydrating:n,hasUser:!!r}),n){console.log("Skipped loadUserDesign - auth still hydrating");return}je&&ce.canvasRef&&r&&(console.log("Calling loadUserDesign..."),Ab())},[je?.productId,xt,n,r?.id]),w.useEffect(()=>{const{type:X,message:ge}=Tt;switch(X){case"loaded":ve.success(ge||"Design loaded successfully"),setTimeout(()=>Ft({type:"idle"}),100);break;case"saved":ve.success("Design saved"),setTimeout(()=>Ft({type:"idle"}),3e3);break;case"save-error":ve.error(ge||"Could not save your design. Changes are backed up locally."),setTimeout(()=>Ft({type:"idle"}),5e3);break;case"load-error":ve.error(ge||"Could not load design"),setTimeout(()=>Ft({type:"idle"}),3e3);break}},[Tt]),w.useEffect(()=>{U(!0)},[]),w.useEffect(()=>{L("layers")},[]),w.useEffect(()=>{const X=e.state;if(!X?.returnFromPreview||!X.designData||!X.variant)return;console.log(" Returning from preview, restoring design state"),ft({id:X.variant.id,productId:X.variant.productId,productName:X.variant.productName,variantName:X.variant.variantName,size:X.variant.size,printOption:X.view==="front"?"front":"back",image:X.variant.image,retailPrice:X.variant.retailPrice,totalPrice:X.variant.totalPrice}),st(X.variant.size),X.view&&Xe(X.view),X.printAreaSize&&["A4","Letter","Legal","Square","Custom"].includes(X.printAreaSize)&&M(X.printAreaSize);const ge=()=>{if(!ce.canvasRef||!X.designData){console.log("Canvas not ready, retrying..."),setTimeout(ge,100);return}try{H.current=!0;const we=JSON.parse(X.designData);ce.canvasRef.loadFromJSON(we,()=>{ce.canvasRef?.renderAll(),console.log(" Canvas restored from preview state"),H.current=!1})}catch(we){console.error("Failed to restore canvas from preview:",we),H.current=!1}};setTimeout(ge,200)},[e.state,ce.canvasRef]);const wn=e.state?.category||"T-Shirt - Round Neck",Li=e.state?.productName||"",{products:hn,loading:Xs,error:jo}=O0();w.useEffect(()=>{(async()=>{if(!(n||!r||Xs||!hn||hn.length===0)&&!je){if(e.state?.category||e.state?.productName||e.state?.returnFromPreview){console.log(" Skipping auto-load - user navigated here intentionally");return}try{const ge=await fetch(`/api/design/load/last-used?userId=${r.id}`,{credentials:"include"});if(ge.ok){const we=await ge.json(),Ae=we.data?.customizableProductId;if(Ae){console.log(" Loading last-used variant from page refresh:",Ae);const Re=hn.find(Lt=>parseInt(Lt.id)===Ae);if(Re){console.log(" Product found:",Re.name,"Category:",Re.category);const Lt=Re.images?.find(mr=>mr.type==="front"),Yt=Re.images?.find(mr=>mr.type==="back"),gt=Lt?.url||Yt?.url||Re.images?.[0]?.url||"/placeholder-product.png",Ve={id:Re.id.toString(),productId:Re.id.toString(),productName:Re.name,variantName:Re.variant?.name||Re.color?.name||Re.name,baseProduct:Re.name,image:gt,size:we.data.selectedSize||"M",color:Re.color?.name||"Default",colorCode:Re.color?.hexCode||"#FFFFFF",price:Re.retailPrice||0,retailPrice:Re.retailPrice||0,totalPrice:Re.retailPrice||0,category:Re.category||"T-Shirt",printOption:we.data.selectedPrintOption||"none",isAvailable:!0};ft(Ve),st(we.data.selectedSize||"M");const ut=["A4","Letter","Legal","Square","Custom"],ur=we.data.printAreaPreset,jn=ut.includes(ur)?ur:"Letter";M(jn),Vs(Re.name),Wt(Re.category||"T-Shirt"),console.log(" Variant restored from page refresh:",Ve.productName,"Print Area:",jn)}else console.warn(" Product not found in allProducts. ID:",Ae)}}}catch(ge){console.error("Failed to load last-used variant:",ge)}}})()},[n,r,Xs,hn,je,e.state,wn]);const ds=w.useMemo(()=>!hn||hn.length===0?[]:hn.filter(X=>X.category===wn),[hn,wn]),Qm=w.useMemo(()=>ds.map(X=>{const we=X.images?.find(Ae=>Ae.type==="front")?.url||X.images?.[0]?.url||"https://images.unsplash.com/photo-1620799139834-6b8f844fbe61?w=500";return{id:X.id,name:X.name,color:X.color?.name||X.variant?.name||"Unknown",sizes:X.sizes||["S","M","L","XL"],image:we,noPrint:!0,frontPrint:X.printAreas?.includes("Front")||!0,backPrint:X.printAreas?.includes("Back")||!0,category:X.category,subcategory:"",fitType:X.fitType,fitDescription:X.fitDescription,colorHex:X.color?.hexCode,variantName:X.variant?.name,differentiationType:X.differentiationType,retailPrice:X.retailPrice,frontPrintCost:X.frontPrintCost,backPrintCost:X.backPrintCost}}),[ds]);w.useEffect(()=>{Li&&Vs(Li),Wt(wn)},[Li,wn]);const eg=X=>{if(!it){alert(" Please select a size first");return}let ge=X.retailPrice||350;Zt==="front"?ge+=X.frontPrintCost||100:Zt==="back"&&(ge+=X.backPrintCost||100);const we=X.variantName||X.color||"Default",Re={id:`variant-${Date.now()}`,productId:X.id,productName:X.name,variantName:we,size:it,printOption:Zt,image:X.image,retailPrice:X.retailPrice||350,totalPrice:ge};ft(Re),it?st(it):X.sizes&&X.sizes.length>0?st(X.sizes[0]):st("M"),q(!1),U(!0)},Rl=async()=>{if(!je){ve.error("Please select a product variant first");return}if(!it){ve.error("Please select a size");return}if(!ce.canvasRef){ve.error("Canvas not initialized");return}kl(!0);try{const X=$j(ce.canvasRef,{format:"png",quality:.9,multiplier:1}),ge=await(await fetch(X)).blob(),we=new FormData;we.append("image",ge,"custom-design.png");const Ae=await fetch("/api/custom-design/upload-preview",{method:"POST",body:we,credentials:"include"});if(!Ae.ok)throw new Error("Failed to upload design thumbnail");const Lt=(await Ae.json())?.url||"",gt={design:ce.canvasRef.toJSON(),thumbnail:Lt,printOption:je.printOption,printAreaSize:A,side:xt},Ve=je.retailPrice||350,ut=je.printOption==="front"||je.printOption==="back"?50:0,ur=Ve+ut;await Tb(je.productId,`${je.productName} - ${je.variantName} (${it})`,ur,Lt||je.image,Ii||"Custom Design",1,it,je.variantName,gt),ve.success("Added to cart successfully!")}catch(X){console.error("Add to cart error:",X),ve.error("Failed to add to cart. Please try again.")}finally{kl(!1)}},tg=Qm,rg=X=>`${X} Variants`,Xc=[{id:"back",icon:fo,label:"Back"},{id:"upload",icon:lp,label:"Upload Image"},{id:"text",icon:yK,label:"Add Text"},{id:"library",icon:ev,label:"My Library"},{id:"graphics",icon:Wh,label:"Graphics"},{id:"patterns",icon:zu,label:"Patterns/Textures"}],ng=X=>{X==="back"?t("/"):X==="upload"?(I(!B),G(!1),K(!1),ie(!1),fe(!1),q(!1),ue(!1),$("upload")):X==="text"?(G(!F),I(!1),K(!1),ie(!1),fe(!1),q(!1),ue(!1),$("text")):X==="library"?(K(!Z),I(!1),G(!1),ie(!1),fe(!1),q(!1),ue(!1),$("library")):X==="graphics"?(ie(!ae),I(!1),G(!1),K(!1),fe(!1),q(!1),ue(!1),$("graphics")):X==="patterns"?(fe(!J),I(!1),G(!1),K(!1),ie(!1),q(!1),ue(!1),$("patterns")):$(X)},Mb=async X=>{const ge=X.target.files?.[0];if(!ge)return;if(!bn()){Tl(),mt.current&&(mt.current.value="");return}if(!Ml()){mt.current&&(mt.current.value="");return}Xt(null);const we=await Ut(ge);if(!we.valid){Xt(we.error||"Invalid image"),mt.current&&(mt.current.value="");return}we.warning&&Xt(we.warning);const Ae=await Cr(ge);Ae&&(qm(Re=>[{...Ae,timestamp:Date.now()},...Re].slice(0,6)),ce.addImageToCanvas(Ae.url,{fit:!0,center:!0}),mt.current&&(mt.current.value=""))},Il=X=>{if(!bn()){Tl();return}ce.addImageToCanvas(X,{fit:!0,center:!0})},Ll=X=>{if(!bn()){Tl();return}ce.addImageToCanvas(X,{fit:!0,center:!0}),ie(!1)},So=async X=>{if(!bn()){Tl();return}const ge=ce.canvasRef;if(!ge)return;const we=ge.getActiveObject();if(!we){alert("Please select an object first to apply the pattern");return}const{Image:Ae,Pattern:Re}=await g_(async()=>{const{Image:gt,Pattern:Ve}=await Promise.resolve().then(()=>U_);return{Image:gt,Pattern:Ve}},void 0),Lt=await Ae.fromURL(X,{crossOrigin:"anonymous"}),Yt=new Re({source:Lt.getElement(),repeat:"repeat"});we.set("fill",Yt),ge.renderAll(),fe(!1)},Yc=()=>{if(!en.trim())return;if(!bn()){Tl();return}if(!Ml())return;const X={Small:24,Medium:40,Large:60,"X-Large":80};ce.addTextToCanvas(en,{fontSize:X[bo],fontFamily:fn,fill:Um}),Nr("")},Db=X=>{const ge=ce.canvasRef,we=ce.selectedObject;!ge||!we||(we.set(X),ge.renderAll())};return a.jsxs(pae,{value:{fabricCanvas:ce.canvasRef,selectedObject:ce.selectedObject,canvasObjects:ce.canvasObjects,zoom:ce.zoom,addImageToCanvas:ce.addImageToCanvas,addTextToCanvas:ce.addTextToCanvas,removeSelectedObject:ce.removeSelectedObject,removeObject:ce.removeObject,clearCanvas:ce.clearCanvas,getCanvasJSON:ce.getCanvasJSON,loadCanvasFromJSON:ce.loadCanvasFromJSON,setZoom:ce.setZoom,resetView:ce.resetView,exportHighDPI:ce.exportHighDPI},children:[Tt.type==="loading"&&a.jsx(Fae,{message:Tt.message||"Loading your design..."}),a.jsxs("div",{className:"h-screen flex bg-gray-100 overflow-hidden fixed inset-0",children:[a.jsx("div",{className:"bg-white border-r w-20 flex flex-col items-center py-6 gap-4 z-10",children:Xc.map(X=>{const ge=X.icon;return a.jsxs("button",{onClick:()=>ng(X.id),className:`w-full flex flex-col items-center justify-center gap-1.5 py-2 px-1 transition-colors group ${W===X.id?"text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(ge,{className:"size-5"}),a.jsx("span",{className:`text-[10px] text-center leading-tight ${W===X.id?"":"text-gray-500"}`,children:X.label})]},X.id)})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"bg-white border-b px-4 py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>{q(!z),z||(I(!1),G(!1),K(!1),ie(!1),fe(!1))},"data-clothing-variants-btn":!0,className:`${z?"bg-gray-800 text-white hover:bg-gray-700 hover:text-white":"hover:bg-gray-100 hover:text-gray-900"}`,children:"Clothing Variants"}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>U(!E),className:`flex items-center gap-2 ${E?"bg-gray-800 text-white hover:bg-gray-700 hover:text-white":"hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(nr,{className:"size-4"}),"Variant Details"]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{ue(!oe),oe||(I(!1),G(!1),K(!1),ie(!1),fe(!1))},className:`${oe?"bg-gray-800 text-white hover:bg-gray-700 hover:text-white":"hover:bg-gray-100 hover:text-gray-900"}`,children:["Properties",ce.selectedObject&&a.jsx("span",{className:"ml-2 size-2 rounded-full bg-green-500"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ee,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:El,disabled:!je||!ce.canvasRef,title:"Preview your design",children:[a.jsx(to,{className:"size-4 mr-1.5"}),"Preview"]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>L(D==="layers"?"":"layers"),className:`relative ${D==="layers"?"bg-gray-800 text-white hover:bg-gray-700 hover:text-white":"hover:bg-gray-100 hover:text-gray-900"}`,children:["Layers",Ot.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs size-5 rounded-full flex items-center justify-center",children:Ot.length})]})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[E&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r w-[320px] overflow-y-auto z-20 shadow-lg",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Variant Details"}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8",onClick:()=>U(!1),children:a.jsx(Ct,{className:"size-4"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:je?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"space-y-3",children:a.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg border overflow-hidden",children:a.jsx("img",{src:je.image,alt:je.productName,className:"w-full h-full object-contain"})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:je.productName}),a.jsx("div",{className:"text-sm text-gray-600",children:je.variantName}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(nr,{className:"size-4"}),a.jsx("span",{children:"Your Brand Store"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx(Ju,{className:"size-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-700",children:"In stock"})]}),a.jsxs("div",{className:"space-y-3 border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Size"}),a.jsx("span",{className:"font-medium",children:je.size})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Print Option"}),a.jsx("span",{className:"font-medium",children:je.printOption==="none"?"No Print":je.printOption==="front"?"Front Only":"Back Only"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Retail Price"}),a.jsxs("span",{className:"font-medium",children:["",je.retailPrice.toFixed(2)]})]})]}),a.jsxs(SM,{open:Le,onOpenChange:Ke,children:[a.jsx(CM,{asChild:!0,children:a.jsxs(ee,{variant:"ghost",className:"w-full justify-between p-0 h-auto hover:bg-transparent",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Total Price: ",je.totalPrice.toFixed(2)]}),Le?a.jsx(Hh,{className:"size-4 text-gray-500"}):a.jsx(Ba,{className:"size-4 text-gray-500"})]})}),a.jsx(NM,{className:"pt-4 space-y-3",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Retail Price"}),a.jsxs("span",{children:["",je.retailPrice.toFixed(2)]})]}),je.printOption==="front"&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Front print"}),a.jsx("span",{children:"Included"})]}),je.printOption==="back"&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Back print"}),a.jsx("span",{children:"Included"})]}),a.jsxs("div",{className:"pt-2 border-t flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Total"}),a.jsxs("span",{className:"text-sm font-medium",children:["",je.totalPrice.toFixed(2)]})]})]})})]}),a.jsxs(SM,{open:De,onOpenChange:vt,className:"border-t pt-6",children:[a.jsx(CM,{asChild:!0,children:a.jsxs(ee,{variant:"ghost",className:"w-full justify-between p-0 h-auto hover:bg-transparent mb-4",children:[a.jsx("span",{className:"text-sm font-medium",children:"Print area"}),De?a.jsx(Hh,{className:"size-4 text-gray-500"}):a.jsx(Ba,{className:"size-4 text-gray-500"})]})}),a.jsxs(NM,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"variantPrintAreaSize",className:"text-sm text-gray-600",children:"Print Area Size"}),a.jsxs(Gr,{value:A,onValueChange:X=>M(X),children:[a.jsx(Yr,{id:"variantPrintAreaSize",className:"w-full",children:a.jsx(Xr,{})}),a.jsx(Kr,{children:Object.keys(ii).map(X=>a.jsx(He,{value:X,children:ii[X].label},X))})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Print Size"}),a.jsxs("span",{children:[ii[A].width,"  ",ii[A].height," px"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"DPI"}),a.jsx("span",{children:"300"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Physical Size"}),a.jsx("span",{children:ii[A].physicalSize})]})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 text-center px-4",children:[a.jsx(nr,{className:"size-16 text-gray-400"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"No Variant Selected"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Choose a product variant to start customizing your design"})]}),a.jsxs(ee,{size:"lg",className:"mt-4",onClick:()=>{U(!1),q(!0)},children:[a.jsx(nr,{className:"size-4 mr-2"}),"Select Product Variant"]})]})})]})}),z&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl",children:rg(wn)}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-2 rounded-full bg-green-500"}),a.jsx("span",{className:"text-gray-600",children:Xs?"Loading...":`${Qm.length} Available`})]})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>q(!1),children:a.jsx(Ct,{className:"size-5"})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-5",children:[a.jsx("style",{children:`
                    .variants-scroll::-webkit-scrollbar {
                      width: 8px;
                    }
                    .variants-scroll::-webkit-scrollbar-track {
                      background: #f1f1f1;
                      border-radius: 4px;
                    }
                    .variants-scroll::-webkit-scrollbar-thumb {
                      background: #888;
                      border-radius: 4px;
                    }
                    .variants-scroll::-webkit-scrollbar-thumb:hover {
                      background: #555;
                    }
                  `}),a.jsx("div",{className:"variants-scroll h-full overflow-y-auto space-y-4",children:Xs?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-800 mb-4"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading variants..."})]}):jo?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[a.jsx(Pu,{className:"size-16 text-red-400 mb-4"}),a.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Failed to load products"}),a.jsx("p",{className:"text-xs text-gray-500",children:jo})]}):tg.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[a.jsx(nr,{className:"size-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No variants found"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["No products available for ",wn]})]}):tg.map(X=>{const ge=ke.has(X.id),we=X.retailPrice||350,Ae=X.frontPrintCost||100,Re=X.backPrintCost||100,Lt=we,Yt=we+Ae,gt=we+Re;return a.jsx("div",{className:"w-full bg-white border-2 border-gray-200 rounded-xl hover:border-gray-400 hover:shadow-lg transition-all",children:a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-32 h-32 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden",children:a.jsx("img",{src:X.image,alt:X.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 space-y-2.5",children:[a.jsx("h3",{className:"text-base hover:text-gray-900 transition-colors",children:X.name}),X.category&&a.jsxs("div",{className:"text-xs text-gray-600",children:["Category: ",a.jsx("span",{className:"font-medium",children:X.category})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Select Size:",a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:X.sizes.map(Ve=>{const ut=it===Ve;return a.jsx("button",{onClick:()=>st(Ve),className:`px-2 py-0.5 text-xs border rounded transition-all ${ut?"bg-gray-800 text-white border-gray-800 font-medium":"bg-gray-100 border-gray-300 hover:border-gray-800 hover:bg-gray-200"}`,children:Ve},Ve)})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Print Option:"}),a.jsx("div",{className:"flex gap-1.5",children:["none","front","back"].map(Ve=>{const ut=Zt===Ve,ur=Ve.charAt(0).toUpperCase()+Ve.slice(1);return a.jsx("button",{onClick:()=>yn(Ve),className:`px-3 py-1 text-xs border rounded transition-all ${ut?"bg-gray-800 text-white border-gray-800 font-medium":"bg-gray-100 border-gray-300 hover:border-gray-800 hover:bg-gray-200"}`,children:ur},Ve)})})]})]})]}),a.jsxs("div",{className:"space-y-2 pl-1",children:[X.differentiationType==="color"&&X.colorHex?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"size-10 rounded-md border-2 border-gray-300 shadow-sm flex-shrink-0",style:{backgroundColor:X.colorHex}}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Color"}),a.jsx("span",{className:"text-sm text-gray-800",children:X.color})]})]}):X.differentiationType==="variant"&&X.variantName?a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Variant: "}),a.jsx("span",{className:"text-gray-800 font-medium",children:X.variantName})]}):null,(X.fitType||X.fitDescription)&&a.jsxs("div",{className:"text-xs",children:[X.fitType&&a.jsxs("span",{className:"text-gray-600",children:[a.jsx("span",{className:"text-gray-500",children:"Fit: "}),X.fitType,X.fitDescription&&" | "]}),X.fitDescription&&a.jsx("span",{className:"text-gray-500",children:X.fitDescription})]})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[a.jsxs("button",{onClick:()=>{Ne(Ve=>{const ut=new Set(Ve);return ge?ut.delete(X.id):ut.add(X.id),ut})},className:"w-full flex items-center justify-between py-2 px-2 hover:bg-gray-50 rounded transition-colors",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Pricing Options"}),a.jsx(Ba,{className:`size-4 text-gray-500 transition-transform ${ge?"rotate-180":""}`})]}),ge&&a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-gray-50 border border-gray-200 rounded",children:[a.jsx("span",{className:"text-xs text-gray-700",children:"No Print"}),a.jsxs("span",{className:"text-xs font-medium",children:["",Lt.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-gray-50 border border-gray-200 rounded",children:[a.jsx("span",{className:"text-xs text-gray-700",children:"Front Print"}),a.jsxs("span",{className:"text-xs font-medium",children:["",Yt.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-gray-50 border border-gray-200 rounded",children:[a.jsx("span",{className:"text-xs text-gray-700",children:"Back Print"}),a.jsxs("span",{className:"text-xs font-medium",children:["",gt.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2",children:[a.jsx(ee,{size:"sm",className:"bg-gray-800 hover:bg-gray-700 text-white text-xs h-8",onClick:()=>eg(X),children:"Add to Customize"}),a.jsx("button",{onClick:()=>t(`/custom-product/${X.id}`),className:"text-xs text-gray-600 hover:text-gray-900 hover:underline",children:"More details "})]})]})},X.id)})})]})]})}),B&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl",children:"Upload Image"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-2 rounded-full bg-green-500"}),a.jsx("span",{className:"text-gray-600",children:"Available"})]})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>I(!1),children:a.jsx(Ct,{className:"size-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:a.jsxs("div",{className:"h-full space-y-4",children:[a.jsx("input",{ref:mt,type:"file",accept:"image/png,image/jpeg,image/jpg,image/svg+xml",onChange:Mb,className:"hidden"}),a.jsxs("div",{onClick:()=>mt.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer",children:[a.jsx(lp,{className:"size-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-sm mb-1 font-medium",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG or SVG (max. 10MB)"}),bt&&a.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Uploading..."})]}),Rt&&a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx(Pu,{className:"size-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-red-800 mb-1",children:"Upload Blocked"}),a.jsx("p",{className:"text-xs text-red-700",children:Rt})]})]}),Tr&&a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx(Pu,{className:"size-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-red-800 mb-1",children:"Upload Failed"}),a.jsx("p",{className:"text-xs text-red-700",children:Tr})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-xs font-medium text-blue-900 mb-2",children:"Best Practices"}),a.jsxs("ul",{className:"space-y-1.5 text-xs text-blue-800",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),a.jsx("span",{children:"Use images with at least 2000px on the shortest side"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),a.jsx("span",{children:"PNG format with transparent background works best"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),a.jsx("span",{children:"High resolution ensures sharp prints (300 DPI recommended)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Recent Uploads"}),mf.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm",children:[a.jsx(Wh,{className:"size-12 mx-auto mb-2 opacity-30"}),a.jsx("p",{children:"No uploads yet"})]}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:mf.slice(0,6).map((X,ge)=>a.jsx("div",{onClick:()=>Il(X.url),className:"aspect-square bg-gray-100 rounded-lg border-2 border-gray-200 p-2 hover:border-blue-500 transition-colors cursor-pointer",children:a.jsx("img",{src:X.url,alt:"Recent upload",className:"size-full object-contain rounded"})},X.timestamp+ge))})]})]})})]})}),F&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl",children:"Add Text"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-2 rounded-full bg-green-500"}),a.jsx("span",{className:"text-gray-600",children:"Available"})]})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>G(!1),children:a.jsx(Ct,{className:"size-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:a.jsxs("div",{className:"h-full space-y-4",children:[a.jsxs("div",{children:[a.jsx(be,{children:"Text Content"}),a.jsx(ze,{placeholder:"Enter your text here...",className:"mt-1",value:en,onChange:X=>Nr(X.target.value)})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-500 mb-2 block",children:"Font Styles"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Arial","Helvetica","Times New Roman","Georgia","Verdana","Comic Sans MS"].map(X=>a.jsx("button",{onClick:()=>us(X),className:`p-3 border-2 rounded-lg transition-colors text-left text-sm ${fn===X?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,style:{fontFamily:X},children:X},X))})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-500 mb-2 block",children:"Text Size"}),a.jsx("div",{className:"flex gap-2",children:["Small","Medium","Large","X-Large"].map(X=>a.jsx("button",{onClick:()=>Ob(X),className:`flex-1 p-2 border-2 rounded-lg transition-colors text-xs ${bo===X?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,children:X},X))})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-xs text-gray-500 mb-2 block",children:"Colors"}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:["#000000","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#808080","#800000","#008000","#000080"].map(X=>a.jsx("button",{onClick:()=>_a(X),className:`aspect-square rounded-lg border-2 transition-colors ${Um===X?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:X}},X))})]}),a.jsx(ee,{className:"w-full bg-gray-800 hover:bg-gray-700",onClick:Yc,children:"Add Text to Design"})]})})]})}),Z&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[580px] overflow-hidden z-20 shadow-xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl",children:"My Library"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:`size-2 rounded-full ${Oa.length>0?"bg-green-500":"bg-gray-400"}`}),a.jsxs("span",{className:"text-gray-600",children:[Oa.length," Saved"]})]})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>K(!1),children:a.jsx(Ct,{className:"size-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:a.jsxs("div",{className:"h-full space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:" Saved Designs"}),Oa.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:[Oa.length," design",Oa.length!==1?"s":""]})]}),Vm?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):Oa.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[a.jsx(ev,{className:"size-16 mx-auto mb-3 opacity-30 text-gray-400"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"No saved designs yet"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Preview your design and click "Save to Library" to save it here'})]}):a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Oa.map(X=>a.jsx(Tae,{design:X,onLoad:Sf,onDelete:Ym},X.id))})]}),a.jsx("div",{className:"border-t border-gray-200"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:" Templates"}),a.jsx(nt,{variant:"secondary",className:"text-xs",children:"Coming Soon"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(X=>a.jsxs("div",{className:"aspect-square bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 overflow-hidden relative group cursor-not-allowed",children:[a.jsxs("div",{className:"size-full flex flex-col items-center justify-center p-4 opacity-40",children:[a.jsx(nr,{className:"size-12 text-gray-400 mb-2"}),a.jsxs("p",{className:"text-xs text-gray-600 text-center",children:["Template ",X]})]}),a.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsx(nt,{variant:"secondary",className:"text-xs",children:"Available Soon"})})]},X))}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[a.jsx("p",{className:"font-medium mb-1",children:" Templates Coming in Phase 4"}),a.jsx("p",{className:"text-xs",children:"Pre-designed templates will help you create amazing designs faster!"})]})]})]})})]})}),ae&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl",children:"Graphics"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-2 rounded-full bg-green-500"}),a.jsxs("span",{className:"text-gray-600",children:[Vc.length," Available"]})]})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>ie(!1),children:a.jsx(Ct,{className:"size-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:a.jsxs("div",{className:"h-full space-y-4",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","icon","logo","illustration","template"].map(X=>a.jsx(ee,{variant:Qt===X?"default":"outline",size:"sm",onClick:()=>{kb(X),Pb(X==="all"?void 0:X)},className:"capitalize shrink-0",children:X},X))}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:Qt==="all"?"All Graphics":`${Qt.charAt(0).toUpperCase()+Qt.slice(1)}s`}),Vc.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx(Wh,{className:"size-16 mx-auto mb-3 opacity-30"}),a.jsx("p",{children:"No graphics available"})]}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:Vc.map(X=>a.jsx("div",{className:"aspect-square bg-gray-50 rounded-lg border-2 border-gray-200 overflow-hidden hover:border-blue-400 transition-colors cursor-pointer p-2",onClick:()=>Ll(X.cloudinary_url),children:a.jsx("img",{src:X.thumbnail_url,alt:X.name,className:"size-full object-contain"})},X.id))})]})]})})]})}),J&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl",children:"Patterns & Textures"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-2 rounded-full bg-green-500"}),a.jsxs("span",{className:"text-gray-600",children:[yf.length," Available"]})]})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>fe(!1),children:a.jsx(Ct,{className:"size-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:a.jsxs("div",{className:"h-full space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"How to use patterns:"}),a.jsx("p",{className:"text-xs",children:"1. Select an object on the canvas"}),a.jsx("p",{className:"text-xs",children:"2. Click a pattern to apply it as fill"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Available Patterns"}),yf.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx(zu,{className:"size-16 mx-auto mb-3 opacity-30"}),a.jsx("p",{children:"No patterns available"})]}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:yf.map(X=>a.jsx("div",{className:"aspect-square bg-gray-50 rounded-lg border-2 border-gray-200 overflow-hidden hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>So(X.cloudinary_url),children:a.jsx("img",{src:X.thumbnail_url,alt:X.name,className:"size-full object-cover"})},X.id))})]})]})})]})}),D==="layers"&&a.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-white border-l border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ev,{className:"size-5 text-gray-700"}),a.jsx("h2",{className:"text-xl",children:"Layers"})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>L("edit"),children:a.jsx(Ct,{className:"size-5"})})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-2 rounded-full bg-blue-500"}),a.jsxs("span",{className:"text-gray-600",children:[ce.canvasObjects.length," ",ce.canvasObjects.length===1?"object":"objects"]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ce.canvasObjects.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[a.jsx(ev,{className:"size-16 text-gray-300 mb-4"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No objects yet"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Add text, images, or graphics to see them listed here"})]}):a.jsx("div",{className:"space-y-2",children:[...ce.canvasObjects].reverse().map((X,ge)=>{const we=ce.selectedObject===X,Ae=de.has(X),Re=X.type||"object",Lt=ce.canvasObjects.length-1-ge,Yt=()=>Re==="i-text"||Re==="text"?"":Re==="image"?"":Re==="rect"?"":Re==="circle"?"":Re==="polygon"?"":"",gt=()=>{if(Re==="i-text"||Re==="text"){const ut=X.text||"";return ut.length>25?ut.substring(0,25)+"...":ut||"Empty Text"}return Re==="image"?"Image":Re==="rect"?"Rectangle":Re==="circle"?"Circle":Re==="polygon"?"Polygon":"Object"},Ve=(ut,ur)=>{if(ur.stopPropagation(),!ce.canvasRef)return;const jn=ce.canvasRef;ut==="front"?jn.bringObjectToFront(X):ut==="forward"?jn.bringObjectForward(X):ut==="backward"?jn.sendObjectBackwards(X):ut==="back"&&jn.sendObjectToBack(X),jn.renderAll(),ce.updateCanvasObjects?.(),le(Jn=>{const Ar=new Set(Jn);return Ar.delete(X),Ar});const mr=ur.currentTarget;mr.classList.add("bg-blue-500","text-white"),setTimeout(()=>{mr.classList.remove("bg-blue-500","text-white")},200)};return a.jsxs("div",{className:`border rounded-lg overflow-hidden transition-all ${we?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${X.customProps?.locked?"opacity-60 bg-gray-50":""}`,children:[a.jsxs("div",{className:`flex items-center gap-2 p-2.5 transition-colors ${X.customProps?.locked?"bg-gray-100":"bg-white hover:bg-gray-50"}`,children:[a.jsx("button",{onClick:ut=>{ut.stopPropagation();const ur=new Set(de);Ae?ur.delete(X):ur.add(X),le(ur)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:Ae?"Collapse":"Expand controls",children:a.jsx(Ba,{className:`h-4 w-4 text-gray-500 transition-transform ${Ae?"rotate-180":""}`})}),a.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer",onClick:()=>{ce.canvasRef?.setActiveObject(X),ce.canvasRef?.renderAll(),ue(!0)},children:[a.jsx("span",{className:"text-lg",children:Yt()}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("h4",{className:"text-xs font-medium truncate",children:gt()})})]}),a.jsx("button",{onClick:ut=>{ut.stopPropagation(),Zm(X)},className:`p-1 hover:bg-gray-200 rounded transition-colors ${X.customProps?.locked?"text-red-600":"text-gray-400"}`,title:X.customProps?.locked?"Unlock object":"Lock object",children:X.customProps?.locked?a.jsx(E3,{className:"h-4 w-4"}):a.jsx(A3,{className:"h-4 w-4"})}),a.jsxs("div",{className:`text-[10px] px-1.5 py-0.5 rounded ${we?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:["#",ge+1]})]}),Ae&&a.jsx("div",{className:"px-2.5 pb-2.5 bg-gray-50 border-t border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-4 gap-1.5 pt-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 px-1 text-[10px] flex flex-col items-center justify-center gap-0.5 hover:bg-blue-100 transition-colors",onClick:ut=>Ve("front",ut),title:"Bring to Front",children:[a.jsx(P3,{className:"h-3 w-3"}),a.jsx("span",{children:"Front"})]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 px-1 text-[10px] flex flex-col items-center justify-center gap-0.5 hover:bg-blue-100 transition-colors",onClick:ut=>Ve("forward",ut),title:"Bring Forward",children:[a.jsx(Hh,{className:"h-3 w-3"}),a.jsx("span",{children:"Forward"})]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 px-1 text-[10px] flex flex-col items-center justify-center gap-0.5 hover:bg-blue-100 transition-colors",onClick:ut=>Ve("backward",ut),title:"Send Backward",children:[a.jsx(Ba,{className:"h-3 w-3"}),a.jsx("span",{children:"Backward"})]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 px-1 text-[10px] flex flex-col items-center justify-center gap-0.5 hover:bg-blue-100 transition-colors",onClick:ut=>Ve("back",ut),title:"Send to Back",children:[a.jsx(O3,{className:"h-3 w-3"}),a.jsx("span",{children:"Back"})]})]})})]},Lt)})})})]})}),a.jsx(_ae,{isOpen:oe,onClose:()=>ue(!1),selectedObject:ce.selectedObject,canvas:ce.canvasRef,onUpdate:Db,onLayerUpdate:ce.updateCanvasObjects}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col bg-gray-50 relative canvas-area-container",style:{cursor:f?"grabbing":"default"},onMouseDown:y,onMouseMove:b,onMouseUp:S,onMouseLeave:S,children:[d&&a.jsx("div",{className:"absolute inset-0 z-50",style:{cursor:h?"grabbing":"grab"},onMouseDown:O,onMouseMove:P,onMouseUp:C,onMouseLeave:C}),a.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden p-4",children:a.jsx("div",{className:`canvas-transform-wrapper ${c?"":"zoom-transition"}`,style:{transform:`translate(${l.x}px, ${l.y}px) scale(${o})`,transformOrigin:"center center"},children:a.jsxs("div",{className:"relative rounded bg-white shadow-lg design-area-box",style:{width:`${Math.round(ii[A].width*(Bo/100))}px`,height:`${Math.round(ii[A].height*(Bo/100))}px`,outline:`${2/o}px dashed #2563eb`,outlineOffset:`${-2/o}px`},children:[a.jsxs("div",{className:"absolute -top-6 left-0 text-xs bg-blue-600 text-white px-2 py-0.5 rounded",style:{pointerEvents:"none",transform:`scale(${1/o})`,transformOrigin:"left bottom"},children:["Design Area - ",ii[A].label]}),a.jsx("canvas",{id:"design-canvas",className:"absolute inset-0",style:{width:`${Math.round(ii[A].width*(Bo/100))}px`,height:`${Math.round(ii[A].height*(Bo/100))}px`}})]})})}),a.jsxs("div",{className:"py-4 flex items-center justify-center gap-3",children:[a.jsx("button",{onClick:()=>Al("front"),className:`px-6 py-2.5 rounded-full transition-all shadow-md ${xt==="front"?"bg-gray-800 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:"Front side"}),a.jsx("button",{onClick:()=>Al("back"),className:`px-6 py-2.5 rounded-full transition-all shadow-md ${xt==="back"?"bg-gray-800 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:"Back side"})]})]})]}),a.jsxs("div",{className:"bg-white border-t px-6 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:wf,disabled:_t<=0,title:"Undo (Ctrl+Z)",children:a.jsx(jK,{className:"size-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:jf,disabled:_t>=br.length-1,title:"Redo (Ctrl+Y)",children:a.jsx(KY,{className:"size-4"})}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),a.jsxs(ee,{variant:"default",size:"sm",className:"h-8 px-3 bg-blue-600 hover:bg-blue-700",onClick:El,disabled:!je||!ce.canvasRef,title:"Preview your design",children:[a.jsx(to,{className:"size-4 mr-1.5"}),"Preview"]}),(Tt.type==="saving"||Tt.type==="saved"||Tt.type==="save-error")&&a.jsxs("div",{className:`flex items-center gap-1.5 text-xs px-2 py-1 rounded ${Tt.type==="saving"?"bg-blue-50 text-blue-700":Tt.type==="saved"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[Tt.type==="saving"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"size-3 border-2 border-blue-700 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Auto-saving..."})]}),Tt.type==="saved"&&a.jsxs(a.Fragment,{children:[a.jsx(Ju,{className:"size-3"}),a.jsx("span",{children:"Auto-saved"})]}),Tt.type==="save-error"&&a.jsxs(a.Fragment,{children:[a.jsx(Pu,{className:"size-3"}),a.jsx("span",{children:"Failed"})]})]}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Cf,disabled:!ce.selectedObject,title:"Align Left",children:a.jsx(C3,{className:"size-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Dl,disabled:!ce.selectedObject,title:"Align Center",children:a.jsx(S3,{className:"size-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Eb,disabled:!ce.selectedObject,title:"Align Right",children:a.jsx(N3,{className:"size-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Nf,disabled:!ce.selectedObject,title:"Align Top",children:a.jsx(fj,{className:"size-4",style:{transform:"rotate(90deg)"}})}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:It,disabled:!ce.selectedObject,title:"Align Middle",children:a.jsx(fj,{className:"size-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Km,disabled:!ce.selectedObject,title:"Align Bottom",children:a.jsx(fj,{className:"size-4",style:{transform:"rotate(-90deg)"}})}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Jm,disabled:!ce.selectedObject||ce.canvasRef?.getActiveObject()?.type!=="activeSelection",title:"Distribute Horizontally",children:a.jsx(MX,{className:"size-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:_f,disabled:!ce.selectedObject||ce.canvasRef?.getActiveObject()?.type!=="activeSelection",title:"Distribute Vertically",children:a.jsx($X,{className:"size-4"})}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),a.jsx(ee,{variant:vi?"default":"outline",size:"icon",className:"size-8",onClick:()=>xo(!vi),title:"Toggle Grid",children:a.jsx(zu,{className:"size-4"})}),a.jsx(ee,{variant:Yn?"default":"outline",size:"icon",className:"size-8",onClick:()=>cs(!Yn),disabled:!vi,title:"Snap to Grid",children:a.jsx($Y,{className:"size-4"})}),a.jsxs(Gr,{value:Dn.toString(),onValueChange:X=>Ri(Number(X)),children:[a.jsx(Yr,{className:"h-8 w-[80px] text-xs",children:a.jsx(Xr,{})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"25",children:'0.25"'}),a.jsx(He,{value:"50",children:'0.5"'}),a.jsx(He,{value:"100",children:'1"'}),a.jsx(He,{value:"150",children:'1.5"'})]})]}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:g,title:"Zoom Out (Ctrl+-)",children:a.jsx(RK,{className:"size-4"})}),a.jsxs("span",{className:"text-sm min-w-[50px] text-center",children:[Math.round(o*100),"%"]}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:m,title:"Zoom In (Ctrl++)",children:a.jsx(z3,{className:"size-4"})}),a.jsx(ee,{variant:"outline",size:"icon",className:"size-8 ml-1",onClick:x,title:"Reset View (Ctrl+0)",children:a.jsx(CP,{className:"size-4"})}),a.jsxs("select",{value:Math.round(o*100),onChange:X=>j(Number(X.target.value)),className:"zoom-preset-select ml-2",children:[a.jsx("option",{value:25,children:"25%"}),a.jsx("option",{value:50,children:"50%"}),a.jsx("option",{value:75,children:"75%"}),a.jsx("option",{value:100,children:"100%"}),a.jsx("option",{value:150,children:"150%"}),a.jsx("option",{value:200,children:"200%"}),a.jsx("option",{value:300,children:"300%"}),a.jsx("option",{value:400,children:"400%"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[je&&a.jsxs(Gr,{value:it,onValueChange:st,children:[a.jsx(Yr,{className:"h-9 w-[100px]",children:a.jsx(Xr,{placeholder:"Size"})}),a.jsx(Kr,{children:je.size?a.jsx(He,{value:je.size,children:je.size}):a.jsxs(a.Fragment,{children:[a.jsx(He,{value:"S",children:"S"}),a.jsx(He,{value:"M",children:"M"}),a.jsx(He,{value:"L",children:"L"}),a.jsx(He,{value:"XL",children:"XL"}),a.jsx(He,{value:"2XL",children:"2XL"})]})})]}),a.jsx(ee,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:Rl,disabled:!je||!it||bf,children:bf?a.jsxs(a.Fragment,{children:[a.jsx($n,{className:"size-4 mr-2 animate-spin"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(fl,{className:"size-4 mr-2"}),"Add to Cart"]})})]})]})]})]})]})}function Bae({id:t,name:e,price:r,image:n,category:i,isNew:s}){const o=kr(),[l,c]=w.useState(!1),[d,f]=w.useState(!1),{requireAuth:h}=hi(),m=()=>{h(()=>{o("/custom-design",{state:{category:i||e,productName:e,productId:t}})})},g=()=>{h(()=>{c(!l)})};return a.jsxs("div",{className:"group relative overflow-hidden rounded-lg bg-white",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[a.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100",children:[a.jsx(Pi,{src:n,alt:e,className:"size-full object-cover transition-transform duration-500 group-hover:scale-105"}),a.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[s&&a.jsx(nt,{className:"bg-black text-white hover:bg-black/90",children:"New"}),i&&a.jsx(nt,{variant:"secondary",className:"bg-white/90 text-black",children:i})]}),a.jsx("button",{onClick:g,className:"absolute top-3 right-3 flex size-9 items-center justify-center rounded-full bg-white/90 backdrop-blur transition-all hover:bg-white",children:a.jsx(Zu,{className:`size-4 transition-colors ${l?"fill-red-500 text-red-500":"text-gray-700"}`})}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 transition-all duration-300 ${d?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:a.jsxs(ee,{onClick:m,className:"w-full bg-black text-white hover:bg-black/90",children:[a.jsx(bc,{className:"mr-2 size-4"}),"Customize Now"]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"mb-1 line-clamp-1",children:e}),a.jsxs("p",{className:"text-gray-600",children:["",r.toFixed(2)]})]})]})}var Bj={},Hj={},ah={},Wj={},_D;function Hae(){return _D||(_D=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(Wj)),Wj}var Uj,OD;function Wae(){if(OD)return Uj;OD=1;var t="Expected a function",e=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof Xo=="object"&&Xo&&Xo.Object===Object&&Xo,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),h=Object.prototype,m=h.toString,g=Math.max,j=Math.min,x=function(){return f.Date.now()};function y(C,_,k){var A,M,D,L,W,$,H=0,z=!1,q=!1,E=!0;if(typeof C!="function")throw new TypeError(t);_=P(_)||0,b(k)&&(z=!!k.leading,q="maxWait"in k,D=q?g(P(k.maxWait)||0,_):D,E="trailing"in k?!!k.trailing:E);function U(J){var fe=A,oe=M;return A=M=void 0,H=J,L=C.apply(oe,fe),L}function B(J){return H=J,W=setTimeout(G,_),z?U(J):L}function I(J){var fe=J-$,oe=J-H,ue=_-fe;return q?j(ue,D-oe):ue}function F(J){var fe=J-$,oe=J-H;return $===void 0||fe>=_||fe<0||q&&oe>=D}function G(){var J=x();if(F(J))return Z(J);W=setTimeout(G,I(J))}function Z(J){return W=void 0,E&&A?U(J):(A=M=void 0,L)}function K(){W!==void 0&&clearTimeout(W),H=0,A=$=M=W=void 0}function ae(){return W===void 0?L:Z(x())}function ie(){var J=x(),fe=F(J);if(A=arguments,M=this,$=J,fe){if(W===void 0)return B($);if(q)return W=setTimeout(G,_),U($)}return W===void 0&&(W=setTimeout(G,_)),L}return ie.cancel=K,ie.flush=ae,ie}function b(C){var _=typeof C;return!!C&&(_=="object"||_=="function")}function S(C){return!!C&&typeof C=="object"}function O(C){return typeof C=="symbol"||S(C)&&m.call(C)==r}function P(C){if(typeof C=="number")return C;if(O(C))return e;if(b(C)){var _=typeof C.valueOf=="function"?C.valueOf():C;C=b(_)?_+"":_}if(typeof C!="string")return C===0?C:+C;C=C.replace(n,"");var k=s.test(C);return k||o.test(C)?l(C.slice(2),k?2:8):i.test(C)?e:+C}return Uj=y,Uj}var qj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var PD;function P0(){return PD||(PD=1,(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,n(l)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(qj)),qj.exports}var Me={},Vj={},kD;function q8(){return kD||(kD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(Bs());function r(i){return i&&i.__esModule?i:{default:i}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=n})(Vj)),Vj}var TD;function _m(){if(TD)return Me;TD=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.checkSpecKeys=Me.checkNavigable=Me.changeSlide=Me.canUseDOM=Me.canGoNext=void 0,Me.clamp=d,Me.extractObject=void 0,Me.filterSettings=U,Me.validSettings=Me.swipeStart=Me.swipeMove=Me.swipeEnd=Me.slidesOnRight=Me.slidesOnLeft=Me.slideHandler=Me.siblingDirection=Me.safePreventDefault=Me.lazyStartIndex=Me.lazySlidesOnRight=Me.lazySlidesOnLeft=Me.lazyEndIndex=Me.keyHandler=Me.initializedState=Me.getWidth=Me.getTrackLeft=Me.getTrackCSS=Me.getTrackAnimateCSS=Me.getTotalSlides=Me.getSwipeDirection=Me.getSlideCount=Me.getRequiredLazySlides=Me.getPreClones=Me.getPostClones=Me.getOnDemandLazySlides=Me.getNavigableIndexes=Me.getHeight=void 0;var t=r(Bs()),e=r(q8());function r(B){return B&&B.__esModule?B:{default:B}}function n(B){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},n(B)}function i(B,I){var F=Object.keys(B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(B);I&&(G=G.filter(function(Z){return Object.getOwnPropertyDescriptor(B,Z).enumerable})),F.push.apply(F,G)}return F}function s(B){for(var I=1;I<arguments.length;I++){var F=arguments[I]!=null?arguments[I]:{};I%2?i(Object(F),!0).forEach(function(G){o(B,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(F)):i(Object(F)).forEach(function(G){Object.defineProperty(B,G,Object.getOwnPropertyDescriptor(F,G))})}return B}function o(B,I,F){return(I=l(I))in B?Object.defineProperty(B,I,{value:F,enumerable:!0,configurable:!0,writable:!0}):B[I]=F,B}function l(B){var I=c(B,"string");return n(I)=="symbol"?I:I+""}function c(B,I){if(n(B)!="object"||!B)return B;var F=B[Symbol.toPrimitive];if(F!==void 0){var G=F.call(B,I);if(n(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(B)}function d(B,I,F){return Math.max(I,Math.min(B,F))}var f=Me.safePreventDefault=function(I){var F=["onTouchStart","onTouchMove","onWheel"];F.includes(I._reactName)||I.preventDefault()},h=Me.getOnDemandLazySlides=function(I){for(var F=[],G=m(I),Z=g(I),K=G;K<Z;K++)I.lazyLoadedList.indexOf(K)<0&&F.push(K);return F};Me.getRequiredLazySlides=function(I){for(var F=[],G=m(I),Z=g(I),K=G;K<Z;K++)F.push(K);return F};var m=Me.lazyStartIndex=function(I){return I.currentSlide-j(I)},g=Me.lazyEndIndex=function(I){return I.currentSlide+x(I)},j=Me.lazySlidesOnLeft=function(I){return I.centerMode?Math.floor(I.slidesToShow/2)+(parseInt(I.centerPadding)>0?1:0):0},x=Me.lazySlidesOnRight=function(I){return I.centerMode?Math.floor((I.slidesToShow-1)/2)+1+(parseInt(I.centerPadding)>0?1:0):I.slidesToShow},y=Me.getWidth=function(I){return I&&I.offsetWidth||0},b=Me.getHeight=function(I){return I&&I.offsetHeight||0},S=Me.getSwipeDirection=function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G,Z,K,ae;return G=I.startX-I.curX,Z=I.startY-I.curY,K=Math.atan2(Z,G),ae=Math.round(K*180/Math.PI),ae<0&&(ae=360-Math.abs(ae)),ae<=45&&ae>=0||ae<=360&&ae>=315?"left":ae>=135&&ae<=225?"right":F===!0?ae>=35&&ae<=135?"up":"down":"vertical"},O=Me.canGoNext=function(I){var F=!0;return I.infinite||(I.centerMode&&I.currentSlide>=I.slideCount-1||I.slideCount<=I.slidesToShow||I.currentSlide>=I.slideCount-I.slidesToShow)&&(F=!1),F};Me.extractObject=function(I,F){var G={};return F.forEach(function(Z){return G[Z]=I[Z]}),G},Me.initializedState=function(I){var F=t.default.Children.count(I.children),G=I.listRef,Z=Math.ceil(y(G)),K=I.trackRef&&I.trackRef.node,ae=Math.ceil(y(K)),ie;if(I.vertical)ie=Z;else{var J=I.centerMode&&parseInt(I.centerPadding)*2;typeof I.centerPadding=="string"&&I.centerPadding.slice(-1)==="%"&&(J*=Z/100),ie=Math.ceil((Z-J)/I.slidesToShow)}var fe=G&&b(G.querySelector('[data-index="0"]')),oe=fe*I.slidesToShow,ue=I.currentSlide===void 0?I.initialSlide:I.currentSlide;I.rtl&&I.currentSlide===void 0&&(ue=F-1-I.initialSlide);var de=I.lazyLoadedList||[],le=h(s(s({},I),{},{currentSlide:ue,lazyLoadedList:de}));de=de.concat(le);var ke={slideCount:F,slideWidth:ie,listWidth:Z,trackWidth:ae,currentSlide:ue,slideHeight:fe,listHeight:oe,lazyLoadedList:de};return I.autoplaying===null&&I.autoplay&&(ke.autoplaying="playing"),ke},Me.slideHandler=function(I){var F=I.waitForAnimate,G=I.animating,Z=I.fade,K=I.infinite,ae=I.index,ie=I.slideCount,J=I.lazyLoad,fe=I.currentSlide,oe=I.centerMode,ue=I.slidesToScroll,de=I.slidesToShow,le=I.useCSS,ke=I.lazyLoadedList;if(F&&G)return{};var Ne=ae,Le,Ke,De,vt={},je={},ft=K?ae:d(ae,0,ie-1);if(Z){if(!K&&(ae<0||ae>=ie))return{};ae<0?Ne=ae+ie:ae>=ie&&(Ne=ae-ie),J&&ke.indexOf(Ne)<0&&(ke=ke.concat(Ne)),vt={animating:!0,currentSlide:Ne,lazyLoadedList:ke,targetSlide:Ne},je={animating:!1,targetSlide:Ne}}else Le=Ne,Ne<0?(Le=Ne+ie,K?ie%ue!==0&&(Le=ie-ie%ue):Le=0):!O(I)&&Ne>fe?Ne=Le=fe:oe&&Ne>=ie?(Ne=K?ie:ie-1,Le=K?0:ie-1):Ne>=ie&&(Le=Ne-ie,K?ie%ue!==0&&(Le=0):Le=ie-de),!K&&Ne+de>=ie&&(Le=ie-de),Ke=D(s(s({},I),{},{slideIndex:Ne})),De=D(s(s({},I),{},{slideIndex:Le})),K||(Ke===De&&(Ne=Le),Ke=De),J&&(ke=ke.concat(h(s(s({},I),{},{currentSlide:Ne})))),le?(vt={animating:!0,currentSlide:Le,trackStyle:M(s(s({},I),{},{left:Ke})),lazyLoadedList:ke,targetSlide:ft},je={animating:!1,currentSlide:Le,trackStyle:A(s(s({},I),{},{left:De})),swipeLeft:null,targetSlide:ft}):vt={currentSlide:Le,trackStyle:A(s(s({},I),{},{left:De})),lazyLoadedList:ke,targetSlide:ft};return{state:vt,nextState:je}},Me.changeSlide=function(I,F){var G,Z,K,ae,ie,J=I.slidesToScroll,fe=I.slidesToShow,oe=I.slideCount,ue=I.currentSlide,de=I.targetSlide,le=I.lazyLoad,ke=I.infinite;if(ae=oe%J!==0,G=ae?0:(oe-ue)%J,F.message==="previous")K=G===0?J:fe-G,ie=ue-K,le&&!ke&&(Z=ue-K,ie=Z===-1?oe-1:Z),ke||(ie=de-J);else if(F.message==="next")K=G===0?J:G,ie=ue+K,le&&!ke&&(ie=(ue+J)%oe+G),ke||(ie=de+J);else if(F.message==="dots")ie=F.index*F.slidesToScroll;else if(F.message==="children"){if(ie=F.index,ke){var Ne=H(s(s({},I),{},{targetSlide:ie}));ie>F.currentSlide&&Ne==="left"?ie=ie-oe:ie<F.currentSlide&&Ne==="right"&&(ie=ie+oe)}}else F.message==="index"&&(ie=Number(F.index));return ie},Me.keyHandler=function(I,F,G){return I.target.tagName.match("TEXTAREA|INPUT|SELECT")||!F?"":I.keyCode===37?G?"next":"previous":I.keyCode===39?G?"previous":"next":""},Me.swipeStart=function(I,F,G){return I.target.tagName==="IMG"&&f(I),!F||!G&&I.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:I.touches?I.touches[0].pageX:I.clientX,startY:I.touches?I.touches[0].pageY:I.clientY,curX:I.touches?I.touches[0].pageX:I.clientX,curY:I.touches?I.touches[0].pageY:I.clientY}}},Me.swipeMove=function(I,F){var G=F.scrolling,Z=F.animating,K=F.vertical,ae=F.swipeToSlide,ie=F.verticalSwiping,J=F.rtl,fe=F.currentSlide,oe=F.edgeFriction,ue=F.edgeDragged,de=F.onEdge,le=F.swiped,ke=F.swiping,Ne=F.slideCount,Le=F.slidesToScroll,Ke=F.infinite,De=F.touchObject,vt=F.swipeEvent,je=F.listHeight,ft=F.listWidth;if(!G){if(Z)return f(I);K&&ae&&ie&&f(I);var it,st={},Zt=D(F);De.curX=I.touches?I.touches[0].pageX:I.clientX,De.curY=I.touches?I.touches[0].pageY:I.clientY,De.swipeLength=Math.round(Math.sqrt(Math.pow(De.curX-De.startX,2)));var yn=Math.round(Math.sqrt(Math.pow(De.curY-De.startY,2)));if(!ie&&!ke&&yn>10)return{scrolling:!0};ie&&(De.swipeLength=yn);var br=(J?-1:1)*(De.curX>De.startX?1:-1);ie&&(br=De.curY>De.startY?1:-1);var gi=Math.ceil(Ne/Le),_t=S(F.touchObject,ie),cr=De.swipeLength;return Ke||(fe===0&&(_t==="right"||_t==="down")||fe+1>=gi&&(_t==="left"||_t==="up")||!O(F)&&(_t==="left"||_t==="up"))&&(cr=De.swipeLength*oe,ue===!1&&de&&(de(_t),st.edgeDragged=!0)),!le&&vt&&(vt(_t),st.swiped=!0),K?it=Zt+cr*(je/ft)*br:J?it=Zt-cr*br:it=Zt+cr*br,ie&&(it=Zt+cr*br),st=s(s({},st),{},{touchObject:De,swipeLeft:it,trackStyle:A(s(s({},F),{},{left:it}))}),Math.abs(De.curX-De.startX)<Math.abs(De.curY-De.startY)*.8||De.swipeLength>10&&(st.swiping=!0,f(I)),st}},Me.swipeEnd=function(I,F){var G=F.dragging,Z=F.swipe,K=F.touchObject,ae=F.listWidth,ie=F.touchThreshold,J=F.verticalSwiping,fe=F.listHeight,oe=F.swipeToSlide,ue=F.scrolling,de=F.onSwipe,le=F.targetSlide,ke=F.currentSlide,Ne=F.infinite;if(!G)return Z&&f(I),{};var Le=J?fe/ie:ae/ie,Ke=S(K,J),De={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(ue||!K.swipeLength)return De;if(K.swipeLength>Le){f(I),de&&de(Ke);var vt,je,ft=Ne?ke:le;switch(Ke){case"left":case"up":je=ft+_(F),vt=oe?C(F,je):je,De.currentDirection=0;break;case"right":case"down":je=ft-_(F),vt=oe?C(F,je):je,De.currentDirection=1;break;default:vt=ft}De.triggerSlideHandler=vt}else{var it=D(F);De.trackStyle=M(s(s({},F),{},{left:it}))}return De};var P=Me.getNavigableIndexes=function(I){for(var F=I.infinite?I.slideCount*2:I.slideCount,G=I.infinite?I.slidesToShow*-1:0,Z=I.infinite?I.slidesToShow*-1:0,K=[];G<F;)K.push(G),G=Z+I.slidesToScroll,Z+=Math.min(I.slidesToScroll,I.slidesToShow);return K},C=Me.checkNavigable=function(I,F){var G=P(I),Z=0;if(F>G[G.length-1])F=G[G.length-1];else for(var K in G){if(F<G[K]){F=Z;break}Z=G[K]}return F},_=Me.getSlideCount=function(I){var F=I.centerMode?I.slideWidth*Math.floor(I.slidesToShow/2):0;if(I.swipeToSlide){var G,Z=I.listRef,K=Z.querySelectorAll&&Z.querySelectorAll(".slick-slide")||[];if(Array.from(K).every(function(J){if(I.vertical){if(J.offsetTop+b(J)/2>I.swipeLeft*-1)return G=J,!1}else if(J.offsetLeft-F+y(J)/2>I.swipeLeft*-1)return G=J,!1;return!0}),!G)return 0;var ae=I.rtl===!0?I.slideCount-I.currentSlide:I.currentSlide,ie=Math.abs(G.dataset.index-ae)||1;return ie}else return I.slidesToScroll},k=Me.checkSpecKeys=function(I,F){return F.reduce(function(G,Z){return G&&I.hasOwnProperty(Z)},!0)?null:console.error("Keys Missing:",I)},A=Me.getTrackCSS=function(I){k(I,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var F,G;if(!I.vertical)F=$(I)*I.slideWidth;else{var Z=I.unslick?I.slideCount:I.slideCount+2*I.slidesToShow;G=Z*I.slideHeight}var K={opacity:1,transition:"",WebkitTransition:""};if(I.useTransform){var ae=I.vertical?"translate3d(0px, "+I.left+"px, 0px)":"translate3d("+I.left+"px, 0px, 0px)",ie=I.vertical?"translate3d(0px, "+I.left+"px, 0px)":"translate3d("+I.left+"px, 0px, 0px)",J=I.vertical?"translateY("+I.left+"px)":"translateX("+I.left+"px)";K=s(s({},K),{},{WebkitTransform:ae,transform:ie,msTransform:J})}else I.vertical?K.top=I.left:K.left=I.left;return I.fade&&(K={opacity:1}),F&&(K.width=F),G&&(K.height=G),window&&!window.addEventListener&&window.attachEvent&&(I.vertical?K.marginTop=I.left+"px":K.marginLeft=I.left+"px"),K},M=Me.getTrackAnimateCSS=function(I){k(I,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var F=A(I);return I.useTransform?(F.WebkitTransition="-webkit-transform "+I.speed+"ms "+I.cssEase,F.transition="transform "+I.speed+"ms "+I.cssEase):I.vertical?F.transition="top "+I.speed+"ms "+I.cssEase:F.transition="left "+I.speed+"ms "+I.cssEase,F},D=Me.getTrackLeft=function(I){if(I.unslick)return 0;k(I,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var F=I.slideIndex,G=I.trackRef,Z=I.infinite,K=I.centerMode,ae=I.slideCount,ie=I.slidesToShow,J=I.slidesToScroll,fe=I.slideWidth,oe=I.listWidth,ue=I.variableWidth,de=I.slideHeight,le=I.fade,ke=I.vertical,Ne=0,Le,Ke,De=0;if(le||I.slideCount===1)return 0;var vt=0;if(Z?(vt=-L(I),ae%J!==0&&F+J>ae&&(vt=-(F>ae?ie-(F-ae):ae%J)),K&&(vt+=parseInt(ie/2))):(ae%J!==0&&F+J>ae&&(vt=ie-ae%J),K&&(vt=parseInt(ie/2))),Ne=vt*fe,De=vt*de,ke?Le=F*de*-1+De:Le=F*fe*-1+Ne,ue===!0){var je,ft=G&&G.node;if(je=F+L(I),Ke=ft&&ft.childNodes[je],Le=Ke?Ke.offsetLeft*-1:0,K===!0){je=Z?F+L(I):F,Ke=ft&&ft.children[je],Le=0;for(var it=0;it<je;it++)Le-=ft&&ft.children[it]&&ft.children[it].offsetWidth;Le-=parseInt(I.centerPadding),Le+=Ke&&(oe-Ke.offsetWidth)/2}}return Le},L=Me.getPreClones=function(I){return I.unslick||!I.infinite?0:I.variableWidth?I.slideCount:I.slidesToShow+(I.centerMode?1:0)},W=Me.getPostClones=function(I){return I.unslick||!I.infinite?0:I.variableWidth?I.slideCount:I.slidesToShow+(I.centerMode?1:0)},$=Me.getTotalSlides=function(I){return I.slideCount===1?1:L(I)+I.slideCount+W(I)},H=Me.siblingDirection=function(I){return I.targetSlide>I.currentSlide?I.targetSlide>I.currentSlide+z(I)?"left":"right":I.targetSlide<I.currentSlide-q(I)?"right":"left"},z=Me.slidesOnRight=function(I){var F=I.slidesToShow,G=I.centerMode,Z=I.rtl,K=I.centerPadding;if(G){var ae=(F-1)/2+1;return parseInt(K)>0&&(ae+=1),Z&&F%2===0&&(ae+=1),ae}return Z?0:F-1},q=Me.slidesOnLeft=function(I){var F=I.slidesToShow,G=I.centerMode,Z=I.rtl,K=I.centerPadding;if(G){var ae=(F-1)/2+1;return parseInt(K)>0&&(ae+=1),!Z&&F%2===0&&(ae+=1),ae}return Z?F-1:0};Me.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var E=Me.validSettings=Object.keys(e.default);function U(B){return E.reduce(function(I,F){return B.hasOwnProperty(F)&&(I[F]=B[F]),I},{})}return Me}var oh={},AD;function Uae(){if(AD)return oh;AD=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.Track=void 0;var t=n(Bs()),e=n(P0()),r=_m();function n(M){return M&&M.__esModule?M:{default:M}}function i(M){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},i(M)}function s(){return s=Object.assign?Object.assign.bind():function(M){for(var D=1;D<arguments.length;D++){var L=arguments[D];for(var W in L)({}).hasOwnProperty.call(L,W)&&(M[W]=L[W])}return M},s.apply(null,arguments)}function o(M,D){if(!(M instanceof D))throw new TypeError("Cannot call a class as a function")}function l(M,D){for(var L=0;L<D.length;L++){var W=D[L];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,O(W.key),W)}}function c(M,D,L){return D&&l(M.prototype,D),Object.defineProperty(M,"prototype",{writable:!1}),M}function d(M,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(D&&D.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),D&&f(M,D)}function f(M,D){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,W){return L.__proto__=W,L},f(M,D)}function h(M){var D=j();return function(){var L,W=x(M);if(D){var $=x(this).constructor;L=Reflect.construct(W,arguments,$)}else L=W.apply(this,arguments);return m(this,L)}}function m(M,D){if(D&&(i(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(M)}function g(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function j(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!M})()}function x(M){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},x(M)}function y(M,D){var L=Object.keys(M);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(M);D&&(W=W.filter(function($){return Object.getOwnPropertyDescriptor(M,$).enumerable})),L.push.apply(L,W)}return L}function b(M){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{};D%2?y(Object(L),!0).forEach(function(W){S(M,W,L[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(L)):y(Object(L)).forEach(function(W){Object.defineProperty(M,W,Object.getOwnPropertyDescriptor(L,W))})}return M}function S(M,D,L){return(D=O(D))in M?Object.defineProperty(M,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):M[D]=L,M}function O(M){var D=P(M,"string");return i(D)=="symbol"?D:D+""}function P(M,D){if(i(M)!="object"||!M)return M;var L=M[Symbol.toPrimitive];if(L!==void 0){var W=L.call(M,D);if(i(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(M)}var C=function(D){var L,W,$,H,z;D.rtl?z=D.slideCount-1-D.index:z=D.index,$=z<0||z>=D.slideCount,D.centerMode?(H=Math.floor(D.slidesToShow/2),W=(z-D.currentSlide)%D.slideCount===0,z>D.currentSlide-H-1&&z<=D.currentSlide+H&&(L=!0)):L=D.currentSlide<=z&&z<D.currentSlide+D.slidesToShow;var q;D.targetSlide<0?q=D.targetSlide+D.slideCount:D.targetSlide>=D.slideCount?q=D.targetSlide-D.slideCount:q=D.targetSlide;var E=z===q;return{"slick-slide":!0,"slick-active":L,"slick-center":W,"slick-cloned":$,"slick-current":E}},_=function(D){var L={};return(D.variableWidth===void 0||D.variableWidth===!1)&&(L.width=D.slideWidth),D.fade&&(L.position="relative",D.vertical?L.top=-D.index*parseInt(D.slideHeight):L.left=-D.index*parseInt(D.slideWidth),L.opacity=D.currentSlide===D.index?1:0,L.zIndex=D.currentSlide===D.index?999:998,D.useCSS&&(L.transition="opacity "+D.speed+"ms "+D.cssEase+", visibility "+D.speed+"ms "+D.cssEase)),L},k=function(D,L){return D.key||L},A=function(D){var L,W=[],$=[],H=[],z=t.default.Children.count(D.children),q=(0,r.lazyStartIndex)(D),E=(0,r.lazyEndIndex)(D);return t.default.Children.forEach(D.children,function(U,B){var I,F={message:"children",index:B,slidesToScroll:D.slidesToScroll,currentSlide:D.currentSlide};!D.lazyLoad||D.lazyLoad&&D.lazyLoadedList.indexOf(B)>=0?I=U:I=t.default.createElement("div",null);var G=_(b(b({},D),{},{index:B})),Z=I.props.className||"",K=C(b(b({},D),{},{index:B}));if(W.push(t.default.cloneElement(I,{key:"original"+k(I,B),"data-index":B,className:(0,e.default)(K,Z),tabIndex:"-1","aria-hidden":!K["slick-active"],style:b(b({outline:"none"},I.props.style||{}),G),onClick:function(J){I.props&&I.props.onClick&&I.props.onClick(J),D.focusOnSelect&&D.focusOnSelect(F)}})),D.infinite&&z>1&&D.fade===!1&&!D.unslick){var ae=z-B;ae<=(0,r.getPreClones)(D)&&(L=-ae,L>=q&&(I=U),K=C(b(b({},D),{},{index:L})),$.push(t.default.cloneElement(I,{key:"precloned"+k(I,L),"data-index":L,tabIndex:"-1",className:(0,e.default)(K,Z),"aria-hidden":!K["slick-active"],style:b(b({},I.props.style||{}),G),onClick:function(J){I.props&&I.props.onClick&&I.props.onClick(J),D.focusOnSelect&&D.focusOnSelect(F)}}))),B<(0,r.getPostClones)(D)&&(L=z+B,L<E&&(I=U),K=C(b(b({},D),{},{index:L})),H.push(t.default.cloneElement(I,{key:"postcloned"+k(I,L),"data-index":L,tabIndex:"-1",className:(0,e.default)(K,Z),"aria-hidden":!K["slick-active"],style:b(b({},I.props.style||{}),G),onClick:function(J){I.props&&I.props.onClick&&I.props.onClick(J),D.focusOnSelect&&D.focusOnSelect(F)}})))}}),D.rtl?$.concat(W,H).reverse():$.concat(W,H)};return oh.Track=(function(M){d(L,M);var D=h(L);function L(){var W;o(this,L);for(var $=arguments.length,H=new Array($),z=0;z<$;z++)H[z]=arguments[z];return W=D.call.apply(D,[this].concat(H)),S(g(W),"node",null),S(g(W),"handleRef",function(q){W.node=q}),W}return c(L,[{key:"render",value:function(){var $=A(this.props),H=this.props,z=H.onMouseEnter,q=H.onMouseOver,E=H.onMouseLeave,U={onMouseEnter:z,onMouseOver:q,onMouseLeave:E};return t.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},U),$)}}]),L})(t.default.PureComponent),oh}var lh={},ED;function qae(){if(ED)return lh;ED=1;function t(C){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(C)}Object.defineProperty(lh,"__esModule",{value:!0}),lh.Dots=void 0;var e=i(Bs()),r=i(P0()),n=_m();function i(C){return C&&C.__esModule?C:{default:C}}function s(C,_){var k=Object.keys(C);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);_&&(A=A.filter(function(M){return Object.getOwnPropertyDescriptor(C,M).enumerable})),k.push.apply(k,A)}return k}function o(C){for(var _=1;_<arguments.length;_++){var k=arguments[_]!=null?arguments[_]:{};_%2?s(Object(k),!0).forEach(function(A){l(C,A,k[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(k)):s(Object(k)).forEach(function(A){Object.defineProperty(C,A,Object.getOwnPropertyDescriptor(k,A))})}return C}function l(C,_,k){return(_=h(_))in C?Object.defineProperty(C,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[_]=k,C}function c(C,_){if(!(C instanceof _))throw new TypeError("Cannot call a class as a function")}function d(C,_){for(var k=0;k<_.length;k++){var A=_[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,h(A.key),A)}}function f(C,_,k){return _&&d(C.prototype,_),Object.defineProperty(C,"prototype",{writable:!1}),C}function h(C){var _=m(C,"string");return t(_)=="symbol"?_:_+""}function m(C,_){if(t(C)!="object"||!C)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var A=k.call(C,_);if(t(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}function g(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(_&&_.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),_&&j(C,_)}function j(C,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,A){return k.__proto__=A,k},j(C,_)}function x(C){var _=S();return function(){var k,A=O(C);if(_){var M=O(this).constructor;k=Reflect.construct(A,arguments,M)}else k=A.apply(this,arguments);return y(this,k)}}function y(C,_){if(_&&(t(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(C)}function b(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function S(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!C})()}function O(C){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},O(C)}var P=function(_){var k;return _.infinite?k=Math.ceil(_.slideCount/_.slidesToScroll):k=Math.ceil((_.slideCount-_.slidesToShow)/_.slidesToScroll)+1,k};return lh.Dots=(function(C){g(k,C);var _=x(k);function k(){return c(this,k),_.apply(this,arguments)}return f(k,[{key:"clickHandler",value:function(M,D){D.preventDefault(),this.props.clickHandler(M)}},{key:"render",value:function(){for(var M=this.props,D=M.onMouseEnter,L=M.onMouseOver,W=M.onMouseLeave,$=M.infinite,H=M.slidesToScroll,z=M.slidesToShow,q=M.slideCount,E=M.currentSlide,U=P({slideCount:q,slidesToScroll:H,slidesToShow:z,infinite:$}),B={onMouseEnter:D,onMouseOver:L,onMouseLeave:W},I=[],F=0;F<U;F++){var G=(F+1)*H-1,Z=$?G:(0,n.clamp)(G,0,q-1),K=Z-(H-1),ae=$?K:(0,n.clamp)(K,0,q-1),ie=(0,r.default)({"slick-active":$?E>=ae&&E<=Z:E===ae}),J={message:"dots",index:F,slidesToScroll:H,currentSlide:E},fe=this.clickHandler.bind(this,J);I=I.concat(e.default.createElement("li",{key:F,className:ie},e.default.cloneElement(this.props.customPaging(F),{onClick:fe})))}return e.default.cloneElement(this.props.appendDots(I),o({className:this.props.dotsClass},B))}}]),k})(e.default.PureComponent),lh}var Zl={},MD;function Vae(){if(MD)return Zl;MD=1;function t(C){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(C)}Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.PrevArrow=Zl.NextArrow=void 0;var e=i(Bs()),r=i(P0()),n=_m();function i(C){return C&&C.__esModule?C:{default:C}}function s(){return s=Object.assign?Object.assign.bind():function(C){for(var _=1;_<arguments.length;_++){var k=arguments[_];for(var A in k)({}).hasOwnProperty.call(k,A)&&(C[A]=k[A])}return C},s.apply(null,arguments)}function o(C,_){var k=Object.keys(C);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);_&&(A=A.filter(function(M){return Object.getOwnPropertyDescriptor(C,M).enumerable})),k.push.apply(k,A)}return k}function l(C){for(var _=1;_<arguments.length;_++){var k=arguments[_]!=null?arguments[_]:{};_%2?o(Object(k),!0).forEach(function(A){c(C,A,k[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(k)):o(Object(k)).forEach(function(A){Object.defineProperty(C,A,Object.getOwnPropertyDescriptor(k,A))})}return C}function c(C,_,k){return(_=m(_))in C?Object.defineProperty(C,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[_]=k,C}function d(C,_){if(!(C instanceof _))throw new TypeError("Cannot call a class as a function")}function f(C,_){for(var k=0;k<_.length;k++){var A=_[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,m(A.key),A)}}function h(C,_,k){return _&&f(C.prototype,_),Object.defineProperty(C,"prototype",{writable:!1}),C}function m(C){var _=g(C,"string");return t(_)=="symbol"?_:_+""}function g(C,_){if(t(C)!="object"||!C)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var A=k.call(C,_);if(t(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}function j(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(_&&_.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),_&&x(C,_)}function x(C,_){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,A){return k.__proto__=A,k},x(C,_)}function y(C){var _=O();return function(){var k,A=P(C);if(_){var M=P(this).constructor;k=Reflect.construct(A,arguments,M)}else k=A.apply(this,arguments);return b(this,k)}}function b(C,_){if(_&&(t(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(C)}function S(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function O(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!C})()}function P(C){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},P(C)}return Zl.PrevArrow=(function(C){j(k,C);var _=y(k);function k(){return d(this,k),_.apply(this,arguments)}return h(k,[{key:"clickHandler",value:function(M,D){D&&D.preventDefault(),this.props.clickHandler(M,D)}},{key:"render",value:function(){var M={"slick-arrow":!0,"slick-prev":!0},D=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(M["slick-disabled"]=!0,D=null);var L={key:"0","data-role":"none",className:(0,r.default)(M),style:{display:"block"},onClick:D},W={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},$;return this.props.prevArrow?$=e.default.cloneElement(this.props.prevArrow,l(l({},L),W)):$=e.default.createElement("button",s({key:"0",type:"button"},L)," ","Previous"),$}}]),k})(e.default.PureComponent),Zl.NextArrow=(function(C){j(k,C);var _=y(k);function k(){return d(this,k),_.apply(this,arguments)}return h(k,[{key:"clickHandler",value:function(M,D){D&&D.preventDefault(),this.props.clickHandler(M,D)}},{key:"render",value:function(){var M={"slick-arrow":!0,"slick-next":!0},D=this.clickHandler.bind(this,{message:"next"});(0,n.canGoNext)(this.props)||(M["slick-disabled"]=!0,D=null);var L={key:"1","data-role":"none",className:(0,r.default)(M),style:{display:"block"},onClick:D},W={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},$;return this.props.nextArrow?$=e.default.cloneElement(this.props.nextArrow,l(l({},L),W)):$=e.default.createElement("button",s({key:"1",type:"button"},L)," ","Next"),$}}]),k})(e.default.PureComponent),Zl}var V8=(function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,s){return i[0]===r?(n=s,!0):!1}),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];r.call(n,o[1],o[0])}},e})()})(),V_=typeof window<"u"&&typeof document<"u"&&window.document===document,ky=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),Gae=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ky):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),Xae=2;function Yae(t,e){var r=!1,n=!1,i=0;function s(){r&&(r=!1,t()),n&&l()}function o(){Gae(s)}function l(){var c=Date.now();if(r){if(c-i<Xae)return;n=!0}else r=!0,n=!1,setTimeout(o,e);i=c}return l}var Kae=20,Jae=["top","right","bottom","left","width","height","size","weight"],Zae=typeof MutationObserver<"u",Qae=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Yae(this.refresh.bind(this),Kae)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!V_||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Zae?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!V_||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=Jae.some(function(s){return!!~n.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),G8=(function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),ad=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ky}),X8=k0(0,0,0,0);function Ty(t){return parseFloat(t)||0}function DD(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var s=t["border-"+i+"-width"];return n+Ty(s)},0)}function eoe(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var s=i[n],o=t["padding-"+s];r[s]=Ty(o)}return r}function toe(t){var e=t.getBBox();return k0(0,0,e.width,e.height)}function roe(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return X8;var n=ad(t).getComputedStyle(t),i=eoe(n),s=i.left+i.right,o=i.top+i.bottom,l=Ty(n.width),c=Ty(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+s)!==e&&(l-=DD(n,"left","right")+s),Math.round(c+o)!==r&&(c-=DD(n,"top","bottom")+o)),!ioe(t)){var d=Math.round(l+s)-e,f=Math.round(c+o)-r;Math.abs(d)!==1&&(l-=d),Math.abs(f)!==1&&(c-=f)}return k0(i.left,i.top,l,c)}var noe=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ad(t).SVGGraphicsElement}:function(t){return t instanceof ad(t).SVGElement&&typeof t.getBBox=="function"}})();function ioe(t){return t===ad(t).document.documentElement}function soe(t){return V_?noe(t)?toe(t):roe(t):X8}function aoe(t){var e=t.x,r=t.y,n=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return G8(o,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),o}function k0(t,e,r,n){return{x:t,y:e,width:r,height:n}}var ooe=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=k0(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=soe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),loe=(function(){function t(e,r){var n=aoe(r);G8(this,{target:e,contentRect:n})}return t})(),coe=(function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new V8,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ad(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new ooe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ad(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new loe(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),Y8=typeof WeakMap<"u"?new WeakMap:new V8,K8=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Qae.getInstance(),n=new coe(e,r,this);Y8.set(this,n)}return t})();["observe","unobserve","disconnect"].forEach(function(t){K8.prototype[t]=function(){var e;return(e=Y8.get(this))[t].apply(e,arguments)}});var uoe=(function(){return typeof ky.ResizeObserver<"u"?ky.ResizeObserver:K8})();const doe=Object.freeze(Object.defineProperty({__proto__:null,default:uoe},Symbol.toStringTag,{value:"Module"})),foe=j7(doe);var RD;function hoe(){if(RD)return ah;RD=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.InnerSlider=void 0;var t=d(Bs()),e=d(Hae()),r=d(Wae()),n=d(P0()),i=_m(),s=Uae(),o=qae(),l=Vae(),c=d(foe);function d($){return $&&$.__esModule?$:{default:$}}function f($){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},f($)}function h(){return h=Object.assign?Object.assign.bind():function($){for(var H=1;H<arguments.length;H++){var z=arguments[H];for(var q in z)({}).hasOwnProperty.call(z,q)&&($[q]=z[q])}return $},h.apply(null,arguments)}function m($,H){if($==null)return{};var z,q,E=g($,H);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols($);for(q=0;q<U.length;q++)z=U[q],H.includes(z)||{}.propertyIsEnumerable.call($,z)&&(E[z]=$[z])}return E}function g($,H){if($==null)return{};var z={};for(var q in $)if({}.hasOwnProperty.call($,q)){if(H.includes(q))continue;z[q]=$[q]}return z}function j($,H){var z=Object.keys($);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols($);H&&(q=q.filter(function(E){return Object.getOwnPropertyDescriptor($,E).enumerable})),z.push.apply(z,q)}return z}function x($){for(var H=1;H<arguments.length;H++){var z=arguments[H]!=null?arguments[H]:{};H%2?j(Object(z),!0).forEach(function(q){D($,q,z[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(z)):j(Object(z)).forEach(function(q){Object.defineProperty($,q,Object.getOwnPropertyDescriptor(z,q))})}return $}function y($,H){if(!($ instanceof H))throw new TypeError("Cannot call a class as a function")}function b($,H){for(var z=0;z<H.length;z++){var q=H[z];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty($,L(q.key),q)}}function S($,H,z){return H&&b($.prototype,H),Object.defineProperty($,"prototype",{writable:!1}),$}function O($,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(H&&H.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),H&&P($,H)}function P($,H){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,q){return z.__proto__=q,z},P($,H)}function C($){var H=A();return function(){var z,q=M($);if(H){var E=M(this).constructor;z=Reflect.construct(q,arguments,E)}else z=q.apply(this,arguments);return _(this,z)}}function _($,H){if(H&&(f(H)=="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k($)}function k($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function A(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!$})()}function M($){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},M($)}function D($,H,z){return(H=L(H))in $?Object.defineProperty($,H,{value:z,enumerable:!0,configurable:!0,writable:!0}):$[H]=z,$}function L($){var H=W($,"string");return f(H)=="symbol"?H:H+""}function W($,H){if(f($)!="object"||!$)return $;var z=$[Symbol.toPrimitive];if(z!==void 0){var q=z.call($,H);if(f(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)($)}return ah.InnerSlider=(function($){O(z,$);var H=C(z);function z(q){var E;y(this,z),E=H.call(this,q),D(k(E),"listRefHandler",function(B){return E.list=B}),D(k(E),"trackRefHandler",function(B){return E.track=B}),D(k(E),"adaptHeight",function(){if(E.props.adaptiveHeight&&E.list){var B=E.list.querySelector('[data-index="'.concat(E.state.currentSlide,'"]'));E.list.style.height=(0,i.getHeight)(B)+"px"}}),D(k(E),"componentDidMount",function(){if(E.props.onInit&&E.props.onInit(),E.props.lazyLoad){var B=(0,i.getOnDemandLazySlides)(x(x({},E.props),E.state));B.length>0&&(E.setState(function(F){return{lazyLoadedList:F.lazyLoadedList.concat(B)}}),E.props.onLazyLoad&&E.props.onLazyLoad(B))}var I=x({listRef:E.list,trackRef:E.track},E.props);E.updateState(I,!0,function(){E.adaptHeight(),E.props.autoplay&&E.autoPlay("update")}),E.props.lazyLoad==="progressive"&&(E.lazyLoadTimer=setInterval(E.progressiveLazyLoad,1e3)),E.ro=new c.default(function(){E.state.animating?(E.onWindowResized(!1),E.callbackTimers.push(setTimeout(function(){return E.onWindowResized()},E.props.speed))):E.onWindowResized()}),E.ro.observe(E.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(F){F.onfocus=E.props.pauseOnFocus?E.onSlideFocus:null,F.onblur=E.props.pauseOnFocus?E.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",E.onWindowResized):window.attachEvent("onresize",E.onWindowResized)}),D(k(E),"componentWillUnmount",function(){E.animationEndCallback&&clearTimeout(E.animationEndCallback),E.lazyLoadTimer&&clearInterval(E.lazyLoadTimer),E.callbackTimers.length&&(E.callbackTimers.forEach(function(B){return clearTimeout(B)}),E.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",E.onWindowResized):window.detachEvent("onresize",E.onWindowResized),E.autoplayTimer&&clearInterval(E.autoplayTimer),E.ro.disconnect()}),D(k(E),"componentDidUpdate",function(B){if(E.checkImagesLoad(),E.props.onReInit&&E.props.onReInit(),E.props.lazyLoad){var I=(0,i.getOnDemandLazySlides)(x(x({},E.props),E.state));I.length>0&&(E.setState(function(Z){return{lazyLoadedList:Z.lazyLoadedList.concat(I)}}),E.props.onLazyLoad&&E.props.onLazyLoad(I))}E.adaptHeight();var F=x(x({listRef:E.list,trackRef:E.track},E.props),E.state),G=E.didPropsChange(B);G&&E.updateState(F,G,function(){E.state.currentSlide>=t.default.Children.count(E.props.children)&&E.changeSlide({message:"index",index:t.default.Children.count(E.props.children)-E.props.slidesToShow,currentSlide:E.state.currentSlide}),E.props.autoplay?E.autoPlay("update"):E.pause("paused")})}),D(k(E),"onWindowResized",function(B){E.debouncedResize&&E.debouncedResize.cancel(),E.debouncedResize=(0,r.default)(function(){return E.resizeWindow(B)},50),E.debouncedResize()}),D(k(E),"resizeWindow",function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,I=!!(E.track&&E.track.node);if(I){var F=x(x({listRef:E.list,trackRef:E.track},E.props),E.state);E.updateState(F,B,function(){E.props.autoplay?E.autoPlay("update"):E.pause("paused")}),E.setState({animating:!1}),clearTimeout(E.animationEndCallback),delete E.animationEndCallback}}),D(k(E),"updateState",function(B,I,F){var G=(0,i.initializedState)(B);B=x(x(x({},B),G),{},{slideIndex:G.currentSlide});var Z=(0,i.getTrackLeft)(B);B=x(x({},B),{},{left:Z});var K=(0,i.getTrackCSS)(B);(I||t.default.Children.count(E.props.children)!==t.default.Children.count(B.children))&&(G.trackStyle=K),E.setState(G,F)}),D(k(E),"ssrInit",function(){if(E.props.variableWidth){var B=0,I=0,F=[],G=(0,i.getPreClones)(x(x(x({},E.props),E.state),{},{slideCount:E.props.children.length})),Z=(0,i.getPostClones)(x(x(x({},E.props),E.state),{},{slideCount:E.props.children.length}));E.props.children.forEach(function(Ke){F.push(Ke.props.style.width),B+=Ke.props.style.width});for(var K=0;K<G;K++)I+=F[F.length-1-K],B+=F[F.length-1-K];for(var ae=0;ae<Z;ae++)B+=F[ae];for(var ie=0;ie<E.state.currentSlide;ie++)I+=F[ie];var J={width:B+"px",left:-I+"px"};if(E.props.centerMode){var fe="".concat(F[E.state.currentSlide],"px");J.left="calc(".concat(J.left," + (100% - ").concat(fe,") / 2 ) ")}return{trackStyle:J}}var oe=t.default.Children.count(E.props.children),ue=x(x(x({},E.props),E.state),{},{slideCount:oe}),de=(0,i.getPreClones)(ue)+(0,i.getPostClones)(ue)+oe,le=100/E.props.slidesToShow*de,ke=100/de,Ne=-ke*((0,i.getPreClones)(ue)+E.state.currentSlide)*le/100;E.props.centerMode&&(Ne+=(100-ke*le/100)/2);var Le={width:le+"%",left:Ne+"%"};return{slideWidth:ke+"%",trackStyle:Le}}),D(k(E),"checkImagesLoad",function(){var B=E.list&&E.list.querySelectorAll&&E.list.querySelectorAll(".slick-slide img")||[],I=B.length,F=0;Array.prototype.forEach.call(B,function(G){var Z=function(){return++F&&F>=I&&E.onWindowResized()};if(!G.onclick)G.onclick=function(){return G.parentNode.focus()};else{var K=G.onclick;G.onclick=function(ae){K(ae),G.parentNode.focus()}}G.onload||(E.props.lazyLoad?G.onload=function(){E.adaptHeight(),E.callbackTimers.push(setTimeout(E.onWindowResized,E.props.speed))}:(G.onload=Z,G.onerror=function(){Z(),E.props.onLazyLoadError&&E.props.onLazyLoadError()}))})}),D(k(E),"progressiveLazyLoad",function(){for(var B=[],I=x(x({},E.props),E.state),F=E.state.currentSlide;F<E.state.slideCount+(0,i.getPostClones)(I);F++)if(E.state.lazyLoadedList.indexOf(F)<0){B.push(F);break}for(var G=E.state.currentSlide-1;G>=-(0,i.getPreClones)(I);G--)if(E.state.lazyLoadedList.indexOf(G)<0){B.push(G);break}B.length>0?(E.setState(function(Z){return{lazyLoadedList:Z.lazyLoadedList.concat(B)}}),E.props.onLazyLoad&&E.props.onLazyLoad(B)):E.lazyLoadTimer&&(clearInterval(E.lazyLoadTimer),delete E.lazyLoadTimer)}),D(k(E),"slideHandler",function(B){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=E.props,G=F.asNavFor,Z=F.beforeChange,K=F.onLazyLoad,ae=F.speed,ie=F.afterChange,J=E.state.currentSlide,fe=(0,i.slideHandler)(x(x(x({index:B},E.props),E.state),{},{trackRef:E.track,useCSS:E.props.useCSS&&!I})),oe=fe.state,ue=fe.nextState;if(oe){Z&&Z(J,oe.currentSlide);var de=oe.lazyLoadedList.filter(function(le){return E.state.lazyLoadedList.indexOf(le)<0});K&&de.length>0&&K(de),!E.props.waitForAnimate&&E.animationEndCallback&&(clearTimeout(E.animationEndCallback),ie&&ie(J),delete E.animationEndCallback),E.setState(oe,function(){G&&E.asNavForIndex!==B&&(E.asNavForIndex=B,G.innerSlider.slideHandler(B)),ue&&(E.animationEndCallback=setTimeout(function(){var le=ue.animating,ke=m(ue,["animating"]);E.setState(ke,function(){E.callbackTimers.push(setTimeout(function(){return E.setState({animating:le})},10)),ie&&ie(oe.currentSlide),delete E.animationEndCallback})},ae))})}}),D(k(E),"changeSlide",function(B){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=x(x({},E.props),E.state),G=(0,i.changeSlide)(F,B);if(!(G!==0&&!G)&&(I===!0?E.slideHandler(G,I):E.slideHandler(G),E.props.autoplay&&E.autoPlay("update"),E.props.focusOnSelect)){var Z=E.list.querySelectorAll(".slick-current");Z[0]&&Z[0].focus()}}),D(k(E),"clickHandler",function(B){E.clickable===!1&&(B.stopPropagation(),B.preventDefault()),E.clickable=!0}),D(k(E),"keyHandler",function(B){var I=(0,i.keyHandler)(B,E.props.accessibility,E.props.rtl);I!==""&&E.changeSlide({message:I})}),D(k(E),"selectHandler",function(B){E.changeSlide(B)}),D(k(E),"disableBodyScroll",function(){var B=function(F){F=F||window.event,F.preventDefault&&F.preventDefault(),F.returnValue=!1};window.ontouchmove=B}),D(k(E),"enableBodyScroll",function(){window.ontouchmove=null}),D(k(E),"swipeStart",function(B){E.props.verticalSwiping&&E.disableBodyScroll();var I=(0,i.swipeStart)(B,E.props.swipe,E.props.draggable);I!==""&&E.setState(I)}),D(k(E),"swipeMove",function(B){var I=(0,i.swipeMove)(B,x(x(x({},E.props),E.state),{},{trackRef:E.track,listRef:E.list,slideIndex:E.state.currentSlide}));I&&(I.swiping&&(E.clickable=!1),E.setState(I))}),D(k(E),"swipeEnd",function(B){var I=(0,i.swipeEnd)(B,x(x(x({},E.props),E.state),{},{trackRef:E.track,listRef:E.list,slideIndex:E.state.currentSlide}));if(I){var F=I.triggerSlideHandler;delete I.triggerSlideHandler,E.setState(I),F!==void 0&&(E.slideHandler(F),E.props.verticalSwiping&&E.enableBodyScroll())}}),D(k(E),"touchEnd",function(B){E.swipeEnd(B),E.clickable=!0}),D(k(E),"slickPrev",function(){E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"previous"})},0))}),D(k(E),"slickNext",function(){E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"next"})},0))}),D(k(E),"slickGoTo",function(B){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(B=Number(B),isNaN(B))return"";E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"index",index:B,currentSlide:E.state.currentSlide},I)},0))}),D(k(E),"play",function(){var B;if(E.props.rtl)B=E.state.currentSlide-E.props.slidesToScroll;else if((0,i.canGoNext)(x(x({},E.props),E.state)))B=E.state.currentSlide+E.props.slidesToScroll;else return!1;E.slideHandler(B)}),D(k(E),"autoPlay",function(B){E.autoplayTimer&&clearInterval(E.autoplayTimer);var I=E.state.autoplaying;if(B==="update"){if(I==="hovered"||I==="focused"||I==="paused")return}else if(B==="leave"){if(I==="paused"||I==="focused")return}else if(B==="blur"&&(I==="paused"||I==="hovered"))return;E.autoplayTimer=setInterval(E.play,E.props.autoplaySpeed+50),E.setState({autoplaying:"playing"})}),D(k(E),"pause",function(B){E.autoplayTimer&&(clearInterval(E.autoplayTimer),E.autoplayTimer=null);var I=E.state.autoplaying;B==="paused"?E.setState({autoplaying:"paused"}):B==="focused"?(I==="hovered"||I==="playing")&&E.setState({autoplaying:"focused"}):I==="playing"&&E.setState({autoplaying:"hovered"})}),D(k(E),"onDotsOver",function(){return E.props.autoplay&&E.pause("hovered")}),D(k(E),"onDotsLeave",function(){return E.props.autoplay&&E.state.autoplaying==="hovered"&&E.autoPlay("leave")}),D(k(E),"onTrackOver",function(){return E.props.autoplay&&E.pause("hovered")}),D(k(E),"onTrackLeave",function(){return E.props.autoplay&&E.state.autoplaying==="hovered"&&E.autoPlay("leave")}),D(k(E),"onSlideFocus",function(){return E.props.autoplay&&E.pause("focused")}),D(k(E),"onSlideBlur",function(){return E.props.autoplay&&E.state.autoplaying==="focused"&&E.autoPlay("blur")}),D(k(E),"render",function(){var B=(0,n.default)("slick-slider",E.props.className,{"slick-vertical":E.props.vertical,"slick-initialized":!0}),I=x(x({},E.props),E.state),F=(0,i.extractObject)(I,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),G=E.props.pauseOnHover;F=x(x({},F),{},{onMouseEnter:G?E.onTrackOver:null,onMouseLeave:G?E.onTrackLeave:null,onMouseOver:G?E.onTrackOver:null,focusOnSelect:E.props.focusOnSelect&&E.clickable?E.selectHandler:null});var Z;if(E.props.dots===!0&&E.state.slideCount>=E.props.slidesToShow){var K=(0,i.extractObject)(I,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ae=E.props.pauseOnDotsHover;K=x(x({},K),{},{clickHandler:E.changeSlide,onMouseEnter:ae?E.onDotsLeave:null,onMouseOver:ae?E.onDotsOver:null,onMouseLeave:ae?E.onDotsLeave:null}),Z=t.default.createElement(o.Dots,K)}var ie,J,fe=(0,i.extractObject)(I,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);fe.clickHandler=E.changeSlide,E.props.arrows&&(ie=t.default.createElement(l.PrevArrow,fe),J=t.default.createElement(l.NextArrow,fe));var oe=null;E.props.vertical&&(oe={height:E.state.listHeight});var ue=null;E.props.vertical===!1?E.props.centerMode===!0&&(ue={padding:"0px "+E.props.centerPadding}):E.props.centerMode===!0&&(ue={padding:E.props.centerPadding+" 0px"});var de=x(x({},oe),ue),le=E.props.touchMove,ke={className:"slick-list",style:de,onClick:E.clickHandler,onMouseDown:le?E.swipeStart:null,onMouseMove:E.state.dragging&&le?E.swipeMove:null,onMouseUp:le?E.swipeEnd:null,onMouseLeave:E.state.dragging&&le?E.swipeEnd:null,onTouchStart:le?E.swipeStart:null,onTouchMove:E.state.dragging&&le?E.swipeMove:null,onTouchEnd:le?E.touchEnd:null,onTouchCancel:E.state.dragging&&le?E.swipeEnd:null,onKeyDown:E.props.accessibility?E.keyHandler:null},Ne={className:B,dir:"ltr",style:E.props.style};return E.props.unslick&&(ke={className:"slick-list"},Ne={className:B,style:E.props.style}),t.default.createElement("div",Ne,E.props.unslick?"":ie,t.default.createElement("div",h({ref:E.listRefHandler},ke),t.default.createElement(s.Track,h({ref:E.trackRefHandler},F),E.props.children)),E.props.unslick?"":J,E.props.unslick?"":Z)}),E.list=null,E.track=null,E.state=x(x({},e.default),{},{currentSlide:E.props.initialSlide,targetSlide:E.props.initialSlide?E.props.initialSlide:0,slideCount:t.default.Children.count(E.props.children)}),E.callbackTimers=[],E.clickable=!0,E.debouncedResize=null;var U=E.ssrInit();return E.state=x(x({},E.state),U),E}return S(z,[{key:"didPropsChange",value:function(E){for(var U=!1,B=0,I=Object.keys(this.props);B<I.length;B++){var F=I[B];if(!E.hasOwnProperty(F)){U=!0;break}if(!(f(E[F])==="object"||typeof E[F]=="function"||isNaN(E[F]))&&E[F]!==this.props[F]){U=!0;break}}return U||t.default.Children.count(this.props.children)!==t.default.Children.count(E.children)}}]),z})(t.default.Component),ah}var Gj,ID;function poe(){if(ID)return Gj;ID=1;var t=function(e){return e.replace(/[A-Z]/g,function(r){return"-"+r.toLowerCase()}).toLowerCase()};return Gj=t,Gj}var Xj,LD;function moe(){if(LD)return Xj;LD=1;var t=poe(),e=function(i){var s=/[height|width]$/;return s.test(i)},r=function(i){var s="",o=Object.keys(i);return o.forEach(function(l,c){var d=i[l];l=t(l),e(l)&&typeof d=="number"&&(d=d+"px"),d===!0?s+=l:d===!1?s+="not "+l:s+="("+l+": "+d+")",c<o.length-1&&(s+=" and ")}),s},n=function(i){var s="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(o,l){s+=r(o),l<i.length-1&&(s+=", ")}),s):r(i)};return Xj=n,Xj}var zD;function goe(){return zD||(zD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(Bs()),r=hoe(),n=o(moe()),i=o(q8()),s=_m();function o(A){return A&&A.__esModule?A:{default:A}}function l(A){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},l(A)}function c(){return c=Object.assign?Object.assign.bind():function(A){for(var M=1;M<arguments.length;M++){var D=arguments[M];for(var L in D)({}).hasOwnProperty.call(D,L)&&(A[L]=D[L])}return A},c.apply(null,arguments)}function d(A,M){var D=Object.keys(A);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(A);M&&(L=L.filter(function(W){return Object.getOwnPropertyDescriptor(A,W).enumerable})),D.push.apply(D,L)}return D}function f(A){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?d(Object(D),!0).forEach(function(L){C(A,L,D[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(D)):d(Object(D)).forEach(function(L){Object.defineProperty(A,L,Object.getOwnPropertyDescriptor(D,L))})}return A}function h(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function m(A,M){for(var D=0;D<M.length;D++){var L=M[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,_(L.key),L)}}function g(A,M,D){return M&&m(A.prototype,M),Object.defineProperty(A,"prototype",{writable:!1}),A}function j(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(M&&M.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),M&&x(A,M)}function x(A,M){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,L){return D.__proto__=L,D},x(A,M)}function y(A){var M=O();return function(){var D,L=P(A);if(M){var W=P(this).constructor;D=Reflect.construct(L,arguments,W)}else D=L.apply(this,arguments);return b(this,D)}}function b(A,M){if(M&&(l(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(A)}function S(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function O(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!A})()}function P(A){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},P(A)}function C(A,M,D){return(M=_(M))in A?Object.defineProperty(A,M,{value:D,enumerable:!0,configurable:!0,writable:!0}):A[M]=D,A}function _(A){var M=k(A,"string");return l(M)=="symbol"?M:M+""}function k(A,M){if(l(A)!="object"||!A)return A;var D=A[Symbol.toPrimitive];if(D!==void 0){var L=D.call(A,M);if(l(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(A)}t.default=(function(A){j(D,A);var M=y(D);function D(L){var W;return h(this,D),W=M.call(this,L),C(S(W),"innerSliderRefHandler",function($){return W.innerSlider=$}),C(S(W),"slickPrev",function(){return W.innerSlider.slickPrev()}),C(S(W),"slickNext",function(){return W.innerSlider.slickNext()}),C(S(W),"slickGoTo",function($){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return W.innerSlider.slickGoTo($,H)}),C(S(W),"slickPause",function(){return W.innerSlider.pause("paused")}),C(S(W),"slickPlay",function(){return W.innerSlider.autoPlay("play")}),W.state={breakpoint:null},W._responsiveMediaHandlers=[],W}return g(D,[{key:"media",value:function(W,$){var H=window.matchMedia(W),z=function(E){var U=E.matches;U&&$()};H.addListener(z),this._responsiveMediaHandlers.push({mql:H,query:W,listener:z})}},{key:"componentDidMount",value:function(){var W=this;if(this.props.responsive){var $=this.props.responsive.map(function(z){return z.breakpoint});$.sort(function(z,q){return z-q}),$.forEach(function(z,q){var E;q===0?E=(0,n.default)({minWidth:0,maxWidth:z}):E=(0,n.default)({minWidth:$[q-1]+1,maxWidth:z}),(0,s.canUseDOM)()&&W.media(E,function(){W.setState({breakpoint:z})})});var H=(0,n.default)({minWidth:$.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(H,function(){W.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(W){W.mql.removeListener(W.listener)})}},{key:"render",value:function(){var W=this,$,H;this.state.breakpoint?(H=this.props.responsive.filter(function(K){return K.breakpoint===W.state.breakpoint}),$=H[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),H[0].settings)):$=f(f({},i.default),this.props),$.centerMode&&($.slidesToScroll>1,$.slidesToScroll=1),$.fade&&($.slidesToShow>1,$.slidesToScroll>1,$.slidesToShow=1,$.slidesToScroll=1);var z=e.default.Children.toArray(this.props.children);z=z.filter(function(K){return typeof K=="string"?!!K.trim():!!K}),$.variableWidth&&($.rows>1||$.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),$.variableWidth=!1);for(var q=[],E=null,U=0;U<z.length;U+=$.rows*$.slidesPerRow){for(var B=[],I=U;I<U+$.rows*$.slidesPerRow;I+=$.slidesPerRow){for(var F=[],G=I;G<I+$.slidesPerRow&&($.variableWidth&&z[G].props.style&&(E=z[G].props.style.width),!(G>=z.length));G+=1)F.push(e.default.cloneElement(z[G],{key:100*U+10*I+G,tabIndex:-1,style:{width:"".concat(100/$.slidesPerRow,"%"),display:"inline-block"}}));B.push(e.default.createElement("div",{key:10*U+I},F))}$.variableWidth?q.push(e.default.createElement("div",{key:U,style:{width:E}},B)):q.push(e.default.createElement("div",{key:U},B))}if($==="unslick"){var Z="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Z},z)}else q.length<=$.slidesToShow&&($.unslick=!0);return e.default.createElement(r.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)($)),q)}}]),D})(e.default.Component)})(Hj)),Hj}var FD;function voe(){return FD||(FD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(goe());function r(n){return n&&n.__esModule?n:{default:n}}t.default=e.default})(Bj)),Bj}var yoe=voe();const xoe=zt(yoe);function boe(t){if(!t||t.length===0)return null;let e=t.find(r=>r.color?.name?.toLowerCase()==="white");if(!e){const r=["cream","ivory","beige","light gray","off-white","pearl","off white"];e=t.find(n=>{const i=n.color?.name?.toLowerCase()||"";return r.some(s=>i.includes(s))})}return e||(e=t.find(r=>r.color?.name?.toLowerCase()==="black")),e||t[0]}function woe(){const{products:t,loading:e,error:r}=O0(),n=w.useMemo(()=>{if(!t||t.length===0)return[];const o=t.reduce((l,c)=>{const d=c.category||"Uncategorized";return l[d]||(l[d]=[]),l[d].push(c),l},{});return Object.entries(o).map(([l,c])=>{const d=boe(c);if(!d)return null;const h=d.images?.find(m=>m.type==="front")?.url||d.images?.[0]?.url||"https://images.unsplash.com/photo-1620799139834-6b8f844fbe61?w=500";return{id:d.id,name:d.category,price:d.retailPrice||0,image:h,category:d.category,isNew:!1}}).filter(l=>l!==null)},[t]);if(e)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading customizable products..."})]})});if(r)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-red-600 mb-4",children:["Failed to load products: ",r]}),a.jsx(ee,{onClick:()=>window.location.reload(),children:"Retry"})]})});const i=()=>{const o=document.getElementById("products-section");if(o){const d=o.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:d,behavior:"smooth"})}},s={dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,pauseOnHover:!0,arrows:!0,responsive:[{breakpoint:1280,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!0,centerPadding:"40px",arrows:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!1,centerPadding:"0px",arrows:!1}}]};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("section",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:a.jsx("div",{className:"container mx-auto px-4 py-20 md:px-6",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6",children:[a.jsx(YE,{className:"size-4"}),a.jsx("span",{className:"text-sm",children:"Express Your Creativity"})]}),a.jsx("h1",{className:"mb-6",children:"Customize Your Own Clothing"}),a.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Turn your ideas into reality. Choose from our premium collection of blank apparel and design something uniquely yours with our intuitive design studio. Whether it's a personal statement or a brand identity, your creativity has no limits."}),a.jsx("div",{className:"flex items-center justify-center gap-4",children:a.jsxs(ee,{size:"lg",className:"bg-white text-black hover:bg-gray-100",onClick:i,children:[a.jsx(bc,{className:"mr-2 size-5"}),"Choose to Design"]})})]})})}),a.jsx("section",{className:"bg-white border-b py-12",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"inline-flex items-center justify-center size-12 rounded-full bg-black text-white mb-4",children:a.jsx(bc,{className:"size-6"})}),a.jsx("h3",{className:"mb-2",children:"Easy Design Tools"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Intuitive drag-and-drop interface with powerful editing capabilities"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"inline-flex items-center justify-center size-12 rounded-full bg-black text-white mb-4",children:a.jsx(YE,{className:"size-6"})}),a.jsx("h3",{className:"mb-2",children:"Premium Quality"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"High-quality fabrics and professional printing on every item"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"inline-flex items-center justify-center size-12 rounded-full bg-black text-white mb-4",children:a.jsx("svg",{className:"size-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"mb-2",children:"Fast Delivery"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Quick turnaround time from design to doorstep"})]})]})})}),a.jsx("section",{className:"bg-white border-b",id:"products-section",children:a.jsx("div",{className:"container mx-auto px-4 py-8 md:px-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"mb-2",children:"Select Your Canvas"}),a.jsx("p",{className:"text-gray-600",children:"Choose the perfect base for your custom design"})]})})})}),a.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:n.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"No customizable products available at the moment."})}):a.jsx("div",{className:"custom-products-carousel",children:a.jsx(xoe,{...s,children:n.map(o=>a.jsx("div",{className:"px-3",children:a.jsx(Bae,{...o})},o.id))})})}),a.jsx("section",{className:"bg-gray-100 border-t py-16",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[a.jsx("h2",{className:"mb-4",children:"Need Help Getting Started?"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Our design team is here to help you bring your vision to life. Browse our templates or start from scratch."}),a.jsx("div",{className:"flex items-center justify-center gap-4",children:a.jsx(ee,{children:"Contact Support"})})]})})]})}const joe="http://localhost:4000";function Soe(t){const[e,r]=w.useState(null),[n,i]=w.useState(!0),[s,o]=w.useState(null);return w.useEffect(()=>{if(!t){i(!1),o("No product ID provided");return}(async()=>{i(!0),o(null);try{const c=await fetch(`${joe}/api/customizable-products/${t}`);if(!c.ok)throw c.status===404?new Error("Product not found"):new Error("Failed to fetch product");const d=await c.json();r(d)}catch(c){console.error("Error fetching product:",c),o(c instanceof Error?c.message:"Failed to load product"),r(null)}finally{i(!1)}})()},[t]),{product:e,loading:n,error:s}}function Coe({images:t,productName:e}){const[r,n]=w.useState(0);if(!t||t.length===0)return a.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-400",children:"No image available"})});const i=t[r];return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200",children:a.jsx("img",{src:i.url,alt:`${e} - ${i.type}`,className:"w-full h-full object-contain"})}),t.length>1&&a.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map((s,o)=>a.jsx("button",{onClick:()=>n(o),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${r===o?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("img",{src:s.url,alt:`${e} thumbnail ${o+1}`,className:"w-full h-full object-contain"})},s.id||o))}),a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:[i.type," View"]})})]})}function Noe({sizes:t,selectedSize:e,onSizeSelect:r,sizeAvailability:n={},sizePricing:i={}}){return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Size"}),e&&i[e]&&a.jsxs("span",{className:"text-xs text-orange-600",children:["+",i[e]," extra"]})]}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:t.map(s=>{const o=n[s]!==!1,l=e===s;return a.jsx(ee,{variant:l?"default":"outline",size:"sm",disabled:!o,onClick:()=>r(s),className:`${l?"bg-gray-800 hover:bg-gray-700 text-white":"hover:bg-gray-100"} ${o?"":"opacity-40 cursor-not-allowed"}`,children:s},s)})}),!e&&a.jsx("p",{className:"text-xs text-gray-500",children:"Please select a size"})]})}function _oe({basePrice:t,frontPrintCost:e,backPrintCost:r,selectedOption:n,onOptionSelect:i}){const s=[{id:"none",label:"No Print",price:t},{id:"front",label:"Front Print",price:t+e},{id:"back",label:"Back Print",price:t+r}];return a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Print Option"}),a.jsx("div",{className:"space-y-2",children:s.map(o=>{const l=n===o.id;return a.jsx("button",{onClick:()=>i(o.id),className:`w-full p-4 border-2 rounded-lg text-left transition-all ${l?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`size-5 rounded-full border-2 flex items-center justify-center ${l?"border-blue-500":"border-gray-300"}`,children:l&&a.jsx("div",{className:"size-2.5 rounded-full bg-blue-500"})}),a.jsx("span",{className:"font-medium",children:o.label})]}),a.jsxs("span",{className:"text-lg font-semibold",children:["",o.price.toFixed(2)]})]})},o.id)})})]})}function Ooe({quantity:t,onQuantityChange:e,minQuantity:r=1,maxQuantity:n=999}){const i=()=>{t>r&&e(t-1)},s=()=>{t<n&&e(t+1)},o=l=>{const c=parseInt(l.target.value)||r,d=Math.max(r,Math.min(n,c));e(d)};return a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Quantity"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ee,{variant:"outline",size:"icon",onClick:i,disabled:t<=r,className:"size-10",children:a.jsx(R3,{className:"size-4"})}),a.jsx("input",{type:"number",value:t,onChange:o,min:r,max:n,className:"w-20 h-10 text-center border-2 border-gray-200 rounded-lg font-medium focus:outline-none focus:border-blue-500"}),a.jsx(ee,{variant:"outline",size:"icon",onClick:s,disabled:t>=n,className:"size-10",children:a.jsx(dl,{className:"size-4"})})]}),r>1&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Minimum order: ",r," piece(s)"]})]})}function Poe(){const{id:t}=um(),e=kr(),{product:r,loading:n,error:i}=Soe(t||""),{products:s}=O0(),[o,l]=w.useState(""),[c,d]=w.useState("none"),[f,h]=w.useState(1),m=w.useMemo(()=>{if(!r)return 0;let y=r.retailPrice;if(o&&r.sizePricing){const b=r.sizePricing[o]||0;y+=b}return c==="front"&&r.frontPrintCost?y+=r.frontPrintCost:c==="back"&&r.backPrintCost&&(y+=r.backPrintCost),y*f},[r,o,c,f]),g=w.useMemo(()=>!r||!s.length?[]:s.filter(y=>y.category===r.category&&y.id!==r.id).slice(0,4),[r,s]);if(n)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx($n,{className:"size-12 animate-spin text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading product details..."})]})});if(i||!r)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(ht,{className:"max-w-md mx-4",children:a.jsxs(jt,{className:"pt-6 text-center",children:[a.jsx(Pu,{className:"size-12 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl mb-2",children:"Product Not Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:i||"The product you are looking for does not exist or has been removed."}),a.jsx(ee,{onClick:()=>e("/custom-products"),className:"bg-gray-800 hover:bg-gray-900",children:"Browse All Products"})]})})});const j=()=>{e("/custom-design",{state:{selectedProduct:r,selectedSize:o,printOption:c}})},x=()=>{alert("Add to cart functionality coming soon!")};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs(ee,{variant:"ghost",onClick:()=>e(-1),className:"gap-2",children:[a.jsx(fo,{className:"size-4"}),"Back"]})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("button",{onClick:()=>e("/"),className:"hover:text-gray-900 transition-colors",children:a.jsx(Bx,{className:"size-4"})}),a.jsx(ey,{className:"size-4"}),a.jsx("button",{onClick:()=>e("/custom-products"),className:"hover:text-gray-900 transition-colors",children:"Custom Products"}),a.jsx(ey,{className:"size-4"}),a.jsx("span",{className:"text-gray-900",children:r.name})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[a.jsx("div",{children:a.jsx(Coe,{images:r.images,productName:r.name})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(nt,{variant:"secondary",children:r.category}),a.jsx(nt,{variant:"outline",children:r.type})]}),a.jsx("h1",{className:"text-3xl mb-2",children:r.name})]}),r.description&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description}),(r.fitType||r.fitDescription)&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:["Fit: ",r.fitType||"Standard"]}),r.fitDescription&&a.jsx("p",{className:"text-sm text-blue-800",children:r.fitDescription})]}),r.differentiationType==="color"&&r.color&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-medium mb-3",children:["Color: ",r.color.name]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"size-16 rounded-lg border-2 border-gray-300 shadow-sm",style:{backgroundColor:r.color.hexCode||"#cccccc"},title:r.color.name}),a.jsx("span",{className:"text-sm text-gray-600",children:r.color.name})]})]}),r.differentiationType==="variant"&&r.variant&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Variant"}),a.jsx(nt,{variant:"outline",className:"text-base px-4 py-2",children:r.variant.name})]}),a.jsx(Noe,{sizes:r.sizes,selectedSize:o,onSizeSelect:l,sizeAvailability:r.sizeAvailability,sizePricing:r.sizePricing}),a.jsx(_oe,{basePrice:r.retailPrice,frontPrintCost:r.frontPrintCost||0,backPrintCost:r.backPrintCost||0,selectedOption:c,onOptionSelect:d}),a.jsx(Ooe,{quantity:f,onQuantityChange:h,minQuantity:r.minOrderQuantity,maxQuantity:100}),a.jsxs("div",{className:"border-t pt-6 space-y-4",children:[a.jsx("div",{className:"flex items-baseline justify-between",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Price"}),a.jsxs("div",{className:"text-3xl font-medium",children:["PHP ",m.toFixed(2)]}),f>1&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["PHP ",(m/f).toFixed(2)," each"]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ee,{className:"flex-1 h-12 bg-gray-800 hover:bg-gray-900",onClick:j,disabled:!o,children:[a.jsx(bc,{className:"size-4 mr-2"}),"Start Customizing"]}),a.jsxs(ee,{variant:"outline",className:"flex-1 h-12",onClick:x,disabled:!o,children:[a.jsx(fl,{className:"size-4 mr-2"}),"Add to Cart"]})]}),!o&&a.jsx("p",{className:"text-sm text-amber-600 text-center",children:"Please select a size to continue"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Product Specifications"})}),a.jsxs(jt,{className:"space-y-3",children:[r.fabricComposition&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Material"}),a.jsx("div",{className:"font-medium",children:r.fabricComposition})]}),r.fabricWeight&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Fabric Weight"}),a.jsx("div",{className:"font-medium",children:r.fabricWeight})]}),r.texture&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Texture"}),a.jsx("div",{className:"font-medium",children:r.texture})]}),r.sizes.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Available Sizes"}),a.jsx("div",{className:"font-medium",children:r.sizes.join(", ")})]})]})]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Customization Details"})}),a.jsxs(jt,{className:"space-y-3",children:[r.printMethod&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Print Method"}),a.jsx("div",{className:"font-medium",children:r.printMethod})]}),r.printAreas&&r.printAreas.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Available Print Areas"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.printAreas.map((y,b)=>a.jsx("li",{className:"text-sm",children:y},b))})]}),r.designRequirements&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Design Requirements"}),a.jsx("div",{className:"text-sm",children:r.designRequirements})]})]})]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Production & Delivery"})}),a.jsxs(jt,{className:"space-y-3",children:[r.turnaroundTime&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Turnaround Time"}),a.jsx("div",{className:"font-medium",children:r.turnaroundTime})]}),r.minOrderQuantity&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Minimum Order Quantity"}),a.jsxs("div",{className:"font-medium",children:[r.minOrderQuantity," piece(s)"]})]})]})]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Pricing Breakdown"})}),a.jsxs(jt,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Base Price"}),a.jsxs("span",{className:"font-medium",children:["PHP ",r.retailPrice.toFixed(2)]})]}),r.frontPrintCost!=null&&r.frontPrintCost>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Front Print"}),a.jsxs("span",{className:"font-medium",children:["+ PHP ",r.frontPrintCost.toFixed(2)]})]}),r.backPrintCost!=null&&r.backPrintCost>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Back Print"}),a.jsxs("span",{className:"font-medium",children:["+ PHP ",r.backPrintCost.toFixed(2)]})]}),r.sizePricing&&Object.keys(r.sizePricing).length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Size Surcharges"}),Object.entries(r.sizePricing).map(([y,b])=>a.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[a.jsx("span",{className:"text-gray-600",children:y}),a.jsxs("span",{children:["+ PHP ",b.toFixed(2)]})]},y))]})]})]})]}),g.length>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-6",children:"Related Products"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map(y=>a.jsx(ht,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e(`/custom-product/${y.id}`),children:a.jsxs(jt,{className:"p-0",children:[a.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden rounded-t-lg",children:y.images[0]&&a.jsx("img",{src:y.images[0].url,alt:y.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4",children:[a.jsx(nt,{variant:"secondary",className:"mb-2",children:y.category}),a.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:y.name}),a.jsxs("p",{className:"text-lg font-medium",children:["PHP ",y.retailPrice.toFixed(2)]})]})]})},y.id))})]})]})]})}function koe(){const t=kr(),e=fi();w.useRef(null);const{user:r}=hi(),[n,i]=w.useState(null),[s,o]=w.useState(!0),[l,c]=w.useState(!1),[d,f]=w.useState(""),[h,m]=w.useState(!1);w.useEffect(()=>{const b=e.state;if(console.log(" Preview page loaded, checking state:",{hasState:!!b,hasDesignData:!!b?.designData,hasVariant:!!b?.variant,designDataLength:b?.designData?.length||0,variantName:b?.variant?.productName||"none"}),!b||!b.designData||!b.variant){console.error(" Missing required state data, redirecting back"),ve.error("Failed to load preview. Please try again."),t("/custom-design",{replace:!0});return}console.log(" State valid, loading preview"),i(b),o(!1)},[e.state,t]);const g=()=>{if(n)try{const b=document.createElement("a");b.download=`${n.variant.productName}-design.png`,b.href=n.previewImage,document.body.appendChild(b),b.click(),document.body.removeChild(b),ve.success("Design downloaded")}catch(b){console.error("Download error:",b),ve.error("Failed to download design")}},j=()=>{if(n)try{const b=JSON.parse(localStorage.getItem("cart")||"[]"),S={id:`custom-${Date.now()}`,type:"custom",productId:n.variant.productId,productName:n.variant.productName,variantName:n.variant.variantName,size:n.variant.size,image:n.variant.image,price:n.variant.totalPrice,quantity:1,customization:{designData:n.designData,view:n.view,printAreaSize:n.printAreaSize,previewImage:n.previewImage},timestamp:n.timestamp};b.push(S),localStorage.setItem("cart",JSON.stringify(b)),ve.success("Added to cart"),t("/")}catch(b){console.error("Add to cart error:",b),ve.error("Failed to add to cart")}},x=()=>{if(!n){t("/custom-design");return}t("/custom-design",{state:{returnFromPreview:!0,designData:n.designData,variant:n.variant,view:n.view,printAreaSize:n.printAreaSize,previewImage:n.previewImage}})},y=async()=>{if(!r){ve.error("Please log in to save designs");return}if(!n){ve.error("No design to save");return}if(!d.trim()){ve.error("Please enter a design name");return}m(!0);try{const b=await fetch("/api/saved-designs/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:r.id,customizableProductId:parseInt(n.variant.productId),designName:d.trim(),selectedSize:n.variant.size,selectedPrintOption:n.view==="front"?"front":"back",printAreaPreset:n.printAreaSize,frontCanvasJson:n.view==="front"?n.designData:null,backCanvasJson:n.view==="back"?n.designData:null,frontThumbnailUrl:n.view==="front"?n.previewImage:null,backThumbnailUrl:n.view==="back"?n.previewImage:null})});if(!b.ok){const O=await b.json().catch(()=>({}));throw new Error(O.message||"Failed to save design")}const S=await b.json();if(S.success)ve.success("Design saved to My Library!"),c(!1),f("");else throw new Error(S.message||"Failed to save design")}catch(b){console.error("Save to library error:",b),ve.error(b instanceof Error?b.message:"Failed to save design to library")}finally{m(!1)}};return s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"size-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading preview..."})]})}):n?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b px-6 py-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:x,children:a.jsx(fo,{className:"size-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl",children:"Preview Your Design"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Review before adding to cart"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ee,{variant:"outline",size:"sm",onClick:g,children:[a.jsx(k3,{className:"size-4 mr-2"}),"Download"]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:x,children:[a.jsx(VE,{className:"size-4 mr-2"}),"Edit Design"]})]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-8",children:[a.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden relative",children:[a.jsx("img",{src:n.variant.image,alt:n.variant.productName,className:"w-full h-full object-contain"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx("img",{src:n.previewImage,alt:"Design",className:"max-w-[60%] max-h-[60%] object-contain",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[n.view==="front"?"Front":"Back"," View  ",n.printAreaSize," Print Area"]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:[a.jsx("h2",{className:"text-2xl mb-4",children:n.variant.productName}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Variant:"}),a.jsx("span",{className:"font-medium",children:n.variant.variantName})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Size:"}),a.jsx("span",{className:"font-medium",children:n.variant.size})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Print Side:"}),a.jsx("span",{className:"font-medium capitalize",children:n.view})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Print Area:"}),a.jsx("span",{className:"font-medium",children:n.printAreaSize})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg mb-4",children:"Price Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Base Price:"}),a.jsxs("span",{children:["PHP ",n.variant.retailPrice.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Customization:"}),a.jsxs("span",{children:["PHP ",(n.variant.totalPrice-n.variant.retailPrice).toFixed(2)]})]}),a.jsxs("div",{className:"border-t pt-2 flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-medium",children:"Total:"}),a.jsxs("span",{className:"text-2xl font-bold",children:["PHP ",n.variant.totalPrice.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6 space-y-3",children:[a.jsxs(ee,{className:"w-full h-12 text-base bg-green-600 hover:bg-green-700",onClick:()=>c(!0),children:[a.jsx(GE,{className:"size-5 mr-2"}),"Save to My Library"]}),a.jsxs(ee,{className:"w-full h-12 text-base bg-blue-600 hover:bg-blue-700",onClick:j,children:[a.jsx(fl,{className:"size-5 mr-2"}),"Add to Cart"]}),a.jsxs(ee,{variant:"outline",className:"w-full h-12 text-base",onClick:x,children:[a.jsx(VE,{className:"size-5 mr-2"}),"Continue Editing"]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-900",children:[" ",a.jsx("strong",{children:"Tip:"})," Save your design to My Library before adding to cart. You can reuse saved designs anytime!"]})})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Save to My Library"}),a.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition",children:a.jsx(Ct,{className:"size-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Design Name"}),a.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value),placeholder:"e.g., My Awesome T-Shirt",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0,onKeyDown:b=>{b.key==="Enter"&&!h&&y()}}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Give your design a memorable name"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ee,{variant:"outline",className:"flex-1",onClick:()=>c(!1),disabled:h,children:"Cancel"}),a.jsx(ee,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:y,disabled:h||!d.trim(),children:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"size-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(GE,{className:"size-4 mr-2"}),"Save"]})})]})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Pu,{className:"size-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl mb-2",children:"No Design Data"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Please create a design first"}),a.jsx(ee,{onClick:()=>t("/custom-design"),children:"Go to Designer"})]})})}var Yj="rovingFocusGroup.onEntryFocus",Toe={bubbles:!1,cancelable:!0},Om="RovingFocusGroup",[G_,J8,Aoe]=n0(Om),[Eoe,tf]=En(Om,[Aoe]),[Moe,Doe]=Eoe(Om),Z8=w.forwardRef((t,e)=>a.jsx(G_.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(G_.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Roe,{...t,ref:e})})}));Z8.displayName=Om;var Roe=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=t,m=w.useRef(null),g=ct(e,m),j=qd(s),[x,y]=ss({prop:o,defaultProp:l??null,onChange:c,caller:Om}),[b,S]=w.useState(!1),O=Ms(d),P=J8(r),C=w.useRef(!1),[_,k]=w.useState(0);return w.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(Yj,O),()=>A.removeEventListener(Yj,O)},[O]),a.jsx(Moe,{scope:r,orientation:n,dir:j,loop:i,currentTabStopId:x,onItemFocus:w.useCallback(A=>y(A),[y]),onItemShiftTab:w.useCallback(()=>S(!0),[]),onFocusableItemAdd:w.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:w.useCallback(()=>k(A=>A-1),[]),children:a.jsx(Ze.div,{tabIndex:b||_===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{C.current=!0}),onFocus:Ee(t.onFocus,A=>{const M=!C.current;if(A.target===A.currentTarget&&M&&!b){const D=new CustomEvent(Yj,Toe);if(A.currentTarget.dispatchEvent(D),!D.defaultPrevented){const L=P().filter(q=>q.focusable),W=L.find(q=>q.active),$=L.find(q=>q.id===x),z=[W,$,...L].filter(Boolean).map(q=>q.ref.current);tH(z,f)}}C.current=!1}),onBlur:Ee(t.onBlur,()=>S(!1))})})}),Q8="RovingFocusGroupItem",eH=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=rs(),d=s||c,f=Doe(Q8,r),h=f.currentTabStopId===d,m=J8(r),{onFocusableItemAdd:g,onFocusableItemRemove:j,currentTabStopId:x}=f;return w.useEffect(()=>{if(n)return g(),()=>j()},[n,g,j]),a.jsx(G_.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:a.jsx(Ze.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Ee(t.onMouseDown,y=>{n?f.onItemFocus(d):y.preventDefault()}),onFocus:Ee(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ee(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=zoe(y,f.orientation,f.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let O=m().filter(P=>P.focusable).map(P=>P.ref.current);if(b==="last")O.reverse();else if(b==="prev"||b==="next"){b==="prev"&&O.reverse();const P=O.indexOf(y.currentTarget);O=f.loop?Foe(O,P+1):O.slice(P+1)}setTimeout(()=>tH(O))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});eH.displayName=Q8;var Ioe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Loe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zoe(t,e,r){const n=Loe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ioe[n]}function tH(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Foe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Ik=Z8,Lk=eH,T0="Tabs",[$oe]=En(T0,[tf]),rH=tf(),[Boe,zk]=$oe(T0),nH=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=qd(l),[h,m]=ss({prop:n,onChange:i,defaultProp:s??"",caller:T0});return a.jsx(Boe,{scope:r,baseId:rs(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:c,children:a.jsx(Ze.div,{dir:f,"data-orientation":o,...d,ref:e})})});nH.displayName=T0;var iH="TabsList",sH=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=zk(iH,r),o=rH(r);return a.jsx(Ik,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(Ze.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});sH.displayName=iH;var aH="TabsTrigger",oH=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=zk(aH,r),l=rH(r),c=uH(o.baseId,n),d=dH(o.baseId,n),f=n===o.value;return a.jsx(Lk,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(Ze.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ee(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ee(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ee(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!i&&h&&o.onValueChange(n)})})})});oH.displayName=aH;var lH="TabsContent",cH=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,l=zk(lH,r),c=uH(l.baseId,n),d=dH(l.baseId,n),f=n===l.value,h=w.useRef(f);return w.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(pi,{present:i||f,children:({present:m})=>a.jsx(Ze.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&s})})});cH.displayName=lH;function uH(t,e){return`${t}-trigger-${e}`}function dH(t,e){return`${t}-content-${e}`}var Hoe=nH,Woe=sH,Uoe=oH,qoe=cH;function Fk({className:t,...e}){return a.jsx(Hoe,{"data-slot":"tabs",className:Je("flex flex-col gap-2",t),...e})}function $k({className:t,...e}){return a.jsx(Woe,{"data-slot":"tabs-list",className:Je("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function od({className:t,...e}){return a.jsx(Uoe,{"data-slot":"tabs-trigger",className:Je("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function ld({className:t,...e}){return a.jsx(qoe,{"data-slot":"tabs-content",className:Je("flex-1 outline-none",t),...e})}function Voe(t){const[e,r]=w.useState(null),[n,i]=w.useState(!0),[s,o]=w.useState(null);return w.useEffect(()=>{if(!t){i(!1);return}(async()=>{try{i(!0),o(null);const d=await fetch(`http://localhost:4000/api/catalog-products/${t}`);if(!d.ok)throw d.status===404?new Error("Product not found"):new Error("Failed to fetch product");const f=await d.json(),h=[...f.product_images].sort((g,j)=>g.display_order-j.display_order),m={id:f.product_id.toString(),name:f.product_name,price:typeof f.base_price=="string"?parseFloat(f.base_price):f.base_price,image:h[0]?.image_url||"",backImage:h[1]?.image_url,additionalImages:h.slice(2).map(g=>g.image_url),category:f.category,gender:f.gender,material:f.material,sizes:f.sizes,stockQuantity:f.stock_quantity,description:`Premium ${f.category} made from ${f.material}. Available in multiple sizes for ${f.gender==="Unisex"?"everyone":f.gender.toLowerCase()}.`};r(m)}catch(c){o(c instanceof Error?c.message:"An error occurred"),r(null)}finally{i(!1)}})()},[t]),{product:e,loading:n,error:s}}function Goe({onAddToCart:t,onToggleFavorite:e,favorites:r}){const{id:n}=um(),i=kr(),{requireAuth:s}=hi(),[o,l]=w.useState(0),[c,d]=w.useState(""),[f,h]=w.useState(1),{product:m,loading:g,error:j}=Voe(n);if(g)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-gray-600",children:"Loading product..."})})});if(j||!m)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mb-4",children:j||"Product not found"}),a.jsx(ee,{onClick:()=>i("/"),className:"transition-transform active:scale-95",children:"Return to Home"})]})});const x=[m.image,m.backImage,...m.additionalImages].filter(Boolean),y=x[o]||m.image,b=r.some(_=>_.id===m.id),S=()=>{if(!c){ve.error("Please select a size");return}if(f<1){ve.error("Quantity must be at least 1");return}if(m.stockQuantity>0&&f>m.stockQuantity){ve.error(`Only ${m.stockQuantity} items available in stock`);return}s(()=>{t(m.id,f,c),ve.success(`${f} ${f>1?"items":"item"} added to cart!`)})},O=()=>{s(()=>{e(m.id),ve.success(b?"Removed from favorites":"Added to favorites")})},P=()=>{if(!c){ve.error("Please select a size");return}if(f<1){ve.error("Quantity must be at least 1");return}if(m.stockQuantity>0&&f>m.stockQuantity){ve.error(`Only ${m.stockQuantity} items available in stock`);return}s(()=>{t(m.id,f,c),ve.success("Proceeding to checkout..."),setTimeout(()=>i("/checkout"),500)})},C=m.price;return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"border-b bg-white sticky top-0 z-10",children:a.jsx("div",{className:"container mx-auto px-4 py-3",children:a.jsxs(ee,{variant:"ghost",onClick:()=>i(-1),className:"transition-transform active:scale-95 -ml-2",children:[a.jsx(ZX,{className:"size-4 mr-1"}),"Back"]})})}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"aspect-square bg-gray-50 rounded-lg overflow-hidden border border-gray-200",children:a.jsx(Pi,{src:y,alt:m.name,className:"size-full object-cover"})}),x.length>1&&a.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${Math.min(x.length,4)}, minmax(0, 1fr))`},children:x.map((_,k)=>a.jsx("button",{onClick:()=>l(k),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all active:scale-95 ${o===k?"border-black shadow-md":"border-gray-200 hover:border-gray-300"}`,children:a.jsx(Pi,{src:_,alt:`View ${k+1}`,className:"size-full object-cover"})},k))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(nt,{variant:"secondary",className:"mb-3",children:m.category}),a.jsx("h1",{className:"mb-2",children:m.name}),a.jsx("p",{className:"text-gray-600",children:m.gender})]}),a.jsx(qt,{}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"size-10 rounded-lg bg-gray-100 flex items-center justify-center shrink-0",children:a.jsx(NP,{className:"size-5 text-gray-700"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Gender"}),a.jsx("p",{className:"font-medium",children:m.gender})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"size-10 rounded-lg bg-gray-100 flex items-center justify-center shrink-0",children:a.jsx(I3,{className:"size-5 text-gray-700"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Material"}),a.jsx("p",{className:"font-medium text-sm",children:m.material})]})]})]}),a.jsx(qt,{}),m.stockQuantity>0&&a.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-700",children:[a.jsx("span",{className:"font-medium",children:"In Stock: "}),m.stockQuantity," items available"]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("p",{className:"font-medium",children:"Select Size"}),c&&a.jsxs("span",{className:"text-sm text-gray-600",children:["Selected: ",a.jsx("span",{className:"font-medium",children:c})]})]}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:m.sizes.map(_=>a.jsx("button",{onClick:()=>d(_),className:`py-2.5 px-2 border-2 rounded-lg transition-all active:scale-95 text-sm ${c===_?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"}`,children:_},_))})]}),a.jsx(qt,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Quantity"}),a.jsxs("div",{className:"flex items-center gap-2 border-2 border-gray-300 rounded-lg w-32",children:[a.jsx("button",{onClick:()=>h(Math.max(1,f-1)),className:"px-4 py-3 hover:bg-gray-100 transition-colors active:scale-95",disabled:f<=1,children:""}),a.jsx("input",{type:"number",value:f,onChange:_=>{const k=parseInt(_.target.value)||1;h(Math.max(1,k))},className:"flex-1 text-center font-medium outline-none",min:1}),a.jsx("button",{onClick:()=>h(f+1),className:"px-4 py-3 hover:bg-gray-100 transition-colors active:scale-95",children:"+"})]})]}),a.jsx(qt,{}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Price"}),a.jsxs("p",{className:"text-3xl font-bold",children:["",C.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",(C*f).toFixed(2)]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ee,{onClick:P,className:"w-full h-12 bg-black text-white hover:bg-black/90 transition-transform active:scale-95",children:[a.jsx(fl,{className:"size-4 mr-2"}),"Buy Now"]}),a.jsxs(ee,{onClick:S,variant:"outline",className:"w-full h-12 transition-transform active:scale-95",children:[a.jsx(fl,{className:"size-4 mr-2"}),"Add to Cart"]}),a.jsxs(ee,{variant:"outline",onClick:O,className:"w-full h-12 transition-transform active:scale-95",children:[a.jsx(Zu,{className:`size-4 mr-2 ${b?"fill-red-500 text-red-500":""}`}),b?"Remove from Favorites":"Add to Favorites"]})]})]})]}),a.jsx("div",{className:"mt-12",children:a.jsxs(Fk,{defaultValue:"description",className:"w-full",children:[a.jsxs($k,{className:"w-full justify-start border-b rounded-none h-auto p-0 bg-transparent",children:[a.jsx(od,{value:"description",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-black data-[state=active]:bg-transparent px-6 py-3",children:"Description"}),a.jsx(od,{value:"specifications",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-black data-[state=active]:bg-transparent px-6 py-3",children:"Specifications"})]}),a.jsx(ld,{value:"description",className:"mt-8",children:a.jsx("div",{className:"max-w-3xl",children:a.jsx("p",{className:"text-gray-700 leading-relaxed",children:m.description})})}),a.jsx(ld,{value:"specifications",className:"mt-8",children:a.jsx("div",{className:"max-w-3xl",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Category"}),a.jsx("p",{className:"font-medium",children:m.category})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Gender"}),a.jsx("p",{className:"font-medium",children:m.gender})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Material"}),a.jsx("p",{className:"font-medium",children:m.material})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Available Sizes"}),a.jsx("p",{className:"font-medium",children:m.sizes.join(", ")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Stock Quantity"}),a.jsxs("p",{className:"font-medium",children:[m.stockQuantity," ",m.stockQuantity===1?"item":"items"]})]})]})]})})})]})})]})]})}function cd({...t}){return a.jsx(IP,{"data-slot":"dialog",...t})}function Xoe({...t}){return a.jsx(LP,{"data-slot":"dialog-portal",...t})}const fH=w.forwardRef(({className:t,...e},r)=>a.jsx(gm,{ref:r,"data-slot":"dialog-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));fH.displayName=gm.displayName;function ud({className:t,children:e,...r}){return a.jsxs(Xoe,{"data-slot":"dialog-portal",children:[a.jsx(fH,{}),a.jsxs(zP,{"data-slot":"dialog-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,a.jsxs(Zx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Ct,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function dd({className:t,...e}){return a.jsx("div",{"data-slot":"dialog-header",className:Je("flex flex-col gap-2 text-center sm:text-left",t),...e})}function $D({className:t,...e}){return a.jsx("div",{"data-slot":"dialog-footer",className:Je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function fd({className:t,...e}){return a.jsx(FP,{"data-slot":"dialog-title",className:Je("text-lg leading-none font-semibold",t),...e})}function xp({className:t,...e}){return a.jsx($P,{"data-slot":"dialog-description",className:Je("text-muted-foreground text-sm",t),...e})}function Yoe({isOpen:t,onClose:e,amount:r,paymentType:n,orderId:i,customerInfo:s,orderItems:o,total:l,onPaymentSubmitted:c}){const[d,f]=w.useState(!1),[h,m]=w.useState(""),[g,j]=w.useState(""),[x,y]=w.useState(!1),b="/gcash-qr-code.png",S=async C=>{try{await navigator.clipboard.writeText(C),f(!0),setTimeout(()=>f(!1),2e3)}catch(_){console.error("Failed to copy:",_)}},O=async()=>{if(!h.trim()){j("Reference number is required");return}j(""),y(!0);try{const C="http://localhost:4000",_=o.map(M=>({...M,subtotal:M.unitPrice*M.quantity})),k=await fetch(`${C}/api/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:i,amount:r,paymentType:n,referenceNumber:h.trim(),total:l||r,customerInfo:s,orderItems:_})});if(!k.ok){const M=await k.json().catch(()=>({}));throw new Error(M.error||`Payment submission failed: ${k.statusText}`)}const A=await k.json();ve.success("Payment submitted successfully! Waiting for verification."),c&&c(i),e()}catch(C){console.error("Payment submission error:",C),j(C.message||"Failed to submit payment. Please try again."),ve.error(C.message||"Failed to submit payment. Please try again.")}finally{y(!1)}},P=C=>{m(C.target.value),g&&C.target.value.trim()&&j("")};return a.jsx(cd,{open:t,onOpenChange:e,children:a.jsxs(ud,{className:"sm:max-w-md max-h-[85vh] flex flex-col p-0 gap-0","aria-describedby":"gcash-payment-description",children:[a.jsxs(dd,{className:"px-6 pt-6 pb-4 flex-shrink-0 border-b",children:[a.jsx(fd,{className:"text-lg font-bold",children:"GCash Payment"}),a.jsx(xp,{id:"gcash-payment-description",className:"text-xs",children:"Scan the QR code to complete your payment"})]}),a.jsxs("div",{className:"px-6 space-y-4 overflow-y-auto flex-1 min-h-0 py-4 pb-6 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",style:{maxHeight:"calc(85vh - 180px)"},children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Order ID:"}),a.jsxs("div",{className:"flex items-center space-x-1.5",children:[a.jsx("span",{className:"font-semibold text-sm text-gray-900",children:i}),a.jsx("button",{onClick:()=>S(i),className:"p-1 hover:bg-white/50 rounded transition-colors",title:"Copy Order ID",children:d?a.jsx(Ju,{className:"w-3.5 h-3.5 text-green-600"}):a.jsx(ry,{className:"w-3.5 h-3.5 text-gray-600"})})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Amount:"}),a.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",r.toFixed(2)]})]}),n==="partial"&&a.jsx(nt,{className:"mt-2 text-xs bg-orange-100 text-orange-700 border-orange-200",children:"Partial Payment"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"border-2 border-gray-300 rounded-lg p-3 bg-white shadow-md",children:a.jsx("img",{src:b,alt:"GCash QR Code",className:"w-48 h-48 object-contain mx-auto",onError:C=>{C.target.src="https://via.placeholder.com/192x192?text=GCash+QR+Code"}})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Scan with GCash app"})]}),o.length>0&&o.length<=3&&a.jsxs("div",{className:"border-t pt-3 pb-2",children:[a.jsxs("h3",{className:"font-semibold mb-2 text-sm text-gray-900",children:["Items (",o.length,"):"]}),a.jsx("div",{className:"space-y-1",children:o.slice(0,3).map((C,_)=>a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsxs("span",{className:"text-gray-600 truncate flex-1",children:[C.productName," ",a.jsxs("span",{className:"text-gray-400",children:["",C.quantity]})]}),a.jsxs("span",{className:"font-medium text-gray-900 ml-2",children:["",(C.unitPrice*C.quantity).toFixed(2)]})]},_))})]}),a.jsxs("div",{className:"border-t pt-3 pb-2",children:[a.jsxs(be,{htmlFor:"reference-number",className:"text-sm font-semibold text-gray-900 mb-2 block",children:["Reference Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ze,{id:"reference-number",type:"text",placeholder:"Enter GCash reference number",value:h,onChange:P,required:!0,className:`h-9 text-sm ${g?"border-red-500 focus-visible:border-red-500":""}`}),g&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:g})]})]}),a.jsxs("div",{className:"px-6 pb-6 pt-4 border-t bg-white flex gap-2 flex-shrink-0",children:[a.jsx(ee,{variant:"outline",onClick:e,className:"flex-1 h-10 text-sm font-medium",children:"Cancel"}),a.jsx(ee,{onClick:O,disabled:x,className:"flex-1 h-10 text-sm font-medium bg-green-600 hover:bg-green-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Submitting...":"Submit Payment"})]})]})})}var Bk="Radio",[Koe,hH]=En(Bk),[Joe,Zoe]=Koe(Bk),pH=w.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:o,value:l="on",onCheck:c,form:d,...f}=t,[h,m]=w.useState(null),g=ct(e,y=>m(y)),j=w.useRef(!1),x=h?d||!!h.closest("form"):!0;return a.jsxs(Joe,{scope:r,checked:i,disabled:o,children:[a.jsx(Ze.button,{type:"button",role:"radio","aria-checked":i,"data-state":yH(i),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:g,onClick:Ee(t.onClick,y=>{i||c?.(),x&&(j.current=y.isPropagationStopped(),j.current||y.stopPropagation())})}),x&&a.jsx(vH,{control:h,bubbles:!j.current,name:n,value:l,checked:i,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});pH.displayName=Bk;var mH="RadioIndicator",gH=w.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,s=Zoe(mH,r);return a.jsx(pi,{present:n||s.checked,children:a.jsx(Ze.span,{"data-state":yH(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});gH.displayName=mH;var Qoe="RadioBubbleInput",vH=w.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=w.useRef(null),l=ct(o,s),c=vm(r),d=ym(e);return w.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&g){const j=new Event("click",{bubbles:n});g.call(f,r),f.dispatchEvent(j)}},[c,r,n]),a.jsx(Ze.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vH.displayName=Qoe;function yH(t){return t?"checked":"unchecked"}var ele=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A0="RadioGroup",[tle]=En(A0,[tf,hH]),xH=tf(),bH=hH(),[rle,nle]=tle(A0),wH=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:h,...m}=t,g=xH(r),j=qd(d),[x,y]=ss({prop:s,defaultProp:i??null,onChange:h,caller:A0});return a.jsx(rle,{scope:r,name:n,required:o,disabled:l,value:x,onValueChange:y,children:a.jsx(Ik,{asChild:!0,...g,orientation:c,dir:j,loop:f,children:a.jsx(Ze.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:j,...m,ref:e})})})});wH.displayName=A0;var jH="RadioGroupItem",SH=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,s=nle(jH,r),o=s.disabled||n,l=xH(r),c=bH(r),d=w.useRef(null),f=ct(e,d),h=s.value===i.value,m=w.useRef(!1);return w.useEffect(()=>{const g=x=>{ele.includes(x.key)&&(m.current=!0)},j=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",j)}},[]),a.jsx(Lk,{asChild:!0,...l,focusable:!o,active:h,children:a.jsx(pH,{disabled:o,required:s.required,checked:h,...c,...i,name:s.name,ref:f,onCheck:()=>s.onValueChange(i.value),onKeyDown:Ee(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Ee(i.onFocus,()=>{m.current&&d.current?.click()})})})});SH.displayName=jH;var ile="RadioGroupIndicator",CH=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=bH(r);return a.jsx(gH,{...i,...n,ref:e})});CH.displayName=ile;var sle=wH,ale=SH,ole=CH;function NH({className:t,...e}){return a.jsx(sle,{"data-slot":"radio-group",className:Je("grid gap-3",t),...e})}function Yh({className:t,...e}){return a.jsx(ale,{"data-slot":"radio-group-item",className:Je("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(ole,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:a.jsx(uY,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function lle({cartItems:t,onClearCart:e}){const r=kr(),[n,i]=w.useState("full"),[s,o]=w.useState(0),[l,c]=w.useState(!1),[d,f]=w.useState(!1),[h,m]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",zip:""}),g=(t||[]).reduce((_,k)=>_+k.price*k.quantity,0),j=g>1e3?0:50,x=g*.1,y=g+j+x,b=n==="full"?y:s,S=n==="partial"?y-s:0,O=y*.5,P=_=>{const{id:k,value:A}=_.target;m(M=>({...M,[k]:A}))},C=async _=>{_.preventDefault(),f(!0);try{if(!h.firstName||!h.lastName||!h.email||!h.phone){ve.error("Please fill in all required fields"),f(!1);return}if(n==="partial"){if(!s||s<O){ve.error(`Partial payment must be at least ${O.toFixed(2)} (50% of total)`),f(!1);return}if(s>=y){ve.error("Partial payment amount cannot exceed total amount. Please select Full Payment."),f(!1);return}}f(!1),c(!0)}catch(k){console.error("Payment error:",k),f(!1),ve.error(k.message||"Payment failed. Please try again.")}};return!t||t.length===0?a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("h2",{className:"mb-4",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Add some items to your cart to checkout"}),a.jsx(ee,{onClick:()=>r("/"),children:"Continue Shopping"})]}):a.jsxs("div",{className:"container mx-auto px-4 py-8 md:px-6",children:[a.jsxs(ee,{variant:"ghost",onClick:()=>r("/"),className:"mb-6",children:[a.jsx(fo,{className:"mr-2 size-4"}),"Back to Shop"]}),a.jsx("h1",{className:"mb-8",children:"Checkout"}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("form",{onSubmit:C,className:"space-y-8",children:[a.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(Zi,{className:"size-5"}),a.jsx("h3",{children:"Shipping Information"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(be,{htmlFor:"firstName",children:"First Name"}),a.jsx(ze,{id:"firstName",required:!0,placeholder:"John",onChange:P})]}),a.jsxs("div",{children:[a.jsx(be,{htmlFor:"lastName",children:"Last Name"}),a.jsx(ze,{id:"lastName",required:!0,placeholder:"Doe",onChange:P})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(be,{htmlFor:"email",children:"Email"}),a.jsx(ze,{id:"email",type:"email",required:!0,placeholder:"john@example.com",onChange:P})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(be,{htmlFor:"address",children:"Street Address"}),a.jsx(ze,{id:"address",required:!0,placeholder:"123 Main St",onChange:P})]}),a.jsxs("div",{children:[a.jsx(be,{htmlFor:"city",children:"City"}),a.jsx(ze,{id:"city",required:!0,placeholder:"New York",onChange:P})]}),a.jsxs("div",{children:[a.jsx(be,{htmlFor:"zip",children:"ZIP Code"}),a.jsx(ze,{id:"zip",required:!0,placeholder:"10001",onChange:P})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(be,{htmlFor:"phone",children:"Phone Number"}),a.jsx(ze,{id:"phone",type:"tel",required:!0,placeholder:"+1 (555) 000-0000",onChange:P})]})]})]}),a.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(ny,{className:"size-5"}),a.jsx("h3",{children:"Payment Type"})]}),a.jsxs(NH,{value:n,onValueChange:_=>{i(_),o(_==="full"?0:O)},className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-gray-50",children:[a.jsx(Yh,{value:"full",id:"full"}),a.jsx(be,{htmlFor:"full",className:"flex-1 cursor-pointer",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Full Payment"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Pay the full amount: ",y.toFixed(2)]})]})})]}),a.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-gray-50",children:[a.jsx(Yh,{value:"partial",id:"partial"}),a.jsx(be,{htmlFor:"partial",className:"flex-1 cursor-pointer",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Partial Payment / Downpayment"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Minimum 50%: ",O.toFixed(2)]})]})})]})]}),n==="partial"&&a.jsx("div",{className:"mt-6 space-y-4",children:a.jsxs("div",{children:[a.jsx(be,{htmlFor:"partialAmount",children:"Payment Amount"}),a.jsx(ze,{id:"partialAmount",type:"number",min:O,max:y,step:"0.01",value:s||"",onChange:_=>{const k=parseFloat(_.target.value)||0;k>=O&&k<=y?o(k):k>y?o(y):o(k)},placeholder:`Minimum: ${O.toFixed(2)}`,className:"mt-2"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ",O.toFixed(2)," (50% of total)"]}),s>0&&a.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Amount to Pay:"}),a.jsxs("span",{className:"font-semibold",children:["",s.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining Balance:"}),a.jsxs("span",{className:"font-semibold text-orange-600",children:["",S.toFixed(2)]})]})]})]})})]}),a.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(XE,{className:"size-5"}),a.jsx("h3",{children:"Payment Method"})]}),a.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-4 bg-gray-50",children:[a.jsx("div",{className:"flex items-center justify-center size-10 rounded-full bg-blue-100",children:a.jsx(XE,{className:"size-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(be,{className:"text-lg font-medium cursor-pointer",children:"GCash"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pay via GCash QR code"})]}),a.jsx(nt,{className:"bg-green-100 text-green-700",children:"Selected"})]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[a.jsx(Ux,{className:"size-4 text-green-600"}),a.jsx("span",{children:"Your payment information is secure and encrypted"})]}),a.jsx(ee,{type:"submit",size:"lg",className:"w-full bg-black text-white hover:bg-black/90 h-14",disabled:d,children:d?"Processing...":`Place Order - ${b.toFixed(2)}`})]}),a.jsx(Yoe,{isOpen:l,onClose:()=>c(!1),amount:b,paymentType:n,orderId:`ORD-${Date.now().toString().slice(-8)}`,customerInfo:{name:`${h.firstName} ${h.lastName}`,email:h.email,phone:h.phone,address:`${h.address}, ${h.city} ${h.zip}`},orderItems:(t||[]).map(_=>({productId:parseInt(_.id)||0,productName:_.name,quantity:_.quantity,unitPrice:_.price,subtotal:_.price*_.quantity,image:_.image,size:_.size,color:_.color,customizationData:_.customizationData})),total:y,onPaymentSubmitted:_=>{const k={id:_,date:new Date().toISOString(),items:t||[],subtotal:g,shipping:j,tax:x,total:y,paymentType:n,paymentAmount:b,remainingBalance:S,status:"payment_pending",paymentMethod:"gcash",customerInfo:{firstName:h.firstName,lastName:h.lastName,email:h.email,phone:h.phone,address:h.address,city:h.city,zip:h.zip}},A=JSON.parse(localStorage.getItem("orders")||"[]");A.push(k),localStorage.setItem("orders",JSON.stringify(A)),e(),r(`/order-confirmation/${_}`)}})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white border rounded-lg p-6 sticky top-4",children:[a.jsx("h3",{className:"mb-4",children:"Order Summary"}),a.jsx("div",{className:"space-y-4 mb-6",children:(t||[]).map(_=>a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:_.image,alt:_.name,className:"size-16 object-cover rounded"}),a.jsx(nt,{className:"absolute -top-2 -right-2 size-6 flex items-center justify-center p-0",children:_.quantity})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm truncate",children:_.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["",_.price]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-sm",children:["",(_.price*_.quantity).toFixed(2)]})})]},_.id))}),a.jsx(qt,{className:"my-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal"}),a.jsxs("span",{children:["",g.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Shipping"}),a.jsx("span",{children:j===0?"FREE":`${j.toFixed(2)}`})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Tax (10%)"}),a.jsxs("span",{children:["",x.toFixed(2)]})]}),a.jsx(qt,{className:"my-2"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["",y.toFixed(2)]})]}),n==="partial"&&a.jsxs(a.Fragment,{children:[a.jsx(qt,{className:"my-2"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Amount"}),a.jsxs("span",{className:"font-semibold",children:["",b.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining Balance"}),a.jsxs("span",{className:"font-semibold text-orange-600",children:["",S.toFixed(2)]})]})]})]}),j>0&&a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-900",children:["Add ",(1e3-g).toFixed(2)," more for FREE shipping!"]})]})})]})]})}const cle="http://localhost:4000";function ule(){const{orderId:t}=um(),e=kr(),[r,n]=w.useState(null),[i,s]=w.useState(!0),[o,l]=w.useState(null),c=w.useCallback(async()=>{try{if(s(!0),l(null),t){const f=await fetch(`${cle}/api/orders/${t}`,{credentials:"include"});if(f.ok){const h=await f.json();console.log("API Order response:",h);const m=h.payment||(h.payments&&h.payments.length>0?h.payments[0]:null),g={id:h.id,date:h.orderDate||new Date().toISOString(),items:h.items?.map(j=>({id:j.id,name:j.name,price:j.unitPrice,quantity:j.quantity,image:""}))||[],subtotal:h.total,shipping:0,tax:0,total:h.total,status:h.status||"payment_pending",paymentMethod:m?.method||"gcash",paymentType:m?.status==="paid"?"full":"partial",paymentAmount:m?.amountPaid||0,remainingBalance:h.balanceRemaining||0,paymentStatus:m?.status||"pending",shippingDetails:h.shipping||null};n(g),l(null),s(!1)}else if(f.status===404){n(null),l("Order not found. This order may have been deleted or does not exist."),s(!1);try{const m=JSON.parse(localStorage.getItem("orders")||"[]").filter(g=>g.id!==t);localStorage.setItem("orders",JSON.stringify(m))}catch{}}else{const h=await f.json().catch(()=>({error:"Failed to load order"}));n(null),l(h.error||"Failed to load order")}}else n(null),l("Invalid order ID")}catch(f){console.error("Error loading order:",f),n(null),l("Failed to load order. Please try again later.")}finally{s(!1)}},[t]);if(w.useEffect(()=>{t?c():(s(!1),l("Invalid order ID"))},[t,c]),i)return a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading order..."})]});if(o||!r)return a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center size-16 rounded-full bg-red-100 mb-4",children:a.jsx(nr,{className:"size-8 text-red-600"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),a.jsx("p",{className:"text-gray-600 mb-2",children:o||"We couldn't find this order"}),t&&a.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Order ID: ",t]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(ee,{onClick:()=>e("/"),children:"Go to Home"}),a.jsx(ee,{variant:"outline",onClick:()=>e("/track-order"),children:"Track Another Order"})]})]});const d=new Date(r.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"container mx-auto px-4 py-8 md:px-6 max-w-4xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center size-16 rounded-full bg-green-100 mb-4",children:a.jsx(Ss,{className:"size-8 text-green-600"})}),a.jsx("h1",{className:"mb-2",children:r.status==="payment_pending"?"Order Placed!":"Order Confirmed!"}),a.jsx("p",{className:"text-gray-600",children:r.status==="payment_pending"&&r.paymentMethod==="gcash"?"Your order has been placed. Payment is pending admin approval.":"Thank you for your purchase. Your order has been received and is being processed."})]}),a.jsxs("div",{className:"bg-white border rounded-lg p-6 mb-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),a.jsx("p",{className:"font-mono",children:r.id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Date"}),a.jsx("p",{children:d})]})]}),a.jsx(qt,{className:"my-6"}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{children:"Order Status"}),a.jsx(nt,{className:"bg-blue-100 text-blue-900 hover:bg-blue-100",children:r.status==="payment_pending"||r.paymentStatus==="pending"?"Order Placed":r.status==="pending"?"Processing":["designing","ripping","heatpress","assembly","qa","packing","done"].includes(r.status)?r.status==="done"?"To Ship":"In Production":r.status==="shipping"?"Shipping":r.status==="delivered"?"Delivered":"Order Placed"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"size-10 rounded-full bg-green-100 flex items-center justify-center",children:a.jsx(Ss,{className:"size-5 text-green-600"})}),a.jsxs("p",{className:"text-xs text-center",children:["Order",a.jsx("br",{}),"Placed"]})]}),a.jsx("div",{className:`flex-1 h-0.5 ${["pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"].includes(r.status)?"bg-green-300":"bg-gray-200"}`}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${["pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"].includes(r.status)?"bg-green-100":"bg-gray-100"}`,children:["pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"].includes(r.status)?a.jsx(Ss,{className:"size-5 text-green-600"}):a.jsx(nr,{className:"size-5 text-gray-400"})}),a.jsx("p",{className:"text-xs text-center",children:"Processing"})]}),a.jsx("div",{className:`flex-1 h-0.5 ${["done","shipping","delivered"].includes(r.status)?"bg-green-300":"bg-gray-200"}`}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${["done","shipping","delivered"].includes(r.status)?"bg-green-100":"bg-gray-100"}`,children:["done","shipping","delivered"].includes(r.status)?a.jsx(Ss,{className:"size-5 text-green-600"}):a.jsx(nr,{className:"size-5 text-gray-400"})}),a.jsx("p",{className:"text-xs text-center",children:"To Ship"})]}),a.jsx("div",{className:`flex-1 h-0.5 ${["shipping","delivered"].includes(r.status)?"bg-green-300":"bg-gray-200"}`}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${["shipping","delivered"].includes(r.status)?"bg-green-100":"bg-gray-100"}`,children:["shipping","delivered"].includes(r.status)?a.jsx(Ss,{className:"size-5 text-green-600"}):a.jsx(Zi,{className:"size-5 text-gray-400"})}),a.jsx("p",{className:"text-xs text-center",children:"Shipping"})]}),a.jsx("div",{className:`flex-1 h-0.5 ${r.status==="delivered"?"bg-green-300":"bg-gray-200"}`}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${r.status==="delivered"?"bg-green-100":"bg-gray-100"}`,children:r.status==="delivered"?a.jsx(Ss,{className:"size-5 text-green-600"}):a.jsx(Bx,{className:"size-5 text-gray-400"})}),a.jsx("p",{className:"text-xs text-center",children:"Delivered"})]})]})]}),a.jsx(qt,{className:"my-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4",children:"Items Ordered"}),a.jsx("div",{className:"space-y-4",children:r.items.map(f=>a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("img",{src:f.image,alt:f.name,className:"size-20 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{children:f.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",f.quantity]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{children:["",(f.price*f.quantity).toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["",f.price," each"]})]})]},f.id))})]}),a.jsx(qt,{className:"my-6"}),r.paymentMethod&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"mb-4",children:"Payment Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Method"}),a.jsx(nt,{variant:"secondary",className:"capitalize",children:r.paymentMethod==="gcash"?"GCash":r.paymentMethod})]}),r.paymentType&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Type"}),a.jsx(nt,{variant:r.paymentType==="full"?"default":"secondary",children:r.paymentType==="full"?"Full Payment":"Partial Payment"})]}),r.paymentAmount!==void 0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Amount Paid"}),a.jsxs("span",{className:"font-semibold",children:["",r.paymentAmount.toFixed(2)]})]}),r.paymentType==="partial"&&r.remainingBalance!==void 0&&r.remainingBalance>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining Balance"}),a.jsxs("span",{className:"font-semibold text-orange-600",children:["",r.remainingBalance.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm mt-2 pt-2 border-t",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Status"}),a.jsx(nt,{variant:r.paymentStatus==="pending"?"secondary":"default",className:r.paymentStatus==="pending"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700",children:r.paymentStatus==="pending"?"Pending Approval":"Approved"})]})]})]}),a.jsx(qt,{className:"my-6"})]}),(r.status==="shipping"||r.status==="delivered")&&r.shippingDetails&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6","data-shipping-details":!0,children:[a.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[a.jsx(Zi,{className:"size-5"}),"Shipping Details"]}),a.jsxs("div",{className:"space-y-3 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.shippingDetails.trackingNumber&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tracking Number"}),a.jsx("span",{className:"text-sm font-mono font-semibold text-blue-900",children:r.shippingDetails.trackingNumber})]}),r.shippingDetails.carrier&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Carrier"}),a.jsx(nt,{variant:"secondary",className:"capitalize",children:r.shippingDetails.carrier})]}),r.shippingDetails.shippedDate&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Shipped Date"}),a.jsx("span",{className:"text-sm text-gray-900",children:new Date(r.shippingDetails.shippedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),r.shippingDetails.estimatedDelivery&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Delivery"}),a.jsx("span",{className:"text-sm font-semibold text-green-700",children:new Date(r.shippingDetails.estimatedDelivery).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),a.jsx(qt,{className:"my-6"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4",children:"Order Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal"}),a.jsxs("span",{children:["",r.subtotal.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Shipping"}),a.jsx("span",{children:r.shipping===0?"FREE":`${r.shipping.toFixed(2)}`})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Tax"}),a.jsxs("span",{children:["",r.tax.toFixed(2)]})]}),a.jsx(qt,{className:"my-2"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["",r.total.toFixed(2)]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.status==="shipping"||r.status==="delivered"?a.jsxs(ee,{variant:"outline",className:"flex-1",onClick:()=>{const f=document.querySelector("[data-shipping-details]");f&&f.scrollIntoView({behavior:"smooth",block:"start"})},children:[a.jsx(Zi,{className:"size-4 mr-2"}),"Shipping Details"]}):r.paymentStatus==="paid"||r.status!=="payment_pending"?a.jsx(ee,{variant:"outline",className:"flex-1",onClick:()=>e(`/order-tracking/${r.id}`),children:"Track Order"}):a.jsx(ee,{variant:"outline",className:"flex-1",disabled:!0,title:"Track order will be available after payment approval",children:"Track Order (Pending Approval)"}),a.jsx(ee,{className:"flex-1 bg-black text-white hover:bg-black/90",onClick:()=>e("/"),children:"Continue Shopping"})]}),a.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg text-center text-sm text-blue-900",children:" A confirmation email has been sent to your email address"})]})}const BD="http://localhost:4000";function HD(){const t=kr(),{orderId:e}=um(),{user:r,isHydrating:n}=hi(),[i,s]=w.useState([]),[o,l]=w.useState(!0),c=w.useCallback(async()=>{try{if(l(!0),e)try{const y=await fetch(`${BD}/api/orders/${e}`,{credentials:"include"});if(y.ok){const b=await y.json();s([b]),l(!1);return}else if(y.status===404){console.log("Order not found in database:",e),s([]),l(!1);try{const S=JSON.parse(localStorage.getItem("orders")||"[]").filter(O=>O.id!==e);localStorage.setItem("orders",JSON.stringify(S))}catch{}return}}catch(y){console.error("Error fetching single order:",y),s([]),l(!1);return}if(r?.email){const y=r.email.trim().toLowerCase();console.log("Loading orders for email:",y);const b=await fetch(`${BD}/api/orders?customerEmail=${encodeURIComponent(y)}`,{credentials:"include"});if(b.ok){const S=await b.json();console.log("Orders fetched from API:",S),s(Array.isArray(S)?S:[]),l(!1);return}else{console.error("Failed to fetch orders:",b.status),s([]),l(!1);return}}const g=JSON.parse(localStorage.getItem("orders")||"[]");let j=g;if(r?.email){const y=r.email.trim().toLowerCase();j=g.filter(b=>(b.customerInfo?.email||"").trim().toLowerCase()===y)}const x=j.map(y=>({id:y.id,orderId:0,customer:{name:y.customerInfo?.name||`${y.customerInfo?.firstName||""} ${y.customerInfo?.lastName||""}`.trim(),email:y.customerInfo?.email||"",phone:y.customerInfo?.phone||"",address:y.customerInfo?.address||""},items:y.items?.map((b,S)=>({id:b.id||S.toString(),productId:parseInt(b.id)||0,name:b.name,quantity:b.quantity,unitPrice:b.price,subtotal:b.price*b.quantity}))||[],total:y.total||0,balanceRemaining:y.remainingBalance||0,status:y.status||"payment_pending",orderDate:y.date||new Date().toISOString(),estimatedCompletion:null,notes:null,payment:null,shipping:null}));s(x)}catch(g){console.error("Error loading orders:",g),ve.error("Failed to load orders");const j=JSON.parse(localStorage.getItem("orders")||"[]");let x=j;if(r?.email){const b=r.email.trim().toLowerCase();x=j.filter(S=>(S.customerInfo?.email||"").trim().toLowerCase()===b)}const y=x.map(b=>({id:b.id,orderId:0,customer:{name:b.customerInfo?.name||`${b.customerInfo?.firstName||""} ${b.customerInfo?.lastName||""}`.trim(),email:b.customerInfo?.email||"",phone:b.customerInfo?.phone||"",address:b.customerInfo?.address||""},items:b.items?.map((S,O)=>({id:S.id||O.toString(),productId:parseInt(S.id)||0,name:S.name,quantity:S.quantity,unitPrice:S.price,subtotal:S.price*S.quantity}))||[],total:b.total||0,balanceRemaining:b.remainingBalance||0,status:b.status||"payment_pending",orderDate:b.date||new Date().toISOString(),estimatedCompletion:null,notes:null,payment:null,shipping:null}));s(y)}finally{l(!1)}},[e,r?.email]);w.useEffect(()=>{n||c()},[n,c]);const d=e?i.filter(g=>g.id===e):i,f=g=>({payment_pending:"Payment Pending",pending:"Pending",designing:"Designing",ripping:"Ripping",heatpress:"Heat Press",assembly:"Assembly",qa:"QA",packing:"Packing",done:"To Ship",shipping:"Shipping",delivered:"Delivered",cancelled:"Cancelled"})[g]||g.charAt(0).toUpperCase()+g.slice(1).replace(/_/g," "),h=g=>{switch(g){case"payment_pending":return"bg-yellow-100 text-yellow-900";case"pending":return"bg-yellow-100 text-yellow-900";case"designing":case"ripping":case"heatpress":return"bg-blue-100 text-blue-900";case"assembly":return"bg-red-100 text-red-900";case"qa":return"bg-orange-100 text-orange-900";case"packing":return"bg-green-100 text-green-900";case"done":return"bg-green-100 text-green-900";case"shipping":return"bg-blue-100 text-blue-900";case"delivered":return"bg-green-100 text-green-900";case"cancelled":return"bg-red-100 text-red-900";default:return"bg-gray-100 text-gray-900"}},m=g=>{const j=["payment_pending","pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"],x=j.indexOf(g);return{currentStep:x>=0?x:0,totalSteps:j.length-1,isComplete:g==="delivered",isCancelled:g==="cancelled"}};return o?a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]}):d.length===0?a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx(nr,{className:"size-16 mx-auto mb-4 text-gray-400"}),a.jsx("h2",{className:"mb-4",children:e?"Order Not Found":"No Orders Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:e?"We couldn't find order "+e:"You haven't placed any orders yet"}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[e&&a.jsx(ee,{variant:"outline",onClick:()=>t("/order-tracking"),children:"View All Orders"}),a.jsx(ee,{onClick:()=>t("/"),children:e?"Go Home":"Start Shopping"})]})]}):a.jsxs("div",{className:"container mx-auto px-4 py-8 md:px-6 max-w-5xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{children:"Order Tracking"}),e&&a.jsx(ee,{variant:"outline",onClick:()=>t("/order-tracking"),children:"View All Orders"})]}),a.jsx("div",{className:"space-y-6",children:d.map(g=>{const j=g.status==="payment_pending"||g.payment?.status==="pending",x=g.orderDate?new Date(g.orderDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",y=m(g.status),b=[{label:"Pending",status:"pending",icon:a_,color:"yellow"},{label:"Designing",status:"designing",icon:bc,color:"cyan"},{label:"Ripping",status:"ripping",icon:tK,color:"blue"},{label:"Heat Press",status:"heatpress",icon:EK,color:"purple"},{label:"Assembly",status:"assembly",icon:kK,color:"red"},{label:"QA",status:"qa",icon:Ns,color:"orange"},{label:"Packing",status:"packing",icon:GX,color:"green"},{label:"To Ship",status:"done",icon:nr,color:"green"},{label:"Shipping",status:"shipping",icon:Zi,color:"blue"},{label:"Delivered",status:"delivered",icon:Bx,color:"green"}];return a.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[j&&a.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(a_,{className:"size-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Payment Pending Approval"}),a.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Your order tracking will be available once your payment has been approved by our admin."})]})]})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h3",{className:"text-lg",children:["Order ",g.id]}),a.jsx(nt,{className:h(g.status),children:f(g.status)})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",x]}),g.payment&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Payment: ",g.payment.status==="pending"?"Pending Approval":"Approved","  Ref: ",g.payment.referenceNumber||"N/A"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsxs("p",{className:"text-xl",children:["",g.total.toFixed(2)]}),g.balanceRemaining>0&&a.jsxs("p",{className:"text-xs text-orange-600",children:["Balance: ",g.balanceRemaining.toFixed(2)]})]})]}),!y.isCancelled&&!j&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold",children:"Production Progress"}),a.jsx(nt,{className:h(g.status),children:f(g.status)})]}),a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-4",children:b.map((S,O)=>{const P=["payment_pending","pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"],C=P.indexOf(g.status),_=P.indexOf(S.status),k=C===_,A=C>_,M=S.icon,D={yellow:{bg:"bg-yellow-100",icon:"text-yellow-600",text:"text-yellow-600",border:"border-yellow-300"},cyan:{bg:"bg-cyan-100",icon:"text-cyan-600",text:"text-cyan-600",border:"border-cyan-300"},blue:{bg:"bg-blue-100",icon:"text-blue-600",text:"text-blue-600",border:"border-blue-300"},purple:{bg:"bg-purple-100",icon:"text-purple-600",text:"text-purple-600",border:"border-purple-300"},red:{bg:"bg-red-100",icon:"text-red-600",text:"text-red-600",border:"border-red-300"},orange:{bg:"bg-orange-100",icon:"text-orange-600",text:"text-orange-600",border:"border-orange-300"},teal:{bg:"bg-teal-100",icon:"text-teal-600",text:"text-teal-600",border:"border-teal-300"},green:{bg:"bg-green-100",icon:"text-green-600",text:"text-green-600",border:"border-green-300"}},L=D[S.color]||D.blue;return a.jsxs("div",{className:"flex items-center flex-shrink-0",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`size-12 rounded-full flex items-center justify-center border-2 transition-all ${A?`bg-green-100 border-green-300 ${L.icon}`:k?`${L.bg} ${L.border} ${L.icon} shadow-lg scale-110`:"bg-gray-100 border-gray-200 text-gray-400"}`,children:A?a.jsx(Ss,{className:"size-6 text-green-600"}):k?a.jsx(M,{className:`size-6 ${L.icon} animate-pulse`}):a.jsx(M,{className:"size-5 text-gray-400"})}),a.jsx("p",{className:`text-xs text-center whitespace-nowrap font-medium ${k?`${L.text} font-semibold`:A?"text-green-600":"text-gray-500"}`,children:S.label})]}),O<b.length-1&&a.jsx("div",{className:`flex-1 h-1 mx-3 min-w-[50px] rounded-full transition-all ${A?"bg-green-300":"bg-gray-200"}`})]},S.label)})})]}),a.jsx(qt,{className:"my-6"}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-sm mb-4",children:[g.items.length," item(s)"]}),a.jsx("div",{className:"space-y-2",children:g.items.map(S=>a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:S.name}),a.jsxs("p",{className:"text-gray-600",children:["Qty: ",S.quantity,"  ",S.unitPrice.toFixed(2)]})]}),a.jsxs("p",{className:"font-semibold",children:["",S.subtotal.toFixed(2)]})]},S.id))})]}),g.trackingEvents&&g.trackingEvents.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Zi,{className:"size-5"}),"Tracking History"]}),a.jsx("div",{className:"space-y-4",children:g.trackingEvents.map((S,O)=>a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${O===0?"bg-green-100":"bg-gray-100"}`,children:O===0?a.jsx(Zi,{className:"size-5 text-green-600"}):a.jsx(nr,{className:"size-5 text-gray-400"})}),O<g.trackingEvents.length-1&&a.jsx("div",{className:"w-0.5 h-full bg-gray-200 my-2"})]}),a.jsx("div",{className:"flex-1 pb-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:`font-medium ${O===0?"text-green-700":"text-gray-900"}`,children:S.message}),S.location&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:S.location})]}),a.jsx("div",{className:"text-right ml-4",children:a.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})})]})})]},S.id))})]}),(g.status==="shipping"||g.status==="delivered")&&g.shipping&&a.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Zi,{className:"size-5 text-indigo-600"}),a.jsx("h4",{className:"font-semibold text-indigo-900",children:"Shipping Information"})]}),g.shipping.trackingNumber&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Tracking Number: "}),a.jsx("span",{className:"text-sm font-mono font-semibold text-indigo-900",children:g.shipping.trackingNumber})]}),g.shipping.carrier&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Carrier: "}),a.jsx("span",{className:"text-sm font-medium text-indigo-900",children:g.shipping.carrier})]}),g.shipping.shippedDate&&a.jsxs("div",{className:"text-xs text-gray-600",children:["Shipped: ",new Date(g.shipping.shippedDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ee,{variant:"outline",onClick:()=>t(`/order-confirmation/${g.id}`),className:"flex-1",children:"View Details"}),(g.status==="shipping"||g.status==="delivered")&&g.shipping&&a.jsxs(ee,{variant:"default",className:"flex-1 bg-blue-700 hover:bg-blue-800",onClick:()=>t(`/shipping-details/${g.id}`),children:[a.jsx(Zi,{className:"size-4 mr-2"}),"Shipping Details"]}),g.status==="done"&&a.jsxs(ee,{variant:"secondary",className:"flex-1",disabled:!0,children:[a.jsx(nr,{className:"size-4 mr-2"}),"Ready to Ship"]})]})]},g.id)})}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx(ee,{size:"lg",className:"bg-black text-white hover:bg-black/90",onClick:()=>t("/"),children:"Continue Shopping"})})]})}const dle="http://localhost:4000";function fle(){const t=kr(),[e,r]=w.useState(""),[n,i]=w.useState(!1),s=async o=>{if(o.preventDefault(),!e.trim()){ve.error("Please enter an order ID");return}i(!0);try{const l=await fetch(`${dle}/api/orders/${e.trim()}`,{credentials:"include"});if(l.ok){const c=await l.json();t(`/order-tracking/${c.id||e.trim()}`)}else JSON.parse(localStorage.getItem("orders")||"[]").find(f=>f.id===e.trim())?t(`/order-tracking/${e.trim()}`):ve.error("Order not found. Please check your order ID and try again.")}catch(l){console.error("Error searching for order:",l),JSON.parse(localStorage.getItem("orders")||"[]").find(f=>f.id===e.trim())?t(`/order-tracking/${e.trim()}`):ve.error("Order not found. Please check your order ID and try again.")}finally{i(!1)}};return a.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:[a.jsxs(ee,{variant:"ghost",onClick:()=>t("/"),className:"mb-6",children:[a.jsx(fo,{className:"mr-2 size-4"}),"Back to Home"]}),a.jsxs(ht,{children:[a.jsxs(yr,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 size-16 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx(nr,{className:"size-8 text-blue-600"})}),a.jsx(Rr,{className:"text-2xl",children:"Track Your Order"}),a.jsx(cc,{children:"Enter your order ID to view the current status and tracking information"})]}),a.jsxs(jt,{children:[a.jsx("form",{onSubmit:s,className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"orderId",children:"Order ID"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ze,{id:"orderId",type:"text",placeholder:"e.g., ORD-12345678",value:e,onChange:o=>r(o.target.value),className:"flex-1",required:!0}),a.jsx(ee,{type:"submit",disabled:n,className:"bg-black text-white hover:bg-black/90",children:n?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(Ns,{className:"size-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"You can find your order ID in your confirmation email or order confirmation page"})]})}),a.jsxs("div",{className:"mt-8 pt-6 border-t",children:[a.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Order Status Guide"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"size-2 rounded-full bg-cyan-500"}),a.jsx("span",{children:"Designing - Your design is being created"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"size-2 rounded-full bg-blue-500"}),a.jsx("span",{children:"Ripping - Design is being prepared for printing"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"size-2 rounded-full bg-purple-500"}),a.jsx("span",{children:"Heat Press - Design is being applied to the product"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"size-2 rounded-full bg-pink-500"}),a.jsx("span",{children:"Assembly - Product is being assembled"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"size-2 rounded-full bg-orange-500"}),a.jsx("span",{children:"QA - Quality assurance check in progress"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"size-2 rounded-full bg-indigo-500"}),a.jsx("span",{children:"Packing - Order is being packed for shipment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"size-2 rounded-full bg-green-500"}),a.jsx("span",{children:"Done - Order is complete and ready"})]})]})]})]})]})]})}function hle(t){const e=ple(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,l=w.Children.toArray(s),c=l.find(gle);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function ple(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=yle(i),l=vle(s,i.props);return i.type!==w.Fragment&&(l.ref=n?ba(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mle=Symbol("radix.slottable");function gle(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mle}function vle(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function yle(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var X_=["Enter"," "],xle=["ArrowDown","PageUp","Home"],_H=["ArrowUp","PageDown","End"],ble=[...xle,..._H],wle={ltr:[...X_,"ArrowRight"],rtl:[...X_,"ArrowLeft"]},jle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pm="Menu",[bp,Sle,Cle]=n0(Pm),[Fc,OH]=En(Pm,[Cle,Yd,tf]),E0=Yd(),PH=tf(),[Nle,$c]=Fc(Pm),[_le,km]=Fc(Pm),kH=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,l=E0(e),[c,d]=w.useState(null),f=w.useRef(!1),h=Ms(s),m=qd(i);return w.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),a.jsx(rk,{...l,children:a.jsx(Nle,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:a.jsx(_le,{scope:e,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:n})})})};kH.displayName=Pm;var Ole="MenuAnchor",Hk=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=E0(r);return a.jsx(u0,{...i,...n,ref:e})});Hk.displayName=Ole;var Wk="MenuPortal",[Ple,TH]=Fc(Wk,{forceMount:void 0}),AH=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=$c(Wk,e);return a.jsx(Ple,{scope:e,forceMount:r,children:a.jsx(pi,{present:r||s.open,children:a.jsx(pm,{asChild:!0,container:i,children:n})})})};AH.displayName=Wk;var ns="MenuContent",[kle,Uk]=Fc(ns),EH=w.forwardRef((t,e)=>{const r=TH(ns,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=$c(ns,t.__scopeMenu),o=km(ns,t.__scopeMenu);return a.jsx(bp.Provider,{scope:t.__scopeMenu,children:a.jsx(pi,{present:n||s.open,children:a.jsx(bp.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(Tle,{...i,ref:e}):a.jsx(Ale,{...i,ref:e})})})})}),Tle=w.forwardRef((t,e)=>{const r=$c(ns,t.__scopeMenu),n=w.useRef(null),i=ct(e,n);return w.useEffect(()=>{const s=n.current;if(s)return Kx(s)},[]),a.jsx(qk,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ale=w.forwardRef((t,e)=>{const r=$c(ns,t.__scopeMenu);return a.jsx(qk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Ele=hle("MenuContent.ScrollLock"),qk=w.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:j,...x}=t,y=$c(ns,r),b=km(ns,r),S=E0(r),O=PH(r),P=Sle(r),[C,_]=w.useState(null),k=w.useRef(null),A=ct(e,k,y.onContentChange),M=w.useRef(0),D=w.useRef(""),L=w.useRef(0),W=w.useRef(null),$=w.useRef("right"),H=w.useRef(0),z=j?mm:w.Fragment,q=j?{as:Ele,allowPinchZoom:!0}:void 0,E=B=>{const I=D.current+B,F=P().filter(J=>!J.disabled),G=document.activeElement,Z=F.find(J=>J.ref.current===G)?.textValue,K=F.map(J=>J.textValue),ae=Ule(K,I,Z),ie=F.find(J=>J.textValue===ae)?.ref.current;(function J(fe){D.current=fe,window.clearTimeout(M.current),fe!==""&&(M.current=window.setTimeout(()=>J(""),1e3))})(I),ie&&setTimeout(()=>ie.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),Xx();const U=w.useCallback(B=>$.current===W.current?.side&&Vle(B,W.current?.area),[]);return a.jsx(kle,{scope:r,searchRef:D,onItemEnter:w.useCallback(B=>{U(B)&&B.preventDefault()},[U]),onItemLeave:w.useCallback(B=>{U(B)||(k.current?.focus(),_(null))},[U]),onTriggerLeave:w.useCallback(B=>{U(B)&&B.preventDefault()},[U]),pointerGraceTimerRef:L,onPointerGraceIntentChange:w.useCallback(B=>{W.current=B},[]),children:a.jsx(z,{...q,children:a.jsx(hm,{asChild:!0,trapped:i,onMountAutoFocus:Ee(s,B=>{B.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(fm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:a.jsx(Ik,{asChild:!0,...O,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:_,onEntryFocus:Ee(c,B=>{b.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(nk,{role:"menu","aria-orientation":"vertical","data-state":XH(y.open),"data-radix-menu-content":"",dir:b.dir,...S,...x,ref:A,style:{outline:"none",...x.style},onKeyDown:Ee(x.onKeyDown,B=>{const F=B.target.closest("[data-radix-menu-content]")===B.currentTarget,G=B.ctrlKey||B.altKey||B.metaKey,Z=B.key.length===1;F&&(B.key==="Tab"&&B.preventDefault(),!G&&Z&&E(B.key));const K=k.current;if(B.target!==K||!ble.includes(B.key))return;B.preventDefault();const ie=P().filter(J=>!J.disabled).map(J=>J.ref.current);_H.includes(B.key)&&ie.reverse(),Hle(ie)}),onBlur:Ee(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(M.current),D.current="")}),onPointerMove:Ee(t.onPointerMove,wp(B=>{const I=B.target,F=H.current!==B.clientX;if(B.currentTarget.contains(I)&&F){const G=B.clientX>H.current?"right":"left";$.current=G,H.current=B.clientX}}))})})})})})})});EH.displayName=ns;var Mle="MenuGroup",Vk=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ze.div,{role:"group",...n,ref:e})});Vk.displayName=Mle;var Dle="MenuLabel",MH=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ze.div,{...n,ref:e})});MH.displayName=Dle;var Ay="MenuItem",WD="menu.itemSelect",M0=w.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=w.useRef(null),o=km(Ay,t.__scopeMenu),l=Uk(Ay,t.__scopeMenu),c=ct(e,s),d=w.useRef(!1),f=()=>{const h=s.current;if(!r&&h){const m=new CustomEvent(WD,{bubbles:!0,cancelable:!0});h.addEventListener(WD,g=>n?.(g),{once:!0}),t$(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(DH,{...i,ref:c,disabled:r,onClick:Ee(t.onClick,f),onPointerDown:h=>{t.onPointerDown?.(h),d.current=!0},onPointerUp:Ee(t.onPointerUp,h=>{d.current||h.currentTarget?.click()}),onKeyDown:Ee(t.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||X_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});M0.displayName=Ay;var DH=w.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=Uk(Ay,r),l=PH(r),c=w.useRef(null),d=ct(e,c),[f,h]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const j=c.current;j&&g((j.textContent??"").trim())},[s.children]),a.jsx(bp.ItemSlot,{scope:r,disabled:n,textValue:i??m,children:a.jsx(Lk,{asChild:!0,...l,focusable:!n,children:a.jsx(Ze.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:d,onPointerMove:Ee(t.onPointerMove,wp(j=>{n?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,wp(j=>o.onItemLeave(j))),onFocus:Ee(t.onFocus,()=>h(!0)),onBlur:Ee(t.onBlur,()=>h(!1))})})})}),Rle="MenuCheckboxItem",RH=w.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return a.jsx($H,{scope:t.__scopeMenu,checked:r,children:a.jsx(M0,{role:"menuitemcheckbox","aria-checked":Ey(r)?"mixed":r,...i,ref:e,"data-state":Xk(r),onSelect:Ee(i.onSelect,()=>n?.(Ey(r)?!0:!r),{checkForDefaultPrevented:!1})})})});RH.displayName=Rle;var IH="MenuRadioGroup",[Ile,Lle]=Fc(IH,{value:void 0,onValueChange:()=>{}}),LH=w.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Ms(n);return a.jsx(Ile,{scope:t.__scopeMenu,value:r,onValueChange:s,children:a.jsx(Vk,{...i,ref:e})})});LH.displayName=IH;var zH="MenuRadioItem",FH=w.forwardRef((t,e)=>{const{value:r,...n}=t,i=Lle(zH,t.__scopeMenu),s=r===i.value;return a.jsx($H,{scope:t.__scopeMenu,checked:s,children:a.jsx(M0,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":Xk(s),onSelect:Ee(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});FH.displayName=zH;var Gk="MenuItemIndicator",[$H,zle]=Fc(Gk,{checked:!1}),BH=w.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=zle(Gk,r);return a.jsx(pi,{present:n||Ey(s.checked)||s.checked===!0,children:a.jsx(Ze.span,{...i,ref:e,"data-state":Xk(s.checked)})})});BH.displayName=Gk;var Fle="MenuSeparator",HH=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ze.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});HH.displayName=Fle;var $le="MenuArrow",WH=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=E0(r);return a.jsx(ik,{...i,...n,ref:e})});WH.displayName=$le;var Ble="MenuSub",[pke,UH]=Fc(Ble),zh="MenuSubTrigger",qH=w.forwardRef((t,e)=>{const r=$c(zh,t.__scopeMenu),n=km(zh,t.__scopeMenu),i=UH(zh,t.__scopeMenu),s=Uk(zh,t.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},f=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(Hk,{asChild:!0,...d,children:a.jsx(DH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":XH(r.open),...t,ref:ba(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,wp(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ee(t.onPointerLeave,wp(h=>{f();const m=r.content?.getBoundingClientRect();if(m){const g=r.content?.dataset.side,j=g==="right",x=j?-5:5,y=m[j?"left":"right"],b=m[j?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,h=>{const m=s.searchRef.current!=="";t.disabled||m&&h.key===" "||wle[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});qH.displayName=zh;var VH="MenuSubContent",GH=w.forwardRef((t,e)=>{const r=TH(ns,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=$c(ns,t.__scopeMenu),o=km(ns,t.__scopeMenu),l=UH(VH,t.__scopeMenu),c=w.useRef(null),d=ct(e,c);return a.jsx(bp.Provider,{scope:t.__scopeMenu,children:a.jsx(pi,{present:n||s.open,children:a.jsx(bp.Slot,{scope:t.__scopeMenu,children:a.jsx(qk,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&c.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ee(t.onKeyDown,f=>{const h=f.currentTarget.contains(f.target),m=jle[o.dir].includes(f.key);h&&m&&(s.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});GH.displayName=VH;function XH(t){return t?"open":"closed"}function Ey(t){return t==="indeterminate"}function Xk(t){return Ey(t)?"indeterminate":t?"checked":"unchecked"}function Hle(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Wle(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Ule(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=Wle(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function qle(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,f=l.y,h=c.x,m=c.y;f>n!=m>n&&r<(h-d)*(n-f)/(m-f)+d&&(i=!i)}return i}function Vle(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return qle(r,e)}function wp(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Gle=kH,Xle=Hk,Yle=AH,Kle=EH,Jle=Vk,Zle=MH,Qle=M0,ece=RH,tce=LH,rce=FH,nce=BH,ice=HH,sce=WH,ace=qH,oce=GH,D0="DropdownMenu",[lce]=En(D0,[OH]),Gn=OH(),[cce,YH]=lce(D0),KH=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=Gn(e),d=w.useRef(null),[f,h]=ss({prop:i,defaultProp:s??!1,onChange:o,caller:D0});return a.jsx(cce,{scope:e,triggerId:rs(),triggerRef:d,contentId:rs(),open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),modal:l,children:a.jsx(Gle,{...c,open:f,onOpenChange:h,dir:n,modal:l,children:r})})};KH.displayName=D0;var JH="DropdownMenuTrigger",ZH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=YH(JH,r),o=Gn(r);return a.jsx(Xle,{asChild:!0,...o,children:a.jsx(Ze.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:ba(e,s.triggerRef),onPointerDown:Ee(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ee(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ZH.displayName=JH;var uce="DropdownMenuPortal",QH=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Gn(e);return a.jsx(Yle,{...n,...r})};QH.displayName=uce;var eW="DropdownMenuContent",tW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=YH(eW,r),s=Gn(r),o=w.useRef(!1);return a.jsx(Kle,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tW.displayName=eW;var dce="DropdownMenuGroup",fce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(Jle,{...i,...n,ref:e})});fce.displayName=dce;var hce="DropdownMenuLabel",rW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(Zle,{...i,...n,ref:e})});rW.displayName=hce;var pce="DropdownMenuItem",nW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(Qle,{...i,...n,ref:e})});nW.displayName=pce;var mce="DropdownMenuCheckboxItem",gce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(ece,{...i,...n,ref:e})});gce.displayName=mce;var vce="DropdownMenuRadioGroup",yce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(tce,{...i,...n,ref:e})});yce.displayName=vce;var xce="DropdownMenuRadioItem",bce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(rce,{...i,...n,ref:e})});bce.displayName=xce;var wce="DropdownMenuItemIndicator",jce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(nce,{...i,...n,ref:e})});jce.displayName=wce;var Sce="DropdownMenuSeparator",iW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(ice,{...i,...n,ref:e})});iW.displayName=Sce;var Cce="DropdownMenuArrow",Nce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(sce,{...i,...n,ref:e})});Nce.displayName=Cce;var _ce="DropdownMenuSubTrigger",Oce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(ace,{...i,...n,ref:e})});Oce.displayName=_ce;var Pce="DropdownMenuSubContent",kce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Gn(r);return a.jsx(oce,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kce.displayName=Pce;var Tce=KH,Ace=ZH,Ece=QH,Mce=tW,Dce=rW,Rce=nW,Ice=iW;function Yk({...t}){return a.jsx(Tce,{"data-slot":"dropdown-menu",...t})}function Kk({...t}){return a.jsx(Ace,{"data-slot":"dropdown-menu-trigger",...t})}function Jk({className:t,sideOffset:e=4,...r}){return a.jsx(Ece,{children:a.jsx(Mce,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function Zo({className:t,inset:e,variant:r="default",...n}){return a.jsx(Rce,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:Je("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function sW({className:t,inset:e,...r}){return a.jsx(Dce,{"data-slot":"dropdown-menu-label","data-inset":e,className:Je("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function Kh({className:t,...e}){return a.jsx(Ice,{"data-slot":"dropdown-menu-separator",className:Je("bg-border -mx-1 my-1 h-px",t),...e})}function un({children:t}){const e=fi(),r=kr(),{user:n,logout:i}=hi(),s=c=>e.pathname===c,o=()=>{i(),ve.success("Logged out successfully"),r("/")},l=[{path:"/admin/payment-verification",icon:Ux,label:"Payment Verification"},{path:"/admin/orders",icon:fl,label:"Orders"},{path:"/admin/products",icon:nr,label:"Products"},{path:"/admin/customizable-products",icon:I3,label:"Customizable Products"},{path:"/admin/canvas-resources",icon:bc,label:"Canvas Resources"},{path:"/admin/employees",icon:NP,label:"Employees"},{path:"/admin/inventory",icon:OK,label:"Inventory"},{path:"/admin/cash-flow",icon:$x,label:"Cash Flow"},{path:"/admin/reports",icon:bY,label:"Reports"}];return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-800",children:a.jsxs(Or,{to:"/admin/payment-verification",className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex size-10 items-center justify-center rounded-md bg-orange-500",children:a.jsx("span",{className:"text-white font-bold",children:"R"})}),a.jsx("span",{className:"font-semibold",children:"RFM Admin"})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:l.map(c=>{const d=c.icon,f=s(c.path);return a.jsxs(Or,{to:c.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${f?"bg-orange-500 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[a.jsx(d,{className:"size-5"}),a.jsx("span",{className:"text-sm",children:c.label})]},c.path)})})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-end px-6",children:a.jsxs(Yk,{children:[a.jsx(Kk,{asChild:!0,children:a.jsxs(ee,{variant:"ghost",className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center size-8 rounded-full bg-orange-500 text-white",children:a.jsx("span",{className:"text-sm font-medium",children:n?.name?.charAt(0).toUpperCase()||"A"})}),a.jsx("span",{className:"text-sm font-medium",children:"ADMIN USER"}),a.jsx(Ba,{className:"size-4"})]})}),a.jsxs(Jk,{align:"end",className:"w-56",children:[a.jsx(sW,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:n?.name||"Admin"}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n?.email||"admin@rfm.com"})]})}),a.jsx(Kh,{}),a.jsx(Zo,{onClick:()=>r("/"),children:"Go to Store"}),a.jsx(Kh,{}),a.jsxs(Zo,{onClick:o,children:[a.jsx(M3,{className:"mr-2 size-4"}),"Logout"]})]})]})}),a.jsx("main",{className:"flex-1 overflow-auto w-full",children:t})]})]})}const Kj="http://localhost:4000";function Lce(){const{user:t}=hi(),[e,r]=w.useState([]),[n,i]=w.useState(!0),[s,o]=w.useState(null),[l,c]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0);const y=await fetch(`${Kj}/api/payments?status=pending`,{credentials:"include"});if(!y.ok)throw new Error("Failed to load payments");const b=await y.json();r(b)}catch(y){console.error("Error loading payments:",y),ve.error("Failed to load payments")}finally{i(!1)}},m=async y=>{if(!t){ve.error("You must be logged in to approve payments");return}f(y);try{const b=await fetch(`${Kj}/api/payments/${y}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({verifiedBy:t.id})});if(!b.ok){const S=await b.json();throw new Error(S.error||"Failed to approve payment")}ve.success("Payment approved",{description:"The order has been approved and will proceed to production."}),await h()}catch(b){console.error("Error approving payment:",b),ve.error(b.message||"Failed to approve payment")}finally{f(null)}},g=async y=>{if(!t){ve.error("You must be logged in to reject payments");return}f(y);try{const b=await fetch(`${Kj}/api/payments/${y}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({verifiedBy:t.id})});if(!b.ok){const S=await b.json();throw new Error(S.error||"Failed to reject payment")}ve.error("Payment rejected",{description:"The customer will be notified about the rejection."}),await h()}catch(b){console.error("Error rejecting payment:",b),ve.error(b.message||"Failed to reject payment")}finally{f(null)}},j=y=>(typeof y=="string"?new Date(y):y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=e.filter(y=>y.paymentStatus==="pending");return n?a.jsx(un,{children:a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx($n,{className:"size-8 animate-spin text-gray-400"})})})}):a.jsxs(un,{children:[a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Payment Verification"}),a.jsx("p",{className:"text-gray-600",children:"Review and approve orders awaiting payment verification"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(y=>a.jsxs(ht,{className:"border-2",children:[a.jsxs(yr,{className:"pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded text-sm font-medium",children:y.orderId})}),a.jsx(nt,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:"Pending"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:j(y.submittedAt)})]}),a.jsxs(jt,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Customer"}),a.jsx("p",{className:"font-medium",children:y.customer.name}),a.jsx("p",{className:"text-sm text-gray-600",children:y.customer.email}),a.jsx("p",{className:"text-sm text-gray-600",children:y.customer.phone})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Summary"}),a.jsx("p",{className:"text-sm",children:y.orderSummary.items}),a.jsxs("p",{className:"font-bold mt-1",children:["Total: ",y.orderSummary.total.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Details"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ny,{className:"size-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium capitalize",children:y.paymentMethod})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Type:"}),a.jsx(nt,{variant:y.paymentType==="full"?"default":"secondary",children:y.paymentType==="full"?"Full Payment":"Partial Payment"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),a.jsxs("span",{className:"font-semibold",children:["",y.amountPaid.toFixed(2)]})]}),y.paymentType==="partial"&&y.remainingBalance>0&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining:"}),a.jsxs("span",{className:"font-semibold text-orange-600",children:["",y.remainingBalance.toFixed(2)]})]}),y.referenceNumber&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Reference:"}),a.jsx("span",{className:"font-mono text-xs",children:y.referenceNumber})]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs(ee,{variant:"outline",className:"w-full mb-2 text-blue-600 border-blue-600 hover:bg-blue-50",size:"sm",onClick:()=>{o(y),c(!0)},children:[a.jsx(to,{className:"size-4 mr-1"}),"View Receipt"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ee,{onClick:()=>m(y.id),disabled:d===y.id,className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[d===y.id?a.jsx($n,{className:"size-4 mr-1 animate-spin"}):a.jsx(Ju,{className:"size-4 mr-1"}),"Approve"]}),a.jsxs(ee,{onClick:()=>g(y.id),disabled:d===y.id,variant:"destructive",size:"sm",children:[d===y.id?a.jsx($n,{className:"size-4 mr-1 animate-spin"}):a.jsx(Ct,{className:"size-4 mr-1"}),"Reject"]})]})]})]})]},y.id))}),x.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ux,{className:"size-16 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"All caught up!"}),a.jsx("p",{className:"text-gray-600",children:"No pending payment verifications at the moment."})]})]}),a.jsx(cd,{open:l,onOpenChange:c,children:a.jsxs(ud,{className:"sm:max-w-2xl",children:[a.jsx(dd,{children:a.jsxs(fd,{children:["Payment Receipt - ",s?.orderId]})}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Customer:"}),a.jsx("span",{className:"font-medium",children:s.customer.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Payment Type:"}),a.jsx(nt,{variant:s.paymentType==="full"?"default":"secondary",children:s.paymentType==="full"?"Full Payment":"Partial Payment"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Amount Paid:"}),a.jsxs("span",{className:"font-semibold",children:["",s.amountPaid.toFixed(2)]})]}),s.paymentType==="partial"&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Remaining Balance:"}),a.jsxs("span",{className:"font-semibold text-orange-600",children:["",s.remainingBalance.toFixed(2)]})]}),s.referenceNumber&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Reference Number:"}),a.jsx("span",{className:"font-mono text-sm",children:s.referenceNumber})]})]}),s.receiptUrl?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("img",{src:s.receiptUrl,alt:"Payment Receipt",className:"w-full h-auto"})}):a.jsx("div",{className:"border rounded-lg p-8 text-center text-gray-500",children:"No receipt image available"})]})]})})]})}const zce="http://localhost:4000";function Fce({orderId:t,onClose:e}){const[r,n]=w.useState(null),[i,s]=w.useState(!0),[o,l]=w.useState(!1),[c,d]=w.useState(null);w.useEffect(()=>{(async()=>{try{s(!0);const b=await fetch(`${zce}/api/orders/${t}`,{credentials:"include"});if(!b.ok)throw new Error("Failed to fetch order details");const S=await b.json();n(S)}catch(b){console.error("Error fetching order:",b),ve.error("Failed to load order details")}finally{s(!1)}})()},[t]);const f=y=>{navigator.clipboard.writeText(y),l(!0),ve.success("Copied to clipboard"),setTimeout(()=>l(!1),2e3)},h=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",m=y=>y?new Date(y).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",g=y=>({payment_pending:"bg-yellow-100 text-yellow-800",pending:"bg-blue-100 text-blue-800",designing:"bg-cyan-100 text-cyan-800",ripping:"bg-blue-100 text-blue-800",heatpress:"bg-purple-100 text-purple-800",assembly:"bg-red-100 text-red-800",qa:"bg-orange-100 text-orange-800",packing:"bg-green-100 text-green-800",done:"bg-green-100 text-green-800",shipping:"bg-purple-100 text-purple-800",delivered:"bg-teal-100 text-teal-800",cancelled:"bg-gray-100 text-gray-800"})[y]||"bg-gray-100 text-gray-800",j=y=>({pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[y]||"bg-gray-100 text-gray-800";if(i)return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})});if(!r)return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Not Found"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["Could not load order details for ",t]}),a.jsx(ee,{onClick:e,children:"Close"})]})});const x=r.payment?.type==="partial"||(r.balanceRemaining||0)>0;return!x&&r.payment?.status,a.jsxs("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:[a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8 shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Order Details"}),a.jsx(nt,{className:g(r.status),children:r.status.replace("_"," ").replace(/\b\w/g,y=>y.toUpperCase())})]}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:e,children:a.jsx(Ct,{className:"size-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[a.jsx("section",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Order ID"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-bold text-lg",children:r.id}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>f(r.id),className:"h-6 w-6 p-0",children:o?a.jsx(Ss,{className:"size-4 text-green-600"}):a.jsx(ry,{className:"size-4"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Order Date"}),a.jsx("p",{className:"font-medium",children:h(r.orderDate)})]})]})}),a.jsxs("section",{children:[a.jsxs("h3",{className:"font-semibold text-lg border-b pb-2 mb-4 flex items-center gap-2",children:[a.jsx(D3,{className:"size-5"}),"Delivery Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),a.jsx("p",{className:"font-medium",children:r.customer.name})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[a.jsx(Hx,{className:"size-4"}),"Email"]}),a.jsx("p",{className:"font-medium",children:r.customer.email})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[a.jsx(Wx,{className:"size-4"}),"Phone"]}),a.jsx("p",{className:"font-medium",children:r.customer.phone||"N/A"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Address"}),a.jsx("p",{className:"font-medium",children:r.customer.address||"N/A"})]})]})]}),a.jsx(qt,{}),a.jsxs("section",{children:[a.jsxs("h3",{className:"font-semibold text-lg border-b pb-2 mb-4 flex items-center gap-2",children:[a.jsx(nr,{className:"size-5"}),"Product Details"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:[r.items.length," item(s)"]}),r.items.map(y=>(y.image&&console.log(`Product ${y.name} image URL:`,y.image),a.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-3",children:[y.image?a.jsxs("div",{className:"relative flex-shrink-0 w-16 h-16 bg-white border border-gray-200 rounded-md overflow-hidden cursor-pointer hover:border-gray-400 transition-all group",onClick:()=>d(y.image||null),children:[a.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover",loading:"lazy",onError:b=>{b.target.src="https://via.placeholder.com/64?text=No+Image"}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx(z3,{className:"size-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):a.jsxs("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 border border-gray-300 rounded-md flex items-center justify-center",children:[a.jsx(nr,{className:"size-5 text-gray-400"}),a.jsx("span",{className:"sr-only",children:"No image available"})]}),a.jsxs("div",{className:"flex-1 flex items-start justify-between min-w-0",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium mb-1 text-sm",children:y.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",y.quantity,"  ",y.unitPrice.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsx("div",{className:"text-right ml-4 flex-shrink-0",children:a.jsxs("p",{className:"font-bold text-base",children:["",y.subtotal.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})]})},y.id)))]})]}),a.jsx(qt,{}),a.jsxs("section",{children:[a.jsxs("h3",{className:"font-semibold text-lg border-b pb-2 mb-4 flex items-center gap-2",children:[a.jsx(ny,{className:"size-5"}),"Payment Information"]}),r.payment?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),a.jsx("p",{className:"font-medium",children:r.payment.method||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Status"}),a.jsx(nt,{className:j(r.payment.status),children:r.payment.status.charAt(0).toUpperCase()+r.payment.status.slice(1)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Type"}),a.jsx(nt,{variant:x?"secondary":"default",children:x?"Partial Payment":"Full Payment"})]}),r.payment.referenceNumber&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Reference Number"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium",children:r.payment.referenceNumber}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>f(r.payment.referenceNumber),className:"h-6 w-6 p-0",children:o?a.jsx(Ss,{className:"size-4 text-green-600"}):a.jsx(ry,{className:"size-4"})})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Order Total:"}),a.jsxs("span",{className:"font-bold",children:["",r.total.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),a.jsxs("span",{className:"font-bold text-green-600",children:["",r.payment.amountPaid.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),x&&a.jsxs("div",{className:"flex justify-between border-t pt-2",children:[a.jsx("span",{className:"text-gray-600",children:"Balance Remaining:"}),a.jsxs("span",{className:"font-bold text-orange-600",children:["",r.balanceRemaining.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2 border-t",children:[r.payment.createdAt&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[a.jsx(zx,{className:"size-4"}),"Payment Created"]}),a.jsx("p",{className:"font-medium text-sm",children:m(r.payment.createdAt)})]}),r.payment.verifiedAt&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[a.jsx(Ss,{className:"size-4"}),"Payment Verified"]}),a.jsx("p",{className:"font-medium text-sm",children:m(r.payment.verifiedAt)})]}),r.payment.paidAt&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[a.jsx(ny,{className:"size-4"}),"Payment Approved"]}),a.jsx("p",{className:"font-medium text-sm",children:m(r.payment.paidAt)})]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:a.jsx("p",{children:"No payment information available"})})]}),r.shipping&&(r.shipping.trackingNumber||r.shipping.carrier)&&a.jsxs(a.Fragment,{children:[a.jsx(qt,{}),a.jsxs("section",{children:[a.jsxs("h3",{className:"font-semibold text-lg border-b pb-2 mb-4 flex items-center gap-2",children:[a.jsx(nr,{className:"size-5"}),"Shipping Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.shipping.trackingNumber&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Tracking Number"}),a.jsx("p",{className:"font-medium",children:r.shipping.trackingNumber})]}),r.shipping.carrier&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Carrier"}),a.jsx("p",{className:"font-medium",children:r.shipping.carrier})]}),r.shipping.shippedDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Shipped Date"}),a.jsx("p",{className:"font-medium",children:h(r.shipping.shippedDate)})]}),r.shipping.estimatedDelivery&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Estimated Delivery"}),a.jsx("p",{className:"font-medium",children:h(r.shipping.estimatedDelivery)})]})]})]})]}),r.notes&&a.jsxs(a.Fragment,{children:[a.jsx(qt,{}),a.jsxs("section",{children:[a.jsxs("h3",{className:"font-semibold text-lg border-b pb-2 mb-4 flex items-center gap-2",children:[a.jsx(jY,{className:"size-5"}),"Notes"]}),a.jsx("p",{className:"text-gray-700",children:r.notes})]})]}),r.estimatedCompletion&&a.jsxs(a.Fragment,{children:[a.jsx(qt,{}),a.jsx("section",{children:a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Estimated Completion"}),a.jsx("p",{className:"font-medium",children:h(r.estimatedCompletion)})]})})]})]}),a.jsx("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:a.jsx(ee,{variant:"outline",onClick:e,children:"Close"})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-8",onClick:()=>d(null),children:a.jsxs("div",{className:"relative max-w-7xl max-h-full w-full h-full flex items-center justify-center",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 bg-white/10 hover:bg-white/20 text-white",onClick:()=>d(null),children:a.jsx(Ct,{className:"size-6"})}),a.jsx("img",{src:c,alt:"Product image",className:"max-w-full max-h-full object-contain rounded-lg",onClick:y=>y.stopPropagation()})]})})]})}function $ce(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return w.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const R0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rf(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Zk(t){return"nodeType"in t}function Xn(t){var e,r;return t?rf(t)?t:Zk(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function Qk(t){const{Document:e}=Xn(t);return t instanceof e}function Tm(t){return rf(t)?!1:t instanceof Xn(t).HTMLElement}function aW(t){return t instanceof Xn(t).SVGElement}function nf(t){return t?rf(t)?t.document:Zk(t)?Qk(t)?t:Tm(t)||aW(t)?t.ownerDocument:document:document:document}const Fs=R0?w.useLayoutEffect:w.useEffect;function I0(t){const e=w.useRef(t);return Fs(()=>{e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function Bce(){const t=w.useRef(null),e=w.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=w.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function jp(t,e){e===void 0&&(e=[t]);const r=w.useRef(t);return Fs(()=>{r.current!==t&&(r.current=t)},e),r}function Am(t,e){const r=w.useRef();return w.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function My(t){const e=I0(t),r=w.useRef(null),n=w.useCallback(i=>{i!==r.current&&e?.(i,r.current),r.current=i},[]);return[r,n]}function Dy(t){const e=w.useRef();return w.useEffect(()=>{e.current=t},[t]),e.current}let Jj={};function Em(t,e){return w.useMemo(()=>{if(e)return e;const r=Jj[t]==null?0:Jj[t]+1;return Jj[t]=r,t+"-"+r},[t,e])}function oW(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((s,o)=>{const l=Object.entries(o);for(const[c,d]of l){const f=s[c];f!=null&&(s[c]=f+t*d)}return s},{...e})}}const Uu=oW(1),Sp=oW(-1);function Hce(t){return"clientX"in t&&"clientY"in t}function L0(t){if(!t)return!1;const{KeyboardEvent:e}=Xn(t.target);return e&&t instanceof e}function Wce(t){if(!t)return!1;const{TouchEvent:e}=Xn(t.target);return e&&t instanceof e}function Ry(t){if(Wce(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return Hce(t)?{x:t.clientX,y:t.clientY}:null}const vl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[vl.Translate.toString(t),vl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),UD="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Uce(t){return t.matches(UD)?t:t.querySelector(UD)}const qce={display:"none"};function Vce(t){let{id:e,value:r}=t;return Y.createElement("div",{id:e,style:qce},r)}function Gce(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Y.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function Xce(){const[t,e]=w.useState("");return{announce:w.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const lW=w.createContext(null);function Yce(t){const e=w.useContext(lW);w.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Kce(){const[t]=w.useState(()=>new Set),e=w.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[w.useCallback(n=>{let{type:i,event:s}=n;t.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,s)})},[t]),e]}const Jce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Zce={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Qce(t){let{announcements:e=Zce,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=Jce}=t;const{announce:s,announcement:o}=Xce(),l=Em("DndLiveRegion"),[c,d]=w.useState(!1);if(w.useEffect(()=>{d(!0)},[]),Yce(w.useMemo(()=>({onDragStart(h){let{active:m}=h;s(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;e.onDragMove&&s(e.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;s(e.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;s(e.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;s(e.onDragCancel({active:m,over:g}))}}),[s,e])),!c)return null;const f=Y.createElement(Y.Fragment,null,Y.createElement(Vce,{id:n,value:i.draggable}),Y.createElement(Gce,{id:l,announcement:o}));return r?aa.createPortal(f,r):f}var Vr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Vr||(Vr={}));function Iy(){}function qD(t,e){return w.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function eue(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return w.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const $s=Object.freeze({x:0,y:0});function tue(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rue(t,e){const r=Ry(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function nue(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function iue(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function VD(t){let{left:e,top:r,height:n,width:i}=t;return[{x:e,y:r},{x:e+i,y:r},{x:e,y:r+n},{x:e+i,y:r+n}]}function cW(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}const uW=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=VD(e),s=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const d=VD(c),f=i.reduce((m,g,j)=>m+tue(d[j],g),0),h=Number((f/4).toFixed(4));s.push({id:l,data:{droppableContainer:o,value:h}})}}return s.sort(nue)};function sue(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-n,l=s-r;if(n<i&&r<s){const c=e.width*e.height,d=t.width*t.height,f=o*l,h=f/(c+d-f);return Number(h.toFixed(4))}return 0}const aue=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const s of n){const{id:o}=s,l=r.get(o);if(l){const c=sue(l,e);c>0&&i.push({id:o,data:{droppableContainer:s,value:c}})}}return i.sort(iue)};function oue(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function dW(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:$s}function lue(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...r})}}const cue=lue(1);function fW(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function uue(t,e,r){const n=fW(e);if(!n)return t;const{scaleX:i,scaleY:s,x:o,y:l}=n,c=t.left-o-(1-i)*parseFloat(r),d=t.top-l-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),f=i?t.width/i:t.width,h=s?t.height/s:t.height;return{width:f,height:h,top:d,right:c+f,bottom:d+h,left:c}}const due={ignoreTransform:!1};function sf(t,e){e===void 0&&(e=due);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=Xn(t).getComputedStyle(t);d&&(r=uue(r,d,f))}const{top:n,left:i,width:s,height:o,bottom:l,right:c}=r;return{top:n,left:i,width:s,height:o,bottom:l,right:c}}function GD(t){return sf(t,{ignoreTransform:!0})}function fue(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function hue(t,e){return e===void 0&&(e=Xn(t).getComputedStyle(t)),e.position==="fixed"}function pue(t,e){e===void 0&&(e=Xn(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?r.test(s):!1})}function z0(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(Qk(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Tm(i)||aW(i)||r.includes(i))return r;const s=Xn(t).getComputedStyle(i);return i!==t&&pue(i,s)&&r.push(i),hue(i,s)?r:n(i.parentNode)}return t?n(t):r}function hW(t){const[e]=z0(t,1);return e??null}function Zj(t){return!R0||!t?null:rf(t)?t:Zk(t)?Qk(t)||t===nf(t).scrollingElement?window:Tm(t)?t:null:null}function pW(t){return rf(t)?t.scrollX:t.scrollLeft}function mW(t){return rf(t)?t.scrollY:t.scrollTop}function Y_(t){return{x:pW(t),y:mW(t)}}var on;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(on||(on={}));function gW(t){return!R0||!t?!1:t===document.scrollingElement}function vW(t){const e={x:0,y:0},r=gW(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=n.y,l=t.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:o,isRight:l,maxScroll:n,minScroll:e}}const mue={x:.2,y:.2};function gue(t,e,r,n,i){let{top:s,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),i===void 0&&(i=mue);const{isTop:d,isBottom:f,isLeft:h,isRight:m}=vW(t),g={x:0,y:0},j={x:0,y:0},x={height:e.height*i.y,width:e.width*i.x};return!d&&s<=e.top+x.height?(g.y=on.Backward,j.y=n*Math.abs((e.top+x.height-s)/x.height)):!f&&c>=e.bottom-x.height&&(g.y=on.Forward,j.y=n*Math.abs((e.bottom-x.height-c)/x.height)),!m&&l>=e.right-x.width?(g.x=on.Forward,j.x=n*Math.abs((e.right-x.width-l)/x.width)):!h&&o<=e.left+x.width&&(g.x=on.Backward,j.x=n*Math.abs((e.left+x.width-o)/x.width)),{direction:g,speed:j}}function vue(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function yW(t){return t.reduce((e,r)=>Uu(e,Y_(r)),$s)}function yue(t){return t.reduce((e,r)=>e+pW(r),0)}function xue(t){return t.reduce((e,r)=>e+mW(r),0)}function xW(t,e){if(e===void 0&&(e=sf),!t)return;const{top:r,left:n,bottom:i,right:s}=e(t);hW(t)&&(i<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const bue=[["x",["left","right"],yue],["y",["top","bottom"],xue]];class e2{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=z0(r),i=yW(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,l]of bue)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(n),f=i[s]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function wue(t){const{EventTarget:e}=Xn(t);return t instanceof e?t:nf(t)}function Qj(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Ki;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ki||(Ki={}));function XD(t){t.preventDefault()}function jue(t){t.stopPropagation()}var St;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(St||(St={}));const bW={start:[St.Space,St.Enter],cancel:[St.Esc],end:[St.Space,St.Enter,St.Tab]},Sue=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case St.Right:return{...r,x:r.x+25};case St.Left:return{...r,x:r.x-25};case St.Down:return{...r,y:r.y+25};case St.Up:return{...r,y:r.y-25}}};class t2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Jh(nf(r)),this.windowListeners=new Jh(Xn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ki.Resize,this.handleCancel),this.windowListeners.add(Ki.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ki.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&xW(n),r($s)}handleKeyDown(e){if(L0(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:s=bW,coordinateGetter:o=Sue,scrollBehavior:l="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=n.current,f=d?{x:d.left,y:d.top}:$s;this.referenceCoordinates||(this.referenceCoordinates=f);const h=o(e,{active:r,context:n.current,currentCoordinates:f});if(h){const m=Sp(h,f),g={x:0,y:0},{scrollableAncestors:j}=n.current;for(const x of j){const y=e.code,{isTop:b,isRight:S,isLeft:O,isBottom:P,maxScroll:C,minScroll:_}=vW(x),k=vue(x),A={x:Math.min(y===St.Right?k.right-k.width/2:k.right,Math.max(y===St.Right?k.left:k.left+k.width/2,h.x)),y:Math.min(y===St.Down?k.bottom-k.height/2:k.bottom,Math.max(y===St.Down?k.top:k.top+k.height/2,h.y))},M=y===St.Right&&!S||y===St.Left&&!O,D=y===St.Down&&!P||y===St.Up&&!b;if(M&&A.x!==h.x){const L=x.scrollLeft+m.x,W=y===St.Right&&L<=C.x||y===St.Left&&L>=_.x;if(W&&!m.y){x.scrollTo({left:L,behavior:l});return}W?g.x=x.scrollLeft-L:g.x=y===St.Right?x.scrollLeft-C.x:x.scrollLeft-_.x,g.x&&x.scrollBy({left:-g.x,behavior:l});break}else if(D&&A.y!==h.y){const L=x.scrollTop+m.y,W=y===St.Down&&L<=C.y||y===St.Up&&L>=_.y;if(W&&!m.x){x.scrollTo({top:L,behavior:l});return}W?g.y=x.scrollTop-L:g.y=y===St.Down?x.scrollTop-C.y:x.scrollTop-_.y,g.y&&x.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(e,Uu(Sp(h,this.referenceCoordinates),g))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}t2.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=bW,onActivation:i}=e,{active:s}=r;const{code:o}=t.nativeEvent;if(n.start.includes(o)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function YD(t){return!!(t&&"distance"in t)}function KD(t){return!!(t&&"delay"in t)}class r2{constructor(e,r,n){var i;n===void 0&&(n=wue(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:s}=e,{target:o}=s;this.props=e,this.events=r,this.document=nf(o),this.documentListeners=new Jh(this.document),this.listeners=new Jh(n),this.windowListeners=new Jh(Xn(o)),this.initialCoordinates=(i=Ry(s))!=null?i:$s,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ki.Resize,this.handleCancel),this.windowListeners.add(Ki.DragStart,XD),this.windowListeners.add(Ki.VisibilityChange,this.handleCancel),this.windowListeners.add(Ki.ContextMenu,XD),this.documentListeners.add(Ki.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(KD(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(YD(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ki.Click,jue,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ki.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:l}}=s;if(!i)return;const c=(r=Ry(e))!=null?r:$s,d=Sp(i,c);if(!n&&l){if(YD(l)){if(l.tolerance!=null&&Qj(d,l.tolerance))return this.handleCancel();if(Qj(d,l.distance))return this.handleStart()}if(KD(l)&&Qj(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===St.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Cue={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class n2 extends r2{constructor(e){const{event:r}=e,n=nf(r.target);super(e,Cue,n)}}n2.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const Nue={move:{name:"mousemove"},end:{name:"mouseup"}};var K_;(function(t){t[t.RightClick=2]="RightClick"})(K_||(K_={}));class _ue extends r2{constructor(e){super(e,Nue,nf(e.event.target))}}_ue.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===K_.RightClick?!1:(n?.({event:r}),!0)}}];const e1={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Oue extends r2{constructor(e){super(e,e1)}static setup(){return window.addEventListener(e1.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(e1.move.name,e)};function e(){}}}Oue.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var Zh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Zh||(Zh={}));var Ly;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ly||(Ly={}));function Pue(t){let{acceleration:e,activator:r=Zh.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:o=5,order:l=Ly.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:h,threshold:m}=t;const g=Tue({delta:h,disabled:!s}),[j,x]=Bce(),y=w.useRef({x:0,y:0}),b=w.useRef({x:0,y:0}),S=w.useMemo(()=>{switch(r){case Zh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Zh.DraggableRect:return i}},[r,i,c]),O=w.useRef(null),P=w.useCallback(()=>{const _=O.current;if(!_)return;const k=y.current.x*b.current.x,A=y.current.y*b.current.y;_.scrollBy(k,A)},[]),C=w.useMemo(()=>l===Ly.TreeOrder?[...d].reverse():d,[l,d]);w.useEffect(()=>{if(!s||!d.length||!S){x();return}for(const _ of C){if(n?.(_)===!1)continue;const k=d.indexOf(_),A=f[k];if(!A)continue;const{direction:M,speed:D}=gue(_,A,S,e,m);for(const L of["x","y"])g[L][M[L]]||(D[L]=0,M[L]=0);if(D.x>0||D.y>0){x(),O.current=_,j(P,o),y.current=D,b.current=M;return}}y.current={x:0,y:0},b.current={x:0,y:0},x()},[e,P,n,x,s,o,JSON.stringify(S),JSON.stringify(g),j,d,C,f,JSON.stringify(m)])}const kue={x:{[on.Backward]:!1,[on.Forward]:!1},y:{[on.Backward]:!1,[on.Forward]:!1}};function Tue(t){let{delta:e,disabled:r}=t;const n=Dy(e);return Am(i=>{if(r||!n||!i)return kue;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[on.Backward]:i.x[on.Backward]||s.x===-1,[on.Forward]:i.x[on.Forward]||s.x===1},y:{[on.Backward]:i.y[on.Backward]||s.y===-1,[on.Forward]:i.y[on.Forward]||s.y===1}}},[r,e,n])}function Aue(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return Am(i=>{var s;return e==null?null:(s=n??i)!=null?s:null},[n,e])}function Eue(t,e){return w.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,n)}));return[...r,...s]},[]),[t,e])}var Cp;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Cp||(Cp={}));var J_;(function(t){t.Optimized="optimized"})(J_||(J_={}));const JD=new Map;function Mue(t,e){let{dragging:r,dependencies:n,config:i}=e;const[s,o]=w.useState(null),{frequency:l,measure:c,strategy:d}=i,f=w.useRef(t),h=y(),m=jp(h),g=w.useCallback(function(b){b===void 0&&(b=[]),!m.current&&o(S=>S===null?b:S.concat(b.filter(O=>!S.includes(O))))},[m]),j=w.useRef(null),x=Am(b=>{if(h&&!r)return JD;if(!b||b===JD||f.current!==t||s!=null){const S=new Map;for(let O of t){if(!O)continue;if(s&&s.length>0&&!s.includes(O.id)&&O.rect.current){S.set(O.id,O.rect.current);continue}const P=O.node.current,C=P?new e2(c(P),P):null;O.rect.current=C,C&&S.set(O.id,C)}return S}return b},[t,s,r,h,c]);return w.useEffect(()=>{f.current=t},[t]),w.useEffect(()=>{h||g()},[r,h]),w.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),w.useEffect(()=>{h||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{g(),j.current=null},l))},[l,h,g,...n]),{droppableRects:x,measureDroppableContainers:g,measuringScheduled:s!=null};function y(){switch(d){case Cp.Always:return!1;case Cp.BeforeDragging:return r;default:return!r}}}function i2(t,e){return Am(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function Due(t,e){return i2(t,e)}function Rue(t){let{callback:e,disabled:r}=t;const n=I0(e),i=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return w.useEffect(()=>()=>i?.disconnect(),[i]),i}function F0(t){let{callback:e,disabled:r}=t;const n=I0(e),i=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return w.useEffect(()=>()=>i?.disconnect(),[i]),i}function Iue(t){return new e2(sf(t),t)}function ZD(t,e,r){e===void 0&&(e=Iue);const[n,i]=w.useState(null);function s(){i(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??r)!=null?d:null}const f=e(t);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const o=Rue({callback(c){if(t)for(const d of c){const{type:f,target:h}=d;if(f==="childList"&&h instanceof HTMLElement&&h.contains(t)){s();break}}}}),l=F0({callback:s});return Fs(()=>{s(),t?(l?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),o?.disconnect())},[t]),n}function Lue(t){const e=i2(t);return dW(t,e)}const QD=[];function zue(t){const e=w.useRef(t),r=Am(n=>t?n&&n!==QD&&t&&e.current&&t.parentNode===e.current.parentNode?n:z0(t):QD,[t]);return w.useEffect(()=>{e.current=t},[t]),r}function Fue(t){const[e,r]=w.useState(null),n=w.useRef(t),i=w.useCallback(s=>{const o=Zj(s.target);o&&r(l=>l?(l.set(o,Y_(o)),new Map(l)):null)},[]);return w.useEffect(()=>{const s=n.current;if(t!==s){o(s);const l=t.map(c=>{const d=Zj(c);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,Y_(d)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=t}return()=>{o(t),o(s)};function o(l){l.forEach(c=>{const d=Zj(c);d?.removeEventListener("scroll",i)})}},[i,t]),w.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Uu(s,o),$s):yW(t):$s,[t,e])}function eR(t,e){e===void 0&&(e=[]);const r=w.useRef(null);return w.useEffect(()=>{r.current=null},e),w.useEffect(()=>{const n=t!==$s;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?Sp(t,r.current):$s}function $ue(t){w.useEffect(()=>{if(!R0)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function Bue(t,e){return w.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:s}=n;return r[i]=o=>{s(o,e)},r},{}),[t,e])}function wW(t){return w.useMemo(()=>t?fue(t):null,[t])}const tR=[];function Hue(t,e){e===void 0&&(e=sf);const[r]=t,n=wW(r?Xn(r):null),[i,s]=w.useState(tR);function o(){s(()=>t.length?t.map(c=>gW(c)?n:new e2(e(c),c)):tR)}const l=F0({callback:o});return Fs(()=>{l?.disconnect(),o(),t.forEach(c=>l?.observe(c))},[t]),i}function jW(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Tm(e)?e:t}function Wue(t){let{measure:e}=t;const[r,n]=w.useState(null),i=w.useCallback(d=>{for(const{target:f}of d)if(Tm(f)){n(h=>{const m=e(f);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),s=F0({callback:i}),o=w.useCallback(d=>{const f=jW(d);s?.disconnect(),f&&s?.observe(f),n(f?e(f):null)},[e,s]),[l,c]=My(o);return w.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const Uue=[{sensor:n2,options:{}},{sensor:t2,options:{}}],que={current:{}},Kv={draggable:{measure:GD},droppable:{measure:GD,strategy:Cp.WhileDragging,frequency:J_.Optimized},dragOverlay:{measure:sf}};class Qh extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const Vue={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Iy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Kv,measureDroppableContainers:Iy,windowRect:null,measuringScheduled:!1},SW={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Iy,draggableNodes:new Map,over:null,measureDroppableContainers:Iy},Mm=w.createContext(SW),CW=w.createContext(Vue);function Gue(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qh}}}function Xue(t,e){switch(e.type){case Vr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Vr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Vr.DragEnd:case Vr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vr.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new Qh(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case Vr.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const o=new Qh(t.droppable.containers);return o.set(r,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Vr.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const s=new Qh(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function Yue(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=w.useContext(Mm),s=Dy(n),o=Dy(r?.id);return w.useEffect(()=>{if(!e&&!n&&s&&o!=null){if(!L0(s)||document.activeElement===s.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const h=Uce(f);if(h){h.focus();break}}})}},[n,e,i,o,s]),null}function NW(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...n}),r):r}function Kue(t){return w.useMemo(()=>({draggable:{...Kv.draggable,...t?.draggable},droppable:{...Kv.droppable,...t?.droppable},dragOverlay:{...Kv.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Jue(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const s=w.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Fs(()=>{if(!o&&!l||!e){s.current=!1;return}if(s.current||!n)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const f=r(d),h=dW(f,n);if(o||(h.x=0),l||(h.y=0),s.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=hW(d);m&&m.scrollBy({top:h.y,left:h.x})}},[e,o,l,n,r])}const $0=w.createContext({...$s,scaleX:1,scaleY:1});var Uo;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Uo||(Uo={}));const Zue=w.memo(function(e){var r,n,i,s;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:f=Uue,collisionDetection:h=aue,measuring:m,modifiers:g,...j}=e;const x=w.useReducer(Xue,void 0,Gue),[y,b]=x,[S,O]=Kce(),[P,C]=w.useState(Uo.Uninitialized),_=P===Uo.Initialized,{draggable:{active:k,nodes:A,translate:M},droppable:{containers:D}}=y,L=k!=null?A.get(k):null,W=w.useRef({initial:null,translated:null}),$=w.useMemo(()=>{var Wt;return k!=null?{id:k,data:(Wt=L?.data)!=null?Wt:que,rect:W}:null},[k,L]),H=w.useRef(null),[z,q]=w.useState(null),[E,U]=w.useState(null),B=jp(j,Object.values(j)),I=Em("DndDescribedBy",o),F=w.useMemo(()=>D.getEnabled(),[D]),G=Kue(m),{droppableRects:Z,measureDroppableContainers:K,measuringScheduled:ae}=Mue(F,{dragging:_,dependencies:[M.x,M.y],config:G.droppable}),ie=Aue(A,k),J=w.useMemo(()=>E?Ry(E):null,[E]),fe=Ii(),oe=Due(ie,G.draggable.measure);Jue({activeNode:k!=null?A.get(k):null,config:fe.layoutShiftCompensation,initialRect:oe,measure:G.draggable.measure});const ue=ZD(ie,G.draggable.measure,oe),de=ZD(ie?ie.parentElement:null),le=w.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ke=D.getNodeFor((r=le.current.over)==null?void 0:r.id),Ne=Wue({measure:G.dragOverlay.measure}),Le=(n=Ne.nodeRef.current)!=null?n:ie,Ke=_?(i=Ne.rect)!=null?i:ue:null,De=!!(Ne.nodeRef.current&&Ne.rect),vt=Lue(De?null:ue),je=wW(Le?Xn(Le):null),ft=zue(_?ke??ie:null),it=Hue(ft),st=NW(g,{transform:{x:M.x-vt.x,y:M.y-vt.y,scaleX:1,scaleY:1},activatorEvent:E,active:$,activeNodeRect:ue,containerNodeRect:de,draggingNodeRect:Ke,over:le.current.over,overlayNodeRect:Ne.rect,scrollableAncestors:ft,scrollableAncestorRects:it,windowRect:je}),Zt=J?Uu(J,M):null,yn=Fue(ft),br=eR(yn),gi=eR(yn,[ue]),_t=Uu(st,br),cr=Ke?cue(Ke,st):null,xn=$&&cr?h({active:$,collisionRect:cr,droppableRects:Z,droppableContainers:F,pointerCoordinates:Zt}):null,Tt=cW(xn,"id"),[Ft,Mn]=w.useState(null),vi=De?st:Uu(st,gi),xo=oue(vi,(s=Ft?.rect)!=null?s:null,ue),Yn=w.useRef(null),cs=w.useCallback((Wt,xt)=>{let{sensor:Xe,options:Ot}=xt;if(H.current==null)return;const Pt=A.get(H.current);if(!Pt)return;const mt=Wt.nativeEvent,Cr=new Xe({active:H.current,activeNode:Pt,event:mt,options:Ot,context:le,onAbort(bt){if(!A.get(bt))return;const{onDragAbort:Rt}=B.current,Xt={id:bt};Rt?.(Xt),S({type:"onDragAbort",event:Xt})},onPending(bt,Tr,Rt,Xt){if(!A.get(bt))return;const{onDragPending:Nr}=B.current,fn={id:bt,constraint:Tr,initialCoordinates:Rt,offset:Xt};Nr?.(fn),S({type:"onDragPending",event:fn})},onStart(bt){const Tr=H.current;if(Tr==null)return;const Rt=A.get(Tr);if(!Rt)return;const{onDragStart:Xt}=B.current,en={activatorEvent:mt,active:{id:Tr,data:Rt.data,rect:W}};aa.unstable_batchedUpdates(()=>{Xt?.(en),C(Uo.Initializing),b({type:Vr.DragStart,initialCoordinates:bt,active:Tr}),S({type:"onDragStart",event:en}),q(Yn.current),U(mt)})},onMove(bt){b({type:Vr.DragMove,coordinates:bt})},onEnd:Ut(Vr.DragEnd),onCancel:Ut(Vr.DragCancel)});Yn.current=Cr;function Ut(bt){return async function(){const{active:Rt,collisions:Xt,over:en,scrollAdjustedTranslate:Nr}=le.current;let fn=null;if(Rt&&Nr){const{cancelDrop:us}=B.current;fn={activatorEvent:mt,active:Rt,collisions:Xt,delta:Nr,over:en},bt===Vr.DragEnd&&typeof us=="function"&&await Promise.resolve(us(fn))&&(bt=Vr.DragCancel)}H.current=null,aa.unstable_batchedUpdates(()=>{b({type:bt}),C(Uo.Uninitialized),Mn(null),q(null),U(null),Yn.current=null;const us=bt===Vr.DragEnd?"onDragEnd":"onDragCancel";if(fn){const bo=B.current[us];bo?.(fn),S({type:us,event:fn})}})}}},[A]),Dn=w.useCallback((Wt,xt)=>(Xe,Ot)=>{const Pt=Xe.nativeEvent,mt=A.get(Ot);if(H.current!==null||!mt||Pt.dndKit||Pt.defaultPrevented)return;const Cr={active:mt};Wt(Xe,xt.options,Cr)===!0&&(Pt.dndKit={capturedBy:xt.sensor},H.current=Ot,cs(Xe,xt))},[A,cs]),Ri=Eue(f,Dn);$ue(f),Fs(()=>{ue&&P===Uo.Initializing&&C(Uo.Initialized)},[ue,P]),w.useEffect(()=>{const{onDragMove:Wt}=B.current,{active:xt,activatorEvent:Xe,collisions:Ot,over:Pt}=le.current;if(!xt||!Xe)return;const mt={active:xt,activatorEvent:Xe,collisions:Ot,delta:{x:_t.x,y:_t.y},over:Pt};aa.unstable_batchedUpdates(()=>{Wt?.(mt),S({type:"onDragMove",event:mt})})},[_t.x,_t.y]),w.useEffect(()=>{const{active:Wt,activatorEvent:xt,collisions:Xe,droppableContainers:Ot,scrollAdjustedTranslate:Pt}=le.current;if(!Wt||H.current==null||!xt||!Pt)return;const{onDragOver:mt}=B.current,Cr=Ot.get(Tt),Ut=Cr&&Cr.rect.current?{id:Cr.id,rect:Cr.rect.current,data:Cr.data,disabled:Cr.disabled}:null,bt={active:Wt,activatorEvent:xt,collisions:Xe,delta:{x:Pt.x,y:Pt.y},over:Ut};aa.unstable_batchedUpdates(()=>{Mn(Ut),mt?.(bt),S({type:"onDragOver",event:bt})})},[Tt]),Fs(()=>{le.current={activatorEvent:E,active:$,activeNode:ie,collisionRect:cr,collisions:xn,droppableRects:Z,draggableNodes:A,draggingNode:Le,draggingNodeRect:Ke,droppableContainers:D,over:Ft,scrollableAncestors:ft,scrollAdjustedTranslate:_t},W.current={initial:Ke,translated:cr}},[$,ie,xn,cr,A,Le,Ke,Z,D,Ft,ft,_t]),Pue({...fe,delta:M,draggingRect:cr,pointerCoordinates:Zt,scrollableAncestors:ft,scrollableAncestorRects:it});const Rn=w.useMemo(()=>({active:$,activeNode:ie,activeNodeRect:ue,activatorEvent:E,collisions:xn,containerNodeRect:de,dragOverlay:Ne,draggableNodes:A,droppableContainers:D,droppableRects:Z,over:Ft,measureDroppableContainers:K,scrollableAncestors:ft,scrollableAncestorRects:it,measuringConfiguration:G,measuringScheduled:ae,windowRect:je}),[$,ie,ue,E,xn,de,Ne,A,D,Z,Ft,K,ft,it,G,ae,je]),Vs=w.useMemo(()=>({activatorEvent:E,activators:Ri,active:$,activeNodeRect:ue,ariaDescribedById:{draggable:I},dispatch:b,draggableNodes:A,over:Ft,measureDroppableContainers:K}),[E,Ri,$,ue,b,I,A,Ft,K]);return Y.createElement(lW.Provider,{value:O},Y.createElement(Mm.Provider,{value:Vs},Y.createElement(CW.Provider,{value:Rn},Y.createElement($0.Provider,{value:xo},d)),Y.createElement(Yue,{disabled:l?.restoreFocus===!1})),Y.createElement(Qce,{...l,hiddenTextDescribedById:I}));function Ii(){const Wt=z?.autoScrollEnabled===!1,xt=typeof c=="object"?c.enabled===!1:c===!1,Xe=_&&!Wt&&!xt;return typeof c=="object"?{...c,enabled:Xe}:{enabled:Xe}}}),Que=w.createContext(null),rR="button",ede="Draggable";function tde(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const s=Em(ede),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:h,over:m}=w.useContext(Mm),{role:g=rR,roleDescription:j="draggable",tabIndex:x=0}=i??{},y=c?.id===e,b=w.useContext(y?$0:Que),[S,O]=My(),[P,C]=My(),_=Bue(o,e),k=jp(r);Fs(()=>(h.set(e,{id:e,key:s,node:S,activatorNode:P,data:k}),()=>{const M=h.get(e);M&&M.key===s&&h.delete(e)}),[h,e]);const A=w.useMemo(()=>({role:g,tabIndex:x,"aria-disabled":n,"aria-pressed":y&&g===rR?!0:void 0,"aria-roledescription":j,"aria-describedby":f.draggable}),[n,g,x,y,j,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:A,isDragging:y,listeners:n?void 0:_,node:S,over:m,setNodeRef:O,setActivatorNodeRef:C,transform:b}}function _W(){return w.useContext(CW)}const rde="Droppable",nde={timeout:25};function OW(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const s=Em(rde),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=w.useContext(Mm),f=w.useRef({disabled:r}),h=w.useRef(!1),m=w.useRef(null),g=w.useRef(null),{disabled:j,updateMeasurementsFor:x,timeout:y}={...nde,...i},b=jp(x??n),S=w.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),g.current=null},y)},[y]),O=F0({callback:S,disabled:j||!o}),P=w.useCallback((A,M)=>{O&&(M&&(O.unobserve(M),h.current=!1),A&&O.observe(A))},[O]),[C,_]=My(P),k=jp(e);return w.useEffect(()=>{!O||!C.current||(O.disconnect(),h.current=!1,O.observe(C.current))},[C,O]),w.useEffect(()=>(l({type:Vr.RegisterDroppable,element:{id:n,key:s,disabled:r,node:C,rect:m,data:k}}),()=>l({type:Vr.UnregisterDroppable,key:s,id:n})),[n]),w.useEffect(()=>{r!==f.current.disabled&&(l({type:Vr.SetDroppableDisabled,id:n,key:s,disabled:r}),f.current.disabled=r)},[n,s,r,l]),{active:o,rect:m,isOver:c?.id===n,node:C,over:c,setNodeRef:_}}function ide(t){let{animation:e,children:r}=t;const[n,i]=w.useState(null),[s,o]=w.useState(null),l=Dy(r);return!r&&!n&&l&&i(l),Fs(()=>{if(!s)return;const c=n?.key,d=n?.props.id;if(c==null||d==null){i(null);return}Promise.resolve(e(d,s)).then(()=>{i(null)})},[e,n,s]),Y.createElement(Y.Fragment,null,r,n?w.cloneElement(n,{ref:o}):null)}const sde={x:0,y:0,scaleX:1,scaleY:1};function ade(t){let{children:e}=t;return Y.createElement(Mm.Provider,{value:SW},Y.createElement($0.Provider,{value:sde},e))}const ode={position:"fixed",touchAction:"none"},lde=t=>L0(t)?"transform 250ms ease":void 0,cde=w.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:s,className:o,rect:l,style:c,transform:d,transition:f=lde}=t;if(!l)return null;const h=i?d:{...d,scaleX:1,scaleY:1},m={...ode,width:l.width,height:l.height,top:l.top,left:l.left,transform:vl.Transform.toString(h),transformOrigin:i&&n?rue(n,l):void 0,transition:typeof f=="function"?f(n):f,...c};return Y.createElement(r,{className:o,style:m,ref:e},s)}),ude=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:s,className:o}=t;if(s!=null&&s.active)for(const[l,c]of Object.entries(s.active))c!==void 0&&(i[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(s!=null&&s.dragOverlay)for(const[l,c]of Object.entries(s.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(i))r.node.style.setProperty(c,d);o!=null&&o.active&&r.node.classList.remove(o.active)}},dde=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:vl.Transform.toString(e)},{transform:vl.Transform.toString(r)}]},fde={duration:250,easing:"ease",keyframes:dde,sideEffects:ude({styles:{active:{opacity:"0"}}})};function hde(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return I0((s,o)=>{if(e===null)return;const l=r.get(s);if(!l)return;const c=l.node.current;if(!c)return;const d=jW(o);if(!d)return;const{transform:f}=Xn(o).getComputedStyle(o),h=fW(f);if(!h)return;const m=typeof e=="function"?e:pde(e);return xW(c,i.draggable.measure),m({active:{id:s,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:i.dragOverlay.measure(d)},droppableContainers:n,measuringConfiguration:i,transform:h})})}function pde(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...fde,...t};return s=>{let{active:o,dragOverlay:l,transform:c,...d}=s;if(!e)return;const f={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-f.x,y:c.y-f.y,...h},g=i({...d,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[j]=g,x=g[g.length-1];if(JSON.stringify(j)===JSON.stringify(x))return;const y=n?.({active:o,dragOverlay:l,...d}),b=l.node.animate(g,{duration:e,easing:r,fill:"forwards"});return new Promise(S=>{b.onfinish=()=>{y?.(),S()}})}}let nR=0;function mde(t){return w.useMemo(()=>{if(t!=null)return nR++,nR},[t])}const gde=Y.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:s,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=t;const{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:g,draggableNodes:j,droppableContainers:x,dragOverlay:y,over:b,measuringConfiguration:S,scrollableAncestors:O,scrollableAncestorRects:P,windowRect:C}=_W(),_=w.useContext($0),k=mde(h?.id),A=NW(o,{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:g,draggingNodeRect:y.rect,over:b,overlayNodeRect:y.rect,scrollableAncestors:O,scrollableAncestorRects:P,transform:_,windowRect:C}),M=i2(m),D=hde({config:n,draggableNodes:j,droppableContainers:x,measuringConfiguration:S}),L=M?y.setRef:void 0;return Y.createElement(ade,null,Y.createElement(ide,{animation:D},h&&k?Y.createElement(cde,{key:k,id:h.id,ref:L,as:l,activatorEvent:f,adjustScale:e,className:c,transition:s,rect:M,style:{zIndex:d,...i},transform:A},r):null))});function PW(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function vde(t,e){return t.reduce((r,n,i)=>{const s=e.get(n);return s&&(r[i]=s),r},Array(t.length))}function yv(t){return t!==null&&t>=0}function yde(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function xde(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const kW=t=>{let{rects:e,activeIndex:r,overIndex:n,index:i}=t;const s=PW(e,n,r),o=e[i],l=s[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},xv={scaleX:1,scaleY:1},bde=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:i,rects:s,overIndex:o}=t;const l=(e=s[r])!=null?e:n;if(!l)return null;if(i===r){const d=s[o];return d?{x:0,y:r<o?d.top+d.height-(l.top+l.height):d.top-l.top,...xv}:null}const c=wde(s,i,r);return i>r&&i<=o?{x:0,y:-l.height-c,...xv}:i<r&&i>=o?{x:0,y:l.height+c,...xv}:{x:0,y:0,...xv}};function wde(t,e,r){const n=t[e],i=t[e-1],s=t[e+1];return n?r<e?i?n.top-(i.top+i.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const TW="Sortable",AW=Y.createContext({activeIndex:-1,containerId:TW,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kW,disabled:{draggable:!1,droppable:!1}});function jde(t){let{children:e,id:r,items:n,strategy:i=kW,disabled:s=!1}=t;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:f}=_W(),h=Em(TW,r),m=l.rect!==null,g=w.useMemo(()=>n.map(_=>typeof _=="object"&&"id"in _?_.id:_),[n]),j=o!=null,x=o?g.indexOf(o.id):-1,y=d?g.indexOf(d.id):-1,b=w.useRef(g),S=!yde(g,b.current),O=y!==-1&&x===-1||S,P=xde(s);Fs(()=>{S&&j&&f(g)},[S,g,j,f]),w.useEffect(()=>{b.current=g},[g]);const C=w.useMemo(()=>({activeIndex:x,containerId:h,disabled:P,disableTransforms:O,items:g,overIndex:y,useDragOverlay:m,sortedRects:vde(g,c),strategy:i}),[x,h,P.draggable,P.droppable,O,g,y,c,m,i]);return Y.createElement(AW.Provider,{value:C},e)}const Sde=t=>{let{id:e,items:r,activeIndex:n,overIndex:i}=t;return PW(r,n,i).indexOf(e)},Cde=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:i,items:s,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=t;return!d||!n||l!==s&&i===o?!1:r?!0:o!==i&&e===c},Nde={duration:200,easing:"ease"},EW="transform",_de=vl.Transition.toString({property:EW,duration:0,easing:"linear"}),Ode={roleDescription:"sortable"};function Pde(t){let{disabled:e,index:r,node:n,rect:i}=t;const[s,o]=w.useState(null),l=w.useRef(r);return Fs(()=>{if(!e&&r!==l.current&&n.current){const c=i.current;if(c){const d=sf(n.current,{ignoreTransform:!0}),f={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(f.x||f.y)&&o(f)}}r!==l.current&&(l.current=r)},[e,r,n,i]),w.useEffect(()=>{s&&o(null)},[s]),s}function kde(t){let{animateLayoutChanges:e=Cde,attributes:r,disabled:n,data:i,getNewIndex:s=Sde,id:o,strategy:l,resizeObserverConfig:c,transition:d=Nde}=t;const{items:f,containerId:h,activeIndex:m,disabled:g,disableTransforms:j,sortedRects:x,overIndex:y,useDragOverlay:b,strategy:S}=w.useContext(AW),O=Tde(n,g),P=f.indexOf(o),C=w.useMemo(()=>({sortable:{containerId:h,index:P,items:f},...i}),[h,i,P,f]),_=w.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:k,node:A,isOver:M,setNodeRef:D}=OW({id:o,data:C,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...c}}),{active:L,activatorEvent:W,activeNodeRect:$,attributes:H,setNodeRef:z,listeners:q,isDragging:E,over:U,setActivatorNodeRef:B,transform:I}=tde({id:o,data:C,attributes:{...Ode,...r},disabled:O.draggable}),F=$ce(D,z),G=!!L,Z=G&&!j&&yv(m)&&yv(y),K=!b&&E,ae=K&&Z?I:null,J=Z?ae??(l??S)({rects:x,activeNodeRect:$,activeIndex:m,overIndex:y,index:P}):null,fe=yv(m)&&yv(y)?s({id:o,items:f,activeIndex:m,overIndex:y}):P,oe=L?.id,ue=w.useRef({activeId:oe,items:f,newIndex:fe,containerId:h}),de=f!==ue.current.items,le=e({active:L,containerId:h,isDragging:E,isSorting:G,id:o,index:P,items:f,newIndex:ue.current.newIndex,previousItems:ue.current.items,previousContainerId:ue.current.containerId,transition:d,wasDragging:ue.current.activeId!=null}),ke=Pde({disabled:!le,index:P,node:A,rect:k});return w.useEffect(()=>{G&&ue.current.newIndex!==fe&&(ue.current.newIndex=fe),h!==ue.current.containerId&&(ue.current.containerId=h),f!==ue.current.items&&(ue.current.items=f)},[G,fe,h,f]),w.useEffect(()=>{if(oe===ue.current.activeId)return;if(oe!=null&&ue.current.activeId==null){ue.current.activeId=oe;return}const Le=setTimeout(()=>{ue.current.activeId=oe},50);return()=>clearTimeout(Le)},[oe]),{active:L,activeIndex:m,attributes:H,data:C,rect:k,index:P,newIndex:fe,items:f,isOver:M,isSorting:G,isDragging:E,listeners:q,node:A,overIndex:y,over:U,setNodeRef:F,setActivatorNodeRef:B,setDroppableNodeRef:D,setDraggableNodeRef:z,transform:ke??J,transition:Ne()};function Ne(){if(ke||de&&ue.current.newIndex===P)return _de;if(!(K&&!L0(W)||!d)&&(G||le))return vl.Transition.toString({...d,property:EW})}}function Tde(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t?.draggable)!=null?r:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function zy(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Ade=[St.Down,St.Right,St.Up,St.Left],Ede=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:l}}=e;if(Ade.includes(t.code)){if(t.preventDefault(),!r||!n)return;const c=[];s.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=i.get(h.id);if(m)switch(t.code){case St.Down:n.top<m.top&&c.push(h);break;case St.Up:n.top>m.top&&c.push(h);break;case St.Left:n.left>m.left&&c.push(h);break;case St.Right:n.left<m.left&&c.push(h);break}});const d=uW({collisionRect:n,droppableRects:i,droppableContainers:c});let f=cW(d,"id");if(f===o?.id&&d.length>1&&(f=d[1].id),f!=null){const h=s.get(r.id),m=s.get(f),g=m?i.get(m.id):null,j=m?.node.current;if(j&&g&&h&&m){const y=z0(j).some((_,k)=>l[k]!==_),b=MW(h,m),S=Mde(h,m),O=y||!b?{x:0,y:0}:{x:S?n.width-g.width:0,y:S?n.height-g.height:0},P={x:g.left,y:g.top};return O.x&&O.y?P:Sp(P,O)}}}};function MW(t,e){return!zy(t)||!zy(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Mde(t,e){return!zy(t)||!zy(e)||!MW(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const t1="http://localhost:4000",bv=[{id:"pending",label:"Pending",color:"bg-yellow-500"},{id:"designing",label:"Designing",color:"bg-cyan-500"},{id:"ripping",label:"Ripping",color:"bg-blue-500"},{id:"heatpress",label:"Heat Press",color:"bg-purple-500"},{id:"assembly",label:"Assembly",color:"bg-red-600"},{id:"qa",label:"QA",color:"bg-orange-500"},{id:"packing",label:"Packing",color:"bg-green-500"},{id:"done",label:"Done",color:"bg-green-600"}],wv=[{id:"done",label:"To Ship",color:"bg-green-600"},{id:"shipping",label:"Shipping",color:"bg-purple-800"},{id:"delivered",label:"Delivered",color:"bg-teal-800"}];function Dde({id:t,children:e}){const{setNodeRef:r,isOver:n}=OW({id:t});return a.jsx("div",{ref:r,className:`bg-white border border-t-0 rounded-b-lg min-h-[500px] p-3 space-y-3 ${n?"bg-blue-50 border-blue-300":""}`,children:e})}function Rde({order:t,onSetShipping:e,onOrderClick:r}){if(kr(),!t||!t.id)return null;const{attributes:n,listeners:i,setNodeRef:s,transform:o,transition:l,isDragging:c}=kde({id:t.id}),d={transform:vl.Transform.toString(o),transition:l,opacity:c?.5:1},f=i?{...i,onPointerDown:m=>{if(m.button!==0){m.preventDefault(),m.stopPropagation();return}i.onPointerDown&&i.onPointerDown(m)}}:void 0,h=m=>{m.stopPropagation(),r&&r(t.id)};return a.jsx("div",{ref:s,style:d,children:a.jsxs(ht,{className:"border shadow-sm hover:shadow-md transition-shadow cursor-move",...n,...f||i,children:[a.jsxs(yr,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:h,className:"font-bold text-blue-600 hover:text-blue-800 hover:underline cursor-pointer transition-colors",title:"Click to view order details",children:t.id||"N/A"}),t.items?.some(m=>m.customizationData)&&a.jsxs(nt,{variant:"secondary",className:"text-xs",children:[a.jsx(bc,{className:"size-3 mr-1"}),"Custom"]})]}),a.jsx("p",{className:"text-sm font-medium mt-2",children:t.customer?.name||"Unknown"})]}),a.jsx(jt,{className:"pt-0",children:a.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hx,{className:"size-3"}),a.jsx("span",{className:"truncate",children:t.customer?.email||"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wx,{className:"size-3"}),a.jsx("span",{children:t.customer?.phone||"N/A"})]}),a.jsxs("div",{className:"pt-2 border-t",children:[a.jsxs("p",{className:"font-bold text-sm text-black",children:["",(t.total||0).toFixed(2)]}),(t.balanceRemaining||0)>0&&a.jsxs("p",{className:"text-xs text-orange-600",children:["Balance: ",(t.balanceRemaining||0).toFixed(2)]})]}),e&&a.jsx("div",{className:"pt-2 mt-2 border-t",children:a.jsxs(ee,{size:"sm",className:"w-full",onClick:m=>{m.stopPropagation(),e(t.id)},children:[a.jsx(Zi,{className:"size-3 mr-2"}),"Set Shipping"]})})]})})]})})}function Ide(){const t=kr(),[e,r]=w.useState([]),[n,i]=w.useState(!0),[s,o]=w.useState(null),[l,c]=w.useState("all"),[d,f]=w.useState(!1),[h,m]=w.useState(!1),[g,j]=w.useState(null),x=w.useRef(null),[y,b]=w.useState(!1),[S,O]=w.useState(!0),[P,C]=w.useState("production"),_=eue(qD(n2,{activationConstraint:{distance:8}}),qD(t2,{coordinateGetter:Ede}));w.useEffect(()=>{M()},[]),w.useEffect(()=>{const H=x.current;if(!H)return;const z=()=>{b(H.scrollLeft>0),O(H.scrollLeft<H.scrollWidth-H.clientWidth-10)};return z(),H.addEventListener("scroll",z),window.addEventListener("resize",z),()=>{H.removeEventListener("scroll",z),window.removeEventListener("resize",z)}},[e,n]);const k=()=>{x.current?.scrollBy({left:-400,behavior:"smooth"})},A=()=>{x.current?.scrollBy({left:400,behavior:"smooth"})},M=async()=>{try{i(!0);const H=await fetch(`${t1}/api/orders`,{credentials:"include"});if(!H.ok){const q=await H.json().catch(()=>({}));throw new Error(q.error||"Failed to load orders")}const z=await H.json();Array.isArray(z)?r(z):(console.error("Invalid orders data format:",z),r([]),ve.error("Invalid orders data received"))}catch(H){console.error("Error loading orders:",H),ve.error(H.message||"Failed to load orders"),r([])}finally{i(!1)}},D=H=>Array.isArray(e)?e.filter(z=>z&&z.status===H):[],L=async()=>{f(!0);try{const H=await fetch(`${t1}/api/orders/clear-all`,{method:"DELETE",credentials:"include"});if(!H.ok){const q=await H.json();throw new Error(q.error||"Failed to clear orders")}const z=await H.json();ve.success(`Cleared ${z.ordersDeleted} orders successfully`),m(!1),await M()}catch(H){console.error("Error clearing orders:",H),ve.error(H.message||"Failed to clear orders")}finally{f(!1)}},W=H=>{o(H.active.id)},$=async H=>{const{active:z,over:q}=H;if(o(null),!q||!z)return;const E=z.id;if(!E)return;let U;const I=(P==="production"?bv:wv).find(K=>K.id===q.id);if(I)U=I.id;else{const K=e.find(ae=>ae&&ae.id===q.id);if(!K||!K.status)return;U=K.status}const F=e.find(K=>K&&K.id===E);if(!F||!F.orderId||F.status===U)return;const G=[...e],Z=e.map(K=>K&&K.id===E?{...K,status:U}:K);r(Z);try{const K=await fetch(`${t1}/api/orders/${F.orderId}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:U})});if(!K.ok){const ie=await K.json().catch(()=>({}));throw new Error(ie.error||"Failed to update order status")}const ae=P==="production"?bv:wv;ve.success(`Order ${E} moved to ${ae.find(ie=>ie.id===U)?.label||U}`)}catch(K){console.error("Error updating order status:",K),ve.error(K.message||"Failed to update order status"),r(G)}};return a.jsx(un,{children:a.jsxs("div",{className:"p-4 md:p-8 w-full overflow-hidden flex flex-col h-full",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4 flex-shrink-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Orders"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("button",{onClick:()=>C("production"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${P==="production"?"bg-blue-100 text-blue-900 font-semibold":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(nr,{className:"size-5"}),a.jsx("span",{className:"text-lg",children:"Production Board"})]}),a.jsxs("button",{onClick:()=>C("shipping"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${P==="shipping"?"bg-blue-100 text-blue-900 font-semibold":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Zi,{className:"size-5"}),a.jsx("span",{className:"text-lg",children:"Shipping Board"})]})]}),a.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Order Management"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"destructive",size:"sm",className:"flex-shrink-0",onClick:()=>m(!0),disabled:d||e.length===0,children:[a.jsx(ma,{className:"size-4 mr-2"}),d?"Clearing...":"Clear All Orders"]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-shrink-0",children:[a.jsx(to,{className:"size-4 mr-2"}),"All View"]})]})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Clear All Orders?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"This will permanently delete all orders, order items, and payments. This action cannot be undone."}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(ee,{variant:"outline",onClick:()=>m(!1),disabled:d,children:"Cancel"}),a.jsx(ee,{variant:"destructive",onClick:L,disabled:d,children:d?"Clearing...":"Clear All"})]})]})}),n?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):a.jsxs(Zue,{sensors:_,collisionDetection:uW,onDragStart:W,onDragEnd:$,children:[a.jsxs("div",{className:"relative w-full flex-1 min-h-0",children:[y&&a.jsx("button",{onClick:k,className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 bg-white border border-gray-300 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-all hover:scale-110","aria-label":"Scroll left",children:a.jsx(fo,{className:"size-5 text-gray-700"})}),S&&a.jsx("button",{onClick:A,className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 bg-white border border-gray-300 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-all hover:scale-110","aria-label":"Scroll right",children:a.jsx(nc,{className:"size-5 text-gray-700"})}),a.jsx("div",{ref:x,className:"w-full h-full overflow-x-auto overflow-y-auto pb-4 -mx-4 px-4 md:-mx-8 md:px-8 scroll-smooth",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6",scrollBehavior:"smooth"},children:a.jsx("div",{className:"flex gap-4 min-w-max",children:(P==="production"?bv:wv).map(H=>{const z=D(H.id);return a.jsxs("div",{className:"flex-shrink-0 w-80",children:[a.jsxs("div",{className:`${H.color} text-white px-4 py-2 rounded-t-lg flex items-center justify-between`,children:[a.jsx("span",{className:"font-medium whitespace-nowrap",children:H.label}),a.jsx("span",{className:"bg-white/30 px-2 py-1 rounded text-sm ml-2",children:z.length})]}),a.jsx(Dde,{id:H.id,children:a.jsx(jde,{items:z.map(q=>q.id),strategy:bde,children:z.length>0?z.map(q=>a.jsx(Rde,{order:q,onSetShipping:P==="shipping"&&H.id==="done"?()=>t(`/shipping-details/${q.id}`):void 0,onOrderClick:j},q.id)):a.jsx("div",{className:"text-center py-12 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"No orders"})})})})]},H.id)})})}),a.jsx("div",{className:"flex justify-center gap-2 mt-4",children:(P==="production"?bv:wv).map((H,z)=>{const q=D(H.id);return a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${q.length>0?H.color:"bg-gray-200"}`,style:{width:`${Math.max(8,Math.min(q.length*2,40))}px`},title:`${H.label}: ${q.length} orders`},H.id)})})]}),a.jsx(gde,{children:s?(()=>{const H=e.find(z=>z&&z.id===s);return H?a.jsxs(ht,{className:"border shadow-lg w-80",children:[a.jsxs(yr,{className:"pb-3",children:[a.jsx("span",{className:"font-bold",children:H.id||"N/A"}),a.jsx("p",{className:"text-sm font-medium mt-2",children:H.customer?.name||"Unknown"})]}),a.jsx(jt,{className:"pt-0",children:a.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hx,{className:"size-3"}),a.jsx("span",{children:H.customer?.email||"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wx,{className:"size-3"}),a.jsx("span",{children:H.customer?.phone||"N/A"})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("p",{className:"font-bold text-sm text-black",children:["",H.total?.toFixed(2)||"0.00"]})})]})})]}):null})():null})]}),g&&a.jsx(Fce,{orderId:g,onClose:()=>j(null)})]})})}var B0="Checkbox",[Lde]=En(B0),[zde,s2]=Lde(B0);function Fde(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:h}=t,[m,g]=ss({prop:r,defaultProp:i??!1,onChange:c,caller:B0}),[j,x]=w.useState(null),[y,b]=w.useState(null),S=w.useRef(!1),O=j?!!o||!!j.closest("form"):!0,P={checked:m,disabled:s,setChecked:g,control:j,setControl:x,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:S,required:d,defaultChecked:tl(i)?!1:i,isFormControl:O,bubbleInput:y,setBubbleInput:b};return a.jsx(zde,{scope:e,...P,children:$de(h)?h(P):n})}var DW="CheckboxTrigger",RW=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:o,disabled:l,checked:c,required:d,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:j}=s2(DW,t),x=ct(i,f),y=w.useRef(c);return w.useEffect(()=>{const b=s?.form;if(b){const S=()=>h(y.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[s,h]),a.jsx(Ze.button,{type:"button",role:"checkbox","aria-checked":tl(c)?"mixed":c,"aria-required":d,"data-state":BW(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:x,onKeyDown:Ee(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ee(r,b=>{h(S=>tl(S)?!0:!S),j&&g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});RW.displayName=DW;var IW=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:d,form:f,...h}=t;return a.jsx(Fde,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:d,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(RW,{...h,ref:e,__scopeCheckbox:r}),m&&a.jsx($W,{__scopeCheckbox:r})]})})});IW.displayName=B0;var LW="CheckboxIndicator",zW=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=s2(LW,r);return a.jsx(pi,{present:n||tl(s.checked)||s.checked===!0,children:a.jsx(Ze.span,{"data-state":BW(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});zW.displayName=LW;var FW="CheckboxBubbleInput",$W=w.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:d,value:f,form:h,bubbleInput:m,setBubbleInput:g}=s2(FW,t),j=ct(r,g),x=vm(s),y=ym(n);w.useEffect(()=>{const S=m;if(!S)return;const O=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(O,"checked").set,_=!i.current;if(x!==s&&C){const k=new Event("click",{bubbles:_});S.indeterminate=tl(s),C.call(S,tl(s)?!1:s),S.dispatchEvent(k)}},[m,x,s,i]);const b=w.useRef(tl(s)?!1:s);return a.jsx(Ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:f,form:h,...e,tabIndex:-1,ref:j,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$W.displayName=FW;function $de(t){return typeof t=="function"}function tl(t){return t==="indeterminate"}function BW(t){return tl(t)?"indeterminate":t?"checked":"unchecked"}function Wa({className:t,...e}){return a.jsx(IW,{"data-slot":"checkbox",className:Je("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(zW,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Ju,{className:"size-3.5"})})})}var H0="Switch",[Bde]=En(H0),[Hde,Wde]=Bde(H0),HW=w.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...h}=t,[m,g]=w.useState(null),j=ct(e,O=>g(O)),x=w.useRef(!1),y=m?f||!!m.closest("form"):!0,[b,S]=ss({prop:i,defaultProp:s??!1,onChange:d,caller:H0});return a.jsxs(Hde,{scope:r,checked:b,disabled:l,children:[a.jsx(Ze.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":VW(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:j,onClick:Ee(t.onClick,O=>{S(P=>!P),y&&(x.current=O.isPropagationStopped(),x.current||O.stopPropagation())})}),y&&a.jsx(qW,{control:m,bubbles:!x.current,name:n,value:c,checked:b,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});HW.displayName=H0;var WW="SwitchThumb",UW=w.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Wde(WW,r);return a.jsx(Ze.span,{"data-state":VW(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});UW.displayName=WW;var Ude="SwitchBubbleInput",qW=w.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=w.useRef(null),l=ct(o,s),c=vm(r),d=ym(e);return w.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&g){const j=new Event("click",{bubbles:n});g.call(f,r),f.dispatchEvent(j)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qW.displayName=Ude;function VW(t){return t?"checked":"unchecked"}var qde=HW,Vde=UW;function a2({className:t,...e}){return a.jsx(qde,{"data-slot":"switch",className:Je("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(Vde,{"data-slot":"switch-thumb",className:Je("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function qu({label:t,required:e,value:r,onChange:n,folder:i,imageType:s="additional",displayOrder:o=1,productCode:l,description:c,maxSizeMB:d=10}){const[f,h]=w.useState(null),[m,g]=w.useState(r?.preview||null);w.useEffect(()=>{r?.preview&&g(r.preview)},[r]);const j=y=>{const b=y.target.files?.[0];if(!b)return;if(h(null),!b.type.startsWith("image/")){h("Please select an image file");return}if(b.size>d*1024*1024){h(`Image size must be less than ${d}MB`);return}const S=new FileReader;S.onloadend=()=>{const O=S.result;g(O);const P=Date.now(),C=l?`${l}_${s}_${o}_${P}`:void 0;n({file:b,preview:O,type:s,displayOrder:o,folder:i,customPublicId:C})},S.readAsDataURL(b)},x=()=>{g(null),n(null),h(null)};return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium",children:[t," ",e&&a.jsx("span",{className:"text-red-500",children:"*"})]}),c&&a.jsx("p",{className:"text-xs text-gray-500",children:c}),m?a.jsxs("div",{className:"relative border rounded-lg p-4",children:[a.jsx("img",{src:m,alt:t,className:"w-full h-48 object-contain rounded"}),a.jsx(ee,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:x,children:a.jsx(Ct,{className:"size-4"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" Ready to upload on save"})]}):a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:`upload-${s}-${o}`}),a.jsxs("label",{htmlFor:`upload-${s}-${o}`,className:"cursor-pointer flex flex-col items-center gap-2",children:[a.jsx(lp,{className:"size-8 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),a.jsxs("span",{className:"text-xs text-gray-400",children:["JPG, PNG, SVG (max ",d,"MB)"]})]})]}),f&&a.jsx("p",{className:"text-xs text-red-500",children:f})]})}function Gde({label:t,required:e,value:r,onChange:n,productCode:i,description:s,maxSizeMB:o=10}){const[l,c]=w.useState(null),[d,f]=w.useState(r?.preview||null);w.useEffect(()=>{r?.preview&&f(r.preview)},[r]);const h=g=>{const j=g.target.files?.[0];if(!j)return;if(c(null),!j.type.startsWith("image/")){c("Please select an image file");return}if(j.size>o*1024*1024){c(`Image size must be less than ${o}MB`);return}const x=new FileReader;x.onloadend=()=>{const y=x.result;f(y);const b=Date.now(),S=i?`${i}_variant_${b}`:void 0;n({file:j,preview:y,customPublicId:S,folder:"Customizable Products/Variant IMG"})},x.readAsDataURL(j)},m=()=>{f(null),n(null),c(null)};return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium",children:[t," ",e&&a.jsx("span",{className:"text-red-500",children:"*"})]}),s&&a.jsx("p",{className:"text-xs text-gray-500",children:s}),d?a.jsxs("div",{className:"relative border rounded-lg p-4",children:[a.jsx("img",{src:d,alt:t,className:"w-full h-48 object-contain rounded"}),a.jsx(ee,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:m,children:a.jsx(Ct,{className:"size-4"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" Ready to upload on save"})]}):a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden",id:"upload-variant"}),a.jsxs("label",{htmlFor:"upload-variant",className:"cursor-pointer flex flex-col items-center gap-2",children:[a.jsx(lp,{className:"size-8 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),a.jsxs("span",{className:"text-xs text-gray-400",children:["JPG, PNG, SVG (max ",o,"MB)"]})]})]}),l&&a.jsx("p",{className:"text-xs text-red-500",children:l})]})}const GW={red:"#FF0000",crimson:"#DC143C",maroon:"#800000",burgundy:"#800020",scarlet:"#FF2400",blue:"#0000FF",navy:"#000080","royal blue":"#4169E1","sky blue":"#87CEEB","light blue":"#ADD8E6","dark blue":"#00008B",green:"#008000",lime:"#00FF00",olive:"#808000","forest green":"#228B22",mint:"#98FF98",yellow:"#FFFF00",gold:"#FFD700",orange:"#FFA500",amber:"#FFBF00",purple:"#800080",violet:"#EE82EE",pink:"#FFC0CB",magenta:"#FF00FF",lavender:"#E6E6FA",black:"#000000",white:"#FFFFFF",gray:"#808080",grey:"#808080",silver:"#C0C0C0",beige:"#F5F5DC",brown:"#A52A2A",tan:"#D2B48C",cyan:"#00FFFF",teal:"#008080",turquoise:"#40E0D0",coral:"#FF7F50",peach:"#FFDAB9",cream:"#FFFDD0",khaki:"#F0E68C"},Xde=Object.fromEntries(Object.entries(GW).map(([t,e])=>[e.toLowerCase(),t]));function Yde(t){const e=t.toLowerCase().trim();return GW[e]||null}function r1(t){const e=t.toLowerCase().trim();return Xde[e]||null}function Kde(t){const e=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!e)return null;const r=parseInt(e[1]),n=parseInt(e[2]),i=parseInt(e[3]),s=o=>{const l=o.toString(16);return l.length===1?"0"+l:l};return`#${s(r)}${s(n)}${s(i)}`.toUpperCase()}function Jde(t){return/^#[0-9A-F]{6}$/i.test(t)}function iR(t){const e=t.trim();if(Jde(e)){const n=r1(e)||"";return{hex:e.toUpperCase(),name:n}}const r=Yde(e);if(r)return{hex:r,name:e};if(e.startsWith("rgb")){const n=Kde(e);if(n){const i=r1(n)||"";return{hex:n,name:i}}}if(/^[0-9A-F]{6}$/i.test(e)){const n=`#${e}`.toUpperCase(),i=r1(n)||"";return{hex:n,name:i}}return null}const Zde="dpvrv7btt",Qde="rfm_uploads";var Ja=(t=>(t.USER_UPLOADS="rfm_images/user_uploads",t.ADMIN_GRAPHICS="rfm_images/admin_graphics",t.ADMIN_PATTERNS="rfm_images/admin_patterns",t.ADMIN_TEMPLATES="rfm_images/admin_templates",t.ADMIN_SHAPES="rfm_images/admin_shapes",t.CUSTOMIZABLE_PRODUCTS_FRONT="Customizable Products/Front View IMG",t.CUSTOMIZABLE_PRODUCTS_BACK="Customizable Products/Back View IMG",t.CUSTOMIZABLE_PRODUCTS_ADDITIONAL="Customizable Products/Additional IMG",t.CUSTOMIZABLE_PRODUCTS_VARIANT="Customizable Products/Variant IMG",t.CATALOG_PRODUCTS_FRONT="Catalog Products/Front View IMG",t.CATALOG_PRODUCTS_BACK="Catalog Products/Back View IMG",t.CATALOG_PRODUCTS_ADDITIONAL="Catalog Products/Additional IMG",t.CATALOG_PRODUCTS_VARIANT="Catalog Products/Variant IMG",t))(Ja||{});async function qa(t,e="rfm_images/user_uploads",r,n){const i=new FormData;return i.append("file",t),i.append("upload_preset",Qde),i.append("folder",e),i.append("quality","auto:best"),i.append("fetch_format","auto"),t.type==="image/png"&&i.append("flags","preserve_transparency"),n&&i.append("public_id",n),new Promise((s,o)=>{const l=new XMLHttpRequest;r&&l.upload.addEventListener("progress",c=>{if(c.lengthComputable){const d=c.loaded/c.total*100;r(d)}}),l.addEventListener("load",()=>{if(l.status===200){const c=JSON.parse(l.responseText),d=c.secure_url.replace("/upload/","/upload/w_300,h_300,c_fill,q_auto/");s({url:c.secure_url,publicId:c.public_id,width:c.width,height:c.height,format:c.format,size:c.bytes,thumbnailUrl:d})}else o(new Error("Upload failed"))}),l.addEventListener("error",()=>{o(new Error("Network error"))}),l.open("POST",`https://api.cloudinary.com/v1_1/${Zde}/image/upload`),l.send(i)})}async function XW(t){try{if(!(await fetch("http://localhost:4000/api/cloudinary/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({publicId:t})})).ok)throw new Error("Failed to delete image from Cloudinary")}catch(e){throw console.error("Error deleting image:",e),e}}const efe=["T-Shirt - Chinese Collar","T-Shirt - V-Neck","T-Shirt - Round Neck","Jogging Pants","Polo Shirt","Sando (Jersey) - V-Neck","Sando (Jersey) - Round Neck","Sando (Jersey) - NBA Cut","Shorts","Warmers","Varsity Jacket"],tfe=["Unisex","Men","Women","Kids"],rfe=["Classic","Slim Fit","Regular Fit","Relaxed Fit","Oversized","Tapered","Athletic Fit","Muscle Fit"],Z_=["XS","S","M","L","XL","2XL","3XL"],YW=["K6","K7","K8","K9","K10"],KW=["26","28","30","32","34","36","38","40","42"],JW=["22","24","26","28","30","32"];[...Z_,...YW,...KW,...JW];const nfe=["DTG","Screen Print","Embroidery"],ife=["Front","Back"],sfe={XL:50,"2XL":100,"3XL":150},afe=(t,e)=>{const r=["T-Shirt - Chinese Collar","T-Shirt - V-Neck","T-Shirt - Round Neck","Polo Shirt","Sando (Jersey) - V-Neck","Sando (Jersey) - Round Neck","Sando (Jersey) - NBA Cut","Varsity Jacket"].includes(t),n=["Jogging Pants","Shorts","Warmers"].includes(t);return r?e==="Kids"?YW:Z_:n?e==="Kids"?JW:KW:Z_};function ofe({product:t,onSave:e,onCancel:r}){const[n]=w.useState(t?.id?`CP${String(t.id).padStart(6,"0")}`:`TEMP${Date.now()}`),[i,s]=w.useState({category:t?.category||"",name:t?.name||"",type:t?.type||"",sizes:t?.sizes||[],fitType:t?.fitType||"",fitDescription:t?.fitDescription||"",description:t?.description||"",images:t?.images||[],fabricComposition:t?.fabricComposition||"",fabricWeight:t?.fabricWeight||"",texture:t?.texture||"",baseCost:t?.baseCost||0,retailPrice:t?.retailPrice||0,sizePricing:t?.sizePricing||{},frontPrintCost:t?.frontPrintCost||0,backPrintCost:t?.backPrintCost||0,sizeAvailability:t?.sizeAvailability||{},differentiationType:t?.differentiationType||"none",color:t?.color||{name:"",hexCode:""},variant:t?.variant||{name:"",image:"",publicId:""},printMethod:t?.printMethod||"",printAreas:t?.printAreas||[],designRequirements:t?.designRequirements||"Upload your design in high-resolution format (PNG, AI, or PSD). Ensure design dimensions match the selected print area.",turnaroundTime:t?.turnaroundTime||"5-7 business days for production. Rush orders available with additional fee.",minOrderQuantity:t?.minOrderQuantity||1,status:t?.status||"active"}),[o,l]=w.useState({}),[c,d]=w.useState(t?.images?.filter(b=>b.type==="additional").length||0),[f,h]=w.useState(!1),[m,g]=w.useState({additional:[]}),j=b=>{s(S=>({...S,printAreas:S.printAreas.includes(b)?S.printAreas.filter(O=>O!==b):[...S.printAreas,b]}))},x=()=>{const b={};i.name.trim()||(b.name="Product name is required"),i.category||(b.category="Category is required"),i.type||(b.type="Type is required"),i.sizes.length===0&&(b.sizes="At least one size is required");const S=m.front||i.images.some(P=>P.type==="front"),O=m.back||i.images.some(P=>P.type==="back");return S||(b.frontImage="Front image is required"),O||(b.backImage="Back image is required"),(!i.retailPrice||i.retailPrice<=0)&&(b.retailPrice="Retail price is required"),l(b),Object.keys(b).length===0},y=async b=>{if(b.preventDefault(),!x()){alert("Please fill in all required fields correctly");return}const S=m.front||i.images.some(A=>A.type==="front"),O=m.back||i.images.some(A=>A.type==="back");if(!S||!O){alert("Both front and back images are required");return}const P=(m.front?1:0)+(m.back?1:0)+m.additional.length,C=`
Ready to save "${i.name}"?

 Category: ${i.category}
 Type: ${i.type}
 Sizes: ${i.sizes.join(", ")}
 Images to upload: ${P}
 Price: ${i.retailPrice}

Click OK to upload images and save to database.
    `.trim();if(!confirm(C))return;h(!0);const _=[...i.images],k=[];try{if(m.front){const D=await qa(m.front.file,m.front.folder,void 0,m.front.customPublicId);_.push({url:D.url,publicId:D.publicId,type:"front",displayOrder:1}),k.push(D.publicId)}if(m.back){const D=await qa(m.back.file,m.back.folder,void 0,m.back.customPublicId);_.push({url:D.url,publicId:D.publicId,type:"back",displayOrder:1}),k.push(D.publicId)}for(const D of m.additional){const L=await qa(D.file,D.folder,void 0,D.customPublicId);_.push({url:L.url,publicId:L.publicId,type:"additional",displayOrder:D.displayOrder}),k.push(L.publicId)}let A;if(i.variant?.name&&i.variant.name.trim())if(m.variant){const D=await qa(m.variant.file,m.variant.folder,void 0,m.variant.customPublicId);A={name:i.variant.name.trim(),image:D.url,publicId:D.publicId},k.push(D.publicId)}else i.variant.image&&(A={name:i.variant.name.trim(),image:i.variant.image,publicId:i.variant.publicId});const M={...i,images:_,variant:A};await e(M)}catch(A){console.error("Save failed:",A);for(const M of k)try{await XW(M)}catch(D){console.error("Failed to delete image during rollback:",M,D)}alert("Failed to save product. Uploaded images have been cleaned up. Please try again."),h(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:t?"Edit Product":"Add New Customizable Product"}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:r,children:a.jsx(Ct,{className:"size-5"})})]}),a.jsxs("form",{onSubmit:y,className:"p-6 space-y-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"1. Basic Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(Gr,{value:i.category,onValueChange:b=>s({...i,category:b}),children:[a.jsx(Yr,{className:o.category?"border-red-500":"",children:a.jsx(Xr,{placeholder:"Select category"})}),a.jsx(Kr,{children:efe.map(b=>a.jsx(He,{value:b,children:b},b))})]}),o.category&&a.jsx("p",{className:"text-xs text-red-500",children:o.category})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ze,{placeholder:"e.g., Classic Round Neck Tee",value:i.name,onChange:b=>s({...i,name:b.target.value}),className:o.name?"border-red-500":""}),o.name&&a.jsx("p",{className:"text-xs text-red-500",children:o.name})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(Gr,{value:i.type,onValueChange:b=>s({...i,type:b}),children:[a.jsx(Yr,{className:o.type?"border-red-500":"",children:a.jsx(Xr,{placeholder:"Select type"})}),a.jsx(Kr,{children:tfe.map(b=>a.jsx(He,{value:b,children:b},b))})]}),o.type&&a.jsx("p",{className:"text-xs text-red-500",children:o.type})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Fit Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(Gr,{value:i.fitType,onValueChange:b=>s({...i,fitType:b}),children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"Select fit type"})}),a.jsx(Kr,{children:rfe.map(b=>a.jsx(He,{value:b,children:b},b))})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(be,{children:["Available Sizes & Stock Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 p-3 rounded border border-amber-200 mb-3",children:[" ",a.jsx("strong",{children:"Instructions:"})," Check size to offer, set surcharge (auto-filled for XL/2XL/3XL), toggle stock status when out of stock."]}),a.jsx("div",{className:"space-y-2",children:afe(i.category,i.type).map(b=>{const S=i.sizes.includes(b),O=i.sizeAvailability?.[b]!==!1;return a.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2 w-24",children:[a.jsx(Wa,{checked:S,onCheckedChange:P=>{s(P?{...i,sizes:[...i.sizes,b],sizePricing:{...i.sizePricing,[b]:sfe[b]||0},sizeAvailability:{...i.sizeAvailability,[b]:!0}}:{...i,sizes:i.sizes.filter(C=>C!==b)})}}),a.jsx("span",{className:"font-medium",children:b})]}),a.jsxs("div",{className:"flex items-center gap-2 w-40",children:[a.jsx("span",{className:"text-sm text-gray-500",children:""}),S?a.jsx(ze,{type:"number",value:(i.sizePricing||{})[b]||0,onChange:P=>s({...i,sizePricing:{...i.sizePricing||{},[b]:parseFloat(P.target.value)||0}}),className:"w-24"}):a.jsx("span",{className:"text-gray-400 w-24",children:"-"})]}),S?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(a2,{checked:O,onCheckedChange:P=>s({...i,sizeAvailability:{...i.sizeAvailability,[b]:P}})}),a.jsx(nt,{variant:O?"default":"secondary",children:O?"In Stock":"Out of Stock"})]}):a.jsx("span",{className:"text-gray-400",children:"-"})]},b)})}),o.sizes&&a.jsx("p",{className:"text-xs text-red-500",children:o.sizes})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Product Status"}),a.jsxs(Gr,{value:i.status,onValueChange:b=>s({...i,status:b}),children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"Select status"})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"active",children:"Active (Visible to customers)"}),a.jsx(He,{value:"inactive",children:"Inactive (Hidden temporarily)"}),a.jsx(He,{value:"archived",children:"Archived (Discontinued)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Fit Description"}),a.jsx(ze,{placeholder:"e.g., Regular fit with comfortable cut",value:i.fitDescription,onChange:b=>s({...i,fitDescription:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Product Description"}),a.jsx(Py,{placeholder:"Detailed description of the product...",value:i.description,onChange:b=>s({...i,description:b.target.value}),rows:4})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"2. Product Images"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[a.jsx("strong",{className:"text-blue-800",children:" Note:"})," ",a.jsx("span",{className:"text-blue-700",children:'Images upload to Cloudinary immediately when selected. Make sure you want to keep them before clicking "Save Product".'})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(qu,{label:"Front View",required:!0,value:m.front,onChange:b=>{g(S=>({...S,front:b||void 0}))},folder:Ja.CUSTOMIZABLE_PRODUCTS_FRONT,imageType:"front",displayOrder:1,productCode:n,description:"Upload front view of the product (JPG/PNG/SVG)",maxSizeMB:10}),a.jsx(qu,{label:"Back View",required:!0,value:m.back,onChange:b=>{g(S=>({...S,back:b||void 0}))},folder:Ja.CUSTOMIZABLE_PRODUCTS_BACK,imageType:"back",displayOrder:1,productCode:n,description:"Upload back view of the product (JPG/PNG/SVG)",maxSizeMB:10})]}),(o.frontImage||o.backImage)&&a.jsx("p",{className:"text-xs text-red-500",children:"Both front and back images are required"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Additional Images (optional)"}),a.jsx("p",{className:"text-xs text-gray-500",children:"JPG/PNG/SVG, max 10MB each - Max 5 images"}),a.jsxs("div",{className:"space-y-4",children:[Array.from({length:c}).map((b,S)=>{const O=m.additional.find(P=>P.displayOrder===S+1);return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[a.jsx(qu,{label:`Additional Image ${S+1}`,value:O,onChange:P=>{g(C=>{const _=C.additional.filter(k=>k.displayOrder!==S+1);return{...C,additional:P?[..._,{...P,displayOrder:S+1}]:_}})},folder:Ja.CUSTOMIZABLE_PRODUCTS_ADDITIONAL,imageType:"additional",displayOrder:S+1,productCode:n,maxSizeMB:10}),a.jsx("div",{className:"flex gap-2 md:justify-end",children:a.jsx(ee,{type:"button",variant:"outline",onClick:()=>{g(P=>{const _=P.additional.filter(k=>k.displayOrder!==S+1).map(k=>k.displayOrder>S+1?{...k,displayOrder:k.displayOrder-1}:k);return{...P,additional:_}}),d(P=>P-1)},children:"Remove Slot"})})]},S)}),a.jsxs(ee,{type:"button",variant:"outline",onClick:()=>d(b=>b+1),disabled:c>=5,children:["+ Add Additional Image Slot ",c>=5&&"(Max reached)"]})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"3. Material & Fabric"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Fabric Composition"}),a.jsx(ze,{placeholder:"e.g., 100% Cotton",value:i.fabricComposition,onChange:b=>s({...i,fabricComposition:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Fabric Weight"}),a.jsx(ze,{placeholder:"e.g., 180 g/m",value:i.fabricWeight,onChange:b=>s({...i,fabricWeight:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Texture"}),a.jsx(ze,{placeholder:"e.g., Soft-washed",value:i.texture,onChange:b=>s({...i,texture:b.target.value})})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"4. Pricing"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Base Cost (Your Cost)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ze,{type:"number",placeholder:"0.00",value:i.baseCost||"",onChange:b=>s({...i,baseCost:parseFloat(b.target.value)||0}),className:"pl-8"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Your production cost per unit"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Retail Price ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ze,{type:"number",placeholder:"0.00",value:i.retailPrice||"",onChange:b=>s({...i,retailPrice:parseFloat(b.target.value)||0}),className:`pl-8 ${o.retailPrice?"border-red-500":""}`})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Customer price (before print fees)"}),o.retailPrice&&a.jsx("p",{className:"text-xs text-red-500",children:o.retailPrice})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(be,{children:"Print Areas"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wa,{id:"area-Front",checked:i.printAreas.includes("Front"),onCheckedChange:()=>j("Front")}),a.jsx("label",{htmlFor:"area-Front",className:"text-sm cursor-pointer",children:"Front"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wa,{id:"area-Back",checked:i.printAreas.includes("Back"),onCheckedChange:()=>j("Back")}),a.jsx("label",{htmlFor:"area-Back",className:"text-sm cursor-pointer",children:"Back"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:i.printAreas.includes("Front")?"":"text-gray-400",children:"Front Print Cost ()"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${i.printAreas.includes("Front")?"text-gray-500":"text-gray-300"}`,children:""}),a.jsx(ze,{type:"number",step:"0.01",value:i.frontPrintCost??"",onChange:b=>s({...i,frontPrintCost:b.target.value===""?void 0:parseFloat(b.target.value)}),placeholder:"0.00",className:"pl-8",disabled:!i.printAreas.includes("Front")})]}),a.jsx("p",{className:`text-xs ${i.printAreas.includes("Front")?"text-gray-500":"text-gray-400"}`,children:"Cost to add front print customization"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:i.printAreas.includes("Back")?"":"text-gray-400",children:"Back Print Cost ()"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${i.printAreas.includes("Back")?"text-gray-500":"text-gray-300"}`,children:""}),a.jsx(ze,{type:"number",step:"0.01",value:i.backPrintCost??"",onChange:b=>s({...i,backPrintCost:b.target.value===""?void 0:parseFloat(b.target.value)}),placeholder:"0.00",className:"pl-8",disabled:!i.printAreas.includes("Back")})]}),a.jsx("p",{className:`text-xs ${i.printAreas.includes("Back")?"text-gray-500":"text-gray-400"}`,children:"Cost to add back print customization"})]})]}),i.baseCost>0&&i.retailPrice>0&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:a.jsxs("p",{className:"text-sm",children:["Profit Margin: ",a.jsxs("span",{className:"font-semibold",children:["",(i.retailPrice-i.baseCost).toFixed(2)]})," ","(",((i.retailPrice-i.baseCost)/i.retailPrice*100).toFixed(1),"%)"]})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"5. Product Differentiation"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(be,{className:"text-base",children:"How should this product be differentiated?"}),a.jsxs(NH,{value:i.differentiationType,onValueChange:b=>s({...i,differentiationType:b}),className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",style:{borderColor:i.differentiationType==="none"?"#3b82f6":"#e5e7eb"},children:[a.jsx(Yh,{value:"none",id:"diff-none"}),a.jsxs(be,{htmlFor:"diff-none",className:"font-medium cursor-pointer flex-1",children:["None (Plain customizable product)",a.jsx("span",{className:"block text-xs text-gray-500 font-normal mt-0.5",children:"Customer adds their own design"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",style:{borderColor:i.differentiationType==="color"?"#3b82f6":"#e5e7eb"},children:[a.jsx(Yh,{value:"color",id:"diff-color"}),a.jsxs(be,{htmlFor:"diff-color",className:"font-medium cursor-pointer flex-1",children:["Single Color Option",a.jsx("span",{className:"block text-xs text-gray-500 font-normal mt-0.5",children:"Product available in one specific color"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",style:{borderColor:i.differentiationType==="variant"?"#3b82f6":"#e5e7eb"},children:[a.jsx(Yh,{value:"variant",id:"diff-variant"}),a.jsxs(be,{htmlFor:"diff-variant",className:"font-medium cursor-pointer flex-1",children:["Single Variant Option (pre-designed template)",a.jsx("span",{className:"block text-xs text-gray-500 font-normal mt-0.5",children:"Product with a specific design/print pattern"})]})]})]})]}),i.differentiationType==="color"&&a.jsx("div",{className:"p-5 border-2 border-blue-300 rounded-lg bg-blue-50/50",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"font-semibold",children:"Color Name / Code"}),a.jsx(ze,{placeholder:"Type: red, #FF0000, or rgb(255,0,0)",value:i.color?.name||"",onChange:b=>{const S=b.target.value,O=iR(S);s(O?{...i,color:{name:O.name||S,hexCode:O.hex}}:{...i,color:{...i.color||{hexCode:"#000000"},name:S}})},className:"font-mono"}),a.jsx("p",{className:"text-xs text-gray-600",children:' Type color name (e.g., "red"), hex code (#FF0000), or RGB value'})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"font-semibold",children:"Color Picker"}),a.jsxs("div",{className:"flex gap-2 items-start",children:[a.jsx("div",{className:"relative",children:a.jsx("input",{type:"color",value:i.color?.hexCode||"#000000",onChange:b=>{const S=b.target.value.toUpperCase(),O=iR(S);s({...i,color:{name:O?.name||i.color?.name||"",hexCode:S}})},className:"h-12 w-12 rounded-lg border-2 border-gray-300 cursor-pointer shadow-sm"})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300 shadow-sm",style:{backgroundColor:i.color?.hexCode||"#000000"}}),a.jsx("span",{className:"font-mono text-sm font-semibold",children:i.color?.hexCode||"#000000"})]}),i.color?.name&&a.jsxs("p",{className:"text-xs text-gray-600 capitalize",children:["Color: ",i.color.name]})]})]}),a.jsx("p",{className:"text-xs text-gray-600",children:" Click to pick a color visually"})]})]})}),i.differentiationType==="variant"&&a.jsxs("div",{className:"space-y-4 p-5 border-2 border-purple-300 rounded-lg bg-purple-50/50",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:"font-semibold",children:"Variant Name"}),a.jsx(ze,{placeholder:"e.g., Skull Design, Floral Pattern, Abstract Art",value:i.variant?.name||"",onChange:b=>s({...i,variant:{...i.variant||{image:"",publicId:""},name:b.target.value}})})]}),a.jsx(Gde,{label:"Variant Preview Image",value:m.variant,onChange:b=>{g(S=>({...S,variant:b||void 0}))},productCode:n,maxSizeMB:10})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"6. Print & Customization"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Print Method"}),a.jsxs(Gr,{value:i.printMethod,onValueChange:b=>s({...i,printMethod:b}),children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"Select print method"})}),a.jsx(Kr,{children:nfe.map(b=>a.jsx(He,{value:b,children:b},b))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Print Areas"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:ife.map(b=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wa,{id:`area-${b}`,checked:i.printAreas.includes(b),onCheckedChange:()=>j(b)}),a.jsx("label",{htmlFor:`area-${b}`,className:"text-sm cursor-pointer",children:b})]},b))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Design Requirements"}),a.jsx(Py,{placeholder:"e.g., PNG file with transparent background, 300 DPI minimum",value:i.designRequirements,onChange:b=>s({...i,designRequirements:b.target.value}),rows:3})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"7. Business Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Turnaround Time"}),a.jsx(ze,{placeholder:"e.g., 3-5 business days",value:i.turnaroundTime,onChange:b=>s({...i,turnaroundTime:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Minimum Order Quantity"}),a.jsx(ze,{type:"number",min:"1",value:i.minOrderQuantity,onChange:b=>s({...i,minOrderQuantity:parseInt(b.target.value)||0}),onBlur:b=>{(parseInt(b.target.value)||0)<1&&s({...i,minOrderQuantity:1})}})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wa,{id:"status",checked:i.status==="active",onCheckedChange:b=>s({...i,status:b?"active":"inactive"})}),a.jsx("label",{htmlFor:"status",className:"text-sm font-medium cursor-pointer",children:"Publish immediately (make visible to customers)"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:f,children:"Cancel"}),a.jsx(ee,{onClick:y,disabled:f,children:f?"Saving...":t?"Update Product":"Save Product"})]})]})]})})}function lfe({product:t,onClose:e}){const[r,n]=w.useState(null);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:t.name}),a.jsx(nt,{variant:t.status==="active"?"default":"secondary",children:t.status})]}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:e,children:a.jsx(Ct,{className:"size-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),a.jsx("p",{className:"font-medium",children:t.category})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),a.jsx("p",{className:"font-medium",children:t.type})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fit Type"}),a.jsx("p",{className:"font-medium",children:t.fitType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Available Sizes"}),a.jsx("p",{className:"font-medium",children:t.sizes?.join(", ")||"N/A"})]})]}),t.fitDescription&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fit Description"}),a.jsx("p",{className:"font-medium",children:t.fitDescription})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),a.jsx("p",{className:"font-medium",children:t.description})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Product Images"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Front View"}),a.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.images?.find(i=>i.type==="front")?.url||t.images?.[0]?.url||""),children:a.jsx("img",{src:t.images?.find(i=>i.type==="front")?.url||t.images?.[0]?.url||"",alt:"Front view",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Back View"}),a.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.images?.find(i=>i.type==="back")?.url||t.images?.[1]?.url||""),children:a.jsx("img",{src:t.images?.find(i=>i.type==="back")?.url||t.images?.[1]?.url||"",alt:"Back view",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})})]})]}),t.images?.filter(i=>i.type==="additional").length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Additional Images"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.images.filter(i=>i.type==="additional").map((i,s)=>a.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(i.url),children:a.jsx("img",{src:i.url,alt:`Additional ${s+1}`,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})},i.id||s))})]})]}),(t.fabricComposition||t.fabricWeight||t.texture)&&a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Material & Fabric"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.fabricComposition&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fabric Composition"}),a.jsx("p",{className:"font-medium",children:t.fabricComposition})]}),t.fabricWeight&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fabric Weight"}),a.jsx("p",{className:"font-medium",children:t.fabricWeight})]}),t.texture&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Texture"}),a.jsx("p",{className:"font-medium",children:t.texture})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Pricing"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Base Cost"}),a.jsxs("p",{className:"text-2xl font-semibold",children:["",t.baseCost.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Retail Price"}),a.jsxs("p",{className:"text-2xl font-semibold text-green-600",children:["",t.retailPrice.toFixed(2)]})]})]}),(t.frontPrintCost||t.backPrintCost)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.frontPrintCost&&t.frontPrintCost>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Front Print Cost"}),a.jsxs("p",{className:"font-semibold",children:["",t.frontPrintCost.toFixed(2)]})]}),t.backPrintCost&&t.backPrintCost>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Back Print Cost"}),a.jsxs("p",{className:"font-semibold",children:["",t.backPrintCost.toFixed(2)]})]})]}),t.sizePricing&&Object.keys(t.sizePricing).length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Additional Charges by Size"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.sizePricing).map(([i,s])=>a.jsxs("div",{className:"px-3 py-1 bg-gray-100 rounded border text-sm",children:[i,": +",Number(s).toFixed(2)]},i))})]}),a.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:a.jsxs("p",{className:"text-sm",children:["Profit Margin: ",a.jsxs("span",{className:"font-semibold",children:["",(t.retailPrice-t.baseCost).toFixed(2)]})," ","(",((t.retailPrice-t.baseCost)/t.retailPrice*100).toFixed(1),"%)"]})})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Colors & Variants"}),a.jsxs("div",{className:"space-y-4",children:[t.color&&(t.color.name||t.color.hexCode)&&a.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg w-fit",children:[a.jsx("div",{className:"size-12 rounded border flex-shrink-0",style:{backgroundColor:t.color.hexCode||"#ffffff"}}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t.color.name||"Unnamed color"}),t.color.hexCode&&a.jsx("p",{className:"text-xs text-gray-500",children:t.color.hexCode})]})]}),t.variant&&(t.variant.name||t.variant.image)&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Variant Image"}),t.variant.image?a.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.variant?.image||""),children:a.jsx("img",{src:t.variant.image,alt:t.variant.name||"Variant",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})}):a.jsx("p",{className:"text-xs text-gray-500",children:"No variant image"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Variant Name"}),a.jsx("p",{className:"font-medium",children:t.variant.name||""})]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Print & Customization"}),a.jsxs("div",{className:"space-y-4",children:[t.printMethod&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Print Method"}),a.jsx("p",{className:"font-medium",children:t.printMethod})]}),t.printAreas&&t.printAreas.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Print Areas"}),a.jsx("p",{className:"font-medium",children:t.printAreas.join(", ")})]}),t.designRequirements&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Design Requirements"}),a.jsx("p",{className:"font-medium",children:t.designRequirements})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Business Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.turnaroundTime&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Turnaround Time"}),a.jsx("p",{className:"font-medium",children:t.turnaroundTime})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Minimum Order Quantity"}),a.jsx("p",{className:"font-medium",children:t.minOrderQuantity})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Meta Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Created At"}),a.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),a.jsx("p",{className:"font-medium",children:new Date(t.updatedAt).toLocaleString()})]})]})]})]}),a.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:a.jsx(ee,{onClick:e,children:"Close"})})]})}),r&&a.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4",onClick:()=>n(null),children:[a.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:()=>n(null),children:a.jsx(Ct,{className:"size-8"})}),a.jsx("img",{src:r,alt:"Full size",className:"max-w-full max-h-full object-contain",onClick:i=>i.stopPropagation()})]})]})}var cfe=Symbol("radix.slottable");function ufe(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=cfe,e}var ZW="AlertDialog",[dfe]=En(ZW,[p$]),po=p$(),QW=t=>{const{__scopeAlertDialog:e,...r}=t,n=po(e);return a.jsx(IP,{...n,...r,modal:!0})};QW.displayName=ZW;var ffe="AlertDialogTrigger",hfe=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return a.jsx(gee,{...i,...n,ref:e})});hfe.displayName=ffe;var pfe="AlertDialogPortal",eU=t=>{const{__scopeAlertDialog:e,...r}=t,n=po(e);return a.jsx(LP,{...n,...r})};eU.displayName=pfe;var mfe="AlertDialogOverlay",tU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return a.jsx(gm,{...i,...n,ref:e})});tU.displayName=mfe;var Vu="AlertDialogContent",[gfe,vfe]=dfe(Vu),yfe=ufe("AlertDialogContent"),rU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=po(r),o=w.useRef(null),l=ct(e,o),c=w.useRef(null);return a.jsx(fee,{contentName:Vu,titleName:nU,docsSlug:"alert-dialog",children:a.jsx(gfe,{scope:r,cancelRef:c,children:a.jsxs(zP,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ee(i.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(yfe,{children:n}),a.jsx(bfe,{contentRef:o})]})})})});rU.displayName=Vu;var nU="AlertDialogTitle",iU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return a.jsx(FP,{...i,...n,ref:e})});iU.displayName=nU;var sU="AlertDialogDescription",aU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return a.jsx($P,{...i,...n,ref:e})});aU.displayName=sU;var xfe="AlertDialogAction",oU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return a.jsx(Zx,{...i,...n,ref:e})});oU.displayName=xfe;var lU="AlertDialogCancel",cU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=vfe(lU,r),s=po(r),o=ct(e,i);return a.jsx(Zx,{...s,...n,ref:o})});cU.displayName=lU;var bfe=({contentRef:t})=>{const e=`\`${Vu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vu}\` by passing a \`${sU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},wfe=QW,jfe=eU,Sfe=tU,Cfe=rU,Nfe=oU,_fe=cU,Ofe=iU,Pfe=aU;function rl({...t}){return a.jsx(wfe,{"data-slot":"alert-dialog",...t})}function kfe({...t}){return a.jsx(jfe,{"data-slot":"alert-dialog-portal",...t})}function Tfe({className:t,...e}){return a.jsx(Sfe,{"data-slot":"alert-dialog-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function nl({className:t,...e}){return a.jsxs(kfe,{children:[a.jsx(Tfe,{}),a.jsx(Cfe,{"data-slot":"alert-dialog-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function il({className:t,...e}){return a.jsx("div",{"data-slot":"alert-dialog-header",className:Je("flex flex-col gap-2 text-center sm:text-left",t),...e})}function sl({className:t,...e}){return a.jsx("div",{"data-slot":"alert-dialog-footer",className:Je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function al({className:t,...e}){return a.jsx(Ofe,{"data-slot":"alert-dialog-title",className:Je("text-lg font-semibold",t),...e})}function ol({className:t,...e}){return a.jsx(Pfe,{"data-slot":"alert-dialog-description",className:Je("text-muted-foreground text-sm",t),...e})}function ll({className:t,...e}){return a.jsx(Nfe,{className:Je(SP(),t),...e})}function cl({className:t,...e}){return a.jsx(_fe,{className:Je(SP({variant:"outline"}),t),...e})}function Afe(t){const e=Efe(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,l=w.Children.toArray(s),c=l.find(Dfe);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Efe(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=Ife(i),l=Rfe(s,i.props);return i.type!==w.Fragment&&(l.ref=n?ba(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mfe=Symbol("radix.slottable");function Dfe(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mfe}function Rfe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Ife(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var W0="Popover",[uU]=En(W0,[Yd]),Dm=Yd(),[Lfe,Cl]=uU(W0),dU=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,l=Dm(e),c=w.useRef(null),[d,f]=w.useState(!1),[h,m]=ss({prop:n,defaultProp:i??!1,onChange:s,caller:W0});return a.jsx(rk,{...l,children:a.jsx(Lfe,{scope:e,contentId:rs(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:d,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:o,children:r})})};dU.displayName=W0;var fU="PopoverAnchor",zfe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Cl(fU,r),s=Dm(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(u0,{...s,...n,ref:e})});zfe.displayName=fU;var hU="PopoverTrigger",pU=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Cl(hU,r),s=Dm(r),o=ct(e,i.triggerRef),l=a.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xU(i.open),...n,ref:o,onClick:Ee(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(u0,{asChild:!0,...s,children:l})});pU.displayName=hU;var o2="PopoverPortal",[Ffe,$fe]=uU(o2,{forceMount:void 0}),mU=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=Cl(o2,e);return a.jsx(Ffe,{scope:e,forceMount:r,children:a.jsx(pi,{present:r||s.open,children:a.jsx(pm,{asChild:!0,container:i,children:n})})})};mU.displayName=o2;var hd="PopoverContent",gU=w.forwardRef((t,e)=>{const r=$fe(hd,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=Cl(hd,t.__scopePopover);return a.jsx(pi,{present:n||s.open,children:s.modal?a.jsx(Hfe,{...i,ref:e}):a.jsx(Wfe,{...i,ref:e})})});gU.displayName=hd;var Bfe=Afe("PopoverContent.RemoveScroll"),Hfe=w.forwardRef((t,e)=>{const r=Cl(hd,t.__scopePopover),n=w.useRef(null),i=ct(e,n),s=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return Kx(o)},[]),a.jsx(mm,{as:Bfe,allowPinchZoom:!0,children:a.jsx(vU,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,o=>{o.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Wfe=w.forwardRef((t,e)=>{const r=Cl(hd,t.__scopePopover),n=w.useRef(!1),i=w.useRef(!1);return a.jsx(vU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),vU=w.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...h}=t,m=Cl(hd,r),g=Dm(r);return Xx(),a.jsx(hm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(fm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(nk,{"data-state":xU(m.open),role:"dialog",id:m.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yU="PopoverClose",Ufe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Cl(yU,r);return a.jsx(Ze.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,()=>i.onOpenChange(!1))})});Ufe.displayName=yU;var qfe="PopoverArrow",Vfe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Dm(r);return a.jsx(ik,{...i,...n,ref:e})});Vfe.displayName=qfe;function xU(t){return t?"open":"closed"}var Gfe=dU,Xfe=pU,Yfe=mU,Kfe=gU;function bU({...t}){return a.jsx(Gfe,{"data-slot":"popover",...t})}function wU({...t}){return a.jsx(Xfe,{"data-slot":"popover-trigger",...t})}function jU({className:t,align:e="center",sideOffset:r=4,...n}){return a.jsx(Yfe,{children:a.jsx(Kfe,{"data-slot":"popover-content",align:e,sideOffset:r,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function Jfe(){const{products:t,loading:e,addProduct:r,updateProduct:n,deleteProduct:i,activateProduct:s,deactivateProduct:o,archiveProduct:l,restoreProduct:c,getProductsByStatus:d,clearAllProducts:f}=O0(),[h,m]=w.useState("active"),[g,j]=w.useState(!1),[x,y]=w.useState(null),[b,S]=w.useState(null),[O,P]=w.useState([]),[C,_]=w.useState(null),[k,A]=w.useState(null),[M,D]=w.useState(!1),[L,W]=w.useState(""),[$,H]=w.useState("all"),[z,q]=w.useState("all"),E=d(h),U=E.filter(de=>!(L&&!de.name.toLowerCase().includes(L.toLowerCase())||$!=="all"&&de.category!==$||z!=="all"&&de.type!==z)),B=de=>{P(de?U.map(le=>le.id):[])},I=(de,le)=>{P(le?ke=>[...ke,de]:ke=>ke.filter(Ne=>Ne!==de))},F=()=>{y(null),j(!0)},G=de=>{y(de),j(!0)},Z=de=>{x?(n(x.id,de),ve.success("Product updated successfully")):(r(de),ve.success("Product created successfully")),j(!1),y(null)},K=de=>{o(de),ve.success("Product deactivated")},ae=de=>{s(de),ve.success("Product activated")},ie=de=>{l(de),A(null),ve.success("Product archived")},J=de=>{c(de),ve.success("Product restored to inactive")},fe=de=>{i(de),_(null),ve.success("Product permanently deleted")},oe=async()=>{try{await f(),D(!1),P([]),ve.success("All products cleared successfully")}catch(de){console.error("Error clearing all products:",de),ve.error("Failed to clear all products")}};if(e)return a.jsx(un,{children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("p",{className:"text-gray-500",children:"Loading products..."})})});const ue=[h!=="active",$!=="all",z!=="all"].filter(Boolean).length;return a.jsxs(un,{children:[a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Customizable Products"}),a.jsx("p",{className:"text-gray-600",children:"Manage products with custom designs, sizes, and color options"})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),a.jsx(ze,{placeholder:"Search products by name...",value:L,onChange:de=>W(de.target.value),className:"pl-10"})]}),a.jsxs(bU,{children:[a.jsx(wU,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"relative",children:[a.jsx(T3,{className:"size-4 mr-2"}),"Filters",ue>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-purple-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:ue})]})}),a.jsx(jU,{className:"w-80 p-4",align:"end",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("h4",{className:"font-medium mb-3",children:"Filter Products"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ee,{size:"sm",variant:h==="active"?"default":"outline",onClick:()=>m("active"),className:`justify-start ${h==="active"?"bg-black hover:bg-black/90":""}`,children:["Active (",d("active").length,")"]}),a.jsxs(ee,{size:"sm",variant:h==="inactive"?"default":"outline",onClick:()=>m("inactive"),className:`justify-start ${h==="inactive"?"bg-black hover:bg-black/90":""}`,children:["Inactive (",d("inactive").length,")"]}),a.jsxs(ee,{size:"sm",variant:h==="archived"?"default":"outline",onClick:()=>m("archived"),className:`justify-start ${h==="archived"?"bg-black hover:bg-black/90":""}`,children:["Archived (",d("archived").length,")"]}),a.jsxs(ee,{size:"sm",variant:h==="all"?"default":"outline",onClick:()=>m("all"),className:`justify-start ${h==="all"?"bg-black hover:bg-black/90":""}`,children:["All (",t.length,")"]})]})]}),a.jsxs("div",{className:"border-t pt-4 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Category"}),a.jsxs(Gr,{value:$,onValueChange:H,children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"All Categories"})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"all",children:"All Categories"}),a.jsx(He,{value:"T-Shirt - Chinese Collar",children:"T-Shirt - Chinese Collar"}),a.jsx(He,{value:"T-Shirt - V-Neck",children:"T-Shirt - V-Neck"}),a.jsx(He,{value:"T-Shirt - Round Neck",children:"T-Shirt - Round Neck"}),a.jsx(He,{value:"Jogging Pants",children:"Jogging Pants"}),a.jsx(He,{value:"Polo Shirt",children:"Polo Shirt"}),a.jsx(He,{value:"Sando (Jersey) - V-Neck",children:"Sando (Jersey) - V-Neck"}),a.jsx(He,{value:"Sando (Jersey) - Round Neck",children:"Sando (Jersey) - Round Neck"}),a.jsx(He,{value:"Sando (Jersey) - NBA Cut",children:"Sando (Jersey) - NBA Cut"}),a.jsx(He,{value:"Shorts",children:"Shorts"}),a.jsx(He,{value:"Warmers",children:"Warmers"}),a.jsx(He,{value:"Varsity Jacket",children:"Varsity Jacket"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(Gr,{value:z,onValueChange:q,children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"All Types"})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"all",children:"All Types"}),a.jsx(He,{value:"Unisex",children:"Unisex"}),a.jsx(He,{value:"Men",children:"Men"}),a.jsx(He,{value:"Women",children:"Women"}),a.jsx(He,{value:"Kids",children:"Kids"})]})]})]})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsx(ee,{variant:"outline",onClick:()=>{W(""),H("all"),q("all"),m("active")},className:"w-full",children:"Clear All Filters"})})]})})]}),a.jsxs(ee,{className:"bg-black hover:bg-black/90",onClick:F,children:[a.jsx(dl,{className:"size-4 mr-2"}),"Add New Product"]}),t.length>0&&a.jsxs(ee,{variant:"destructive",onClick:()=>D(!0),className:"bg-red-600 hover:bg-red-700",children:[a.jsx(ma,{className:"size-4 mr-2"}),"Clear All"]})]}),ue>0&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),h!=="active"&&a.jsxs(nt,{variant:"secondary",className:"gap-1",children:["Status: ",h,a.jsx(Ct,{className:"size-3 cursor-pointer",onClick:()=>m("active")})]}),$!=="all"&&a.jsxs(nt,{variant:"secondary",className:"gap-1",children:[$,a.jsx(Ct,{className:"size-3 cursor-pointer",onClick:()=>H("all")})]}),z!=="all"&&a.jsxs(nt,{variant:"secondary",className:"gap-1",children:["Type: ",z,a.jsx(Ct,{className:"size-3 cursor-pointer",onClick:()=>q("all")})]})]}),a.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",U.length," of ",E.length," products"]}),U.length>0&&a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"size-4 rounded border-gray-300",checked:O.length===U.length&&U.length>0,onChange:de=>B(de.target.checked)}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Select All ",O.length>0&&`(${O.length} selected)`]})]})}),U.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:U.map(de=>a.jsxs(ht,{className:"border-2 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-3 left-3 z-10",children:a.jsx("input",{type:"checkbox",className:"size-4 rounded border-gray-300 bg-white",checked:O.includes(de.id),onChange:le=>I(de.id,le.target.checked)})}),de.status==="active"&&a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Active"})}),a.jsx("div",{className:"bg-gray-100 aspect-square flex items-center justify-center overflow-hidden",children:a.jsx(Pi,{src:de.images?.find(le=>le.type==="front")?.url||de.images?.[0]?.url||"",alt:de.name,className:"w-full h-full object-cover"})}),a.jsxs(jt,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-1 truncate",children:de.name}),a.jsx("div",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-medium mb-3",children:de.category}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"BASE COST"}),a.jsxs("p",{className:"font-bold",children:["",de.baseCost]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"RETAIL PRICE"}),a.jsxs("p",{className:"font-bold",children:["",de.retailPrice]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"SIZES"}),a.jsx("p",{className:"font-bold",children:de.sizes?.length||0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"COLOR"}),a.jsx("p",{className:"font-bold",children:de.color?.name||""})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>S(de),children:[a.jsx(to,{className:"size-3 mr-1"}),"View"]}),de.status!=="archived"&&a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>G(de),children:[a.jsx(qx,{className:"size-3 mr-1"}),"Edit"]})]}),de.status==="active"&&a.jsxs(ee,{variant:"outline",size:"sm",className:"w-full text-yellow-600 border-yellow-600 hover:bg-yellow-50",onClick:()=>K(de.id),children:[a.jsx(ty,{className:"size-3 mr-1"}),"Deactivate"]}),de.status==="inactive"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 text-green-600 border-green-600 hover:bg-green-50",onClick:()=>ae(de.id),children:[a.jsx(Fx,{className:"size-3 mr-1"}),"Activate"]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 text-orange-600 border-orange-600 hover:bg-orange-50",onClick:()=>A(de.id),children:[a.jsx(_3,{className:"size-3 mr-1"}),"Archive"]})]}),de.status==="archived"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>J(de.id),children:[a.jsx(CP,{className:"size-3 mr-1"}),"Restore"]}),a.jsxs(ee,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>_(de.id),children:[a.jsx(ma,{className:"size-3 mr-1"}),"Delete"]})]})]})]})]},de.id))}):a.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-200 rounded-lg",children:[a.jsxs("p",{className:"text-gray-500 mb-4",children:[h==="active"&&"No active products",h==="inactive"&&"No inactive products",h==="archived"&&"No archived products",h==="all"&&"No products yet"]}),h==="all"&&a.jsxs(ee,{onClick:F,children:[a.jsx(dl,{className:"size-4 mr-2"}),"Add Your First Product"]})]})]}),g&&a.jsx(ofe,{product:x||void 0,onSave:Z,onCancel:()=>{j(!1),y(null)}}),b&&a.jsx(lfe,{product:b,onClose:()=>S(null)}),a.jsx(rl,{open:k!==null,onOpenChange:()=>A(null),children:a.jsxs(nl,{children:[a.jsxs(il,{children:[a.jsx(al,{children:"Archive Product?"}),a.jsx(ol,{children:"This product will be moved to the archived section. You can restore it later or delete it permanently from the archived section."})]}),a.jsxs(sl,{children:[a.jsx(cl,{children:"Cancel"}),a.jsx(ll,{onClick:()=>k&&ie(k),children:"Archive"})]})]})}),a.jsx(rl,{open:C!==null,onOpenChange:()=>_(null),children:a.jsxs(nl,{children:[a.jsxs(il,{children:[a.jsx(al,{children:"Delete Product Permanently?"}),a.jsx(ol,{children:"This action cannot be undone. This will permanently delete the product from your database."})]}),a.jsxs(sl,{children:[a.jsx(cl,{children:"Cancel"}),a.jsx(ll,{onClick:()=>C&&fe(C),className:"bg-red-600 hover:bg-red-700",children:"Delete Permanently"})]})]})}),a.jsx(rl,{open:M,onOpenChange:D,children:a.jsxs(nl,{children:[a.jsxs(il,{children:[a.jsx(al,{children:"Clear All Products?"}),a.jsxs(ol,{children:["This will permanently delete ALL ",t.length," products and their images from the database. This action cannot be undone. Are you absolutely sure?"]})]}),a.jsxs(sl,{children:[a.jsx(cl,{children:"Cancel"}),a.jsx(ll,{onClick:oe,className:"bg-red-600 hover:bg-red-700",children:"Clear All Products"})]})]})})]})}const Zfe={},Ho=Zfe.VITE_API_BASE_URL||"http://localhost:4000";function Qfe(){const[t,e]=w.useState([]),[r,n]=w.useState(!0),i=async()=>{n(!0);try{const g=await fetch(`${Ho}/api/catalog-products`,{credentials:"include"});if(g.ok){const x=(await g.json()).map(y=>({id:String(y.product_id),category:y.category,name:y.product_name,type:y.gender||"Unisex",sizes:y.sizes||[],fitType:y.fit_type,fitDescription:y.fit_description,description:y.description,images:y.product_images?.map((b,S)=>({id:b.image_id,url:b.image_url,publicId:b.cloudinary_public_id,type:b.display_order===1?"front":b.display_order===2?"back":"additional",displayOrder:b.display_order}))||[],fabricComposition:y.material,fabricWeight:y.fabric_weight,texture:y.texture,baseCost:parseFloat(y.base_price)||0,retailPrice:parseFloat(y.base_price)||0,sizePricing:y.size_pricing,frontPrintCost:y.front_print_cost,backPrintCost:y.back_print_cost,sizeAvailability:y.size_availability,differentiationType:y.differentiation_type||"none",color:y.color,variant:y.variant,printMethod:y.print_method,printAreas:y.customization_areas||[],designRequirements:y.design_requirements,turnaroundTime:y.production_days?`${y.production_days} business days`:"3-5 business days",minOrderQuantity:y.min_order_quantity||1,status:y.status?.toLowerCase()||"inactive",createdAt:y.created_at,updatedAt:y.updated_at}));e(x)}else console.log("Using sample data - API not available")}catch(g){console.error("Error fetching catalog products:",g)}finally{n(!1)}};return w.useEffect(()=>{i()},[]),{products:t,loading:r,addProduct:async g=>{try{(await fetch(`${Ho}/api/catalog-products`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(g)})).ok&&await i()}catch(j){console.error("Error adding product:",j)}},updateProduct:async(g,j)=>{try{console.log("Updating product:",g,j);const x=await fetch(`${Ho}/api/catalog-products/${g}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)});if(!x.ok){const b=await x.text();throw console.error("Update failed:",x.status,b),new Error(`Update failed: ${x.status} ${b}`)}const y=await x.json();console.log("Update successful:",y),await i()}catch(x){throw console.error("Error updating product:",x),x}},deleteProduct:async g=>{try{(await fetch(`${Ho}/api/catalog-products/${g}`,{method:"DELETE",credentials:"include"})).ok&&await i()}catch(j){console.error("Error deleting product:",j)}},activateProduct:async g=>{try{(await fetch(`${Ho}/api/catalog-products/${g}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"Active"})})).ok&&await i()}catch(j){console.error("Error activating product:",j)}},deactivateProduct:async g=>{try{(await fetch(`${Ho}/api/catalog-products/${g}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"Inactive"})})).ok&&await i()}catch(j){console.error("Error deactivating product:",j)}},archiveProduct:async g=>{try{(await fetch(`${Ho}/api/catalog-products/${g}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"Archived"})})).ok&&await i()}catch(j){console.error("Error archiving product:",j)}},restoreProduct:async g=>{try{(await fetch(`${Ho}/api/catalog-products/${g}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"inactive"})})).ok&&await i()}catch(j){console.error("Error restoring product:",j)}},getProductsByStatus:g=>g==="all"?t:t.filter(j=>j.status===g)}}const ehe=["T-Shirt - Chinese Collar","T-Shirt - V-Neck","T-Shirt - Round Neck","Jogging Pants","Polo Shirt","Sando (Jersey) - V-Neck","Sando (Jersey) - Round Neck","Sando (Jersey) - NBA Cut","Shorts","Warmers","Varsity Jacket"],the=["Unisex","Men","Women","Kids"],rhe=["Classic","Slim Fit","Regular Fit","Relaxed Fit","Oversized","Tapered","Athletic Fit","Muscle Fit"],Q_=["XS","S","M","L","XL","2XL","3XL"],SU=["K6","K7","K8","K9","K10"],CU=["26","28","30","32","34","36","38","40","42"],NU=["22","24","26","28","30","32"];[...Q_,...SU,...CU,...NU];const nhe={XL:50,"2XL":100,"3XL":150},ihe=(t,e)=>{const r=["T-Shirt - Chinese Collar","T-Shirt - V-Neck","T-Shirt - Round Neck","Polo Shirt","Sando (Jersey) - V-Neck","Sando (Jersey) - Round Neck","Sando (Jersey) - NBA Cut","Varsity Jacket"].includes(t),n=["Jogging Pants","Shorts","Warmers"].includes(t);return r?e==="Kids"?SU:Q_:n?e==="Kids"?NU:CU:Q_};function she({product:t,onSave:e,onCancel:r}){const[n]=w.useState(t?.id?`CP${String(t.id).padStart(6,"0")}`:`TEMP${Date.now()}`),[i,s]=w.useState({category:t?.category||"",name:t?.name||"",type:t?.type||"",sizes:t?.sizes||[],fitType:t?.fitType||"",fitDescription:t?.fitDescription||"",description:t?.description||"",images:t?.images||[],fabricComposition:t?.fabricComposition||"",fabricWeight:t?.fabricWeight||"",texture:t?.texture||"",baseCost:t?.baseCost||0,retailPrice:t?.retailPrice||0,sizePricing:t?.sizePricing||{},frontPrintCost:t?.frontPrintCost||0,backPrintCost:t?.backPrintCost||0,sizeAvailability:t?.sizeAvailability||{},differentiationType:t?.differentiationType||"none",color:t?.color||{name:"",hexCode:""},variant:t?.variant||{name:"",image:"",publicId:""},printMethod:t?.printMethod||"",printAreas:t?.printAreas||[],designRequirements:t?.designRequirements||"Upload your design in high-resolution format (PNG, AI, or PSD). Ensure design dimensions match the selected print area.",turnaroundTime:t?.turnaroundTime||"5-7 business days for production. Rush orders available with additional fee.",minOrderQuantity:t?.minOrderQuantity||1,status:t?.status||"active"}),[o,l]=w.useState({}),[c,d]=w.useState(t?.images?.filter(b=>b.type==="additional").length||0),[f,h]=w.useState(!1),[m,g]=w.useState({additional:[]}),j=b=>{s(S=>({...S,printAreas:S.printAreas.includes(b)?S.printAreas.filter(O=>O!==b):[...S.printAreas,b]}))},x=()=>{const b={};i.name.trim()||(b.name="Product name is required"),i.category||(b.category="Category is required"),i.type||(b.type="Type is required"),i.sizes.length===0&&(b.sizes="At least one size is required");const S=m.front||i.images.some(P=>P.type==="front"),O=m.back||i.images.some(P=>P.type==="back");return S||(b.frontImage="Front image is required"),O||(b.backImage="Back image is required"),(!i.retailPrice||i.retailPrice<=0)&&(b.retailPrice="Retail price is required"),l(b),Object.keys(b).length===0},y=async b=>{if(b.preventDefault(),!x()){alert("Please fill in all required fields correctly");return}const S=m.front||i.images.some(A=>A.type==="front"),O=m.back||i.images.some(A=>A.type==="back");if(!S||!O){alert("Both front and back images are required");return}const P=(m.front?1:0)+(m.back?1:0)+m.additional.length,C=`
Ready to save "${i.name}"?

 Category: ${i.category}
 Type: ${i.type}
 Sizes: ${i.sizes.join(", ")}
 Images to upload: ${P}
 Price: ${i.retailPrice}

Click OK to upload images and save to database.
    `.trim();if(!confirm(C))return;h(!0);const _=[],k=[];try{if(m.front){const D=await qa(m.front.file,m.front.folder,void 0,m.front.customPublicId);_.push({url:D.url,publicId:D.publicId,type:"front",displayOrder:1}),k.push(D.publicId)}if(m.back){const D=await qa(m.back.file,m.back.folder,void 0,m.back.customPublicId);_.push({url:D.url,publicId:D.publicId,type:"back",displayOrder:2}),k.push(D.publicId)}for(const D of m.additional){const L=await qa(D.file,D.folder,void 0,D.customPublicId);_.push({url:L.url,publicId:L.publicId,type:"additional",displayOrder:D.displayOrder}),k.push(L.publicId)}let A;if(i.variant?.name&&i.variant.name.trim())if(m.variant){const D=await qa(m.variant.file,m.variant.folder,void 0,m.variant.customPublicId);A={name:i.variant.name.trim(),image:D.url,publicId:D.publicId},k.push(D.publicId)}else i.variant.image&&(A={name:i.variant.name.trim(),image:i.variant.image,publicId:i.variant.publicId});const M={...i,images:_,variant:A};console.log("Saving product data:",JSON.stringify(M,null,2)),await e(M),console.log("Product saved successfully!")}catch(A){console.error("Save failed:",A),console.error("Error message:",A.message),console.error("Error stack:",A.stack);for(const M of k)try{await XW(M)}catch(D){console.error("Failed to delete image during rollback:",M,D)}alert(`Failed to save product: ${A.message||"Unknown error"}. Uploaded images have been cleaned up. Please try again.`),h(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:t?"Edit Product":"Add New Catalog Product"}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:r,children:a.jsx(Ct,{className:"size-5"})})]}),a.jsxs("form",{onSubmit:y,className:"p-6 space-y-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"1. Basic Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(Gr,{value:i.category,onValueChange:b=>s({...i,category:b}),children:[a.jsx(Yr,{className:o.category?"border-red-500":"",children:a.jsx(Xr,{placeholder:"Select category"})}),a.jsx(Kr,{children:ehe.map(b=>a.jsx(He,{value:b,children:b},b))})]}),o.category&&a.jsx("p",{className:"text-xs text-red-500",children:o.category})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ze,{placeholder:"e.g., Classic Round Neck Tee",value:i.name,onChange:b=>s({...i,name:b.target.value}),className:o.name?"border-red-500":""}),o.name&&a.jsx("p",{className:"text-xs text-red-500",children:o.name})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(Gr,{value:i.type,onValueChange:b=>s({...i,type:b}),children:[a.jsx(Yr,{className:o.type?"border-red-500":"",children:a.jsx(Xr,{placeholder:"Select type"})}),a.jsx(Kr,{children:the.map(b=>a.jsx(He,{value:b,children:b},b))})]}),o.type&&a.jsx("p",{className:"text-xs text-red-500",children:o.type})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Fit Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(Gr,{value:i.fitType,onValueChange:b=>s({...i,fitType:b}),children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"Select fit type"})}),a.jsx(Kr,{children:rhe.map(b=>a.jsx(He,{value:b,children:b},b))})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(be,{children:["Available Sizes & Stock Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 p-3 rounded border border-amber-200 mb-3",children:[" ",a.jsx("strong",{children:"Instructions:"})," Check size to offer, set surcharge (auto-filled for XL/2XL/3XL), toggle stock status when out of stock."]}),a.jsx("div",{className:"space-y-2",children:ihe(i.category,i.type).map(b=>{const S=i.sizes.includes(b),O=i.sizeAvailability?.[b]!==!1;return a.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2 w-24",children:[a.jsx(Wa,{checked:S,onCheckedChange:P=>{s(P?{...i,sizes:[...i.sizes,b],sizePricing:{...i.sizePricing,[b]:nhe[b]||0},sizeAvailability:{...i.sizeAvailability,[b]:!0}}:{...i,sizes:i.sizes.filter(C=>C!==b)})}}),a.jsx("span",{className:"font-medium",children:b})]}),a.jsxs("div",{className:"flex items-center gap-2 w-40",children:[a.jsx("span",{className:"text-sm text-gray-500",children:""}),S?a.jsx(ze,{type:"number",value:(i.sizePricing||{})[b]||0,onChange:P=>s({...i,sizePricing:{...i.sizePricing||{},[b]:parseFloat(P.target.value)||0}}),className:"w-24"}):a.jsx("span",{className:"text-gray-400 w-24",children:"-"})]}),S?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(a2,{checked:O,onCheckedChange:P=>s({...i,sizeAvailability:{...i.sizeAvailability,[b]:P}})}),a.jsx(nt,{variant:O?"default":"secondary",children:O?"In Stock":"Out of Stock"})]}):a.jsx("span",{className:"text-gray-400",children:"-"})]},b)})}),o.sizes&&a.jsx("p",{className:"text-xs text-red-500",children:o.sizes})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Product Status"}),a.jsxs(Gr,{value:i.status,onValueChange:b=>s({...i,status:b}),children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"Select status"})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"active",children:"Active (Visible to customers)"}),a.jsx(He,{value:"inactive",children:"Inactive (Hidden temporarily)"}),a.jsx(He,{value:"archived",children:"Archived (Discontinued)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Fit Description"}),a.jsx(ze,{placeholder:"e.g., Regular fit with comfortable cut",value:i.fitDescription,onChange:b=>s({...i,fitDescription:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Product Description"}),a.jsx(Py,{placeholder:"Detailed description of the product...",value:i.description,onChange:b=>s({...i,description:b.target.value}),rows:4})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"2. Product Images"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[a.jsx("strong",{className:"text-blue-800",children:" Note:"})," ",a.jsx("span",{className:"text-blue-700",children:'Images upload to Cloudinary immediately when selected. Make sure you want to keep them before clicking "Save Product".'})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(qu,{label:"Front View",required:!0,value:m.front,onChange:b=>{g(S=>({...S,front:b||void 0}))},folder:Ja.CATALOG_PRODUCTS_FRONT,imageType:"front",displayOrder:1,productCode:n,description:"Upload front view of the product (JPG/PNG/SVG)",maxSizeMB:10}),a.jsx(qu,{label:"Back View",required:!0,value:m.back,onChange:b=>{g(S=>({...S,back:b||void 0}))},folder:Ja.CATALOG_PRODUCTS_BACK,imageType:"back",displayOrder:1,productCode:n,description:"Upload back view of the product (JPG/PNG/SVG)",maxSizeMB:10})]}),(o.frontImage||o.backImage)&&a.jsx("p",{className:"text-xs text-red-500",children:"Both front and back images are required"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Additional Images (optional)"}),a.jsx("p",{className:"text-xs text-gray-500",children:"JPG/PNG/SVG, max 10MB each - Max 5 images"}),a.jsxs("div",{className:"space-y-4",children:[Array.from({length:c}).map((b,S)=>{const O=m.additional.find(P=>P.displayOrder===S+3);return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[a.jsx(qu,{label:`Additional Image ${S+1}`,value:O,onChange:P=>{g(C=>{const _=C.additional.filter(k=>k.displayOrder!==S+3);return{...C,additional:P?[..._,{...P,displayOrder:S+3}]:_}})},folder:Ja.CATALOG_PRODUCTS_ADDITIONAL,imageType:"additional",displayOrder:S+3,productCode:n,maxSizeMB:10}),a.jsx("div",{className:"flex gap-2 md:justify-end",children:a.jsx(ee,{type:"button",variant:"outline",onClick:()=>{g(P=>{const _=P.additional.filter(k=>k.displayOrder!==S+3).map(k=>k.displayOrder>S+3?{...k,displayOrder:k.displayOrder-1}:k);return{...P,additional:_}}),d(P=>P-1)},children:"Remove Slot"})})]},S)}),a.jsxs(ee,{type:"button",variant:"outline",onClick:()=>d(b=>b+1),disabled:c>=5,children:["+ Add Additional Image Slot ",c>=5&&"(Max reached)"]})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"3. Material & Fabric"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Fabric Composition"}),a.jsx(ze,{placeholder:"e.g., 100% Cotton",value:i.fabricComposition,onChange:b=>s({...i,fabricComposition:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Fabric Weight"}),a.jsx(ze,{placeholder:"e.g., 180 g/m",value:i.fabricWeight,onChange:b=>s({...i,fabricWeight:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Texture"}),a.jsx(ze,{placeholder:"e.g., Soft-washed",value:i.texture,onChange:b=>s({...i,texture:b.target.value})})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"4. Pricing"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:"Base Cost (Your Cost)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ze,{type:"number",placeholder:"0.00",value:i.baseCost||"",onChange:b=>s({...i,baseCost:parseFloat(b.target.value)||0}),className:"pl-8"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Your production cost per unit"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:["Retail Price ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ze,{type:"number",placeholder:"0.00",value:i.retailPrice||"",onChange:b=>s({...i,retailPrice:parseFloat(b.target.value)||0}),className:`pl-8 ${o.retailPrice?"border-red-500":""}`})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Customer price (before print fees)"}),o.retailPrice&&a.jsx("p",{className:"text-xs text-red-500",children:o.retailPrice})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(be,{children:"Print Areas"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wa,{id:"area-Front",checked:i.printAreas.includes("Front"),onCheckedChange:()=>j("Front")}),a.jsx("label",{htmlFor:"area-Front",className:"text-sm cursor-pointer",children:"Front"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wa,{id:"area-Back",checked:i.printAreas.includes("Back"),onCheckedChange:()=>j("Back")}),a.jsx("label",{htmlFor:"area-Back",className:"text-sm cursor-pointer",children:"Back"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:i.printAreas.includes("Front")?"":"text-gray-400",children:"Front Print Cost ()"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${i.printAreas.includes("Front")?"text-gray-500":"text-gray-300"}`,children:""}),a.jsx(ze,{type:"number",step:"0.01",value:i.frontPrintCost??"",onChange:b=>s({...i,frontPrintCost:b.target.value===""?void 0:parseFloat(b.target.value)}),placeholder:"0.00",className:"pl-8",disabled:!i.printAreas.includes("Front")})]}),a.jsx("p",{className:`text-xs ${i.printAreas.includes("Front")?"text-gray-500":"text-gray-400"}`,children:"Cost to add front print customization"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{className:i.printAreas.includes("Back")?"":"text-gray-400",children:"Back Print Cost ()"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${i.printAreas.includes("Back")?"text-gray-500":"text-gray-300"}`,children:""}),a.jsx(ze,{type:"number",step:"0.01",value:i.backPrintCost??"",onChange:b=>s({...i,backPrintCost:b.target.value===""?void 0:parseFloat(b.target.value)}),placeholder:"0.00",className:"pl-8",disabled:!i.printAreas.includes("Back")})]}),a.jsx("p",{className:`text-xs ${i.printAreas.includes("Back")?"text-gray-500":"text-gray-400"}`,children:"Cost to add back print customization"})]})]}),i.baseCost>0&&i.retailPrice>0&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:a.jsxs("p",{className:"text-sm",children:["Profit Margin: ",a.jsxs("span",{className:"font-semibold",children:["",(i.retailPrice-i.baseCost).toFixed(2)]})," ","(",((i.retailPrice-i.baseCost)/i.retailPrice*100).toFixed(1),"%)"]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wa,{id:"status",checked:i.status==="active",onCheckedChange:b=>s({...i,status:b?"active":"inactive"})}),a.jsx("label",{htmlFor:"status",className:"text-sm font-medium cursor-pointer",children:"Publish immediately (make visible to customers)"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:f,children:"Cancel"}),a.jsx(ee,{onClick:y,disabled:f,children:f?"Saving...":t?"Update Product":"Save Product"})]})]})]})})}function ahe({product:t,onClose:e}){const[r,n]=w.useState(null);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:t.name}),a.jsx(nt,{variant:t.status==="active"?"default":"secondary",children:t.status})]}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:e,children:a.jsx(Ct,{className:"size-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),a.jsx("p",{className:"font-medium",children:t.category})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),a.jsx("p",{className:"font-medium",children:t.type})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fit Type"}),a.jsx("p",{className:"font-medium",children:t.fitType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Available Sizes"}),a.jsx("p",{className:"font-medium",children:t.sizes?.join(", ")||"N/A"})]})]}),t.fitDescription&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fit Description"}),a.jsx("p",{className:"font-medium",children:t.fitDescription})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),a.jsx("p",{className:"font-medium",children:t.description})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Product Images"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Front View"}),a.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.images?.find(i=>i.type==="front")?.url||t.images?.[0]?.url||""),children:a.jsx("img",{src:t.images?.find(i=>i.type==="front")?.url||t.images?.[0]?.url||"",alt:"Front view",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Back View"}),a.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.images?.find(i=>i.type==="back")?.url||t.images?.[1]?.url||""),children:a.jsx("img",{src:t.images?.find(i=>i.type==="back")?.url||t.images?.[1]?.url||"",alt:"Back view",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})})]})]}),t.images?.filter(i=>i.type==="additional").length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Additional Images"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.images.filter(i=>i.type==="additional").map((i,s)=>a.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(i.url),children:a.jsx("img",{src:i.url,alt:`Additional ${s+1}`,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})},i.id||s))})]})]}),(t.fabricComposition||t.fabricWeight||t.texture)&&a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Material & Fabric"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.fabricComposition&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fabric Composition"}),a.jsx("p",{className:"font-medium",children:t.fabricComposition})]}),t.fabricWeight&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fabric Weight"}),a.jsx("p",{className:"font-medium",children:t.fabricWeight})]}),t.texture&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Texture"}),a.jsx("p",{className:"font-medium",children:t.texture})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Pricing"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Base Cost"}),a.jsxs("p",{className:"text-2xl font-semibold",children:["",t.baseCost.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Retail Price"}),a.jsxs("p",{className:"text-2xl font-semibold text-green-600",children:["",t.retailPrice.toFixed(2)]})]})]}),(t.frontPrintCost||t.backPrintCost)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.frontPrintCost&&t.frontPrintCost>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Front Print Cost"}),a.jsxs("p",{className:"font-semibold",children:["",t.frontPrintCost.toFixed(2)]})]}),t.backPrintCost&&t.backPrintCost>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Back Print Cost"}),a.jsxs("p",{className:"font-semibold",children:["",t.backPrintCost.toFixed(2)]})]})]}),t.sizePricing&&Object.keys(t.sizePricing).length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Additional Charges by Size"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.sizePricing).map(([i,s])=>a.jsxs("div",{className:"px-3 py-1 bg-gray-100 rounded border text-sm",children:[i,": +",Number(s).toFixed(2)]},i))})]}),a.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:a.jsxs("p",{className:"text-sm",children:["Profit Margin: ",a.jsxs("span",{className:"font-semibold",children:["",(t.retailPrice-t.baseCost).toFixed(2)]})," ","(",((t.retailPrice-t.baseCost)/t.retailPrice*100).toFixed(1),"%)"]})})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Colors & Variants"}),a.jsxs("div",{className:"space-y-4",children:[t.color&&(t.color.name||t.color.hexCode)&&a.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg w-fit",children:[a.jsx("div",{className:"size-12 rounded border flex-shrink-0",style:{backgroundColor:t.color.hexCode||"#ffffff"}}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t.color.name||"Unnamed color"}),t.color.hexCode&&a.jsx("p",{className:"text-xs text-gray-500",children:t.color.hexCode})]})]}),t.variant&&(t.variant.name||t.variant.image)&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Variant Image"}),t.variant.image?a.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.variant?.image||""),children:a.jsx("img",{src:t.variant.image,alt:t.variant.name||"Variant",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})}):a.jsx("p",{className:"text-xs text-gray-500",children:"No variant image"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Variant Name"}),a.jsx("p",{className:"font-medium",children:t.variant.name||""})]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Print & Customization"}),a.jsxs("div",{className:"space-y-4",children:[t.printMethod&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Print Method"}),a.jsx("p",{className:"font-medium",children:t.printMethod})]}),t.printAreas&&t.printAreas.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Print Areas"}),a.jsx("p",{className:"font-medium",children:t.printAreas.join(", ")})]}),t.designRequirements&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Design Requirements"}),a.jsx("p",{className:"font-medium",children:t.designRequirements})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Business Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.turnaroundTime&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Turnaround Time"}),a.jsx("p",{className:"font-medium",children:t.turnaroundTime})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Minimum Order Quantity"}),a.jsx("p",{className:"font-medium",children:t.minOrderQuantity})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Meta Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Created At"}),a.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),a.jsx("p",{className:"font-medium",children:new Date(t.updatedAt).toLocaleString()})]})]})]})]}),a.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:a.jsx(ee,{onClick:e,children:"Close"})})]})}),r&&a.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4",onClick:()=>n(null),children:[a.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:()=>n(null),children:a.jsx(Ct,{className:"size-8"})}),a.jsx("img",{src:r,alt:"Full size",className:"max-w-full max-h-full object-contain",onClick:i=>i.stopPropagation()})]})]})}function ohe(){const{products:t,loading:e,addProduct:r,updateProduct:n,deleteProduct:i,activateProduct:s,deactivateProduct:o,archiveProduct:l,restoreProduct:c,getProductsByStatus:d}=Qfe(),[f,h]=w.useState("active"),[m,g]=w.useState(!1),[j,x]=w.useState(null),[y,b]=w.useState(null),[S,O]=w.useState([]),[P,C]=w.useState(null),[_,k]=w.useState(null),[A,M]=w.useState(""),[D,L]=w.useState("all"),[W,$]=w.useState("all"),H=d(f),z=H.filter(J=>!(A&&!J.name.toLowerCase().includes(A.toLowerCase())||D!=="all"&&J.category!==D||W!=="all"&&J.type!==W)),q=J=>{O(J?z.map(fe=>fe.id):[])},E=(J,fe)=>{O(fe?oe=>[...oe,J]:oe=>oe.filter(ue=>ue!==J))},U=()=>{x(null),g(!0)},B=J=>{x(J),g(!0)},I=async J=>{try{j?(await n(j.id,J),ve.success("Product updated successfully")):(await r(J),ve.success("Product created successfully")),g(!1),x(null)}catch(fe){throw ve.error(`Failed to save product: ${fe.message}`),fe}},F=J=>{o(J),ve.success("Product deactivated")},G=J=>{s(J),ve.success("Product activated")},Z=J=>{l(J),k(null),ve.success("Product archived")},K=J=>{c(J),ve.success("Product restored to inactive")},ae=J=>{i(J),C(null),ve.success("Product permanently deleted")};if(e)return a.jsx(un,{children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("p",{className:"text-gray-500",children:"Loading products..."})})});const ie=[f!=="active",D!=="all",W!=="all"].filter(Boolean).length;return a.jsxs(un,{children:[a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Catalog Products"}),a.jsx("p",{className:"text-gray-600",children:"Manage pre-designed catalog products with fixed pricing"})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),a.jsx(ze,{placeholder:"Search products by name...",value:A,onChange:J=>M(J.target.value),className:"pl-10"})]}),a.jsxs(bU,{children:[a.jsx(wU,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"relative",children:[a.jsx(T3,{className:"size-4 mr-2"}),"Filters",ie>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-purple-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:ie})]})}),a.jsx(jU,{className:"w-80 p-4",align:"end",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("h4",{className:"font-medium mb-3",children:"Filter Products"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ee,{size:"sm",variant:f==="active"?"default":"outline",onClick:()=>h("active"),className:`justify-start ${f==="active"?"bg-black hover:bg-black/90":""}`,children:["Active (",d("active").length,")"]}),a.jsxs(ee,{size:"sm",variant:f==="inactive"?"default":"outline",onClick:()=>h("inactive"),className:`justify-start ${f==="inactive"?"bg-black hover:bg-black/90":""}`,children:["Inactive (",d("inactive").length,")"]}),a.jsxs(ee,{size:"sm",variant:f==="archived"?"default":"outline",onClick:()=>h("archived"),className:`justify-start ${f==="archived"?"bg-black hover:bg-black/90":""}`,children:["Archived (",d("archived").length,")"]}),a.jsxs(ee,{size:"sm",variant:f==="all"?"default":"outline",onClick:()=>h("all"),className:`justify-start ${f==="all"?"bg-black hover:bg-black/90":""}`,children:["All (",t.length,")"]})]})]}),a.jsxs("div",{className:"border-t pt-4 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Category"}),a.jsxs(Gr,{value:D,onValueChange:L,children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"All Categories"})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"all",children:"All Categories"}),a.jsx(He,{value:"T-Shirt - Chinese Collar",children:"T-Shirt - Chinese Collar"}),a.jsx(He,{value:"T-Shirt - V-Neck",children:"T-Shirt - V-Neck"}),a.jsx(He,{value:"T-Shirt - Round Neck",children:"T-Shirt - Round Neck"}),a.jsx(He,{value:"Jogging Pants",children:"Jogging Pants"}),a.jsx(He,{value:"Polo Shirt",children:"Polo Shirt"}),a.jsx(He,{value:"Sando (Jersey) - V-Neck",children:"Sando (Jersey) - V-Neck"}),a.jsx(He,{value:"Sando (Jersey) - Round Neck",children:"Sando (Jersey) - Round Neck"}),a.jsx(He,{value:"Sando (Jersey) - NBA Cut",children:"Sando (Jersey) - NBA Cut"}),a.jsx(He,{value:"Shorts",children:"Shorts"}),a.jsx(He,{value:"Warmers",children:"Warmers"}),a.jsx(He,{value:"Varsity Jacket",children:"Varsity Jacket"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(Gr,{value:W,onValueChange:$,children:[a.jsx(Yr,{children:a.jsx(Xr,{placeholder:"All Types"})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"all",children:"All Types"}),a.jsx(He,{value:"Unisex",children:"Unisex"}),a.jsx(He,{value:"Men",children:"Men"}),a.jsx(He,{value:"Women",children:"Women"}),a.jsx(He,{value:"Kids",children:"Kids"})]})]})]})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsx(ee,{variant:"outline",onClick:()=>{M(""),L("all"),$("all"),h("active")},className:"w-full",children:"Clear All Filters"})})]})})]}),a.jsxs(ee,{className:"bg-black hover:bg-black/90",onClick:U,children:[a.jsx(dl,{className:"size-4 mr-2"}),"Add New Product"]})]}),ie>0&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),f!=="active"&&a.jsxs(nt,{variant:"secondary",className:"gap-1",children:["Status: ",f,a.jsx(Ct,{className:"size-3 cursor-pointer",onClick:()=>h("active")})]}),D!=="all"&&a.jsxs(nt,{variant:"secondary",className:"gap-1",children:[D,a.jsx(Ct,{className:"size-3 cursor-pointer",onClick:()=>L("all")})]}),W!=="all"&&a.jsxs(nt,{variant:"secondary",className:"gap-1",children:["Type: ",W,a.jsx(Ct,{className:"size-3 cursor-pointer",onClick:()=>$("all")})]})]}),a.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",z.length," of ",H.length," products"]}),z.length>0&&a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"size-4 rounded border-gray-300",checked:S.length===z.length&&z.length>0,onChange:J=>q(J.target.checked)}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Select All ",S.length>0&&`(${S.length} selected)`]})]})}),z.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:z.map(J=>a.jsxs(ht,{className:"border-2 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-3 left-3 z-10",children:a.jsx("input",{type:"checkbox",className:"size-4 rounded border-gray-300 bg-white",checked:S.includes(J.id),onChange:fe=>E(J.id,fe.target.checked)})}),J.status==="active"&&a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Active"})}),a.jsx("div",{className:"bg-gray-100 aspect-square flex items-center justify-center overflow-hidden",children:a.jsx(Pi,{src:J.images?.find(fe=>fe.type==="front")?.url||J.images?.[0]?.url||"",alt:J.name,className:"w-full h-full object-cover"})}),a.jsxs(jt,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-1 truncate",children:J.name}),a.jsx("div",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-medium mb-3",children:J.category}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"BASE COST"}),a.jsxs("p",{className:"font-bold",children:["",J.baseCost]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"RETAIL PRICE"}),a.jsxs("p",{className:"font-bold",children:["",J.retailPrice]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"SIZES"}),a.jsx("p",{className:"font-bold",children:J.sizes?.length||0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"COLOR"}),a.jsx("p",{className:"font-bold",children:J.color?.name||""})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(J),children:[a.jsx(to,{className:"size-3 mr-1"}),"View"]}),J.status!=="archived"&&a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>B(J),children:[a.jsx(qx,{className:"size-3 mr-1"}),"Edit"]})]}),J.status==="active"&&a.jsxs(ee,{variant:"outline",size:"sm",className:"w-full text-yellow-600 border-yellow-600 hover:bg-yellow-50",onClick:()=>F(J.id),children:[a.jsx(ty,{className:"size-3 mr-1"}),"Deactivate"]}),J.status==="inactive"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 text-green-600 border-green-600 hover:bg-green-50",onClick:()=>G(J.id),children:[a.jsx(Fx,{className:"size-3 mr-1"}),"Activate"]}),a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 text-orange-600 border-orange-600 hover:bg-orange-50",onClick:()=>k(J.id),children:[a.jsx(_3,{className:"size-3 mr-1"}),"Archive"]})]}),J.status==="archived"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>K(J.id),children:[a.jsx(CP,{className:"size-3 mr-1"}),"Restore"]}),a.jsxs(ee,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>C(J.id),children:[a.jsx(ma,{className:"size-3 mr-1"}),"Delete"]})]})]})]})]},J.id))}):a.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-200 rounded-lg",children:[a.jsxs("p",{className:"text-gray-500 mb-4",children:[f==="active"&&"No active products",f==="inactive"&&"No inactive products",f==="archived"&&"No archived products",f==="all"&&"No products yet"]}),f==="all"&&a.jsxs(ee,{onClick:U,children:[a.jsx(dl,{className:"size-4 mr-2"}),"Add Your First Product"]})]})]}),m&&a.jsx(she,{product:j||void 0,onSave:I,onCancel:()=>{g(!1),x(null)}}),y&&a.jsx(ahe,{product:y,onClose:()=>b(null)}),a.jsx(rl,{open:_!==null,onOpenChange:()=>k(null),children:a.jsxs(nl,{children:[a.jsxs(il,{children:[a.jsx(al,{children:"Archive Product?"}),a.jsx(ol,{children:"This product will be moved to the archived section. You can restore it later or delete it permanently from the archived section."})]}),a.jsxs(sl,{children:[a.jsx(cl,{children:"Cancel"}),a.jsx(ll,{onClick:()=>_&&Z(_),children:"Archive"})]})]})}),a.jsx(rl,{open:P!==null,onOpenChange:()=>C(null),children:a.jsxs(nl,{children:[a.jsxs(il,{children:[a.jsx(al,{children:"Delete Product Permanently?"}),a.jsx(ol,{children:"This action cannot be undone. This will permanently delete the product from your database."})]}),a.jsxs(sl,{children:[a.jsx(cl,{children:"Cancel"}),a.jsx(ll,{onClick:()=>P&&ae(P),className:"bg-red-600 hover:bg-red-700",children:"Delete Permanently"})]})]})})]})}const Ql="http://localhost:4000/api/canvas-resources";function lhe(){const[t,e]=w.useState("graphics"),[r,n]=w.useState([]),[i,s]=w.useState(!1),[o,l]=w.useState([]),[c,d]=w.useState(!1),[f,h]=w.useState(!1),[m,g]=w.useState(0),[j,x]=w.useState(null),[y,b]=w.useState(null),[S,O]=w.useState(""),[P,C]=w.useState("icon"),[_,k]=w.useState(null),A=w.useRef(null),M=w.useRef(null),D=async E=>{s(!0);try{const U=E?`${Ql}/graphics?category=${E}`:`${Ql}/graphics`,I=await(await fetch(U)).json();n(I)}catch(U){ve.error("Failed to load graphics"),console.error(U)}finally{s(!1)}},L=async()=>{d(!0);try{const U=await(await fetch(`${Ql}/patterns`)).json();l(U)}catch(E){ve.error("Failed to load patterns"),console.error(E)}finally{d(!1)}};w.useState(()=>{D(),L()});const W=E=>{e(E),x(null),b(null),O(""),g(0)},$=E=>{const U=E.target.files?.[0];if(!U)return;if(!(t==="graphics"?["image/png","image/svg+xml"]:["image/png"]).includes(U.type)){ve.error(`Invalid file type. ${t==="graphics"?"Use PNG or SVG":"Use PNG only"}`);return}if(U.size>10*1024*1024){ve.error("File too large. Maximum size is 10MB");return}x(U),O(U.name.replace(/\.[^/.]+$/,"")),b(URL.createObjectURL(U))},H=E=>new Promise(U=>{const B=new Image,I=URL.createObjectURL(E);B.onload=()=>{URL.revokeObjectURL(I),Math.min(B.width,B.height)<3600?U({valid:!1,width:B.width,height:B.height,error:`Image resolution too low (${B.width}${B.height}px). Minimum 3600px required.`}):U({valid:!0,width:B.width,height:B.height})},B.onerror=()=>{URL.revokeObjectURL(I),U({valid:!1,width:0,height:0,error:"Failed to load image"})},B.src=I}),z=async()=>{if(!j||!S.trim()){ve.error("Please select a file and enter a name");return}h(!0),g(0);try{const E=await H(j);if(!E.valid){ve.error(E.error||"Invalid image"),h(!1);return}const U=t==="graphics"?Ja.ADMIN_GRAPHICS:Ja.ADMIN_PATTERNS,B=await qa(j,U,K=>g(K)),I=t==="graphics"?`${Ql}/graphics`:`${Ql}/patterns`,F={name:S,cloudinary_url:B.url,thumbnail_url:B.thumbnailUrl||B.url,cloudinary_public_id:B.publicId,file_size:B.size,width:E.width,height:E.height,format:B.format,...t==="graphics"&&{category:P},...t==="patterns"&&{is_seamless:!0}};if(!(await fetch(I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).ok)throw new Error("Failed to save resource");ve.success(`${t==="graphics"?"Graphic":"Pattern"} uploaded successfully`),t==="graphics"?D():L(),x(null),b(null),O(""),g(0);const Z=t==="graphics"?A:M;Z.current&&(Z.current.value="")}catch(E){ve.error(E.message||"Upload failed"),console.error(E)}finally{h(!1)}},q=async()=>{if(_)try{const E=_.type==="graphic"?`${Ql}/graphics/${_.id}`:`${Ql}/patterns/${_.id}`;if(!(await fetch(E,{method:"DELETE"})).ok)throw new Error("Failed to delete");ve.success(`${_.type==="graphic"?"Graphic":"Pattern"} deleted successfully`),_.type==="graphic"?D():L()}catch(E){ve.error(E.message||"Delete failed"),console.error(E)}finally{k(null)}};return a.jsx(un,{children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Canvas Resources"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Upload graphics and patterns for customer designs"})]}),a.jsxs(ee,{variant:"outline",onClick:()=>t==="graphics"?D():L(),children:[a.jsx(om,{className:"size-4 mr-2"}),"Refresh"]})]}),a.jsxs(Fk,{value:t,onValueChange:E=>W(E),children:[a.jsxs($k,{className:"mb-6",children:[a.jsxs(od,{value:"graphics",className:"flex items-center gap-2",children:[a.jsx(Wh,{className:"size-4"}),"Graphics"]}),a.jsxs(od,{value:"patterns",className:"flex items-center gap-2",children:[a.jsx(zu,{className:"size-4"}),"Patterns"]})]}),a.jsxs(ld,{value:"graphics",children:[a.jsxs(ht,{className:"p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload Graphic"}),a.jsxs("div",{onClick:()=>A.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors mb-4",children:[a.jsx("input",{ref:A,type:"file",accept:"image/png,image/svg+xml",onChange:$,className:"hidden"}),y?a.jsxs("div",{className:"space-y-4",children:[a.jsx("img",{src:y,alt:"Preview",className:"max-h-48 mx-auto"}),a.jsx("p",{className:"text-sm text-gray-600",children:j?.name})]}):a.jsxs(a.Fragment,{children:[a.jsx(lp,{className:"size-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Drop files here or click to upload"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Min 3600px  PNG or SVG  Max 10MB"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx(be,{children:"Name"}),a.jsx(ze,{value:S,onChange:E=>O(E.target.value),placeholder:"e.g., Gold Star Icon"})]}),a.jsxs("div",{children:[a.jsx(be,{children:"Category"}),a.jsxs(Gr,{value:P,onValueChange:E=>C(E),children:[a.jsx(Yr,{children:a.jsx(Xr,{})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"icon",children:"Icon"}),a.jsx(He,{value:"logo",children:"Logo"}),a.jsx(He,{value:"illustration",children:"Illustration"}),a.jsx(He,{value:"template",children:"Template"})]})]})]})]}),f&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Uploading..."}),a.jsxs("span",{children:[Math.round(m),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${m}%`}})})]}),a.jsx(ee,{onClick:z,disabled:!j||f,className:"w-full",children:f?a.jsxs(a.Fragment,{children:[a.jsx($n,{className:"size-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload Graphic"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Uploaded Graphics (",r.length,")"]}),a.jsx("div",{className:"flex gap-2",children:["all","icon","logo","illustration","template"].map(E=>a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>D(E==="all"?void 0:E),children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]}),i?a.jsx("div",{className:"text-center py-12",children:a.jsx($n,{className:"size-8 animate-spin mx-auto text-gray-400"})}):r.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(Wh,{className:"size-12 mx-auto mb-4 opacity-30"}),a.jsx("p",{children:"No graphics uploaded yet"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.map(E=>a.jsxs(ht,{className:"overflow-hidden",children:[a.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[a.jsx("img",{src:E.thumbnail_url,alt:E.name,className:"w-full h-full object-contain p-2"}),a.jsx(ee,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 size-8",onClick:()=>k({type:"graphic",id:E.id}),children:a.jsx(Ct,{className:"size-4"})})]}),a.jsxs("div",{className:"p-3",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:E.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[E.width,"  ",E.height,"px"]}),a.jsx("p",{className:"text-xs text-gray-500",children:E.format.toUpperCase()}),E.category&&a.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:E.category})]})]},E.id))})]})]}),a.jsxs(ld,{value:"patterns",children:[a.jsxs(ht,{className:"p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload Pattern"}),a.jsxs("div",{onClick:()=>M.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors mb-4",children:[a.jsx("input",{ref:M,type:"file",accept:"image/png",onChange:$,className:"hidden"}),y?a.jsxs("div",{className:"space-y-4",children:[a.jsx("img",{src:y,alt:"Preview",className:"max-h-48 mx-auto"}),a.jsx("p",{className:"text-sm text-gray-600",children:j?.name})]}):a.jsxs(a.Fragment,{children:[a.jsx(zu,{className:"size-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Drop files here or click to upload"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Min 3600px  PNG only  Max 10MB  Seamless patterns work best"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(be,{children:"Name"}),a.jsx(ze,{value:S,onChange:E=>O(E.target.value),placeholder:"e.g., Camouflage Pattern"})]}),f&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Uploading..."}),a.jsxs("span",{children:[Math.round(m),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${m}%`}})})]}),a.jsx(ee,{onClick:z,disabled:!j||f,className:"w-full",children:f?a.jsxs(a.Fragment,{children:[a.jsx($n,{className:"size-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload Pattern"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Uploaded Patterns (",o.length,")"]}),c?a.jsx("div",{className:"text-center py-12",children:a.jsx($n,{className:"size-8 animate-spin mx-auto text-gray-400"})}):o.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(zu,{className:"size-12 mx-auto mb-4 opacity-30"}),a.jsx("p",{children:"No patterns uploaded yet"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:o.map(E=>a.jsxs(ht,{className:"overflow-hidden",children:[a.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[a.jsx("img",{src:E.thumbnail_url,alt:E.name,className:"w-full h-full object-cover"}),a.jsx(ee,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 size-8",onClick:()=>k({type:"pattern",id:E.id}),children:a.jsx(Ct,{className:"size-4"})})]}),a.jsxs("div",{className:"p-3",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:E.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[E.width,"  ",E.height,"px"]}),a.jsx("p",{className:"text-xs text-gray-500",children:E.format.toUpperCase()})]})]},E.id))})]})]})]}),a.jsx(rl,{open:!!_,onOpenChange:()=>k(null),children:a.jsxs(nl,{children:[a.jsxs(il,{children:[a.jsxs(al,{children:["Delete ",_?.type==="graphic"?"Graphic":"Pattern","?"]}),a.jsx(ol,{children:"This will permanently delete this resource from Cloudinary and the database. This action cannot be undone."})]}),a.jsxs(sl,{children:[a.jsx(cl,{children:"Cancel"}),a.jsx(ll,{onClick:q,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}const l2=w.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:`w-full caption-bottom text-sm ${t||""}`,...e})}));l2.displayName="Table";const c2=w.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:`[&_tr]:border-b ${t||""}`,...e}));c2.displayName="TableHeader";const u2=w.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:`[&_tr:last-child]:border-0 ${t||""}`,...e}));u2.displayName="TableBody";const che=w.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:`border-t bg-muted/50 font-medium [&>tr]:last:border-b-0 ${t||""}`,...e}));che.displayName="TableFooter";const Gu=w.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:`border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted ${t||""}`,...e}));Gu.displayName="TableRow";const sn=w.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:`h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 ${t||""}`,...e}));sn.displayName="TableHead";const qr=w.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:`p-4 align-middle [&:has([role=checkbox])]:pr-0 ${t||""}`,...e}));qr.displayName="TableCell";const uhe=w.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:`mt-4 text-sm text-muted-foreground ${t||""}`,...e}));uhe.displayName="TableCaption";const dhe=[{id:"1",name:"John Dela Cruz",email:"john.delacruz@rfm.com",phone:"09123456789",role:"Production Manager",department:"Production",status:"active",joinDate:"2023-01-15"},{id:"2",name:"Maria Santos",email:"maria.santos@rfm.com",phone:"09234567890",role:"Designer",department:"Design",status:"active",joinDate:"2023-02-20"},{id:"3",name:"Pedro Garcia",email:"pedro.garcia@rfm.com",phone:"09345678901",role:"Quality Control",department:"Production",status:"active",joinDate:"2023-03-10"},{id:"4",name:"Ana Reyes",email:"ana.reyes@rfm.com",phone:"09456789012",role:"Customer Service",department:"Support",status:"active",joinDate:"2023-04-05"},{id:"5",name:"Carlos Ramos",email:"carlos.ramos@rfm.com",phone:"09567890123",role:"Warehouse Staff",department:"Logistics",status:"inactive",joinDate:"2023-05-12"}];function fhe(){const[t,e]=w.useState(dhe),[r,n]=w.useState(""),i=t.filter(s=>s.name.toLowerCase().includes(r.toLowerCase())||s.email.toLowerCase().includes(r.toLowerCase())||s.role.toLowerCase().includes(r.toLowerCase()));return a.jsx(un,{children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Employees"}),a.jsx("p",{className:"text-gray-600",children:"Manage your team members and staff"})]}),a.jsxs(ee,{className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(dl,{className:"size-4 mr-2"}),"Add Employee"]})]}),a.jsx("div",{className:"mb-6 flex gap-4",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Ns,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-gray-400"}),a.jsx(ze,{placeholder:"Search employees...",value:r,onChange:s=>n(s.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"bg-white rounded-lg border",children:a.jsxs(l2,{children:[a.jsx(c2,{children:a.jsxs(Gu,{children:[a.jsx(sn,{children:"Name"}),a.jsx(sn,{children:"Email"}),a.jsx(sn,{children:"Phone"}),a.jsx(sn,{children:"Role"}),a.jsx(sn,{children:"Department"}),a.jsx(sn,{children:"Join Date"}),a.jsx(sn,{children:"Status"}),a.jsx(sn,{className:"text-right",children:"Actions"})]})}),a.jsx(u2,{children:i.map(s=>a.jsxs(Gu,{children:[a.jsx(qr,{className:"font-medium",children:s.name}),a.jsx(qr,{children:s.email}),a.jsx(qr,{children:s.phone}),a.jsx(qr,{children:s.role}),a.jsx(qr,{children:s.department}),a.jsx(qr,{children:new Date(s.joinDate).toLocaleDateString()}),a.jsx(qr,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:s.status})}),a.jsx(qr,{className:"text-right",children:a.jsxs(Yk,{children:[a.jsx(Kk,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx(vY,{className:"size-4"})})}),a.jsxs(Jk,{align:"end",children:[a.jsxs(Zo,{children:[a.jsx(qx,{className:"size-4 mr-2"}),"Edit"]}),a.jsxs(Zo,{className:"text-red-600",children:[a.jsx(ma,{className:"size-4 mr-2"}),"Delete"]})]})]})})]},s.id))})]})}),i.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No employees found"})})]})})}const jv="http://localhost:4000";function hhe(){const[t,e]=w.useState([]),[r,n]=w.useState(!0),[i,s]=w.useState(""),[o,l]=w.useState("all"),[c,d]=w.useState(!0),[f,h]=w.useState(!1),[m,g]=w.useState(null),[j,x]=w.useState(null),[y,b]=w.useState(null),[S,O]=w.useState({name:"",description:"",category:"",stock:0,unit:"",minLevel:0,costPerUnit:0});w.useEffect(()=>{P()},[]);const P=async()=>{try{n(!0);const z=await fetch(`${jv}/api/inventory`,{credentials:"include"});if(z.ok){const q=await z.json();e(q)}else ve.error("Failed to load inventory items")}catch(z){console.error("Error loading inventory:",z),ve.error("Failed to load inventory items")}finally{n(!1)}},C={totalItems:t.length,activeItems:t.filter(z=>z.status==="active").length,lowStockItems:t.filter(z=>z.stock<=z.minLevel).length,totalValue:t.reduce((z,q)=>z+q.stock*q.costPerUnit,0)},_=Array.from(new Set(t.map(z=>z.category))),k=t.filter(z=>!(i&&!z.name.toLowerCase().includes(i.toLowerCase())&&!z.description?.toLowerCase().includes(i.toLowerCase())||o!=="all"&&z.category!==o||c&&z.status==="inactive")),A=()=>{g(null),O({name:"",description:"",category:"",stock:0,unit:"",minLevel:0,costPerUnit:0}),h(!0)},M=z=>{g(z),O({name:z.name,description:z.description||"",category:z.category,stock:z.stock,unit:z.unit,minLevel:z.minLevel,costPerUnit:z.costPerUnit}),h(!0)},D=async()=>{try{const z=m?`${jv}/api/inventory/${m.id}`:`${jv}/api/inventory`,E=await fetch(z,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(S)});if(E.ok)ve.success(m?"Item updated successfully":"Item added successfully"),h(!1),P();else{const U=await E.json();ve.error(U.error||"Failed to save item")}}catch(z){console.error("Error saving item:",z),ve.error("Failed to save item")}},L=async z=>{try{(await fetch(`${jv}/api/inventory/${z}`,{method:"DELETE",credentials:"include"})).ok?(ve.success("Item deleted successfully"),x(null),P()):ve.error("Failed to delete item")}catch(q){console.error("Error deleting item:",q),ve.error("Failed to delete item")}},W=async z=>{O({name:`${z.name} (Copy)`,description:z.description||"",category:z.category,stock:0,unit:z.unit,minLevel:z.minLevel,costPerUnit:z.costPerUnit}),g(null),h(!0)},$=z=>z.stock<=z.minLevel?a.jsx(nt,{variant:"destructive",children:"Low Stock"}):z.status==="active"?a.jsx(nt,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Active"}):a.jsx(nt,{variant:"secondary",children:"Inactive"}),H=z=>z.stock<=z.minLevel?"text-red-600 font-semibold":"";return r?a.jsx(un,{children:a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})})})}):a.jsx(un,{children:a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-600",children:"Track and manage consumable materials."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(ht,{children:a.jsx(jt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-bold",children:C.totalItems})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:a.jsx(nr,{className:"size-6 text-blue-600"})})]})})}),a.jsx(ht,{children:a.jsx(jt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Items"}),a.jsx("p",{className:"text-2xl font-bold",children:C.activeItems})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(Ss,{className:"size-6 text-green-600"})})]})})}),a.jsx(ht,{children:a.jsx(jt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Low Stock"}),a.jsx("p",{className:"text-2xl font-bold",children:C.lowStockItems})]}),a.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:a.jsx(L3,{className:"size-6 text-yellow-600"})})]})})}),a.jsx(ht,{children:a.jsx(jt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Value"}),a.jsxs("p",{className:"text-2xl font-bold",children:[" ",C.totalValue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsx("div",{className:"p-3 bg-teal-100 rounded-full",children:a.jsx($x,{className:"size-6 text-teal-600"})})]})})})]}),a.jsx("div",{className:"bg-white rounded-lg border p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[a.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 size-4"}),a.jsx(ze,{placeholder:"Search items...",value:i,onChange:z=>s(z.target.value),className:"pl-10"})]}),a.jsxs(Gr,{value:o,onValueChange:l,children:[a.jsx(Yr,{className:"w-full md:w-48",children:a.jsx(Xr,{placeholder:"All Categories"})}),a.jsxs(Kr,{children:[a.jsx(He,{value:"all",children:"All Categories"}),_.map(z=>a.jsx(He,{value:z,children:z},z))]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(a2,{id:"active-only",checked:c,onCheckedChange:d}),a.jsx(be,{htmlFor:"active-only",className:"text-sm",children:"Active Items Only"})]})]}),a.jsxs(ee,{onClick:A,className:"bg-orange-500 hover:bg-orange-600",children:[a.jsx(dl,{className:"size-4 mr-2"}),"Add Item"]})]})}),a.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:a.jsxs(l2,{children:[a.jsx(c2,{children:a.jsxs(Gu,{children:[a.jsx(sn,{children:"ID"}),a.jsx(sn,{children:"NAME"}),a.jsx(sn,{children:"CATEGORY"}),a.jsx(sn,{children:"STOCK"}),a.jsx(sn,{children:"UNIT"}),a.jsx(sn,{children:"MIN LEVEL"}),a.jsx(sn,{children:"COST/UNIT"}),a.jsx(sn,{children:"STATUS"}),a.jsx(sn,{className:"text-right",children:"ACTIONS"})]})}),a.jsx(u2,{children:k.length===0?a.jsx(Gu,{children:a.jsx(qr,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No items found"})}):k.map(z=>a.jsxs(Gu,{children:[a.jsx(qr,{className:"font-mono text-sm",children:z.id.slice(0,8)}),a.jsx(qr,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:z.name}),z.description&&a.jsx("p",{className:"text-sm text-gray-500",children:z.description})]})}),a.jsx(qr,{children:z.category}),a.jsxs(qr,{className:H(z),children:[z.stock.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",z.unit]}),a.jsx(qr,{children:z.unit}),a.jsxs(qr,{children:[z.minLevel," ",z.unit]}),a.jsxs(qr,{children:[" ",z.costPerUnit.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx(qr,{children:$(z)}),a.jsx(qr,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>b(z),className:"size-8",children:a.jsx(to,{className:"size-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>M(z),className:"size-8",children:a.jsx(qx,{className:"size-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>W(z),className:"size-8",children:a.jsx(ry,{className:"size-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>x(z.id),className:"size-8 text-red-600 hover:text-red-700",children:a.jsx(ma,{className:"size-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8",title:"History",children:a.jsx(OY,{className:"size-4"})})]})})]},z.id))})]})}),a.jsx(cd,{open:f,onOpenChange:h,children:a.jsxs(ud,{className:"max-w-2xl",children:[a.jsxs(dd,{children:[a.jsx(fd,{children:m?"Edit Item":"Add New Item"}),a.jsx(xp,{children:m?"Update inventory item details":"Add a new item to your inventory"})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"name",children:"Item Name *"}),a.jsx(ze,{id:"name",value:S.name,onChange:z=>O({...S,name:z.target.value}),placeholder:"e.g., CUYI SUBLI INK - MAGENTA"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"category",children:"Category *"}),a.jsx(ze,{id:"category",value:S.category,onChange:z=>O({...S,category:z.target.value}),placeholder:"e.g., Sublimation Ink"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"description",children:"Description"}),a.jsx(ze,{id:"description",value:S.description,onChange:z=>O({...S,description:z.target.value}),placeholder:"Brief description of the item"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"stock",children:"Current Stock *"}),a.jsx(ze,{id:"stock",type:"number",value:S.stock,onChange:z=>O({...S,stock:parseFloat(z.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"unit",children:"Unit *"}),a.jsx(ze,{id:"unit",value:S.unit,onChange:z=>O({...S,unit:z.target.value}),placeholder:"e.g., bottle, kg"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"minLevel",children:"Min Level *"}),a.jsx(ze,{id:"minLevel",type:"number",value:S.minLevel,onChange:z=>O({...S,minLevel:parseFloat(z.target.value)||0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"costPerUnit",children:"Cost per Unit () *"}),a.jsx(ze,{id:"costPerUnit",type:"number",step:"0.01",value:S.costPerUnit,onChange:z=>O({...S,costPerUnit:parseFloat(z.target.value)||0})})]})]}),a.jsxs($D,{children:[a.jsx(ee,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),a.jsxs(ee,{onClick:D,className:"bg-orange-500 hover:bg-orange-600",children:[m?"Update":"Add"," Item"]})]})]})}),a.jsx(cd,{open:!!y,onOpenChange:()=>b(null),children:a.jsxs(ud,{children:[a.jsxs(dd,{children:[a.jsx(fd,{children:y?.name}),a.jsx(xp,{children:y?.description})]}),y&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(be,{className:"text-gray-600",children:"Category"}),a.jsx("p",{className:"font-medium",children:y.category})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-gray-600",children:"Status"}),a.jsx("div",{className:"mt-1",children:$(y)})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-gray-600",children:"Current Stock"}),a.jsxs("p",{className:`font-medium ${H(y)}`,children:[y.stock," ",y.unit]})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-gray-600",children:"Minimum Level"}),a.jsxs("p",{className:"font-medium",children:[y.minLevel," ",y.unit]})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-gray-600",children:"Cost per Unit"}),a.jsxs("p",{className:"font-medium",children:[" ",y.costPerUnit.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-gray-600",children:"Total Value"}),a.jsxs("p",{className:"font-medium",children:[" ",(y.stock*y.costPerUnit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),a.jsxs($D,{children:[a.jsx(ee,{variant:"outline",onClick:()=>b(null),children:"Close"}),a.jsx(ee,{onClick:()=>{y&&(M(y),b(null))},className:"bg-orange-500 hover:bg-orange-600",children:"Edit"})]})]})}),a.jsx(rl,{open:!!j,onOpenChange:()=>x(null),children:a.jsxs(nl,{children:[a.jsxs(il,{children:[a.jsx(al,{children:"Delete Item"}),a.jsx(ol,{children:"Are you sure you want to delete this item? This action cannot be undone."})]}),a.jsxs(sl,{children:[a.jsx(cl,{children:"Cancel"}),a.jsx(ll,{onClick:()=>j&&L(j),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}var n1,sR;function mi(){if(sR)return n1;sR=1;var t=Array.isArray;return n1=t,n1}var i1,aR;function _U(){if(aR)return i1;aR=1;var t=typeof Xo=="object"&&Xo&&Xo.Object===Object&&Xo;return i1=t,i1}var s1,oR;function Ca(){if(oR)return s1;oR=1;var t=_U(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return s1=r,s1}var a1,lR;function Rm(){if(lR)return a1;lR=1;var t=Ca(),e=t.Symbol;return a1=e,a1}var o1,cR;function phe(){if(cR)return o1;cR=1;var t=Rm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var f=n.call(o);return d&&(l?o[i]=c:delete o[i]),f}return o1=s,o1}var l1,uR;function mhe(){if(uR)return l1;uR=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return l1=r,l1}var c1,dR;function mo(){if(dR)return c1;dR=1;var t=Rm(),e=phe(),r=mhe(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?e(l):r(l)}return c1=o,c1}var u1,fR;function go(){if(fR)return u1;fR=1;function t(e){return e!=null&&typeof e=="object"}return u1=t,u1}var d1,hR;function af(){if(hR)return d1;hR=1;var t=mo(),e=go(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return d1=n,d1}var f1,pR;function d2(){if(pR)return f1;pR=1;var t=mi(),e=af(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return f1=i,f1}var h1,mR;function Nl(){if(mR)return h1;mR=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return h1=t,h1}var p1,gR;function f2(){if(gR)return p1;gR=1;var t=mo(),e=Nl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==s}return p1=o,p1}var m1,vR;function ghe(){if(vR)return m1;vR=1;var t=Ca(),e=t["__core-js_shared__"];return m1=e,m1}var g1,yR;function vhe(){if(yR)return g1;yR=1;var t=ghe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return g1=r,g1}var v1,xR;function OU(){if(xR)return v1;xR=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return v1=r,v1}var y1,bR;function yhe(){if(bR)return y1;bR=1;var t=f2(),e=vhe(),r=Nl(),n=OU(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||e(m))return!1;var g=t(m)?f:s;return g.test(n(m))}return y1=h,y1}var x1,wR;function xhe(){if(wR)return x1;wR=1;function t(e,r){return e?.[r]}return x1=t,x1}var b1,jR;function Bc(){if(jR)return b1;jR=1;var t=yhe(),e=xhe();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return b1=r,b1}var w1,SR;function U0(){if(SR)return w1;SR=1;var t=Bc(),e=t(Object,"create");return w1=e,w1}var j1,CR;function bhe(){if(CR)return j1;CR=1;var t=U0();function e(){this.__data__=t?t(null):{},this.size=0}return j1=e,j1}var S1,NR;function whe(){if(NR)return S1;NR=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return S1=t,S1}var C1,_R;function jhe(){if(_R)return C1;_R=1;var t=U0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return C1=i,C1}var N1,OR;function She(){if(OR)return N1;OR=1;var t=U0(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return N1=n,N1}var _1,PR;function Che(){if(PR)return _1;PR=1;var t=U0(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return _1=r,_1}var O1,kR;function Nhe(){if(kR)return O1;kR=1;var t=bhe(),e=whe(),r=jhe(),n=She(),i=Che();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,O1=s,O1}var P1,TR;function _he(){if(TR)return P1;TR=1;function t(){this.__data__=[],this.size=0}return P1=t,P1}var k1,AR;function h2(){if(AR)return k1;AR=1;function t(e,r){return e===r||e!==e&&r!==r}return k1=t,k1}var T1,ER;function q0(){if(ER)return T1;ER=1;var t=h2();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return T1=e,T1}var A1,MR;function Ohe(){if(MR)return A1;MR=1;var t=q0(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return A1=n,A1}var E1,DR;function Phe(){if(DR)return E1;DR=1;var t=q0();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return E1=e,E1}var M1,RR;function khe(){if(RR)return M1;RR=1;var t=q0();function e(r){return t(this.__data__,r)>-1}return M1=e,M1}var D1,IR;function The(){if(IR)return D1;IR=1;var t=q0();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return D1=e,D1}var R1,LR;function V0(){if(LR)return R1;LR=1;var t=_he(),e=Ohe(),r=Phe(),n=khe(),i=The();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,R1=s,R1}var I1,zR;function p2(){if(zR)return I1;zR=1;var t=Bc(),e=Ca(),r=t(e,"Map");return I1=r,I1}var L1,FR;function Ahe(){if(FR)return L1;FR=1;var t=Nhe(),e=V0(),r=p2();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return L1=n,L1}var z1,$R;function Ehe(){if($R)return z1;$R=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return z1=t,z1}var F1,BR;function G0(){if(BR)return F1;BR=1;var t=Ehe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return F1=e,F1}var $1,HR;function Mhe(){if(HR)return $1;HR=1;var t=G0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return $1=e,$1}var B1,WR;function Dhe(){if(WR)return B1;WR=1;var t=G0();function e(r){return t(this,r).get(r)}return B1=e,B1}var H1,UR;function Rhe(){if(UR)return H1;UR=1;var t=G0();function e(r){return t(this,r).has(r)}return H1=e,H1}var W1,qR;function Ihe(){if(qR)return W1;qR=1;var t=G0();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return W1=e,W1}var U1,VR;function m2(){if(VR)return U1;VR=1;var t=Ahe(),e=Mhe(),r=Dhe(),n=Rhe(),i=Ihe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,U1=s,U1}var q1,GR;function PU(){if(GR)return q1;GR=1;var t=m2(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return s.cache=c.set(l,d)||c,d};return s.cache=new(r.Cache||t),s}return r.Cache=t,q1=r,q1}var V1,XR;function Lhe(){if(XR)return V1;XR=1;var t=PU(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return V1=r,V1}var G1,YR;function zhe(){if(YR)return G1;YR=1;var t=Lhe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,c,d){s.push(c?d.replace(r,"$1"):l||o)}),s});return G1=n,G1}var X1,KR;function g2(){if(KR)return X1;KR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return X1=t,X1}var Y1,JR;function Fhe(){if(JR)return Y1;JR=1;var t=Rm(),e=g2(),r=mi(),n=af(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Y1=o,Y1}var K1,ZR;function kU(){if(ZR)return K1;ZR=1;var t=Fhe();function e(r){return r==null?"":t(r)}return K1=e,K1}var J1,QR;function TU(){if(QR)return J1;QR=1;var t=mi(),e=d2(),r=zhe(),n=kU();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return J1=i,J1}var Z1,eI;function X0(){if(eI)return Z1;eI=1;var t=af();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Z1=e,Z1}var Q1,tI;function v2(){if(tI)return Q1;tI=1;var t=TU(),e=X0();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return Q1=r,Q1}var eS,rI;function AU(){if(rI)return eS;rI=1;var t=v2();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return eS=e,eS}var $he=AU();const Ei=zt($he);var tS,nI;function Bhe(){if(nI)return tS;nI=1;function t(e){return e==null}return tS=t,tS}var Hhe=Bhe();const dt=zt(Hhe);var rS,iI;function Whe(){if(iI)return rS;iI=1;var t=mo(),e=mi(),r=go(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return rS=i,rS}var Uhe=Whe();const Pc=zt(Uhe);var qhe=f2();const ot=zt(qhe);var Vhe=Nl();const of=zt(Vhe);var nS={exports:{}},$t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI;function Ghe(){if(sI)return $t;sI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function x(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case t:switch(y=y.type,y){case r:case i:case n:case d:case f:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case c:case m:case h:case s:return y;default:return b}}case e:return b}}}return $t.ContextConsumer=o,$t.ContextProvider=s,$t.Element=t,$t.ForwardRef=c,$t.Fragment=r,$t.Lazy=m,$t.Memo=h,$t.Portal=e,$t.Profiler=i,$t.StrictMode=n,$t.Suspense=d,$t.SuspenseList=f,$t.isAsyncMode=function(){return!1},$t.isConcurrentMode=function(){return!1},$t.isContextConsumer=function(y){return x(y)===o},$t.isContextProvider=function(y){return x(y)===s},$t.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},$t.isForwardRef=function(y){return x(y)===c},$t.isFragment=function(y){return x(y)===r},$t.isLazy=function(y){return x(y)===m},$t.isMemo=function(y){return x(y)===h},$t.isPortal=function(y){return x(y)===e},$t.isProfiler=function(y){return x(y)===i},$t.isStrictMode=function(y){return x(y)===n},$t.isSuspense=function(y){return x(y)===d},$t.isSuspenseList=function(y){return x(y)===f},$t.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===d||y===f||y===g||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===s||y.$$typeof===o||y.$$typeof===c||y.$$typeof===j||y.getModuleId!==void 0)},$t.typeOf=x,$t}var aI;function Xhe(){return aI||(aI=1,nS.exports=Ghe()),nS.exports}var Yhe=Xhe(),iS,oI;function EU(){if(oI)return iS;oI=1;var t=mo(),e=go(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return iS=n,iS}var sS,lI;function Khe(){if(lI)return sS;lI=1;var t=EU();function e(r){return t(r)&&r!=+r}return sS=e,sS}var Jhe=Khe();const Im=zt(Jhe);var Zhe=EU();const Qhe=zt(Zhe);var Bn=function(e){return e===0?0:e>0?1:-1},hc=function(e){return Pc(e)&&e.indexOf("%")===e.length-1},Te=function(e){return Qhe(e)&&!Im(e)},epe=function(e){return dt(e)},Zr=function(e){return Te(e)||Pc(e)},tpe=0,lf=function(e){var r=++tpe;return"".concat(e||"").concat(r)},Hn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!Pc(e))return n;var s;if(hc(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Im(s)&&(s=n),i&&s>r&&(s=r),s},Go=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},rpe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},_i=function(e,r){return Te(e)&&Te(r)?function(n){return e+n*(r-e)}:function(){return r}};function Fy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ei(n,e))===r})}var npe=function(e,r){return Te(e)&&Te(r)?e-r:Pc(e)&&Pc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Xu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function eO(t){"@babel/helpers - typeof";return eO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eO(t)}var ipe=["viewBox","children"],spe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cI=["points","pathLength"],aS={svg:ipe,polygon:cI,polyline:cI},y2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$y=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!of(n))return null;var i={};return Object.keys(n).forEach(function(s){y2.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},ape=function(e,r,n){return function(i){return e(r,n,i),null}},kc=function(e,r,n){if(!of(e)||eO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];y2.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=ape(o,r,n))}),i},ope=["children"],lpe=["children"];function uI(t,e){if(t==null)return{};var r=cpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tO(t){"@babel/helpers - typeof";return tO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tO(t)}var dI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Za=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fI=null,oS=null,x2=function t(e){if(e===fI&&Array.isArray(oS))return oS;var r=[];return w.Children.forEach(e,function(n){dt(n)||(Yhe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),oS=r,fI=e,r};function Mi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Za(i)}):n=[Za(e)],x2(t).forEach(function(i){var s=Ei(i,"type.displayName")||Ei(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Ci(t,e){var r=Mi(t,e);return r&&r[0]}var hI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Te(n)||n<=0||!Te(i)||i<=0)},upe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dpe=function(e){return e&&e.type&&Pc(e.type)&&upe.indexOf(e.type)>=0},fpe=function(e){return e&&tO(e)==="object"&&"clipDot"in e},hpe=function(e,r,n,i){var s,o=(s=aS?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!ot(e)&&(i&&o.includes(r)||spe.includes(r))||n&&y2.includes(r)},tt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(w.isValidElement(e)&&(i=e.props),!of(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;hpe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},rO=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return pI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!pI(s,o))return!1}return!0},pI=function(e,r){if(dt(e)&&dt(r))return!0;if(!dt(e)&&!dt(r)){var n=e.props||{},i=n.children,s=uI(n,ope),o=r.props||{},l=o.children,c=uI(o,lpe);return i&&l?Xu(s,c)&&rO(i,l):!i&&!l?Xu(s,c):!1}return!1},mI=function(e,r){var n=[],i={};return x2(e).forEach(function(s,o){if(dpe(s))n.push(s);else if(s){var l=Za(s.type),c=r[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var h=d(s,l,o);n.push(h),i[l]=!0}}}),n},ppe=function(e){var r=e&&e.type;return r&&dI[r]?dI[r]:null},mpe=function(e,r){return x2(r).indexOf(e)},gpe=["children","width","height","viewBox","className","style","title","desc"];function nO(){return nO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nO.apply(this,arguments)}function vpe(t,e){if(t==null)return{};var r=ype(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ype(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iO(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,d=vpe(t,gpe),f=i||{width:r,height:n,x:0,y:0},h=pt("recharts-surface",s);return Y.createElement("svg",nO({},tt(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Y.createElement("title",null,l),Y.createElement("desc",null,c),e)}var xpe=["children","className"];function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sO.apply(this,arguments)}function bpe(t,e){if(t==null)return{};var r=wpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Mt=Y.forwardRef(function(t,e){var r=t.children,n=t.className,i=bpe(t,xpe),s=pt("recharts-layer",n);return Y.createElement("g",sO({className:s},tt(i,!0),{ref:e}),r)}),Es=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},lS,gI;function jpe(){if(gI)return lS;gI=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return lS=t,lS}var cS,vI;function Spe(){if(vI)return cS;vI=1;var t=jpe();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return cS=e,cS}var uS,yI;function MU(){if(yI)return uS;yI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function c(d){return l.test(d)}return uS=c,uS}var dS,xI;function Cpe(){if(xI)return dS;xI=1;function t(e){return e.split("")}return dS=t,dS}var fS,bI;function Npe(){if(bI)return fS;bI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",j=d+"?",x="["+s+"]?",y="(?:"+g+"(?:"+[f,h,m].join("|")+")"+x+j+")*",b=x+j+y,S="(?:"+[f+l+"?",l,h,m,o].join("|")+")",O=RegExp(c+"(?="+c+")|"+S+b,"g");function P(C){return C.match(O)||[]}return fS=P,fS}var hS,wI;function _pe(){if(wI)return hS;wI=1;var t=Cpe(),e=MU(),r=Npe();function n(i){return e(i)?r(i):t(i)}return hS=n,hS}var pS,jI;function Ope(){if(jI)return pS;jI=1;var t=Spe(),e=MU(),r=_pe(),n=kU();function i(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[s]()+d}}return pS=i,pS}var mS,SI;function Ppe(){if(SI)return mS;SI=1;var t=Ope(),e=t("toUpperCase");return mS=e,mS}var kpe=Ppe();const Y0=zt(kpe);function rr(t){return function(){return t}}const DU=Math.cos,By=Math.sin,qs=Math.sqrt,Hy=Math.PI,K0=2*Hy,aO=Math.PI,oO=2*aO,ic=1e-6,Tpe=oO-ic;function RU(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Ape(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return RU;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Epe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?RU:Ape(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,d=i-r,f=o-e,h=l-r,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>ic)if(!(Math.abs(h*c-d*f)>ic)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-o,j=i-l,x=c*c+d*d,y=g*g+j*j,b=Math.sqrt(x),S=Math.sqrt(m),O=s*Math.tan((aO-Math.acos((x+m-y)/(2*b*S)))/2),P=O/S,C=O/b;Math.abs(P-1)>ic&&this._append`L${e+P*f},${r+P*h}`,this._append`A${s},${s},0,0,${+(h*g>f*j)},${this._x1=e+C*c},${this._y1=r+C*d}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,f=r+c,h=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ic||Math.abs(this._y1-f)>ic)&&this._append`L${d},${f}`,n&&(m<0&&(m=m%oO+oO),m>Tpe?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=f}`:m>ic&&this._append`A${n},${n},0,${+(m>=aO)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function b2(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Epe(e)}function w2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IU(t){this._context=t}IU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function J0(t){return new IU(t)}function LU(t){return t[0]}function zU(t){return t[1]}function FU(t,e){var r=rr(!0),n=null,i=J0,s=null,o=b2(l);t=typeof t=="function"?t:t===void 0?LU:rr(t),e=typeof e=="function"?e:e===void 0?zU:rr(e);function l(c){var d,f=(c=w2(c)).length,h,m=!1,g;for(n==null&&(s=i(g=o())),d=0;d<=f;++d)!(d<f&&r(h=c[d],d,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(h,d,c),+e(h,d,c));if(g)return s=null,g+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:rr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:rr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:rr(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Sv(t,e,r){var n=null,i=rr(!0),s=null,o=J0,l=null,c=b2(d);t=typeof t=="function"?t:t===void 0?LU:rr(+t),e=typeof e=="function"?e:rr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?zU:rr(+r);function d(h){var m,g,j,x=(h=w2(h)).length,y,b=!1,S,O=new Array(x),P=new Array(x);for(s==null&&(l=o(S=c())),m=0;m<=x;++m){if(!(m<x&&i(y=h[m],m,h))===b)if(b=!b)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),j=m-1;j>=g;--j)l.point(O[j],P[j]);l.lineEnd(),l.areaEnd()}b&&(O[m]=+t(y,m,h),P[m]=+e(y,m,h),l.point(n?+n(y,m,h):O[m],r?+r(y,m,h):P[m]))}if(S)return l=null,S+""||null}function f(){return FU().defined(i).curve(o).context(s)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:rr(+h),n=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:rr(+h),d):t},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:rr(+h),d):n},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:rr(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:rr(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:rr(+h),d):r},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(r)},d.lineX1=function(){return f().x(n).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:rr(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,s!=null&&(l=o(s)),d):o},d.context=function(h){return arguments.length?(h==null?s=l=null:l=o(s=h),d):s},d}class $U{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Mpe(t){return new $U(t,!0)}function Dpe(t){return new $U(t,!1)}const j2={draw(t,e){const r=qs(e/Hy);t.moveTo(r,0),t.arc(0,0,r,0,K0)}},Rpe={draw(t,e){const r=qs(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},BU=qs(1/3),Ipe=BU*2,Lpe={draw(t,e){const r=qs(e/Ipe),n=r*BU;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},zpe={draw(t,e){const r=qs(e),n=-r/2;t.rect(n,n,r,r)}},Fpe=.8908130915292852,HU=By(Hy/10)/By(7*Hy/10),$pe=By(K0/10)*HU,Bpe=-DU(K0/10)*HU,Hpe={draw(t,e){const r=qs(e*Fpe),n=$pe*r,i=Bpe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=K0*s/5,l=DU(o),c=By(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},gS=qs(3),Wpe={draw(t,e){const r=-qs(e/(gS*3));t.moveTo(0,r*2),t.lineTo(-gS*r,-r),t.lineTo(gS*r,-r),t.closePath()}},Vi=-.5,Gi=qs(3)/2,lO=1/qs(12),Upe=(lO/2+1)*3,qpe={draw(t,e){const r=qs(e/Upe),n=r/2,i=r*lO,s=n,o=r*lO+r,l=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(Vi*n-Gi*i,Gi*n+Vi*i),t.lineTo(Vi*s-Gi*o,Gi*s+Vi*o),t.lineTo(Vi*l-Gi*c,Gi*l+Vi*c),t.lineTo(Vi*n+Gi*i,Vi*i-Gi*n),t.lineTo(Vi*s+Gi*o,Vi*o-Gi*s),t.lineTo(Vi*l+Gi*c,Vi*c-Gi*l),t.closePath()}};function Vpe(t,e){let r=null,n=b2(i);t=typeof t=="function"?t:rr(t||j2),e=typeof e=="function"?e:rr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:rr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:rr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Wy(){}function Uy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function WU(t){this._context=t}WU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gpe(t){return new WU(t)}function UU(t){this._context=t}UU.prototype={areaStart:Wy,areaEnd:Wy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xpe(t){return new UU(t)}function qU(t){this._context=t}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ype(t){return new qU(t)}function VU(t){this._context=t}VU.prototype={areaStart:Wy,areaEnd:Wy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Kpe(t){return new VU(t)}function CI(t){return t<0?-1:1}function NI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(CI(s)+CI(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function _I(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function vS(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,o-l*r,s,o)}function qy(t){this._context=t}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vS(this,this._t0,_I(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vS(this,_I(this,r=NI(this,t,e)),r);break;default:vS(this,this._t0,r=NI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function GU(t){this._context=new XU(t)}(GU.prototype=Object.create(qy.prototype)).point=function(t,e){qy.prototype.point.call(this,e,t)};function XU(t){this._context=t}XU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Jpe(t){return new qy(t)}function Zpe(t){return new GU(t)}function YU(t){this._context=t}YU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=OI(t),i=OI(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function OI(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Qpe(t){return new YU(t)}function Z0(t,e){this._context=t,this._t=e}Z0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function eme(t){return new Z0(t,.5)}function tme(t){return new Z0(t,0)}function rme(t){return new Z0(t,1)}function pd(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,l=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function cO(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function nme(t,e){return t[e]}function ime(t){const e=[];return e.key=t,e}function sme(){var t=rr([]),e=cO,r=pd,n=nme;function i(s){var o=Array.from(t.apply(this,arguments),ime),l,c=o.length,d=-1,f;for(const h of s)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,s)]).data=h;for(l=0,f=w2(e(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:rr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:rr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?cO:typeof s=="function"?s:rr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??pd,i):r},i}function ame(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}pd(t,e)}}function ome(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}pd(t,e)}}function lme(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],h=f[n][1]||0,m=f[n-1][1]||0,g=(h-m)/2,j=0;j<l;++j){var x=t[e[j]],y=x[n][1]||0,b=x[n-1][1]||0;g+=y-b}c+=h,d+=g*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,pd(t,e)}}function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}var cme=["type","size","sizeType"];function uO(){return uO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uO.apply(this,arguments)}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){ume(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ume(t,e,r){return e=dme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dme(t){var e=fme(t,"string");return Np(e)=="symbol"?e:e+""}function fme(t,e){if(Np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hme(t,e){if(t==null)return{};var r=pme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KU={symbolCircle:j2,symbolCross:Rpe,symbolDiamond:Lpe,symbolSquare:zpe,symbolStar:Hpe,symbolTriangle:Wpe,symbolWye:qpe},mme=Math.PI/180,gme=function(e){var r="symbol".concat(Y0(e));return KU[r]||j2},vme=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mme;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yme=function(e,r){KU["symbol".concat(Y0(e))]=r},S2=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=hme(e,cme),d=kI(kI({},c),{},{type:n,size:s,sizeType:l}),f=function(){var y=gme(n),b=Vpe().type(y).size(vme(s,l,n));return b()},h=d.className,m=d.cx,g=d.cy,j=tt(d,!0);return m===+m&&g===+g&&s===+s?Y.createElement("path",uO({},j,{className:pt("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:f()})):null};S2.registerSymbol=yme;function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function dO(){return dO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dO.apply(this,arguments)}function TI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(r),!0).forEach(function(n){_p(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZU(n.key),n)}}function jme(t,e,r){return e&&wme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t,e,r){return e=Vy(e),Cme(t,JU()?Reflect.construct(e,r||[],Vy(t).constructor):e.apply(t,r))}function Cme(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nme(t)}function Nme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!t})()}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(t)}function _me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fO(t,e)}function fO(t,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fO(t,e)}function _p(t,e,r){return e=ZU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZU(t){var e=Ome(t,"string");return md(e)=="symbol"?e:e+""}function Ome(t,e){if(md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xi=32,C2=(function(t){function e(){return bme(this,e),Sme(this,e,arguments)}return _me(e,t),jme(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Xi/2,o=Xi/6,l=Xi/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Xi,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Xi,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xi/8,"h").concat(Xi,"v").concat(Xi*3/4,"h").concat(-Xi,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var d=xme({},n);return delete d.legendIcon,Y.cloneElement(n.legendIcon,d)}return Y.createElement(S2,{fill:c,cx:s,cy:s,size:Xi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:Xi,height:Xi},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,j){var x=g.formatter||c,y=pt(_p(_p({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",g.inactive));if(g.type==="none")return null;var b=ot(g.value)?null:g.value;Es(!ot(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?d:g.color;return Y.createElement("li",dO({className:y,style:h,key:"legend-item-".concat(j)},kc(n.props,g,j)),Y.createElement(iO,{width:o,height:o,viewBox:f,style:m},n.renderIcon(g)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},x?x(b,g,j):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(w.PureComponent);_p(C2,"displayName","Legend");_p(C2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yS,AI;function Pme(){if(AI)return yS;AI=1;var t=V0();function e(){this.__data__=new t,this.size=0}return yS=e,yS}var xS,EI;function kme(){if(EI)return xS;EI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return xS=t,xS}var bS,MI;function Tme(){if(MI)return bS;MI=1;function t(e){return this.__data__.get(e)}return bS=t,bS}var wS,DI;function Ame(){if(DI)return wS;DI=1;function t(e){return this.__data__.has(e)}return wS=t,wS}var jS,RI;function Eme(){if(RI)return jS;RI=1;var t=V0(),e=p2(),r=m2(),n=200;function i(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return jS=i,jS}var SS,II;function QU(){if(II)return SS;II=1;var t=V0(),e=Pme(),r=kme(),n=Tme(),i=Ame(),s=Eme();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,SS=o,SS}var CS,LI;function Mme(){if(LI)return CS;LI=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return CS=e,CS}var NS,zI;function Dme(){if(zI)return NS;zI=1;function t(e){return this.__data__.has(e)}return NS=t,NS}var _S,FI;function eq(){if(FI)return _S;FI=1;var t=m2(),e=Mme(),r=Dme();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,_S=n,_S}var OS,$I;function tq(){if($I)return OS;$I=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return OS=t,OS}var PS,BI;function rq(){if(BI)return PS;BI=1;function t(e,r){return e.has(r)}return PS=t,PS}var kS,HI;function nq(){if(HI)return kS;HI=1;var t=eq(),e=tq(),r=rq(),n=1,i=2;function s(o,l,c,d,f,h){var m=c&n,g=o.length,j=l.length;if(g!=j&&!(m&&j>g))return!1;var x=h.get(o),y=h.get(l);if(x&&y)return x==l&&y==o;var b=-1,S=!0,O=c&i?new t:void 0;for(h.set(o,l),h.set(l,o);++b<g;){var P=o[b],C=l[b];if(d)var _=m?d(C,P,b,l,o,h):d(P,C,b,o,l,h);if(_!==void 0){if(_)continue;S=!1;break}if(O){if(!e(l,function(k,A){if(!r(O,A)&&(P===k||f(P,k,c,d,h)))return O.push(A)})){S=!1;break}}else if(!(P===C||f(P,C,c,d,h))){S=!1;break}}return h.delete(o),h.delete(l),S}return kS=s,kS}var TS,WI;function Rme(){if(WI)return TS;WI=1;var t=Ca(),e=t.Uint8Array;return TS=e,TS}var AS,UI;function Ime(){if(UI)return AS;UI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return AS=t,AS}var ES,qI;function N2(){if(qI)return ES;qI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return ES=t,ES}var MS,VI;function Lme(){if(VI)return MS;VI=1;var t=Rm(),e=Rme(),r=h2(),n=nq(),i=Ime(),s=N2(),o=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",j="[object Set]",x="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",O=t?t.prototype:void 0,P=O?O.valueOf:void 0;function C(_,k,A,M,D,L,W){switch(A){case S:if(_.byteLength!=k.byteLength||_.byteOffset!=k.byteOffset)return!1;_=_.buffer,k=k.buffer;case b:return!(_.byteLength!=k.byteLength||!L(new e(_),new e(k)));case c:case d:case m:return r(+_,+k);case f:return _.name==k.name&&_.message==k.message;case g:case x:return _==k+"";case h:var $=i;case j:var H=M&o;if($||($=s),_.size!=k.size&&!H)return!1;var z=W.get(_);if(z)return z==k;M|=l,W.set(_,k);var q=n($(_),$(k),M,D,L,W);return W.delete(_),q;case y:if(P)return P.call(_)==P.call(k)}return!1}return MS=C,MS}var DS,GI;function iq(){if(GI)return DS;GI=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return DS=t,DS}var RS,XI;function zme(){if(XI)return RS;XI=1;var t=iq(),e=mi();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return RS=r,RS}var IS,YI;function Fme(){if(YI)return IS;YI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return IS=t,IS}var LS,KI;function $me(){if(KI)return LS;KI=1;function t(){return[]}return LS=t,LS}var zS,JI;function Bme(){if(JI)return zS;JI=1;var t=Fme(),e=$me(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return zS=s,zS}var FS,ZI;function Hme(){if(ZI)return FS;ZI=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return FS=t,FS}var $S,QI;function Wme(){if(QI)return $S;QI=1;var t=mo(),e=go(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return $S=n,$S}var BS,eL;function _2(){if(eL)return BS;eL=1;var t=Wme(),e=go(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return BS=s,BS}var Fh={exports:{}},HS,tL;function Ume(){if(tL)return HS;tL=1;function t(){return!1}return HS=t,HS}Fh.exports;var rL;function sq(){return rL||(rL=1,(function(t,e){var r=Ca(),n=Ume(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Fh,Fh.exports)),Fh.exports}var WS,nL;function O2(){if(nL)return WS;nL=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return WS=r,WS}var US,iL;function P2(){if(iL)return US;iL=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return US=e,US}var qS,sL;function qme(){if(sL)return qS;sL=1;var t=mo(),e=P2(),r=go(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",j="[object String]",x="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",O="[object Float64Array]",P="[object Int8Array]",C="[object Int16Array]",_="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",L={};L[S]=L[O]=L[P]=L[C]=L[_]=L[k]=L[A]=L[M]=L[D]=!0,L[n]=L[i]=L[y]=L[s]=L[b]=L[o]=L[l]=L[c]=L[d]=L[f]=L[h]=L[m]=L[g]=L[j]=L[x]=!1;function W($){return r($)&&e($.length)&&!!L[t($)]}return qS=W,qS}var VS,aL;function aq(){if(aL)return VS;aL=1;function t(e){return function(r){return e(r)}}return VS=t,VS}var $h={exports:{}};$h.exports;var oL;function Vme(){return oL||(oL=1,(function(t,e){var r=_U(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})($h,$h.exports)),$h.exports}var GS,lL;function oq(){if(lL)return GS;lL=1;var t=qme(),e=aq(),r=Vme(),n=r&&r.isTypedArray,i=n?e(n):t;return GS=i,GS}var XS,cL;function Gme(){if(cL)return XS;cL=1;var t=Hme(),e=_2(),r=mi(),n=sq(),i=O2(),s=oq(),o=Object.prototype,l=o.hasOwnProperty;function c(d,f){var h=r(d),m=!h&&e(d),g=!h&&!m&&n(d),j=!h&&!m&&!g&&s(d),x=h||m||g||j,y=x?t(d.length,String):[],b=y.length;for(var S in d)(f||l.call(d,S))&&!(x&&(S=="length"||g&&(S=="offset"||S=="parent")||j&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,b)))&&y.push(S);return y}return XS=c,XS}var YS,uL;function Xme(){if(uL)return YS;uL=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return YS=e,YS}var KS,dL;function lq(){if(dL)return KS;dL=1;function t(e,r){return function(n){return e(r(n))}}return KS=t,KS}var JS,fL;function Yme(){if(fL)return JS;fL=1;var t=lq(),e=t(Object.keys,Object);return JS=e,JS}var ZS,hL;function Kme(){if(hL)return ZS;hL=1;var t=Xme(),e=Yme(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return ZS=i,ZS}var QS,pL;function Lm(){if(pL)return QS;pL=1;var t=f2(),e=P2();function r(n){return n!=null&&e(n.length)&&!t(n)}return QS=r,QS}var eC,mL;function Q0(){if(mL)return eC;mL=1;var t=Gme(),e=Kme(),r=Lm();function n(i){return r(i)?t(i):e(i)}return eC=n,eC}var tC,gL;function Jme(){if(gL)return tC;gL=1;var t=zme(),e=Bme(),r=Q0();function n(i){return t(i,r,e)}return tC=n,tC}var rC,vL;function Zme(){if(vL)return rC;vL=1;var t=Jme(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,d,f){var h=l&e,m=t(s),g=m.length,j=t(o),x=j.length;if(g!=x&&!h)return!1;for(var y=g;y--;){var b=m[y];if(!(h?b in o:n.call(o,b)))return!1}var S=f.get(s),O=f.get(o);if(S&&O)return S==o&&O==s;var P=!0;f.set(s,o),f.set(o,s);for(var C=h;++y<g;){b=m[y];var _=s[b],k=o[b];if(c)var A=h?c(k,_,b,o,s,f):c(_,k,b,s,o,f);if(!(A===void 0?_===k||d(_,k,l,c,f):A)){P=!1;break}C||(C=b=="constructor")}if(P&&!C){var M=s.constructor,D=o.constructor;M!=D&&"constructor"in s&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof D=="function"&&D instanceof D)&&(P=!1)}return f.delete(s),f.delete(o),P}return rC=i,rC}var nC,yL;function Qme(){if(yL)return nC;yL=1;var t=Bc(),e=Ca(),r=t(e,"DataView");return nC=r,nC}var iC,xL;function ege(){if(xL)return iC;xL=1;var t=Bc(),e=Ca(),r=t(e,"Promise");return iC=r,iC}var sC,bL;function cq(){if(bL)return sC;bL=1;var t=Bc(),e=Ca(),r=t(e,"Set");return sC=r,sC}var aC,wL;function tge(){if(wL)return aC;wL=1;var t=Bc(),e=Ca(),r=t(e,"WeakMap");return aC=r,aC}var oC,jL;function rge(){if(jL)return oC;jL=1;var t=Qme(),e=p2(),r=ege(),n=cq(),i=tge(),s=mo(),o=OU(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",g=o(t),j=o(e),x=o(r),y=o(n),b=o(i),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=m||e&&S(new e)!=l||r&&S(r.resolve())!=d||n&&S(new n)!=f||i&&S(new i)!=h)&&(S=function(O){var P=s(O),C=P==c?O.constructor:void 0,_=C?o(C):"";if(_)switch(_){case g:return m;case j:return l;case x:return d;case y:return f;case b:return h}return P}),oC=S,oC}var lC,SL;function nge(){if(SL)return lC;SL=1;var t=QU(),e=nq(),r=Lme(),n=Zme(),i=rge(),s=mi(),o=sq(),l=oq(),c=1,d="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function j(x,y,b,S,O,P){var C=s(x),_=s(y),k=C?f:i(x),A=_?f:i(y);k=k==d?h:k,A=A==d?h:A;var M=k==h,D=A==h,L=k==A;if(L&&o(x)){if(!o(y))return!1;C=!0,M=!1}if(L&&!M)return P||(P=new t),C||l(x)?e(x,y,b,S,O,P):r(x,y,k,b,S,O,P);if(!(b&c)){var W=M&&g.call(x,"__wrapped__"),$=D&&g.call(y,"__wrapped__");if(W||$){var H=W?x.value():x,z=$?y.value():y;return P||(P=new t),O(H,z,b,S,P)}}return L?(P||(P=new t),n(x,y,b,S,O,P)):!1}return lC=j,lC}var cC,CL;function k2(){if(CL)return cC;CL=1;var t=nge(),e=go();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,l)}return cC=r,cC}var uC,NL;function ige(){if(NL)return uC;NL=1;var t=QU(),e=k2(),r=1,n=2;function i(s,o,l,c){var d=l.length,f=d,h=!c;if(s==null)return!f;for(s=Object(s);d--;){var m=l[d];if(h&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++d<f;){m=l[d];var g=m[0],j=s[g],x=m[1];if(h&&m[2]){if(j===void 0&&!(g in s))return!1}else{var y=new t;if(c)var b=c(j,x,g,s,o,y);if(!(b===void 0?e(x,j,r|n,c,y):b))return!1}}return!0}return uC=i,uC}var dC,_L;function uq(){if(_L)return dC;_L=1;var t=Nl();function e(r){return r===r&&!t(r)}return dC=e,dC}var fC,OL;function sge(){if(OL)return fC;OL=1;var t=uq(),e=Q0();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,t(l)]}return i}return fC=r,fC}var hC,PL;function dq(){if(PL)return hC;PL=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return hC=t,hC}var pC,kL;function age(){if(kL)return pC;kL=1;var t=ige(),e=sge(),r=dq();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return pC=n,pC}var mC,TL;function oge(){if(TL)return mC;TL=1;function t(e,r){return e!=null&&r in Object(e)}return mC=t,mC}var gC,AL;function lge(){if(AL)return gC;AL=1;var t=TU(),e=_2(),r=mi(),n=O2(),i=P2(),s=X0();function o(l,c,d){c=t(c,l);for(var f=-1,h=c.length,m=!1;++f<h;){var g=s(c[f]);if(!(m=l!=null&&d(l,g)))break;l=l[g]}return m||++f!=h?m:(h=l==null?0:l.length,!!h&&i(h)&&n(g,h)&&(r(l)||e(l)))}return gC=o,gC}var vC,EL;function cge(){if(EL)return vC;EL=1;var t=oge(),e=lge();function r(n,i){return n!=null&&e(n,i,t)}return vC=r,vC}var yC,ML;function uge(){if(ML)return yC;ML=1;var t=k2(),e=AU(),r=cge(),n=d2(),i=uq(),s=dq(),o=X0(),l=1,c=2;function d(f,h){return n(f)&&i(h)?s(o(f),h):function(m){var g=e(m,f);return g===void 0&&g===h?r(m,f):t(h,g,l|c)}}return yC=d,yC}var xC,DL;function cf(){if(DL)return xC;DL=1;function t(e){return e}return xC=t,xC}var bC,RL;function dge(){if(RL)return bC;RL=1;function t(e){return function(r){return r?.[e]}}return bC=t,bC}var wC,IL;function fge(){if(IL)return wC;IL=1;var t=v2();function e(r){return function(n){return t(n,r)}}return wC=e,wC}var jC,LL;function hge(){if(LL)return jC;LL=1;var t=dge(),e=fge(),r=d2(),n=X0();function i(s){return r(s)?t(n(s)):e(s)}return jC=i,jC}var SC,zL;function Na(){if(zL)return SC;zL=1;var t=age(),e=uge(),r=cf(),n=mi(),i=hge();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return SC=s,SC}var CC,FL;function fq(){if(FL)return CC;FL=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return CC=t,CC}var NC,$L;function pge(){if($L)return NC;$L=1;function t(e){return e!==e}return NC=t,NC}var _C,BL;function mge(){if(BL)return _C;BL=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return _C=t,_C}var OC,HL;function gge(){if(HL)return OC;HL=1;var t=fq(),e=pge(),r=mge();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return OC=n,OC}var PC,WL;function vge(){if(WL)return PC;WL=1;var t=gge();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return PC=e,PC}var kC,UL;function yge(){if(UL)return kC;UL=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return kC=t,kC}var TC,qL;function xge(){if(qL)return TC;qL=1;function t(){}return TC=t,TC}var AC,VL;function bge(){if(VL)return AC;VL=1;var t=cq(),e=xge(),r=N2(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return AC=i,AC}var EC,GL;function wge(){if(GL)return EC;GL=1;var t=eq(),e=vge(),r=yge(),n=rq(),i=bge(),s=N2(),o=200;function l(c,d,f){var h=-1,m=e,g=c.length,j=!0,x=[],y=x;if(f)j=!1,m=r;else if(g>=o){var b=d?null:i(c);if(b)return s(b);j=!1,m=n,y=new t}else y=d?[]:x;e:for(;++h<g;){var S=c[h],O=d?d(S):S;if(S=f||S!==0?S:0,j&&O===O){for(var P=y.length;P--;)if(y[P]===O)continue e;d&&y.push(O),x.push(S)}else m(y,O,f)||(y!==x&&y.push(O),x.push(S))}return x}return EC=l,EC}var MC,XL;function jge(){if(XL)return MC;XL=1;var t=Na(),e=wge();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return MC=r,MC}var Sge=jge();const YL=zt(Sge);function hq(t,e,r){return e===!0?YL(t,r):ot(e)?YL(t,e):t}function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}var Cge=["ref"];function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){eb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mq(n.key),n)}}function _ge(t,e,r){return e&&JL(t.prototype,e),r&&JL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oge(t,e,r){return e=Gy(e),Pge(t,pq()?Reflect.construct(e,r||[],Gy(t).constructor):e.apply(t,r))}function Pge(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!t})()}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(t)}function Tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hO(t,e)}function hO(t,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hO(t,e)}function eb(t,e,r){return e=mq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mq(t){var e=Age(t,"string");return gd(e)=="symbol"?e:e+""}function Age(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ege(t,e){if(t==null)return{};var r=Mge(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dge(t){return t.value}function Rge(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var r=Ege(e,Cge);return Y.createElement(C2,r)}var ZL=1,fa=(function(t){function e(){var r;Nge(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Oge(this,e,[].concat(i)),eb(r,"lastBoundingBox",{width:-1,height:-1}),r}return Tge(e,t),_ge(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ZL||Math.abs(i.height-this.lastBoundingBox.height)>ZL)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?za({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();h={left:((d||0)-g.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var j=this.getBBoxSnapshot();m={top:((f||0)-j.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return za(za({},h),m)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,h=za(za({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},Rge(s,za(za({},this.props),{},{payload:hq(f,d,Dge)})))}}],[{key:"getWithHeight",value:function(n,i){var s=za(za({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Te(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(w.PureComponent);eb(fa,"displayName","Legend");eb(fa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DC,QL;function Ige(){if(QL)return DC;QL=1;var t=Rm(),e=_2(),r=mi(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return DC=i,DC}var RC,e5;function gq(){if(e5)return RC;e5=1;var t=iq(),e=Ige();function r(n,i,s,o,l){var c=-1,d=n.length;for(s||(s=e),l||(l=[]);++c<d;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,o,l):t(l,f):o||(l[l.length]=f)}return l}return RC=r,RC}var IC,t5;function Lge(){if(t5)return IC;t5=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var d=l[e?c:++s];if(n(o[d],d,o)===!1)break}return r}}return IC=t,IC}var LC,r5;function zge(){if(r5)return LC;r5=1;var t=Lge(),e=t();return LC=e,LC}var zC,n5;function vq(){if(n5)return zC;n5=1;var t=zge(),e=Q0();function r(n,i){return n&&t(n,i,e)}return zC=r,zC}var FC,i5;function Fge(){if(i5)return FC;i5=1;var t=Lm();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return FC=e,FC}var $C,s5;function T2(){if(s5)return $C;s5=1;var t=vq(),e=Fge(),r=e(t);return $C=r,$C}var BC,a5;function yq(){if(a5)return BC;a5=1;var t=T2(),e=Lm();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++s]=i(l,c,d)}),o}return BC=r,BC}var HC,o5;function $ge(){if(o5)return HC;o5=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return HC=t,HC}var WC,l5;function Bge(){if(l5)return WC;l5=1;var t=af();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,f=n===n,h=t(n);if(!d&&!h&&!l&&r>n||l&&c&&f&&!d&&!h||s&&c&&f||!i&&f||!o)return 1;if(!s&&!l&&!h&&r<n||h&&i&&o&&!s&&!l||d&&i&&o||!c&&o||!f)return-1}return 0}return WC=e,WC}var UC,c5;function Hge(){if(c5)return UC;c5=1;var t=Bge();function e(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,d=i.length;++s<c;){var f=t(o[s],l[s]);if(f){if(s>=d)return f;var h=i[s];return f*(h=="desc"?-1:1)}}return r.index-n.index}return UC=e,UC}var qC,u5;function Wge(){if(u5)return qC;u5=1;var t=g2(),e=v2(),r=Na(),n=yq(),i=$ge(),s=aq(),o=Hge(),l=cf(),c=mi();function d(f,h,m){h.length?h=t(h,function(x){return c(x)?function(y){return e(y,x.length===1?x[0]:x)}:x}):h=[l];var g=-1;h=t(h,s(r));var j=n(f,function(x,y,b){var S=t(h,function(O){return O(x)});return{criteria:S,index:++g,value:x}});return i(j,function(x,y){return o(x,y,m)})}return qC=d,qC}var VC,d5;function Uge(){if(d5)return VC;d5=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return VC=t,VC}var GC,f5;function qge(){if(f5)return GC;f5=1;var t=Uge(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=s(d),t(n,this,f)}}return GC=r,GC}var XC,h5;function Vge(){if(h5)return XC;h5=1;function t(e){return function(){return e}}return XC=t,XC}var YC,p5;function xq(){if(p5)return YC;p5=1;var t=Bc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return YC=e,YC}var KC,m5;function Gge(){if(m5)return KC;m5=1;var t=Vge(),e=xq(),r=cf(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return KC=n,KC}var JC,g5;function Xge(){if(g5)return JC;g5=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return JC=n,JC}var ZC,v5;function Yge(){if(v5)return ZC;v5=1;var t=Gge(),e=Xge(),r=e(t);return ZC=r,ZC}var QC,y5;function Kge(){if(y5)return QC;y5=1;var t=cf(),e=qge(),r=Yge();function n(i,s){return r(e(i,s,t),i+"")}return QC=n,QC}var eN,x5;function tb(){if(x5)return eN;x5=1;var t=h2(),e=Lm(),r=O2(),n=Nl();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return eN=i,eN}var tN,b5;function Jge(){if(b5)return tN;b5=1;var t=gq(),e=Wge(),r=Kge(),n=tb(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return tN=i,tN}var Zge=Jge();const A2=zt(Zge);function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pO.apply(this,arguments)}function Qge(t,e){return nve(t)||rve(t,e)||tve(t,e)||eve()}function eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(t,e){if(t){if(typeof t=="string")return w5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w5(t,e)}}function w5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function nve(t){if(Array.isArray(t))return t}function j5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(r),!0).forEach(function(n){ive(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ive(t,e,r){return e=sve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sve(t){var e=ave(t,"string");return Op(e)=="symbol"?e:e+""}function ave(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ove(t){return Array.isArray(t)&&Zr(t[0])&&Zr(t[1])?t.join(" ~ "):t}var lve=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,h=e.formatter,m=e.itemSorter,g=e.wrapperClassName,j=e.labelClassName,x=e.label,y=e.labelFormatter,b=e.accessibilityLayer,S=b===void 0?!1:b,O=function(){if(f&&f.length){var W={padding:0,margin:0},$=(m?A2(f,m):f).map(function(H,z){if(H.type==="none")return null;var q=rN({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),E=H.formatter||h||ove,U=H.value,B=H.name,I=U,F=B;if(E&&I!=null&&F!=null){var G=E(U,B,H,z,f);if(Array.isArray(G)){var Z=Qge(G,2);I=Z[0],F=Z[1]}else I=G}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:q},Zr(F)?Y.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Zr(F)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},I),Y.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:W},$)}return null},P=rN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=rN({margin:0},d),_=!dt(x),k=_?x:"",A=pt("recharts-default-tooltip",g),M=pt("recharts-tooltip-label",j);_&&y&&f!==void 0&&f!==null&&(k=y(x,f));var D=S?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",pO({className:A,style:P},D),Y.createElement("p",{className:M,style:C},Y.isValidElement(k)?k:"".concat(k)),O())};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function Cv(t,e,r){return e=cve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cve(t){var e=uve(t,"string");return Pp(e)=="symbol"?e:e+""}function uve(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ch="recharts-tooltip-wrapper",dve={visibility:"hidden"};function fve(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return pt(ch,Cv(Cv(Cv(Cv({},"".concat(ch,"-right"),Te(r)&&e&&Te(e.x)&&r>=e.x),"".concat(ch,"-left"),Te(r)&&e&&Te(e.x)&&r<e.x),"".concat(ch,"-bottom"),Te(n)&&e&&Te(e.y)&&n>=e.y),"".concat(ch,"-top"),Te(n)&&e&&Te(e.y)&&n<e.y))}function S5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(s&&Te(s[n]))return s[n];var f=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?f:h;if(o[n]){var m=f,g=c[n];return m<g?Math.max(h,c[n]):Math.max(f,c[n])}var j=h+l,x=c[n]+d;return j>x?Math.max(f,c[n]):Math.max(h,c[n])}function hve(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function pve(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,h;return o.height>0&&o.width>0&&r?(f=S5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=S5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=hve({translateX:f,translateY:h,useTranslate3d:l})):d=dve,{cssProperties:d,cssClasses:fve({translateX:f,translateY:h,coordinate:r})}}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function C5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(r),!0).forEach(function(n){gO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wq(n.key),n)}}function vve(t,e,r){return e&&gve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yve(t,e,r){return e=Xy(e),xve(t,bq()?Reflect.construct(e,r||[],Xy(t).constructor):e.apply(t,r))}function xve(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bve(t)}function bve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}function wve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mO(t,e)}function mO(t,e){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mO(t,e)}function gO(t,e,r){return e=wq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wq(t){var e=jve(t,"string");return vd(e)=="symbol"?e:e+""}function jve(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _5=1,Sve=(function(t){function e(){var r;mve(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=yve(this,e,[].concat(i)),gO(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gO(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return wve(e,t),vve(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>_5||Math.abs(n.height-this.state.lastBoundingBox.height)>_5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,g=i.offset,j=i.position,x=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,O=pve({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:j,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),P=O.cssClasses,C=O.cssProperties,_=N5(N5({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return Y.createElement("div",{tabIndex:-1,className:P,style:_,ref:function(A){n.wrapperNode=A}},d)}}])})(w.PureComponent),Cve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Hc={isSsr:Cve()};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function O5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(r),!0).forEach(function(n){E2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sq(n.key),n)}}function Ove(t,e,r){return e&&_ve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pve(t,e,r){return e=Yy(e),kve(t,jq()?Reflect.construct(e,r||[],Yy(t).constructor):e.apply(t,r))}function kve(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tve(t)}function Tve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jq=function(){return!!t})()}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(t)}function Ave(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vO(t,e)}function vO(t,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vO(t,e)}function E2(t,e,r){return e=Sq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sq(t){var e=Eve(t,"string");return yd(e)=="symbol"?e:e+""}function Eve(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mve(t){return t.dataKey}function Dve(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(lve,e)}var oi=(function(t){function e(){return Nve(this,e),Pve(this,e,arguments)}return Ave(e,t),Ove(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,h=i.filterNull,m=i.isAnimationActive,g=i.offset,j=i.payload,x=i.payloadUniqBy,y=i.position,b=i.reverseDirection,S=i.useTranslate3d,O=i.viewBox,P=i.wrapperStyle,C=j??[];h&&C.length&&(C=hq(j.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),x,Mve));var _=C.length>0;return Y.createElement(Sve,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:f,hasPayload:_,offset:g,position:y,reverseDirection:b,useTranslate3d:S,viewBox:O,wrapperStyle:P},Dve(d,P5(P5({},this.props),{},{payload:C})))}}])})(w.PureComponent);E2(oi,"displayName","Tooltip");E2(oi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Hc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nN,k5;function Rve(){if(k5)return nN;k5=1;var t=Ca(),e=function(){return t.Date.now()};return nN=e,nN}var iN,T5;function Ive(){if(T5)return iN;T5=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return iN=e,iN}var sN,A5;function Lve(){if(A5)return sN;A5=1;var t=Ive(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return sN=r,sN}var aN,E5;function Cq(){if(E5)return aN;E5=1;var t=Lve(),e=Nl(),r=af(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=s.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):i.test(d)?n:+d}return aN=c,aN}var oN,M5;function zve(){if(M5)return oN;M5=1;var t=Nl(),e=Rve(),r=Cq(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,d){var f,h,m,g,j,x,y=0,b=!1,S=!1,O=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(b=!!d.leading,S="maxWait"in d,m=S?i(r(d.maxWait)||0,c):m,O="trailing"in d?!!d.trailing:O);function P($){var H=f,z=h;return f=h=void 0,y=$,g=l.apply(z,H),g}function C($){return y=$,j=setTimeout(A,c),b?P($):g}function _($){var H=$-x,z=$-y,q=c-H;return S?s(q,m-z):q}function k($){var H=$-x,z=$-y;return x===void 0||H>=c||H<0||S&&z>=m}function A(){var $=e();if(k($))return M($);j=setTimeout(A,_($))}function M($){return j=void 0,O&&f?P($):(f=h=void 0,g)}function D(){j!==void 0&&clearTimeout(j),y=0,f=x=h=j=void 0}function L(){return j===void 0?g:M(e())}function W(){var $=e(),H=k($);if(f=arguments,h=this,x=$,H){if(j===void 0)return C(x);if(S)return clearTimeout(j),j=setTimeout(A,c),P(x)}return j===void 0&&(j=setTimeout(A,c)),g}return W.cancel=D,W.flush=L,W}return oN=o,oN}var lN,D5;function Fve(){if(D5)return lN;D5=1;var t=zve(),e=Nl(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return lN=n,lN}var $ve=Fve();const Nq=zt($ve);function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function R5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(r),!0).forEach(function(n){Bve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bve(t,e,r){return e=Hve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hve(t){var e=Wve(t,"string");return kp(e)=="symbol"?e:e+""}function Wve(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uve(t,e){return Xve(t)||Gve(t,e)||Vve(t,e)||qve()}function qve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vve(t,e){if(t){if(typeof t=="string")return I5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I5(t,e)}}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Xve(t){if(Array.isArray(t))return t}var ep=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,h=t.minHeight,m=t.maxHeight,g=t.children,j=t.debounce,x=j===void 0?0:j,y=t.id,b=t.className,S=t.onResize,O=t.style,P=O===void 0?{}:O,C=w.useRef(null),_=w.useRef();_.current=S,w.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var k=w.useState({containerWidth:i.width,containerHeight:i.height}),A=Uve(k,2),M=A[0],D=A[1],L=w.useCallback(function($,H){D(function(z){var q=Math.round($),E=Math.round(H);return z.containerWidth===q&&z.containerHeight===E?z:{containerWidth:q,containerHeight:E}})},[]);w.useEffect(function(){var $=function(B){var I,F=B[0].contentRect,G=F.width,Z=F.height;L(G,Z),(I=_.current)===null||I===void 0||I.call(_,G,Z)};x>0&&($=Nq($,x,{trailing:!0,leading:!1}));var H=new ResizeObserver($),z=C.current.getBoundingClientRect(),q=z.width,E=z.height;return L(q,E),H.observe(C.current),function(){H.disconnect()}},[L,x]);var W=w.useMemo(function(){var $=M.containerWidth,H=M.containerHeight;if($<0||H<0)return null;Es(hc(o)||hc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Es(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=hc(o)?$:o,q=hc(c)?H:c;r&&r>0&&(z?q=z/r:q&&(z=q*r),m&&q>m&&(q=m)),Es(z>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,q,o,c,f,h,r);var E=!Array.isArray(g)&&Za(g.type).endsWith("Chart");return Y.Children.map(g,function(U){return Y.isValidElement(U)?w.cloneElement(U,Nv({width:z,height:q},E?{style:Nv({height:"100%",width:"100%",maxHeight:q,maxWidth:z},U.props.style)}:{})):U})},[r,g,c,m,h,f,M,o]);return Y.createElement("div",{id:y?"".concat(y):void 0,className:pt("recharts-responsive-container",b),style:Nv(Nv({},P),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:m}),ref:C},W)}),rb=function(e){return null};rb.displayName="Cell";function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function L5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(r),!0).forEach(function(n){Yve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yve(t,e,r){return e=Kve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kve(t){var e=Jve(t,"string");return Tp(e)=="symbol"?e:e+""}function Jve(t,e){if(Tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cu={widthCache:{},cacheCount:0},Zve=2e3,Qve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},z5="recharts_measurement_span";function eye(t){var e=yO({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var tp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hc.isSsr)return{width:0,height:0};var n=eye(r),i=JSON.stringify({text:e,copyStyle:n});if(Cu.widthCache[i])return Cu.widthCache[i];try{var s=document.getElementById(z5);s||(s=document.createElement("span"),s.setAttribute("id",z5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=yO(yO({},Qve),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Cu.widthCache[i]=c,++Cu.cacheCount>Zve&&(Cu.cacheCount=0,Cu.widthCache={}),c}catch{return{width:0,height:0}}},tye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function Ky(t,e){return sye(t)||iye(t,e)||nye(t,e)||rye()}function rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nye(t,e){if(t){if(typeof t=="string")return F5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F5(t,e)}}function F5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function sye(t){if(Array.isArray(t))return t}function aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lye(n.key),n)}}function oye(t,e,r){return e&&$5(t.prototype,e),r&&$5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lye(t){var e=cye(t,"string");return Ap(e)=="symbol"?e:e+""}function cye(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_q={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fye=Object.keys(_q),Mu="NaN";function hye(t,e){return t*_q[e]}var _v=(function(){function t(e,r){aye(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!uye.test(r)&&(this.num=NaN,this.unit=""),fye.includes(r)&&(this.num=hye(e,r),this.unit="px")}return oye(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=dye.exec(r))!==null&&n!==void 0?n:[],s=Ky(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])})();function Oq(t){if(t.includes(Mu))return Mu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=B5.exec(e))!==null&&r!==void 0?r:[],i=Ky(n,4),s=i[1],o=i[2],l=i[3],c=_v.parse(s??""),d=_v.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Mu;e=e.replace(B5,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=H5.exec(e))!==null&&h!==void 0?h:[],g=Ky(m,4),j=g[1],x=g[2],y=g[3],b=_v.parse(j??""),S=_v.parse(y??""),O=x==="+"?b.add(S):b.subtract(S);if(O.isNaN())return Mu;e=e.replace(H5,O.toString())}return e}var W5=/\(([^()]*)\)/;function pye(t){for(var e=t;e.includes("(");){var r=W5.exec(e),n=Ky(r,2),i=n[1];e=e.replace(W5,Oq(i))}return e}function mye(t){var e=t.replace(/\s+/g,"");return e=pye(e),e=Oq(e),e}function gye(t){try{return mye(t)}catch{return Mu}}function cN(t){var e=gye(t.slice(5,-1));return e===Mu?"":e}var vye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yye=["dx","dy","angle","className","breakAll"];function xO(){return xO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xO.apply(this,arguments)}function U5(t,e){if(t==null)return{};var r=xye(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q5(t,e){return Sye(t)||jye(t,e)||wye(t,e)||bye()}function bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wye(t,e){if(t){if(typeof t=="string")return V5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V5(t,e)}}function V5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Sye(t){if(Array.isArray(t))return t}var Pq=/[ \f\n\r\t\v\u2028\u2029]+/,kq=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];dt(r)||(n?s=r.toString().split(""):s=r.toString().split(Pq));var o=s.map(function(c){return{word:c,width:tp(c,i).width}}),l=n?0:tp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Cye=function(e,r,n,i,s){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=Te(o),h=l,m=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(q,E){var U=E.word,B=E.width,I=q[q.length-1];if(I&&(i==null||s||I.width+B+n<Number(i)))I.words.push(U),I.width+=B+n;else{var F={words:[U],width:B};q.push(F)}return q},[])},g=m(r),j=function(z){return z.reduce(function(q,E){return q.width>E.width?q:E})};if(!f)return g;for(var x="",y=function(z){var q=h.slice(0,z),E=kq({breakAll:d,style:c,children:q+x}).wordsWithComputedWidth,U=m(E),B=U.length>o||j(U).width>Number(i);return[B,U]},b=0,S=h.length-1,O=0,P;b<=S&&O<=h.length-1;){var C=Math.floor((b+S)/2),_=C-1,k=y(_),A=q5(k,2),M=A[0],D=A[1],L=y(C),W=q5(L,1),$=W[0];if(!M&&!$&&(b=C+1),M&&$&&(S=C-1),!M&&$){P=D;break}O++}return P||g},G5=function(e){var r=dt(e)?[]:e.toString().split(Pq);return[{words:r}]},Nye=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Hc.isSsr){var c,d,f=kq({breakAll:o,children:i,style:s});if(f){var h=f.wordsWithComputedWidth,m=f.spaceWidth;c=h,d=m}else return G5(i);return Cye({breakAll:o,children:i,maxLines:l,style:s},c,d,r,n)}return G5(i)},X5="#808080",Tc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,m=e.textAnchor,g=m===void 0?"start":m,j=e.verticalAnchor,x=j===void 0?"end":j,y=e.fill,b=y===void 0?X5:y,S=U5(e,vye),O=w.useMemo(function(){return Nye({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),P=S.dx,C=S.dy,_=S.angle,k=S.className,A=S.breakAll,M=U5(S,yye);if(!Zr(n)||!Zr(s))return null;var D=n+(Te(P)?P:0),L=s+(Te(C)?C:0),W;switch(x){case"start":W=cN("calc(".concat(d,")"));break;case"middle":W=cN("calc(".concat((O.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:W=cN("calc(".concat(O.length-1," * -").concat(l,")"));break}var $=[];if(h){var H=O[0].width,z=S.width;$.push("scale(".concat((Te(z)?z/H:1)/H,")"))}return _&&$.push("rotate(".concat(_,", ").concat(D,", ").concat(L,")")),$.length&&(M.transform=$.join(" ")),Y.createElement("text",xO({},tt(M,!0),{x:D,y:L,className:pt("recharts-text",k),textAnchor:g,fill:b.includes("url")?X5:b}),O.map(function(q,E){var U=q.words.join(A?"":" ");return Y.createElement("tspan",{x:D,dy:E===0?W:l,key:"".concat(U,"-").concat(E)},U)}))};function ul(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _ye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function M2(t){let e,r,n;t.length!==2?(e=ul,r=(l,c)=>ul(t(l),c),n=(l,c)=>t(l)-c):(e=t===ul||t===_ye?t:Oye,r=t,n=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;r(l[h],c)<0?d=h+1:f=h}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;r(l[h],c)<=0?d=h+1:f=h}while(d<f)}return d}function o(l,c,d=0,f=l.length){const h=i(l,c,d,f-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:s}}function Oye(){return 0}function Tq(t){return t===null?NaN:+t}function*Pye(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const kye=M2(ul),zm=kye.right;M2(Tq).center;class Y5 extends Map{constructor(e,r=Eye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(K5(this,e))}has(e){return super.has(K5(this,e))}set(e,r){return super.set(Tye(this,e),r)}delete(e){return super.delete(Aye(this,e))}}function K5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Tye({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Aye({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Eye(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Mye(t=ul){if(t===ul)return Aq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Aq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Dye=Math.sqrt(50),Rye=Math.sqrt(10),Iye=Math.sqrt(2);function Jy(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Dye?10:s>=Rye?5:s>=Iye?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?Jy(t,e,r*2):[l,c,d]}function bO(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?Jy(e,t,r):Jy(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(s-d)/-o;else for(let d=0;d<l;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function wO(t,e,r){return e=+e,t=+t,r=+r,Jy(t,e,r)[2]}function jO(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?wO(e,t,r):wO(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function J5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Z5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Eq(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Aq:Mye(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,f=Math.log(c),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(c-h)/c)*(d-c/2<0?-1:1),g=Math.max(r,Math.floor(e-d*h/c+m)),j=Math.min(n,Math.floor(e+(c-d)*h/c+m));Eq(t,e,g,j,i)}const s=t[e];let o=r,l=n;for(uh(t,r,e),i(t[n],s)>0&&uh(t,r,n);o<l;){for(uh(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?uh(t,r,l):(++l,uh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function uh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Lye(t,e,r){if(t=Float64Array.from(Pye(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Z5(t);if(e>=1)return J5(t);var n,i=(n-1)*e,s=Math.floor(i),o=J5(Eq(t,s).subarray(0,s+1)),l=Z5(t.subarray(s+1));return o+(l-o)*(i-s)}}function zye(t,e,r=Tq){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function Fye(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const SO=Symbol("implicit");function D2(){var t=new Y5,e=[],r=[],n=SO;function i(s){let o=t.get(s);if(o===void 0){if(n!==SO)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Y5;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return D2(e,r).unknown(n)},ls.apply(i,arguments),i}function Ep(){var t=D2().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function h(){var m=e().length,g=i<n,j=g?i:n,x=g?n:i;s=(x-j)/Math.max(1,m-c+d*2),l&&(s=Math.floor(s)),j+=(x-j-s*(m-c))*f,o=s*(1-c),l&&(j=Math.round(j),o=Math.round(o));var y=Fye(m).map(function(b){return j+s*b});return r(g?y.reverse():y)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,h()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},t.copy=function(){return Ep(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},ls.apply(h(),arguments)}function Mq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Mq(e())},t}function rp(){return Mq(Ep.apply(null,arguments).paddingInner(1))}function R2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Dq(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Fm(){}var Mp=.7,Zy=1/Mp,Yu="\\s*([+-]?\\d+)\\s*",Dp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$ye=/^#([0-9a-f]{3,8})$/,Bye=new RegExp(`^rgb\\(${Yu},${Yu},${Yu}\\)$`),Hye=new RegExp(`^rgb\\(${ha},${ha},${ha}\\)$`),Wye=new RegExp(`^rgba\\(${Yu},${Yu},${Yu},${Dp}\\)$`),Uye=new RegExp(`^rgba\\(${ha},${ha},${ha},${Dp}\\)$`),qye=new RegExp(`^hsl\\(${Dp},${ha},${ha}\\)$`),Vye=new RegExp(`^hsla\\(${Dp},${ha},${ha},${Dp}\\)$`),Q5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R2(Fm,Rp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:e4,formatHex:e4,formatHex8:Gye,formatHsl:Xye,formatRgb:t4,toString:t4});function e4(){return this.rgb().formatHex()}function Gye(){return this.rgb().formatHex8()}function Xye(){return Rq(this).formatHsl()}function t4(){return this.rgb().formatRgb()}function Rp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=$ye.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?r4(e):r===3?new ci(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ov(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ov(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Bye.exec(t))?new ci(e[1],e[2],e[3],1):(e=Hye.exec(t))?new ci(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wye.exec(t))?Ov(e[1],e[2],e[3],e[4]):(e=Uye.exec(t))?Ov(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qye.exec(t))?s4(e[1],e[2]/100,e[3]/100,1):(e=Vye.exec(t))?s4(e[1],e[2]/100,e[3]/100,e[4]):Q5.hasOwnProperty(t)?r4(Q5[t]):t==="transparent"?new ci(NaN,NaN,NaN,0):null}function r4(t){return new ci(t>>16&255,t>>8&255,t&255,1)}function Ov(t,e,r,n){return n<=0&&(t=e=r=NaN),new ci(t,e,r,n)}function Yye(t){return t instanceof Fm||(t=Rp(t)),t?(t=t.rgb(),new ci(t.r,t.g,t.b,t.opacity)):new ci}function CO(t,e,r,n){return arguments.length===1?Yye(t):new ci(t,e,r,n??1)}function ci(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}R2(ci,CO,Dq(Fm,{brighter(t){return t=t==null?Zy:Math.pow(Zy,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mp:Math.pow(Mp,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ci(yc(this.r),yc(this.g),yc(this.b),Qy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n4,formatHex:n4,formatHex8:Kye,formatRgb:i4,toString:i4}));function n4(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}`}function Kye(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}${pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function i4(){const t=Qy(this.opacity);return`${t===1?"rgb(":"rgba("}${yc(this.r)}, ${yc(this.g)}, ${yc(this.b)}${t===1?")":`, ${t})`}`}function Qy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pc(t){return t=yc(t),(t<16?"0":"")+t.toString(16)}function s4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Os(t,e,r,n)}function Rq(t){if(t instanceof Os)return new Os(t.h,t.s,t.l,t.opacity);if(t instanceof Fm||(t=Rp(t)),!t)return new Os;if(t instanceof Os)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Os(o,l,c,t.opacity)}function Jye(t,e,r,n){return arguments.length===1?Rq(t):new Os(t,e,r,n??1)}function Os(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}R2(Os,Jye,Dq(Fm,{brighter(t){return t=t==null?Zy:Math.pow(Zy,t),new Os(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mp:Math.pow(Mp,t),new Os(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ci(uN(t>=240?t-240:t+120,i,n),uN(t,i,n),uN(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Os(a4(this.h),Pv(this.s),Pv(this.l),Qy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qy(this.opacity);return`${t===1?"hsl(":"hsla("}${a4(this.h)}, ${Pv(this.s)*100}%, ${Pv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function a4(t){return t=(t||0)%360,t<0?t+360:t}function Pv(t){return Math.max(0,Math.min(1,t||0))}function uN(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const I2=t=>()=>t;function Zye(t,e){return function(r){return t+r*e}}function Qye(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function exe(t){return(t=+t)==1?Iq:function(e,r){return r-e?Qye(e,r,t):I2(isNaN(e)?r:e)}}function Iq(t,e){var r=e-t;return r?Zye(t,r):I2(isNaN(t)?e:t)}const o4=(function t(e){var r=exe(e);function n(i,s){var o=r((i=CO(i)).r,(s=CO(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),d=Iq(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return n.gamma=t,n})(1);function txe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function rxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nxe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=uf(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function ixe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ex(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function sxe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=uf(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var NO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dN=new RegExp(NO.source,"g");function axe(t){return function(){return t}}function oxe(t){return function(e){return t(e)+""}}function lxe(t,e){var r=NO.lastIndex=dN.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=NO.exec(t))&&(i=dN.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:ex(n,i)})),r=dN.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?oxe(c[0].x):axe(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(d);return l.join("")})}function uf(t,e){var r=typeof e,n;return e==null||r==="boolean"?I2(e):(r==="number"?ex:r==="string"?(n=Rp(e))?(e=n,o4):lxe:e instanceof Rp?o4:e instanceof Date?ixe:rxe(e)?txe:Array.isArray(e)?nxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sxe:ex)(t,e)}function L2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function cxe(t,e){e===void 0&&(e=t,t=uf);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function uxe(t){return function(){return t}}function tx(t){return+t}var l4=[0,1];function Wn(t){return t}function _O(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:uxe(isNaN(e)?NaN:.5)}function dxe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function fxe(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=_O(i,n),s=r(o,s)):(n=_O(n,i),s=r(s,o)),function(l){return s(n(l))}}function hxe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=_O(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=zm(t,l,1,n)-1;return s[c](i[c](l))}}function $m(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nb(){var t=l4,e=l4,r=uf,n,i,s,o=Wn,l,c,d;function f(){var m=Math.min(t.length,e.length);return o!==Wn&&(o=dxe(t[0],t[m-1])),l=m>2?hxe:fxe,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(o(m)))}return h.invert=function(m){return o(i((d||(d=l(e,t.map(n),ex)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,tx),f()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),r=L2,f()},h.clamp=function(m){return arguments.length?(o=m?!0:Wn,f()):o!==Wn},h.interpolate=function(m){return arguments.length?(r=m,f()):r},h.unknown=function(m){return arguments.length?(s=m,h):s},function(m,g){return n=m,i=g,f()}}function z2(){return nb()(Wn,Wn)}function pxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function xd(t){return t=rx(Math.abs(t)),t?t[1]:NaN}function mxe(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function gxe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var vxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ip(t){if(!(e=vxe.exec(t)))throw new Error("invalid format: "+t);var e;return new F2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ip.prototype=F2.prototype;function F2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}F2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yxe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Lq;function xxe(t,e){var r=rx(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(Lq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+rx(t,Math.max(0,e+s-1))[0]}function c4(t,e){var r=rx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const u4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>c4(t*100,e),r:c4,s:xxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function d4(t){return t}var f4=Array.prototype.map,h4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bxe(t){var e=t.grouping===void 0||t.thousands===void 0?d4:mxe(f4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?d4:gxe(f4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=Ip(h);var m=h.fill,g=h.align,j=h.sign,x=h.symbol,y=h.zero,b=h.width,S=h.comma,O=h.precision,P=h.trim,C=h.type;C==="n"?(S=!0,C="g"):u4[C]||(O===void 0&&(O=12),P=!0,C="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var _=x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=x==="$"?n:/[%p]/.test(C)?o:"",A=u4[C],M=/[defgprs%]/.test(C);O=O===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function D(L){var W=_,$=k,H,z,q;if(C==="c")$=A(L)+$,L="";else{L=+L;var E=L<0||1/L<0;if(L=isNaN(L)?c:A(Math.abs(L),O),P&&(L=yxe(L)),E&&+L==0&&j!=="+"&&(E=!1),W=(E?j==="("?j:l:j==="-"||j==="("?"":j)+W,$=(C==="s"?h4[8+Lq/3]:"")+$+(E&&j==="("?")":""),M){for(H=-1,z=L.length;++H<z;)if(q=L.charCodeAt(H),48>q||q>57){$=(q===46?i+L.slice(H+1):L.slice(H))+$,L=L.slice(0,H);break}}}S&&!y&&(L=e(L,1/0));var U=W.length+L.length+$.length,B=U<b?new Array(b-U+1).join(m):"";switch(S&&y&&(L=e(B+L,B.length?b-$.length:1/0),B=""),g){case"<":L=W+L+$+B;break;case"=":L=W+B+L+$;break;case"^":L=B.slice(0,U=B.length>>1)+W+L+$+B.slice(U);break;default:L=B+W+L+$;break}return s(L)}return D.toString=function(){return h+""},D}function f(h,m){var g=d((h=Ip(h),h.type="f",h)),j=Math.max(-8,Math.min(8,Math.floor(xd(m)/3)))*3,x=Math.pow(10,-j),y=h4[8+j/3];return function(b){return g(x*b)+y}}return{format:d,formatPrefix:f}}var kv,$2,zq;wxe({thousands:",",grouping:[3],currency:["$",""]});function wxe(t){return kv=bxe(t),$2=kv.format,zq=kv.formatPrefix,kv}function jxe(t){return Math.max(0,-xd(Math.abs(t)))}function Sxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xd(e)/3)))*3-xd(Math.abs(t)))}function Cxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xd(e)-xd(t))+1}function Fq(t,e,r,n){var i=jO(t,e,r),s;switch(n=Ip(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Sxe(i,o))&&(n.precision=s),zq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Cxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=jxe(i))&&(n.precision=s-(n.type==="%")*2);break}}return $2(n)}function _l(t){var e=t.domain;return t.ticks=function(r){var n=e();return bO(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Fq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=wO(o,l,r),d===c)return n[i]=o,n[s]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function nx(){var t=z2();return t.copy=function(){return $m(t,nx())},ls.apply(t,arguments),_l(t)}function $q(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,tx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return $q(t).unknown(e)},t=arguments.length?Array.from(t,tx):[0,1],_l(r)}function Bq(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function p4(t){return Math.log(t)}function m4(t){return Math.exp(t)}function Nxe(t){return-Math.log(-t)}function _xe(t){return-Math.exp(-t)}function Oxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Pxe(t){return t===10?Oxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function g4(t){return(e,r)=>-t(-e,r)}function B2(t){const e=t(p4,m4),r=e.domain;let n=10,i,s;function o(){return i=kxe(n),s=Pxe(n),r()[0]<0?(i=g4(i),s=g4(s),t(Nxe,_xe)):t(p4,m4),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const h=f<d;h&&([d,f]=[f,d]);let m=i(d),g=i(f),j,x;const y=l==null?10:+l;let b=[];if(!(n%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),d>0){for(;m<=g;++m)for(j=1;j<n;++j)if(x=m<0?j/s(-m):j*s(m),!(x<d)){if(x>f)break;b.push(x)}}else for(;m<=g;++m)for(j=n-1;j>=1;--j)if(x=m>0?j/s(-m):j*s(m),!(x<d)){if(x>f)break;b.push(x)}b.length*2<y&&(b=bO(d,f,y))}else b=bO(m,g,Math.min(g-m,y)).map(s);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ip(c)).precision==null&&(c.trim=!0),c=$2(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return f=>{let h=f/s(Math.round(i(f)));return h*n<n-.5&&(h*=n),h<=d?c(f):""}},e.nice=()=>r(Bq(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function Hq(){const t=B2(nb()).domain([1,10]);return t.copy=()=>$m(t,Hq()).base(t.base()),ls.apply(t,arguments),t}function v4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function y4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function H2(t){var e=1,r=t(v4(e),y4(e));return r.constant=function(n){return arguments.length?t(v4(e=+n),y4(e)):e},_l(r)}function Wq(){var t=H2(nb());return t.copy=function(){return $m(t,Wq()).constant(t.constant())},ls.apply(t,arguments)}function x4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Txe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Axe(t){return t<0?-t*t:t*t}function W2(t){var e=t(Wn,Wn),r=1;function n(){return r===1?t(Wn,Wn):r===.5?t(Txe,Axe):t(x4(r),x4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},_l(e)}function U2(){var t=W2(nb());return t.copy=function(){return $m(t,U2()).exponent(t.exponent())},ls.apply(t,arguments),t}function Exe(){return U2.apply(null,arguments).exponent(.5)}function b4(t){return Math.sign(t)*t*t}function Mxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Uq(){var t=z2(),e=[0,1],r=!1,n;function i(s){var o=Mxe(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(b4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,tx)).map(b4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Uq(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ls.apply(i,arguments),_l(i)}function qq(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=zye(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[zm(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ul),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return qq().domain(t).range(e).unknown(n)},ls.apply(s,arguments)}function Vq(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[zm(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Vq().domain([t,e]).range(i).unknown(s)},ls.apply(_l(o),arguments)}function Gq(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[zm(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Gq().domain(t).range(e).unknown(r)},ls.apply(i,arguments)}const fN=new Date,hN=new Date;function Qr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<o);return c},i.filter=s=>Qr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(fN.setTime(+s),hN.setTime(+o),t(fN),t(hN),Math.floor(r(fN,hN))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const ix=Qr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ix.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ix);ix.range;const Va=1e3,ts=Va*60,Ga=ts*60,oo=Ga*24,q2=oo*7,w4=oo*30,pN=oo*365,mc=Qr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getUTCSeconds());mc.range;const V2=Qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Va)},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getMinutes());V2.range;const G2=Qr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getUTCMinutes());G2.range;const X2=Qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Va-t.getMinutes()*ts)},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getHours());X2.range;const Y2=Qr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getUTCHours());Y2.range;const Bm=Qr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ts)/oo,t=>t.getDate()-1);Bm.range;const ib=Qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>t.getUTCDate()-1);ib.range;const Xq=Qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>Math.floor(t/oo));Xq.range;function Wc(t){return Qr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ts)/q2)}const sb=Wc(0),sx=Wc(1),Dxe=Wc(2),Rxe=Wc(3),bd=Wc(4),Ixe=Wc(5),Lxe=Wc(6);sb.range;sx.range;Dxe.range;Rxe.range;bd.range;Ixe.range;Lxe.range;function Uc(t){return Qr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/q2)}const ab=Uc(0),ax=Uc(1),zxe=Uc(2),Fxe=Uc(3),wd=Uc(4),$xe=Uc(5),Bxe=Uc(6);ab.range;ax.range;zxe.range;Fxe.range;wd.range;$xe.range;Bxe.range;const K2=Qr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());K2.range;const J2=Qr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());J2.range;const lo=Qr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});lo.range;const co=Qr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());co.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});co.range;function Yq(t,e,r,n,i,s){const o=[[mc,1,Va],[mc,5,5*Va],[mc,15,15*Va],[mc,30,30*Va],[s,1,ts],[s,5,5*ts],[s,15,15*ts],[s,30,30*ts],[i,1,Ga],[i,3,3*Ga],[i,6,6*Ga],[i,12,12*Ga],[n,1,oo],[n,2,2*oo],[r,1,q2],[e,1,w4],[e,3,3*w4],[t,1,pN]];function l(d,f,h){const m=f<d;m&&([d,f]=[f,d]);const g=h&&typeof h.range=="function"?h:c(d,f,h),j=g?g.range(d,+f+1):[];return m?j.reverse():j}function c(d,f,h){const m=Math.abs(f-d)/h,g=M2(([,,y])=>y).right(o,m);if(g===o.length)return t.every(jO(d/pN,f/pN,h));if(g===0)return ix.every(Math.max(jO(d,f,h),1));const[j,x]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return j.every(x)}return[l,c]}const[Hxe,Wxe]=Yq(co,J2,ab,Xq,Y2,G2),[Uxe,qxe]=Yq(lo,K2,sb,Bm,X2,V2);function mN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Vxe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=fh(i),f=hh(i),h=fh(s),m=hh(s),g=fh(o),j=hh(o),x=fh(l),y=hh(l),b=fh(c),S=hh(c),O={a:E,A:U,b:B,B:I,c:null,d:O4,e:O4,f:m0e,g:N0e,G:O0e,H:f0e,I:h0e,j:p0e,L:Kq,m:g0e,M:v0e,p:F,q:G,Q:T4,s:A4,S:y0e,u:x0e,U:b0e,V:w0e,w:j0e,W:S0e,x:null,X:null,y:C0e,Y:_0e,Z:P0e,"%":k4},P={a:Z,A:K,b:ae,B:ie,c:null,d:P4,e:P4,f:E0e,g:H0e,G:U0e,H:k0e,I:T0e,j:A0e,L:Zq,m:M0e,M:D0e,p:J,q:fe,Q:T4,s:A4,S:R0e,u:I0e,U:L0e,V:z0e,w:F0e,W:$0e,x:null,X:null,y:B0e,Y:W0e,Z:q0e,"%":k4},C={a:D,A:L,b:W,B:$,c:H,d:N4,e:N4,f:l0e,g:C4,G:S4,H:_4,I:_4,j:i0e,L:o0e,m:n0e,M:s0e,p:M,q:r0e,Q:u0e,s:d0e,S:a0e,u:Jxe,U:Zxe,V:Qxe,w:Kxe,W:e0e,x:z,X:q,y:C4,Y:S4,Z:t0e,"%":c0e};O.x=_(r,O),O.X=_(n,O),O.c=_(e,O),P.x=_(r,P),P.X=_(n,P),P.c=_(e,P);function _(oe,ue){return function(de){var le=[],ke=-1,Ne=0,Le=oe.length,Ke,De,vt;for(de instanceof Date||(de=new Date(+de));++ke<Le;)oe.charCodeAt(ke)===37&&(le.push(oe.slice(Ne,ke)),(De=j4[Ke=oe.charAt(++ke)])!=null?Ke=oe.charAt(++ke):De=Ke==="e"?" ":"0",(vt=ue[Ke])&&(Ke=vt(de,De)),le.push(Ke),Ne=ke+1);return le.push(oe.slice(Ne,ke)),le.join("")}}function k(oe,ue){return function(de){var le=dh(1900,void 0,1),ke=A(le,oe,de+="",0),Ne,Le;if(ke!=de.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ue&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Ne=gN(dh(le.y,0,1)),Le=Ne.getUTCDay(),Ne=Le>4||Le===0?ax.ceil(Ne):ax(Ne),Ne=ib.offset(Ne,(le.V-1)*7),le.y=Ne.getUTCFullYear(),le.m=Ne.getUTCMonth(),le.d=Ne.getUTCDate()+(le.w+6)%7):(Ne=mN(dh(le.y,0,1)),Le=Ne.getDay(),Ne=Le>4||Le===0?sx.ceil(Ne):sx(Ne),Ne=Bm.offset(Ne,(le.V-1)*7),le.y=Ne.getFullYear(),le.m=Ne.getMonth(),le.d=Ne.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Le="Z"in le?gN(dh(le.y,0,1)).getUTCDay():mN(dh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Le+5)%7:le.w+le.U*7-(Le+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,gN(le)):mN(le)}}function A(oe,ue,de,le){for(var ke=0,Ne=ue.length,Le=de.length,Ke,De;ke<Ne;){if(le>=Le)return-1;if(Ke=ue.charCodeAt(ke++),Ke===37){if(Ke=ue.charAt(ke++),De=C[Ke in j4?ue.charAt(ke++):Ke],!De||(le=De(oe,de,le))<0)return-1}else if(Ke!=de.charCodeAt(le++))return-1}return le}function M(oe,ue,de){var le=d.exec(ue.slice(de));return le?(oe.p=f.get(le[0].toLowerCase()),de+le[0].length):-1}function D(oe,ue,de){var le=g.exec(ue.slice(de));return le?(oe.w=j.get(le[0].toLowerCase()),de+le[0].length):-1}function L(oe,ue,de){var le=h.exec(ue.slice(de));return le?(oe.w=m.get(le[0].toLowerCase()),de+le[0].length):-1}function W(oe,ue,de){var le=b.exec(ue.slice(de));return le?(oe.m=S.get(le[0].toLowerCase()),de+le[0].length):-1}function $(oe,ue,de){var le=x.exec(ue.slice(de));return le?(oe.m=y.get(le[0].toLowerCase()),de+le[0].length):-1}function H(oe,ue,de){return A(oe,e,ue,de)}function z(oe,ue,de){return A(oe,r,ue,de)}function q(oe,ue,de){return A(oe,n,ue,de)}function E(oe){return o[oe.getDay()]}function U(oe){return s[oe.getDay()]}function B(oe){return c[oe.getMonth()]}function I(oe){return l[oe.getMonth()]}function F(oe){return i[+(oe.getHours()>=12)]}function G(oe){return 1+~~(oe.getMonth()/3)}function Z(oe){return o[oe.getUTCDay()]}function K(oe){return s[oe.getUTCDay()]}function ae(oe){return c[oe.getUTCMonth()]}function ie(oe){return l[oe.getUTCMonth()]}function J(oe){return i[+(oe.getUTCHours()>=12)]}function fe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ue=_(oe+="",O);return ue.toString=function(){return oe},ue},parse:function(oe){var ue=k(oe+="",!1);return ue.toString=function(){return oe},ue},utcFormat:function(oe){var ue=_(oe+="",P);return ue.toString=function(){return oe},ue},utcParse:function(oe){var ue=k(oe+="",!0);return ue.toString=function(){return oe},ue}}}var j4={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,Gxe=/^%/,Xxe=/[\\^$*+?|[\]().{}]/g;function Dt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Yxe(t){return t.replace(Xxe,"\\$&")}function fh(t){return new RegExp("^(?:"+t.map(Yxe).join("|")+")","i")}function hh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Kxe(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Jxe(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Zxe(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Qxe(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function e0e(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function S4(t,e,r){var n=dn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function C4(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function t0e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function r0e(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function n0e(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function N4(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function i0e(t,e,r){var n=dn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function _4(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function s0e(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function a0e(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function o0e(t,e,r){var n=dn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function l0e(t,e,r){var n=dn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function c0e(t,e,r){var n=Gxe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function u0e(t,e,r){var n=dn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function d0e(t,e,r){var n=dn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function O4(t,e){return Dt(t.getDate(),e,2)}function f0e(t,e){return Dt(t.getHours(),e,2)}function h0e(t,e){return Dt(t.getHours()%12||12,e,2)}function p0e(t,e){return Dt(1+Bm.count(lo(t),t),e,3)}function Kq(t,e){return Dt(t.getMilliseconds(),e,3)}function m0e(t,e){return Kq(t,e)+"000"}function g0e(t,e){return Dt(t.getMonth()+1,e,2)}function v0e(t,e){return Dt(t.getMinutes(),e,2)}function y0e(t,e){return Dt(t.getSeconds(),e,2)}function x0e(t){var e=t.getDay();return e===0?7:e}function b0e(t,e){return Dt(sb.count(lo(t)-1,t),e,2)}function Jq(t){var e=t.getDay();return e>=4||e===0?bd(t):bd.ceil(t)}function w0e(t,e){return t=Jq(t),Dt(bd.count(lo(t),t)+(lo(t).getDay()===4),e,2)}function j0e(t){return t.getDay()}function S0e(t,e){return Dt(sx.count(lo(t)-1,t),e,2)}function C0e(t,e){return Dt(t.getFullYear()%100,e,2)}function N0e(t,e){return t=Jq(t),Dt(t.getFullYear()%100,e,2)}function _0e(t,e){return Dt(t.getFullYear()%1e4,e,4)}function O0e(t,e){var r=t.getDay();return t=r>=4||r===0?bd(t):bd.ceil(t),Dt(t.getFullYear()%1e4,e,4)}function P0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dt(e/60|0,"0",2)+Dt(e%60,"0",2)}function P4(t,e){return Dt(t.getUTCDate(),e,2)}function k0e(t,e){return Dt(t.getUTCHours(),e,2)}function T0e(t,e){return Dt(t.getUTCHours()%12||12,e,2)}function A0e(t,e){return Dt(1+ib.count(co(t),t),e,3)}function Zq(t,e){return Dt(t.getUTCMilliseconds(),e,3)}function E0e(t,e){return Zq(t,e)+"000"}function M0e(t,e){return Dt(t.getUTCMonth()+1,e,2)}function D0e(t,e){return Dt(t.getUTCMinutes(),e,2)}function R0e(t,e){return Dt(t.getUTCSeconds(),e,2)}function I0e(t){var e=t.getUTCDay();return e===0?7:e}function L0e(t,e){return Dt(ab.count(co(t)-1,t),e,2)}function Qq(t){var e=t.getUTCDay();return e>=4||e===0?wd(t):wd.ceil(t)}function z0e(t,e){return t=Qq(t),Dt(wd.count(co(t),t)+(co(t).getUTCDay()===4),e,2)}function F0e(t){return t.getUTCDay()}function $0e(t,e){return Dt(ax.count(co(t)-1,t),e,2)}function B0e(t,e){return Dt(t.getUTCFullYear()%100,e,2)}function H0e(t,e){return t=Qq(t),Dt(t.getUTCFullYear()%100,e,2)}function W0e(t,e){return Dt(t.getUTCFullYear()%1e4,e,4)}function U0e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?wd(t):wd.ceil(t),Dt(t.getUTCFullYear()%1e4,e,4)}function q0e(){return"+0000"}function k4(){return"%"}function T4(t){return+t}function A4(t){return Math.floor(+t/1e3)}var Nu,eV,tV;V0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function V0e(t){return Nu=Vxe(t),eV=Nu.format,Nu.parse,tV=Nu.utcFormat,Nu.utcParse,Nu}function G0e(t){return new Date(t)}function X0e(t){return t instanceof Date?+t:+new Date(+t)}function Z2(t,e,r,n,i,s,o,l,c,d){var f=z2(),h=f.invert,m=f.domain,g=d(".%L"),j=d(":%S"),x=d("%I:%M"),y=d("%I %p"),b=d("%a %d"),S=d("%b %d"),O=d("%B"),P=d("%Y");function C(_){return(c(_)<_?g:l(_)<_?j:o(_)<_?x:s(_)<_?y:n(_)<_?i(_)<_?b:S:r(_)<_?O:P)(_)}return f.invert=function(_){return new Date(h(_))},f.domain=function(_){return arguments.length?m(Array.from(_,X0e)):m().map(G0e)},f.ticks=function(_){var k=m();return t(k[0],k[k.length-1],_??10)},f.tickFormat=function(_,k){return k==null?C:d(k)},f.nice=function(_){var k=m();return(!_||typeof _.range!="function")&&(_=e(k[0],k[k.length-1],_??10)),_?m(Bq(k,_)):f},f.copy=function(){return $m(f,Z2(t,e,r,n,i,s,o,l,c,d))},f}function Y0e(){return ls.apply(Z2(Uxe,qxe,lo,K2,sb,Bm,X2,V2,mc,eV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function K0e(){return ls.apply(Z2(Hxe,Wxe,co,J2,ab,ib,Y2,G2,mc,tV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ob(){var t=0,e=1,r,n,i,s,o=Wn,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(s(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(m){var g,j;return arguments.length?([g,j]=m,o=h(g,j),d):[o(0),o(1)]}}return d.range=f(uf),d.rangeRound=f(L2),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),d}}function Ol(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rV(){var t=_l(ob()(Wn));return t.copy=function(){return Ol(t,rV())},vo.apply(t,arguments)}function nV(){var t=B2(ob()).domain([1,10]);return t.copy=function(){return Ol(t,nV()).base(t.base())},vo.apply(t,arguments)}function iV(){var t=H2(ob());return t.copy=function(){return Ol(t,iV()).constant(t.constant())},vo.apply(t,arguments)}function Q2(){var t=W2(ob());return t.copy=function(){return Ol(t,Q2()).exponent(t.exponent())},vo.apply(t,arguments)}function J0e(){return Q2.apply(null,arguments).exponent(.5)}function sV(){var t=[],e=Wn;function r(n){if(n!=null&&!isNaN(n=+n))return e((zm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ul),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Lye(t,s/n))},r.copy=function(){return sV(e).domain(t)},vo.apply(r,arguments)}function lb(){var t=0,e=.5,r=1,n=1,i,s,o,l,c,d=Wn,f,h=!1,m;function g(x){return isNaN(x=+x)?m:(x=.5+((x=+f(x))-s)*(n*x<n*s?l:c),d(h?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([t,e,r]=x,i=f(t=+t),s=f(e=+e),o=f(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,g):[t,e,r]},g.clamp=function(x){return arguments.length?(h=!!x,g):h},g.interpolator=function(x){return arguments.length?(d=x,g):d};function j(x){return function(y){var b,S,O;return arguments.length?([b,S,O]=y,d=cxe(x,[b,S,O]),g):[d(0),d(.5),d(1)]}}return g.range=j(uf),g.rangeRound=j(L2),g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return f=x,i=x(t),s=x(e),o=x(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,g}}function aV(){var t=_l(lb()(Wn));return t.copy=function(){return Ol(t,aV())},vo.apply(t,arguments)}function oV(){var t=B2(lb()).domain([.1,1,10]);return t.copy=function(){return Ol(t,oV()).base(t.base())},vo.apply(t,arguments)}function lV(){var t=H2(lb());return t.copy=function(){return Ol(t,lV()).constant(t.constant())},vo.apply(t,arguments)}function eT(){var t=W2(lb());return t.copy=function(){return Ol(t,eT()).exponent(t.exponent())},vo.apply(t,arguments)}function Z0e(){return eT.apply(null,arguments).exponent(.5)}const E4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ep,scaleDiverging:aV,scaleDivergingLog:oV,scaleDivergingPow:eT,scaleDivergingSqrt:Z0e,scaleDivergingSymlog:lV,scaleIdentity:$q,scaleImplicit:SO,scaleLinear:nx,scaleLog:Hq,scaleOrdinal:D2,scalePoint:rp,scalePow:U2,scaleQuantile:qq,scaleQuantize:Vq,scaleRadial:Uq,scaleSequential:rV,scaleSequentialLog:nV,scaleSequentialPow:Q2,scaleSequentialQuantile:sV,scaleSequentialSqrt:J0e,scaleSequentialSymlog:iV,scaleSqrt:Exe,scaleSymlog:Wq,scaleThreshold:Gq,scaleTime:Y0e,scaleUtc:K0e,tickFormat:Fq},Symbol.toStringTag,{value:"Module"}));var vN,M4;function cb(){if(M4)return vN;M4=1;var t=af();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,f=l}return f}return vN=e,vN}var yN,D4;function cV(){if(D4)return yN;D4=1;function t(e,r){return e>r}return yN=t,yN}var xN,R4;function Q0e(){if(R4)return xN;R4=1;var t=cb(),e=cV(),r=cf();function n(i){return i&&i.length?t(i,r,e):void 0}return xN=n,xN}var ebe=Q0e();const ub=zt(ebe);var bN,I4;function uV(){if(I4)return bN;I4=1;function t(e,r){return e<r}return bN=t,bN}var wN,L4;function tbe(){if(L4)return wN;L4=1;var t=cb(),e=uV(),r=cf();function n(i){return i&&i.length?t(i,r,e):void 0}return wN=n,wN}var rbe=tbe();const db=zt(rbe);var jN,z4;function nbe(){if(z4)return jN;z4=1;var t=g2(),e=Na(),r=yq(),n=mi();function i(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return jN=i,jN}var SN,F4;function ibe(){if(F4)return SN;F4=1;var t=gq(),e=nbe();function r(n,i){return t(e(n,i),1)}return SN=r,SN}var sbe=ibe();const abe=zt(sbe);var CN,$4;function obe(){if($4)return CN;$4=1;var t=k2();function e(r,n){return t(r,n)}return CN=e,CN}var lbe=obe();const Hm=zt(lbe);var df=1e9,cbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rT,hr=!0,os="[DecimalError] ",xc=os+"Invalid argument: ",tT=os+"Exponent out of range: ",ff=Math.floor,sc=Math.pow,ube=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi,an=1e7,or=7,dV=9007199254740991,ox=ff(dV/or),Be={};Be.absoluteValue=Be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Be.comparedTo=Be.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*or;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(t){return Qa(this,new this.constructor(t))};Be.dividedToIntegerBy=Be.idiv=function(t){var e=this,r=e.constructor;return Jt(Qa(e,new r(t),0,1),r.precision)};Be.equals=Be.eq=function(t){return!this.cmp(t)};Be.exponent=function(){return Lr(this)};Be.greaterThan=Be.gt=function(t){return this.cmp(t)>0};Be.greaterThanOrEqualTo=Be.gte=function(t){return this.cmp(t)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(t){return this.cmp(t)<0};Be.lessThanOrEqualTo=Be.lte=function(t){return this.cmp(t)<1};Be.logarithm=Be.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Oi))throw Error(os+"NaN");if(r.s<1)throw Error(os+(r.s?"NaN":"-Infinity"));return r.eq(Oi)?new n(0):(hr=!1,e=Qa(Lp(r,s),Lp(t,s),s),hr=!0,Jt(e,i))};Be.minus=Be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pV(e,t):fV(e,(t.s=-t.s,t))};Be.modulo=Be.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(os+"NaN");return r.s?(hr=!1,e=Qa(r,t,0,1).times(t),hr=!0,r.minus(e)):Jt(new n(r),i)};Be.naturalExponential=Be.exp=function(){return hV(this)};Be.naturalLogarithm=Be.ln=function(){return Lp(this)};Be.negated=Be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Be.plus=Be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fV(e,t):pV(e,(t.s=-t.s,t))};Be.precision=Be.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xc+t);if(e=Lr(i)+1,n=i.d.length-1,r=n*or+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Be.squareRoot=Be.sqrt=function(){var t,e,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(os+"NaN")}for(t=Lr(l),hr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ca(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ff((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Qa(l,s,o+2)).times(.5),ca(s.d).slice(0,o)===(e=ca(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Jt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return hr=!0,Jt(n,r)};Be.times=Be.mul=function(t){var e,r,n,i,s,o,l,c,d,f=this,h=f.constructor,m=f.d,g=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,r=f.e+t.e,c=m.length,d=g.length,c<d&&(s=m,m=g,g=s,o=c,c=d,d=o),s=[],o=c+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+g[n]*m[i-n-1]+e,s[i--]=l%an|0,e=l/an|0;s[i]=(s[i]+e)%an|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,hr?Jt(t,h.precision):t};Be.toDecimalPlaces=Be.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ya(t,0,df),e===void 0?e=n.rounding:ya(e,0,8),Jt(r,t+Lr(r)+1,e))};Be.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ac(n,!0):(ya(t,0,df),e===void 0?e=i.rounding:ya(e,0,8),n=Jt(new i(n),t+1,e),r=Ac(n,!0,t+1)),r};Be.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Ac(i):(ya(t,0,df),e===void 0?e=s.rounding:ya(e,0,8),n=Jt(new s(i),t+Lr(i)+1,e),r=Ac(n.abs(),!1,t+Lr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var t=this,e=t.constructor;return Jt(new e(t),Lr(t)+1,e.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(t){var e,r,n,i,s,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Oi);if(l=new c(l),!l.s){if(t.s<1)throw Error(os+"Infinity");return l}if(l.eq(Oi))return l;if(n=c.precision,t.eq(Oi))return Jt(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=f<0?-f:f)<=dV){for(i=new c(Oi),e=Math.ceil(n/or+4),hr=!1;r%2&&(i=i.times(l),H4(i.d,e)),r=ff(r/2),r!==0;)l=l.times(l),H4(l.d,e);return hr=!0,t.s<0?new c(Oi).div(i):Jt(i,n)}}else if(s<0)throw Error(os+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,hr=!1,i=t.times(Lp(l,n+d)),hr=!0,i=hV(i),i.s=s,i};Be.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Lr(i),n=Ac(i,r<=s.toExpNeg||r>=s.toExpPos)):(ya(t,1,df),e===void 0?e=s.rounding:ya(e,0,8),i=Jt(new s(i),t,e),r=Lr(i),n=Ac(i,t<=r||r<=s.toExpNeg,t)),n};Be.toSignificantDigits=Be.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ya(t,1,df),e===void 0?e=n.rounding:ya(e,0,8)),Jt(new n(r),t,e)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lr(t),r=t.constructor;return Ac(t,e<=r.toExpNeg||e>=r.toExpPos)};function fV(t,e){var r,n,i,s,o,l,c,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),hr?Jt(e,h):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(h/or),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/an|0,c[s]%=an;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,hr?Jt(e,h):e}function ya(t,e,r){if(t!==~~t||t<e||t>r)throw Error(xc+t)}function ca(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=or-n.length,r&&(s+=qo(r)),s+=n;o=t[e],n=o+"",r=or-n.length,r&&(s+=qo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Qa=(function(){function t(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%an|0,o=s/an|0;return o&&n.unshift(o),n}function e(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*an+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,d,f,h,m,g,j,x,y,b,S,O,P,C,_,k,A,M=n.constructor,D=n.s==i.s?1:-1,L=n.d,W=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(os+"Division by zero");for(c=n.e-i.e,k=W.length,C=L.length,g=new M(D),j=g.d=[],d=0;W[d]==(L[d]||0);)++d;if(W[d]>(L[d]||0)&&--c,s==null?S=s=M.precision:o?S=s+(Lr(n)-Lr(i))+1:S=s,S<0)return new M(0);if(S=S/or+2|0,d=0,k==1)for(f=0,W=W[0],S++;(d<C||f)&&S--;d++)O=f*an+(L[d]||0),j[d]=O/W|0,f=O%W|0;else{for(f=an/(W[0]+1)|0,f>1&&(W=t(W,f),L=t(L,f),k=W.length,C=L.length),P=k,x=L.slice(0,k),y=x.length;y<k;)x[y++]=0;A=W.slice(),A.unshift(0),_=W[0],W[1]>=an/2&&++_;do f=0,l=e(W,x,k,y),l<0?(b=x[0],k!=y&&(b=b*an+(x[1]||0)),f=b/_|0,f>1?(f>=an&&(f=an-1),h=t(W,f),m=h.length,y=x.length,l=e(h,x,m,y),l==1&&(f--,r(h,k<m?A:W,m))):(f==0&&(l=f=1),h=W.slice()),m=h.length,m<y&&h.unshift(0),r(x,h,y),l==-1&&(y=x.length,l=e(W,x,k,y),l<1&&(f++,r(x,k<y?A:W,y))),y=x.length):l===0&&(f++,x=[0]),j[d++]=f,l&&x[0]?x[y++]=L[P]||0:(x=[L[P]],y=1);while((P++<C||x[0]!==void 0)&&S--)}return j[0]||j.shift(),g.e=c,Jt(g,o?s+Lr(g)+1:s)}})();function hV(t,e){var r,n,i,s,o,l,c=0,d=0,f=t.constructor,h=f.precision;if(Lr(t)>16)throw Error(tT+Lr(t));if(!t.s)return new f(Oi);for(hr=!1,l=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(sc(2,d))/Math.LN10*2+5|0,l+=n,r=i=s=new f(Oi),f.precision=l;;){if(i=Jt(i.times(t),l),r=r.times(++c),o=s.plus(Qa(i,r,l)),ca(o.d).slice(0,l)===ca(s.d).slice(0,l)){for(;d--;)s=Jt(s.times(s),l);return f.precision=h,e==null?(hr=!0,Jt(s,h)):s}s=o}}function Lr(t){for(var e=t.e*or,r=t.d[0];r>=10;r/=10)e++;return e}function NN(t,e,r){if(e>t.LN10.sd())throw hr=!0,r&&(t.precision=r),Error(os+"LN10 precision limit exceeded");return Jt(new t(t.LN10),e)}function qo(t){for(var e="";t--;)e+="0";return e}function Lp(t,e){var r,n,i,s,o,l,c,d,f,h=1,m=10,g=t,j=g.d,x=g.constructor,y=x.precision;if(g.s<1)throw Error(os+(g.s?"NaN":"-Infinity"));if(g.eq(Oi))return new x(0);if(e==null?(hr=!1,d=y):d=e,g.eq(10))return e==null&&(hr=!0),NN(x,d);if(d+=m,x.precision=d,r=ca(j),n=r.charAt(0),s=Lr(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=ca(g.d),n=r.charAt(0),h++;s=Lr(g),n>1?(g=new x("0."+r),s++):g=new x(n+"."+r.slice(1))}else return c=NN(x,d+2,y).times(s+""),g=Lp(new x(n+"."+r.slice(1)),d-m).plus(c),x.precision=y,e==null?(hr=!0,Jt(g,y)):g;for(l=o=g=Qa(g.minus(Oi),g.plus(Oi),d),f=Jt(g.times(g),d),i=3;;){if(o=Jt(o.times(f),d),c=l.plus(Qa(o,new x(i),d)),ca(c.d).slice(0,d)===ca(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(NN(x,d+2,y).times(s+""))),l=Qa(l,new x(h),d),x.precision=y,e==null?(hr=!0,Jt(l,y)):l;l=c,i+=2}}function B4(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=ff(r/or),t.d=[],n=(r+1)%or,r<0&&(n+=or),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=or;n<i;)t.d.push(+e.slice(n,n+=or));e=e.slice(n),n=or-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),hr&&(t.e>ox||t.e<-ox))throw Error(tT+r)}else t.s=0,t.e=0,t.d=[0];return t}function Jt(t,e,r){var n,i,s,o,l,c,d,f,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=or,i=e,d=h[f=0];else{if(f=Math.ceil((n+1)/or),s=h.length,f>=s)return t;for(d=s=h[f],o=1;s>=10;s/=10)o++;n%=or,i=n-or+o}if(r!==void 0&&(s=sc(10,o-i-1),l=d/s%10|0,c=e<0||h[f+1]!==void 0||d%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/sc(10,o-i):0:h[f-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(s=Lr(t),h.length=1,e=e-s-1,h[0]=sc(10,(or-e%or)%or),t.e=ff(-e/or)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=f,s=1,f--):(h.length=f+1,s=sc(10,or-n),h[f]=i>0?(d/sc(10,o-i)%sc(10,i)|0)*s:0),c)for(;;)if(f==0){(h[0]+=s)==an&&(h[0]=1,++t.e);break}else{if(h[f]+=s,h[f]!=an)break;h[f--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(hr&&(t.e>ox||t.e<-ox))throw Error(tT+Lr(t));return t}function pV(t,e){var r,n,i,s,o,l,c,d,f,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),hr?Jt(e,g):e;if(c=t.d,h=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(f=o<0,f?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),i=Math.max(Math.ceil(g/or),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=an-1;--c[s],c[i]+=an}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,hr?Jt(e,g):e):new m(0)}function Ac(t,e,r){var n,i=Lr(t),s=ca(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+qo(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+qo(-i-1)+s,r&&(n=r-o)>0&&(s+=qo(n))):i>=o?(s+=qo(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+qo(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=qo(n))),t.s<0?"-"+s:s}function H4(t,e){if(t.length>e)return t.length=e,!0}function mV(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return B4(o,s.toString())}else if(typeof s!="string")throw Error(xc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,ube.test(s))B4(o,s);else throw Error(xc+s)}if(i.prototype=Be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mV,i.config=i.set=dbe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function dbe(t){if(!t||typeof t!="object")throw Error(os+"Object expected");var e,r,n,i=["precision",1,df,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(ff(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(xc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xc+r+": "+n);return this}var rT=mV(cbe);Oi=new rT(1);const Gt=rT;function fbe(t){return gbe(t)||mbe(t)||pbe(t)||hbe()}function hbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pbe(t,e){if(t){if(typeof t=="string")return OO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(t,e)}}function mbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gbe(t){if(Array.isArray(t))return OO(t)}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vbe=function(e){return e},gV={},vV=function(e){return e===gV},W4=function(e){return function r(){return arguments.length===0||arguments.length===1&&vV(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ybe=function t(e,r){return e===1?r:W4(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==gV}).length;return o>=e?r.apply(void 0,i):t(e-o,W4(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(h){return vV(h)?c.shift():h});return r.apply(void 0,fbe(f).concat(c))}))})},fb=function(e){return ybe(e.length,e)},PO=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},xbe=fb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),bbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return vbe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},kO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yV=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function wbe(t){var e;return t===0?e=1:e=Math.floor(new Gt(t).abs().log(10).toNumber())+1,e}function jbe(t,e,r){for(var n=new Gt(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Sbe=fb(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Cbe=fb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Nbe=fb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const hb={rangeStep:jbe,getDigitCount:wbe,interpolateNumber:Sbe,uninterpolateNumber:Cbe,uninterpolateTruncation:Nbe};function TO(t){return Pbe(t)||Obe(t)||xV(t)||_be()}function _be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Pbe(t){if(Array.isArray(t))return AO(t)}function zp(t,e){return Abe(t)||Tbe(t,e)||xV(t,e)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xV(t,e){if(t){if(typeof t=="string")return AO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AO(t,e)}}function AO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tbe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function Abe(t){if(Array.isArray(t))return t}function bV(t){var e=zp(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function wV(t,e,r){if(t.lte(0))return new Gt(0);var n=hb.getDigitCount(t.toNumber()),i=new Gt(10).pow(n),s=t.div(i),o=n!==1?.05:.1,l=new Gt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new Gt(Math.ceil(c))}function Ebe(t,e,r){var n=1,i=new Gt(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Gt(10).pow(hb.getDigitCount(t)-1),i=new Gt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Gt(Math.floor(t)))}else t===0?i=new Gt(Math.floor((e-1)/2)):r||(i=new Gt(Math.floor(t)));var o=Math.floor((e-1)/2),l=bbe(xbe(function(c){return i.add(new Gt(c-o).mul(n)).toNumber()}),PO);return l(0,e)}function jV(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var s=wV(new Gt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Gt(0):(o=new Gt(t).add(e).div(2),o=o.sub(new Gt(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Gt(e).sub(o).div(s).toNumber()),d=l+c+1;return d>r?jV(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Gt(l).mul(s)),tickMax:o.add(new Gt(c).mul(s))})}function Mbe(t){var e=zp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=bV([r,n]),c=zp(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var h=f===1/0?[d].concat(TO(PO(0,i-1).map(function(){return 1/0}))):[].concat(TO(PO(0,i-1).map(function(){return-1/0})),[f]);return r>n?kO(h):h}if(d===f)return Ebe(d,i,s);var m=jV(d,f,o,s),g=m.step,j=m.tickMin,x=m.tickMax,y=hb.rangeStep(j,x.add(new Gt(.1).mul(g)),g);return r>n?kO(y):y}function Dbe(t,e){var r=zp(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bV([n,i]),l=zp(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var f=Math.max(e,2),h=wV(new Gt(d).sub(c).div(f-1),s,0),m=[].concat(TO(hb.rangeStep(new Gt(c),new Gt(d).sub(new Gt(.99).mul(h)),h)),[d]);return n>i?kO(m):m}var Rbe=yV(Mbe),Ibe=yV(Dbe),Lbe="Invariant failed";function Ec(t,e){throw new Error(Lbe)}var zbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lx.apply(this,arguments)}function Fbe(t,e){return Wbe(t)||Hbe(t,e)||Bbe(t,e)||$be()}function $be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(t,e){if(t){if(typeof t=="string")return U4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U4(t,e)}}function U4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Wbe(t){if(Array.isArray(t))return t}function Ube(t,e){if(t==null)return{};var r=qbe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NV(n.key),n)}}function Xbe(t,e,r){return e&&Gbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ybe(t,e,r){return e=cx(e),Kbe(t,SV()?Reflect.construct(e,r||[],cx(t).constructor):e.apply(t,r))}function Kbe(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jbe(t)}function Jbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(t)}function Zbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EO(t,e)}function CV(t,e,r){return e=NV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NV(t){var e=Qbe(t,"string");return jd(e)=="symbol"?e:e+""}function Qbe(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wm=(function(t){function e(){return Vbe(this,e),Ybe(this,e,arguments)}return Zbe(e,t),Xbe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,m=Ube(n,zbe),g=tt(m,!1);this.props.direction==="x"&&f.type!=="number"&&Ec();var j=c.map(function(x){var y=d(x,l),b=y.x,S=y.y,O=y.value,P=y.errorVal;if(!P)return null;var C=[],_,k;if(Array.isArray(P)){var A=Fbe(P,2);_=A[0],k=A[1]}else _=k=P;if(s==="vertical"){var M=f.scale,D=S+i,L=D+o,W=D-o,$=M(O-_),H=M(O+k);C.push({x1:H,y1:L,x2:H,y2:W}),C.push({x1:$,y1:D,x2:H,y2:D}),C.push({x1:$,y1:L,x2:$,y2:W})}else if(s==="horizontal"){var z=h.scale,q=b+i,E=q-o,U=q+o,B=z(O-_),I=z(O+k);C.push({x1:E,y1:I,x2:U,y2:I}),C.push({x1:q,y1:B,x2:q,y2:I}),C.push({x1:E,y1:B,x2:U,y2:B})}return Y.createElement(Mt,lx({className:"recharts-errorBar",key:"bar-".concat(C.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},g),C.map(function(F){return Y.createElement("line",lx({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return Y.createElement(Mt,{className:"recharts-errorBars"},j)}}])})(Y.Component);CV(Wm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CV(Wm,"displayName","ErrorBar");function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q4(Object(r),!0).forEach(function(n){ewe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ewe(t,e,r){return e=twe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function twe(t){var e=rwe(t,"string");return Fp(e)=="symbol"?e:e+""}function rwe(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _V=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Ci(r,fa);if(!o)return null;var l=fa.defaultProps,c=l!==void 0?ec(ec({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(n||[]).reduce(function(f,h){var m=h.item,g=h.props,j=g.sectors||g.data||[];return f.concat(j.map(function(x){return{type:o.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(n||[]).map(function(f){var h=f.item,m=h.type.defaultProps,g=m!==void 0?ec(ec({},m),h.props):{},j=g.dataKey,x=g.name,y=g.legendType,b=g.hide;return{inactive:b,dataKey:j,type:c.iconType||y||"square",color:nT(h),value:x||j,payload:g}}),ec(ec(ec({},c),fa.getWithHeight(o,i)),{},{payload:d,item:o})};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function V4(t){return awe(t)||swe(t)||iwe(t)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iwe(t,e){if(t){if(typeof t=="string")return MO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(t,e)}}function swe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function awe(t){if(Array.isArray(t))return MO(t)}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(r),!0).forEach(function(n){Ku(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ku(t,e,r){return e=owe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function owe(t){var e=lwe(t,"string");return $p(e)=="symbol"?e:e+""}function lwe(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jr(t,e,r){return dt(t)||dt(e)?r:Zr(e)?Ei(t,e,r):ot(e)?e(t):r}function np(t,e,r,n){var i=abe(t,function(l){return Jr(l,e)});if(r==="number"){var s=i.filter(function(l){return Te(l)||parseFloat(l)});return s.length?[db(s),ub(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!dt(l)}):i;return o.map(function(l){return Zr(l)||l instanceof Date?l:""})}var cwe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,h=i[d].coordinate,m=d>=l-1?i[0].coordinate:i[d+1].coordinate,g=void 0;if(Bn(h-f)!==Bn(m-h)){var j=[];if(Bn(m-h)===Bn(c[1]-c[0])){g=m;var x=h+c[1]-c[0];j[0]=Math.min(x,(x+f)/2),j[1]=Math.max(x,(x+f)/2)}else{g=f;var y=m+c[1]-c[0];j[0]=Math.min(h,(y+h)/2),j[1]=Math.max(h,(y+h)/2)}var b=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>b[0]&&e<=b[1]||e>=j[0]&&e<=j[1]){o=i[d].index;break}}else{var S=Math.min(f,m),O=Math.max(f,m);if(e>(S+h)/2&&e<=(O+h)/2){o=i[d].index;break}}}else for(var P=0;P<l;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<l-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===l-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){o=n[P].index;break}return o},nT=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},uwe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,d=l.length;c<d;c++)for(var f=s[l[c]].stackGroups,h=Object.keys(f),m=0,g=h.length;m<g;m++){var j=f[h[m]],x=j.items,y=j.cateAxisId,b=x.filter(function(k){return Za(k.type).indexOf("Bar")>=0});if(b&&b.length){var S=b[0].type.defaultProps,O=S!==void 0?jr(jr({},S),b[0].props):b[0].props,P=O.barSize,C=O[y];o[C]||(o[C]=[]);var _=dt(P)?r:P;o[C].push({item:b[0],stackList:b.slice(1),barSize:dt(_)?void 0:Hn(_,n,0)})}}return o},dwe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Hn(r,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,j=o.reduce(function(P,C){return P+C.barSize||0},0);j+=(c-1)*d,j>=i&&(j-=(c-1)*d,d=0),j>=i&&g>0&&(m=!0,g*=.9,j=c*g);var x=(i-j)/2>>0,y={offset:x-d,size:0};f=o.reduce(function(P,C){var _={item:C.item,position:{offset:y.offset+y.size+d,size:m?g:C.barSize}},k=[].concat(V4(P),[_]);return y=k[k.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){k.push({item:A,position:y})}),k},h)}else{var b=Hn(n,i,0,!0);i-2*b-(c-1)*d<=0&&(d=0);var S=(i-2*b-(c-1)*d)/c;S>1&&(S>>=0);var O=l===+l?Math.min(S,l):S;f=o.reduce(function(P,C,_){var k=[].concat(V4(P),[{item:C.item,position:{offset:b+(S+d)*_+(S-O)/2,size:O}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},h)}return f},fwe=function(e,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=_V({children:s,legendWidth:c});if(d){var f=i||{},h=f.width,m=f.height,g=d.align,j=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&j==="middle")&&g!=="center"&&Te(e[g]))return jr(jr({},e),{},Ku({},g,e[g]+(h||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&j!=="middle"&&Te(e[j]))return jr(jr({},e),{},Ku({},j,e[j]+(m||0)))}return e},hwe=function(e,r,n){return dt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OV=function(e,r,n,i,s){var o=r.props.children,l=Mi(o,Wm).filter(function(d){return hwe(i,s,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var h=Jr(f,n);if(dt(h))return d;var m=Array.isArray(h)?[db(h),ub(h)]:[h,h],g=c.reduce(function(j,x){var y=Jr(f,x,0),b=m[0]-Math.abs(Array.isArray(y)?y[0]:y),S=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,j[0]),Math.max(S,j[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},pwe=function(e,r,n,i,s){var o=r.map(function(l){return OV(e,l,n,s,i)}).filter(function(l){return!dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},PV=function(e,r,n,i,s){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&OV(e,c,d,i)||np(e,d,n,s)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,h=d.length;f<h;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},kV=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},TV=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Xa=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&l?.length>=2?Bn(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var m=s?s.indexOf(h):h;return{coordinate:i(m)+d,value:h,offset:d}});return f.filter(function(h){return!Im(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:i(h)+d,value:h,index:m,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+d,value:h,offset:d}}):i.domain().map(function(h,m){return{coordinate:i(h)+d,value:s?s[h]:h,index:m,offset:d}})},_N=new WeakMap,Tv=function(e,r){if(typeof r!="function")return e;_N.has(e)||_N.set(e,new WeakMap);var n=_N.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},AV=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ep(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:nx(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rp(),realScaleType:"point"}:s==="category"?{scale:Ep(),realScaleType:"band"}:{scale:nx(),realScaleType:"linear"};if(Pc(i)){var c="scale".concat(Y0(i));return{scale:(E4[c]||rp)(),realScaleType:E4[c]?c:"point"}}return ot(i)?{scale:i}:{scale:rp(),realScaleType:"point"}},X4=1e-4,EV=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-X4,o=Math.max(i[0],i[1])+X4,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},mwe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},gwe=function(e,r){if(!r||r.length!==2||!Te(r[0])||!Te(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Te(e[0])||e[0]<n)&&(s[0]=n),(!Te(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},vwe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Im(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},ywe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Im(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},xwe={sign:vwe,expand:ame,none:pd,silhouette:ome,wiggle:lme,positive:ywe},bwe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),s=xwe[n],o=sme().keys(i).value(function(l,c){return+Jr(l,c,0)}).order(cO).offset(s);return o(e)},wwe=function(e,r,n,i,s,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,m){var g,j=(g=m.type)!==null&&g!==void 0&&g.defaultProps?jr(jr({},m.type.defaultProps),m.props):m.props,x=j.stackId,y=j.hide;if(y)return h;var b=j[n],S=h[b]||{hasStack:!1,stackGroups:{}};if(Zr(x)){var O=S.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(m),S.hasStack=!0,S.stackGroups[x]=O}else S.stackGroups[lf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return jr(jr({},h),{},Ku({},b,S))},c),f={};return Object.keys(d).reduce(function(h,m){var g=d[m];if(g.hasStack){var j={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,y){var b=g.stackGroups[y];return jr(jr({},x),{},Ku({},y,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:bwe(e,b.items,s)}))},j)}return jr(jr({},h),{},Ku({},m,g))},f)},MV=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=Rbe(d,s,l);return e.domain([db(f),ub(f)]),{niceTicks:f}}if(s&&i==="number"){var h=e.domain(),m=Ibe(h,s,l);return{niceTicks:m}}return null};function Y4(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!dt(i[e.dataKey])){var l=Fy(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Jr(i,dt(o)?e.dataKey:o);return dt(c)?null:e.scale(c)}var K4=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Jr(o,r.dataKey,r.domain[l]);return dt(c)?null:r.scale(c)-s/2+i},jwe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Swe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Zr(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Cwe=function(e){return e.reduce(function(r,n){return[db(n.concat([r[0]]).filter(Te)),ub(n.concat([r[1]]).filter(Te))]},[1/0,-1/0])},DV=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(d,f){var h=Cwe(f.slice(r,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},J4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DO=function(e,r,n){if(ot(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Te(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(J4.test(e[0])){var s=+J4.exec(e[0])[1];i[0]=r[0]-s}else ot(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Te(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(Z4.test(e[1])){var o=+Z4.exec(e[1])[1];i[1]=r[1]+o}else ot(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ux=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=A2(r,function(h){return h.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var d=s[l],f=s[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Q4=function(e,r,n){return!e||!e.length||Hm(e,Ei(n,"type.defaultProps.domain"))?r:e},RV=function(e,r){var n=e.type.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,f=n.hide;return jr(jr({},tt(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:nT(e),value:Jr(r,i),type:c,payload:r,chartType:d,hide:f})};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(r),!0).forEach(function(n){IV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IV(t,e,r){return e=Nwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nwe(t){var e=_we(t,"string");return Bp(e)=="symbol"?e:e+""}function _we(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Owe(t,e){return Awe(t)||Twe(t,e)||kwe(t,e)||Pwe()}function Pwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kwe(t,e){if(t){if(typeof t=="string")return tz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tz(t,e)}}function tz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Twe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Awe(t){if(Array.isArray(t))return t}var dx=Math.PI/180,Ewe=function(e){return e*180/Math.PI},ir=function(e,r,n,i){return{x:e+Math.cos(-dx*i)*n,y:r+Math.sin(-dx*i)*n}},LV=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Mwe=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=Hn(e.cx,o,o/2),h=Hn(e.cy,l,l/2),m=LV(o,l,n),g=Hn(e.innerRadius,m,0),j=Hn(e.outerRadius,m,m*.8),x=Object.keys(r);return x.reduce(function(y,b){var S=r[b],O=S.domain,P=S.reversed,C;if(dt(S.range))i==="angleAxis"?C=[c,d]:i==="radiusAxis"&&(C=[g,j]),P&&(C=[C[1],C[0]]);else{C=S.range;var _=C,k=Owe(_,2);c=k[0],d=k[1]}var A=AV(S,s),M=A.realScaleType,D=A.scale;D.domain(O).range(C),EV(D);var L=MV(D,$a($a({},S),{},{realScaleType:M})),W=$a($a($a({},S),L),{},{range:C,radius:j,realScaleType:M,scale:D,cx:f,cy:h,innerRadius:g,outerRadius:j,startAngle:c,endAngle:d});return $a($a({},y),{},IV({},b,W))},{})},Dwe=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Rwe=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,l=Dwe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:Ewe(d),angleInRadian:d}},Iwe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Lwe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},rz=function(e,r){var n=e.x,i=e.y,s=Rwe({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=Iwe(r),h=f.startAngle,m=f.endAngle,g=l,j;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;j=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;j=g>=m&&g<=h}return j?$a($a({},r),{},{radius:o,angle:Lwe(g,r)}):null},zV=function(e){return!w.isValidElement(e)&&!ot(e)&&typeof e!="boolean"?e.className:""};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var zwe=["offset"];function Fwe(t){return Wwe(t)||Hwe(t)||Bwe(t)||$we()}function $we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bwe(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function Hwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wwe(t){if(Array.isArray(t))return RO(t)}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uwe(t,e){if(t==null)return{};var r=qwe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(r),!0).forEach(function(n){Vwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vwe(t,e,r){return e=Gwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gwe(t){var e=Xwe(t,"string");return Hp(e)=="symbol"?e:e+""}function Xwe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wp.apply(this,arguments)}var Ywe=function(e){var r=e.value,n=e.formatter,i=dt(e.children)?r:e.children;return ot(n)?n(i):i},Kwe=function(e,r){var n=Bn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Jwe=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,d=c.cx,f=c.cy,h=c.innerRadius,m=c.outerRadius,g=c.startAngle,j=c.endAngle,x=c.clockWise,y=(h+m)/2,b=Kwe(g,j),S=b>=0?1:-1,O,P;i==="insideStart"?(O=g+S*o,P=x):i==="insideEnd"?(O=j-S*o,P=!x):i==="end"&&(O=j+S*o,P=x),P=b<=0?P:!P;var C=ir(d,f,y,O),_=ir(d,f,y,O+(P?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(P?0:1,`,
    `).concat(_.x,",").concat(_.y),A=dt(e.id)?lf("recharts-radial-line-"):e.id;return Y.createElement("text",Wp({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",l)}),Y.createElement("defs",null,Y.createElement("path",{id:A,d:k})),Y.createElement("textPath",{xlinkHref:"#".concat(A)},r))},Zwe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,d=s.outerRadius,f=s.startAngle,h=s.endAngle,m=(f+h)/2;if(i==="outside"){var g=ir(o,l,d+n,m),j=g.x,x=g.y;return{x:j,y:x,textAnchor:j>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,b=ir(o,l,y,m),S=b.x,O=b.y;return{x:S,y:O,textAnchor:"middle",verticalAnchor:"middle"}},Qwe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,l=o.x,c=o.y,d=o.width,f=o.height,h=f>=0?1:-1,m=h*i,g=h>0?"end":"start",j=h>0?"start":"end",x=d>=0?1:-1,y=x*i,b=x>0?"end":"start",S=x>0?"start":"end";if(s==="top"){var O={x:l+d/2,y:c-h*i,textAnchor:"middle",verticalAnchor:g};return Ur(Ur({},O),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var P={x:l+d/2,y:c+f+m,textAnchor:"middle",verticalAnchor:j};return Ur(Ur({},P),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(s==="left"){var C={x:l-y,y:c+f/2,textAnchor:b,verticalAnchor:"middle"};return Ur(Ur({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(s==="right"){var _={x:l+d+y,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return Ur(Ur({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:f}:{})}var k=n?{width:d,height:f}:{};return s==="insideLeft"?Ur({x:l+y,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},k):s==="insideRight"?Ur({x:l+d-y,y:c+f/2,textAnchor:b,verticalAnchor:"middle"},k):s==="insideTop"?Ur({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:j},k):s==="insideBottom"?Ur({x:l+d/2,y:c+f-m,textAnchor:"middle",verticalAnchor:g},k):s==="insideTopLeft"?Ur({x:l+y,y:c+m,textAnchor:S,verticalAnchor:j},k):s==="insideTopRight"?Ur({x:l+d-y,y:c+m,textAnchor:b,verticalAnchor:j},k):s==="insideBottomLeft"?Ur({x:l+y,y:c+f-m,textAnchor:S,verticalAnchor:g},k):s==="insideBottomRight"?Ur({x:l+d-y,y:c+f-m,textAnchor:b,verticalAnchor:g},k):of(s)&&(Te(s.x)||hc(s.x))&&(Te(s.y)||hc(s.y))?Ur({x:l+Hn(s.x,d),y:c+Hn(s.y,f),textAnchor:"end",verticalAnchor:"end"},k):Ur({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},eje=function(e){return"cx"in e&&Te(e.cx)};function ln(t){var e=t.offset,r=e===void 0?5:e,n=Uwe(t,zwe),i=Ur({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,f=i.className,h=f===void 0?"":f,m=i.textBreakAll;if(!s||dt(l)&&dt(c)&&!w.isValidElement(d)&&!ot(d))return null;if(w.isValidElement(d))return w.cloneElement(d,i);var g;if(ot(d)){if(g=w.createElement(d,i),w.isValidElement(g))return g}else g=Ywe(i);var j=eje(s),x=tt(i,!0);if(j&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Jwe(i,g,x);var y=j?Zwe(i):Qwe(i);return Y.createElement(Tc,Wp({className:pt("recharts-label",h)},x,y,{breakAll:m}),g)}ln.displayName="Label";var FV=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,h=e.x,m=e.y,g=e.top,j=e.left,x=e.width,y=e.height,b=e.clockWise,S=e.labelViewBox;if(S)return S;if(Te(x)&&Te(y)){if(Te(h)&&Te(m))return{x:h,y:m,width:x,height:y};if(Te(g)&&Te(j))return{x:g,y:j,width:x,height:y}}return Te(h)&&Te(m)?{x:h,y:m,width:0,height:0}:Te(r)&&Te(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},tje=function(e,r){return e?e===!0?Y.createElement(ln,{key:"label-implicit",viewBox:r}):Zr(e)?Y.createElement(ln,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===ln?w.cloneElement(e,{key:"label-implicit",viewBox:r}):Y.createElement(ln,{key:"label-implicit",content:e,viewBox:r}):ot(e)?Y.createElement(ln,{key:"label-implicit",content:e,viewBox:r}):of(e)?Y.createElement(ln,Wp({viewBox:r},e,{key:"label-implicit"})):null:null},rje=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=FV(e),o=Mi(i,ln).map(function(c,d){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(d)})});if(!n)return o;var l=tje(e.label,r||s);return[l].concat(Fwe(o))};ln.parseViewBox=FV;ln.renderCallByParent=rje;var ON,iz;function nje(){if(iz)return ON;iz=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return ON=t,ON}var ije=nje();const sje=zt(ije);function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}var aje=["valueAccessor"],oje=["data","dataKey","clockWise","id","textBreakAll"];function lje(t){return fje(t)||dje(t)||uje(t)||cje()}function cje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uje(t,e){if(t){if(typeof t=="string")return IO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(t,e)}}function dje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fje(t){if(Array.isArray(t))return IO(t)}function IO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fx.apply(this,arguments)}function sz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function az(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(r),!0).forEach(function(n){hje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hje(t,e,r){return e=pje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pje(t){var e=mje(t,"string");return Up(e)=="symbol"?e:e+""}function mje(t,e){if(Up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oz(t,e){if(t==null)return{};var r=gje(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vje=function(e){return Array.isArray(e.value)?sje(e.value):e.value};function eo(t){var e=t.valueAccessor,r=e===void 0?vje:e,n=oz(t,aje),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=oz(n,oje);return!i||!i.length?null:Y.createElement(Mt,{className:"recharts-label-list"},i.map(function(f,h){var m=dt(s)?r(f,h):Jr(f&&f.payload,s),g=dt(l)?{}:{id:"".concat(l,"-").concat(h)};return Y.createElement(ln,fx({},tt(f,!0),d,g,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:ln.parseViewBox(dt(o)?f:az(az({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}eo.displayName="LabelList";function yje(t,e){return t?t===!0?Y.createElement(eo,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||ot(t)?Y.createElement(eo,{key:"labelList-implicit",data:e,content:t}):of(t)?Y.createElement(eo,fx({data:e},t,{key:"labelList-implicit"})):null:null}function xje(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Mi(n,eo).map(function(o,l){return w.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var s=yje(t.label,e);return[s].concat(lje(i))}eo.renderCallByParent=xje;function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function LO(){return LO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LO.apply(this,arguments)}function lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(r),!0).forEach(function(n){bje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bje(t,e,r){return e=wje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wje(t){var e=jje(t,"string");return qp(e)=="symbol"?e:e+""}function jje(t,e){if(qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sje=function(e,r){var n=Bn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Av=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,h=Math.asin(c/f)/dx,m=d?s:s+o*h,g=ir(r,n,f,m),j=ir(r,n,i,m),x=d?s-o*h:s,y=ir(r,n,f*Math.cos(h*dx),x);return{center:g,circleTangency:j,lineTangency:y,theta:h}},$V=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Sje(o,l),d=o+c,f=ir(r,n,s,o),h=ir(r,n,s,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=ir(r,n,i,o),j=ir(r,n,i,d);m+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},Cje=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,h=Bn(f-d),m=Av({cx:r,cy:n,radius:s,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,j=m.lineTangency,x=m.theta,y=Av({cx:r,cy:n,radius:s,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,S=y.lineTangency,O=y.theta,P=c?Math.abs(d-f):Math.abs(d-f)-x-O;if(P<0)return l?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$V({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f});var C="M ".concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var _=Av({cx:r,cy:n,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=_.circleTangency,A=_.lineTangency,M=_.theta,D=Av({cx:r,cy:n,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=D.circleTangency,W=D.lineTangency,$=D.theta,H=c?Math.abs(d-f):Math.abs(d-f)-M-$;if(H<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(W.x,",").concat(W.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},Nje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BV=function(e){var r=cz(cz({},Nje),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,m=r.className;if(o<s||f===h)return null;var g=pt("recharts-sector",m),j=o-s,x=Hn(l,j,0,!0),y;return x>0&&Math.abs(f-h)<360?y=Cje({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,j/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):y=$V({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:h}),Y.createElement("path",LO({},tt(r,!0),{className:g,d:y,role:"img"}))};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function zO(){return zO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zO.apply(this,arguments)}function uz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(r),!0).forEach(function(n){_je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _je(t,e,r){return e=Oje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oje(t){var e=Pje(t,"string");return Vp(e)=="symbol"?e:e+""}function Pje(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fz={curveBasisClosed:Xpe,curveBasisOpen:Ype,curveBasis:Gpe,curveBumpX:Mpe,curveBumpY:Dpe,curveLinearClosed:Kpe,curveLinear:J0,curveMonotoneX:Jpe,curveMonotoneY:Zpe,curveNatural:Qpe,curveStep:eme,curveStepAfter:rme,curveStepBefore:tme},Ev=function(e){return e.x===+e.x&&e.y===+e.y},ph=function(e){return e.x},mh=function(e){return e.y},kje=function(e,r){if(ot(e))return e;var n="curve".concat(Y0(e));return(n==="curveMonotone"||n==="curveBump")&&r?fz["".concat(n).concat(r==="vertical"?"Y":"X")]:fz[n]||J0},Tje=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=kje(n,l),h=d?s.filter(function(x){return Ev(x)}):s,m;if(Array.isArray(o)){var g=d?o.filter(function(x){return Ev(x)}):o,j=h.map(function(x,y){return dz(dz({},x),{},{base:g[y]})});return l==="vertical"?m=Sv().y(mh).x1(ph).x0(function(x){return x.base.x}):m=Sv().x(ph).y1(mh).y0(function(x){return x.base.y}),m.defined(Ev).curve(f),m(j)}return l==="vertical"&&Te(o)?m=Sv().y(mh).x1(ph).x0(o):Te(o)?m=Sv().x(ph).y1(mh).y0(o):m=FU().x(ph).y(mh),m.defined(Ev).curve(f),m(h)},hx=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Tje(e):i;return w.createElement("path",zO({},tt(e,!1),$y(e),{className:pt("recharts-curve",r),d:o,ref:s}))},PN={exports:{}},kN,hz;function Aje(){if(hz)return kN;hz=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kN=t,kN}var TN,pz;function Eje(){if(pz)return TN;pz=1;var t=Aje();function e(){}function r(){}return r.resetWarningCache=e,TN=function(){function n(o,l,c,d,f,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},TN}var mz;function Mje(){return mz||(mz=1,PN.exports=Eje()()),PN.exports}var Dje=Mje();const Bt=zt(Dje);var Rje=Object.getOwnPropertyNames,Ije=Object.getOwnPropertySymbols,Lje=Object.prototype.hasOwnProperty;function gz(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function Mv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function zje(t){return t?.[Symbol.toStringTag]}function vz(t){return Rje(t).concat(Ije(t))}var Fje=Object.hasOwn||(function(t,e){return Lje.call(t,e)});function qc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $je="__v",Bje="__o",Hje="_owner",yz=Object.getOwnPropertyDescriptor,xz=Object.keys;function Wje(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Uje(t,e){return qc(t.getTime(),e.getTime())}function qje(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Vje(t,e){return t===e}function bz(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var d=e.entries(),f=!1,h=0;(l=d.next())&&!l.done;){if(i[h]){h++;continue}var m=o.value,g=l.value;if(r.equals(m[0],g[0],c,h,t,e,r)&&r.equals(m[1],g[1],m[0],g[0],t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}var Gje=qc;function Xje(t,e,r){var n=xz(t),i=n.length;if(xz(e).length!==i)return!1;for(;i-- >0;)if(!HV(t,e,r,n[i]))return!1;return!0}function gh(t,e,r){var n=vz(t),i=n.length;if(vz(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!HV(t,e,r,s)||(o=yz(t,s),l=yz(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Yje(t,e){return qc(t.valueOf(),e.valueOf())}function Kje(t,e){return t.source===e.source&&t.flags===e.flags}function wz(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function Jje(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Zje(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function HV(t,e,r,n){return(n===Hje||n===Bje||n===$je)&&(t.$$typeof||e.$$typeof)?!0:Fje(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Qje="[object Arguments]",e1e="[object Boolean]",t1e="[object Date]",r1e="[object Error]",n1e="[object Map]",i1e="[object Number]",s1e="[object Object]",a1e="[object RegExp]",o1e="[object Set]",l1e="[object String]",c1e="[object URL]",u1e=Array.isArray,jz=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,Sz=Object.assign,d1e=Object.prototype.toString.call.bind(Object.prototype.toString);function f1e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,m=t.areUrlsEqual,g=t.unknownTagComparators;return function(x,y,b){if(x===y)return!0;if(x==null||y==null)return!1;var S=typeof x;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?o(x,y,b):S==="function"?i(x,y,b):!1;var O=x.constructor;if(O!==y.constructor)return!1;if(O===Object)return l(x,y,b);if(u1e(x))return e(x,y,b);if(jz!=null&&jz(x))return h(x,y,b);if(O===Date)return r(x,y,b);if(O===RegExp)return d(x,y,b);if(O===Map)return s(x,y,b);if(O===Set)return f(x,y,b);var P=d1e(x);if(P===t1e)return r(x,y,b);if(P===a1e)return d(x,y,b);if(P===n1e)return s(x,y,b);if(P===o1e)return f(x,y,b);if(P===s1e)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,b);if(P===c1e)return m(x,y,b);if(P===r1e)return n(x,y,b);if(P===Qje)return l(x,y,b);if(P===e1e||P===i1e||P===l1e)return c(x,y,b);if(g){var C=g[P];if(!C){var _=zje(x);_&&(C=g[_])}if(C)return C(x,y,b)}return!1}}function h1e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?gh:Wje,areDatesEqual:Uje,areErrorsEqual:qje,areFunctionsEqual:Vje,areMapsEqual:n?gz(bz,gh):bz,areNumbersEqual:Gje,areObjectsEqual:n?gh:Xje,arePrimitiveWrappersEqual:Yje,areRegExpsEqual:Kje,areSetsEqual:n?gz(wz,gh):wz,areTypedArraysEqual:n?gh:Jje,areUrlsEqual:Zje,unknownTagComparators:void 0};if(r&&(i=Sz({},i,r(i))),e){var s=Mv(i.areArraysEqual),o=Mv(i.areMapsEqual),l=Mv(i.areObjectsEqual),c=Mv(i.areSetsEqual);i=Sz({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function p1e(t){return function(e,r,n,i,s,o,l){return t(e,r,l)}}function m1e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,d){var f=n(),h=f.cache,m=h===void 0?e?new WeakMap:void 0:h,g=f.meta;return r(c,d,{cache:m,equals:i,meta:g,strict:s})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,d){return r(c,d,o)}}var g1e=Pl();Pl({strict:!0});Pl({circular:!0});Pl({circular:!0,strict:!0});Pl({createInternalComparator:function(){return qc}});Pl({strict:!0,createInternalComparator:function(){return qc}});Pl({circular:!0,createInternalComparator:function(){return qc}});Pl({circular:!0,createInternalComparator:function(){return qc},strict:!0});function Pl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=h1e(t),c=f1e(l),d=n?n(c):p1e(c);return m1e({circular:r,comparator:c,createState:i,equals:d,strict:o})}function v1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Cz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):v1e(i)};requestAnimationFrame(n)}function FO(t){"@babel/helpers - typeof";return FO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FO(t)}function y1e(t){return j1e(t)||w1e(t)||b1e(t)||x1e()}function x1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1e(t,e){if(t){if(typeof t=="string")return Nz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nz(t,e)}}function Nz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j1e(t){if(Array.isArray(t))return t}function S1e(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=y1e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){Cz(i.bind(null,d),c);return}i(c),Cz(i.bind(null,d));return}FO(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function _z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(r),!0).forEach(function(n){WV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WV(t,e,r){return e=C1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C1e(t){var e=N1e(t,"string");return Gp(e)==="symbol"?e:String(e)}function N1e(t,e){if(Gp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _1e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},O1e=function(e){return e},P1e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ip=function(e,r){return Object.keys(r).reduce(function(n,i){return Oz(Oz({},n),{},WV({},i,e(i,r[i])))},{})},Pz=function(e,r,n){return e.map(function(i){return"".concat(P1e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function k1e(t,e){return E1e(t)||A1e(t,e)||UV(t,e)||T1e()}function T1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function E1e(t){if(Array.isArray(t))return t}function M1e(t){return I1e(t)||R1e(t)||UV(t)||D1e()}function D1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UV(t,e){if(t){if(typeof t=="string")return $O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $O(t,e)}}function R1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I1e(t){if(Array.isArray(t))return $O(t)}function $O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var px=1e-4,qV=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},VV=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},kz=function(e,r){return function(n){var i=qV(e,r);return VV(i,n)}},L1e=function(e,r){return function(n){var i=qV(e,r),s=[].concat(M1e(i.map(function(o,l){return o*l}).slice(1)),[0]);return VV(s,n)}},Tz=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=k1e(d,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var h=kz(i,o),m=kz(s,l),g=L1e(i,o),j=function(b){return b>1?1:b<0?0:b},x=function(b){for(var S=b>1?1:b,O=S,P=0;P<8;++P){var C=h(O)-S,_=g(O);if(Math.abs(C-S)<px||_<px)return m(O);O=j(O-C/_)}return m(O)};return x.isStepper=!1,x},z1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,h,m){var g=-(f-h)*n,j=m*s,x=m+(g-j)*l/1e3,y=m*l/1e3+f;return Math.abs(y-h)<px&&Math.abs(x)<px?[h,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},F1e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Tz(i);case"spring":return z1e();default:if(i.split("(")[0]==="cubic-bezier")return Tz(i)}return typeof i=="function"?i:null};function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Az(t){return H1e(t)||B1e(t)||GV(t)||$1e()}function $1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H1e(t){if(Array.isArray(t))return HO(t)}function Ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(r),!0).forEach(function(n){BO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BO(t,e,r){return e=W1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W1e(t){var e=U1e(t,"string");return Xp(e)==="symbol"?e:String(e)}function U1e(t,e){if(Xp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1e(t,e){return X1e(t)||G1e(t,e)||GV(t,e)||V1e()}function V1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(t,e){if(t){if(typeof t=="string")return HO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HO(t,e)}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function X1e(t){if(Array.isArray(t))return t}var mx=function(e,r,n){return e+(r-e)*n},WO=function(e){var r=e.from,n=e.to;return r!==n},Y1e=function t(e,r,n){var i=ip(function(s,o){if(WO(o)){var l=e(o.from,o.to,o.velocity),c=q1e(l,2),d=c[0],f=c[1];return gn(gn({},o),{},{from:d,velocity:f})}return o},r);return n<1?ip(function(s,o){return WO(o)?gn(gn({},o),{},{velocity:mx(o.velocity,i[s].velocity,n),from:mx(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const K1e=(function(t,e,r,n,i){var s=_1e(t,e),o=s.reduce(function(y,b){return gn(gn({},y),{},BO({},b,[t[b],e[b]]))},{}),l=s.reduce(function(y,b){return gn(gn({},y),{},BO({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,d,f,h=function(){return null},m=function(){return ip(function(b,S){return S.from},l)},g=function(){return!Object.values(l).filter(WO).length},j=function(b){d||(d=b);var S=b-d,O=S/r.dt;l=Y1e(r,l,O),i(gn(gn(gn({},t),e),m())),d=b,g()||(c=requestAnimationFrame(h))},x=function(b){f||(f=b);var S=(b-f)/n,O=ip(function(C,_){return mx.apply(void 0,Az(_).concat([r(S)]))},o);if(i(gn(gn(gn({},t),e),O)),S<1)c=requestAnimationFrame(h);else{var P=ip(function(C,_){return mx.apply(void 0,Az(_).concat([r(1)]))},o);i(gn(gn(gn({},t),e),P))}};return h=r.isStepper?j:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}var J1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Z1e(t,e){if(t==null)return{};var r=Q1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q1e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function AN(t){return nSe(t)||rSe(t)||tSe(t)||eSe()}function eSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tSe(t,e){if(t){if(typeof t=="string")return UO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UO(t,e)}}function rSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nSe(t){if(Array.isArray(t))return UO(t)}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(r),!0).forEach(function(n){Bh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bh(t,e,r){return e=XV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XV(n.key),n)}}function aSe(t,e,r){return e&&sSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XV(t){var e=oSe(t,"string");return Sd(e)==="symbol"?e:String(e)}function oSe(t,e){if(Sd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qO(t,e)}function qO(t,e){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qO(t,e)}function cSe(t){var e=uSe();return function(){var n=gx(t),i;if(e){var s=gx(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return VO(this,i)}}function VO(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GO(t)}function GO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(t)}var xa=(function(t){lSe(r,t);var e=cSe(r);function r(n,i){var s;iSe(this,r),s=e.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,h=o.steps,m=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(GO(s)),s.changeStyle=s.changeStyle.bind(GO(s)),!l||g<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:f}),VO(s);if(h&&h.length)s.state={style:h[0].style};else if(d){if(typeof m=="function")return s.state={style:d},VO(s);s.state={style:c?Bh({},c,d):d}}else s.state={style:{}};return s}return aSe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,d=s.shouldReAnimate,f=s.to,h=s.from,m=this.state.style;if(l){if(!o){var g={style:c?Bh({},c,f):f};this.state&&m&&(c&&m[c]!==f||!c&&m!==f)&&this.setState(g);return}if(!(g1e(i.to,f)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=j||d?h:i.to;if(this.state&&m){var y={style:c?Bh({},c,x):x};(c&&m[c]!==x||!c&&m!==x)&&this.setState(y)}this.runAnimation(xs(xs({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,g=K1e(o,l,F1e(d),c,this.changeStyle),j=function(){s.stopJSAnimation=g()};this.manager.start([m,f,j,c,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],f=d.style,h=d.duration,m=h===void 0?0:h,g=function(x,y,b){if(b===0)return x;var S=y.duration,O=y.easing,P=O===void 0?"ease":O,C=y.style,_=y.properties,k=y.onAnimationEnd,A=b>0?o[b-1]:y,M=_||Object.keys(C);if(typeof P=="function"||P==="spring")return[].concat(AN(x),[s.runJSAnimation.bind(s,{from:A.style,to:C,duration:S,easing:P}),S]);var D=Pz(M,S,P),L=xs(xs(xs({},A.style),C),{},{transition:D});return[].concat(AN(x),[L,S,k]).filter(O1e)};return this.manager.start([c].concat(AN(o.reduce(g,[f,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=S1e());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,g=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var x=l?Bh({},l,c):c,y=Pz(Object.keys(x),o,d);j.start([f,s,xs(xs({},x),{},{transition:y}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Z1e(i,J1e),d=w.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||d===0||o<=0)return s;var h=function(g){var j=g.props,x=j.style,y=x===void 0?{}:x,b=j.className,S=w.cloneElement(g,xs(xs({},c),{},{style:xs(xs({},y),f),className:b}));return S};return d===1?h(w.Children.only(s)):Y.createElement("div",null,w.Children.map(s,function(m){return h(m)}))}}]),r})(w.PureComponent);xa.displayName="Animate";xa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xa.propTypes={from:Bt.oneOfType([Bt.object,Bt.string]),to:Bt.oneOfType([Bt.object,Bt.string]),attributeName:Bt.string,duration:Bt.number,begin:Bt.number,easing:Bt.oneOfType([Bt.string,Bt.func]),steps:Bt.arrayOf(Bt.shape({duration:Bt.number.isRequired,style:Bt.object.isRequired,easing:Bt.oneOfType([Bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Bt.func]),properties:Bt.arrayOf("string"),onAnimationEnd:Bt.func})),children:Bt.oneOfType([Bt.node,Bt.func]),isActive:Bt.bool,canBegin:Bt.bool,onAnimationEnd:Bt.func,shouldReAnimate:Bt.bool,onAnimationStart:Bt.func,onAnimationReStart:Bt.func};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vx.apply(this,arguments)}function dSe(t,e){return mSe(t)||pSe(t,e)||hSe(t,e)||fSe()}function fSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hSe(t,e){if(t){if(typeof t=="string")return Dz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dz(t,e)}}function Dz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function mSe(t){if(Array.isArray(t))return t}function Rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(r),!0).forEach(function(n){gSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gSe(t,e,r){return e=vSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vSe(t){var e=ySe(t,"string");return Yp(e)=="symbol"?e:e+""}function ySe(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lz=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=s[m]>o?o:s[m];f="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),f+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*h[1])),f+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),f+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-l*h[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var j=Math.min(o,s);f="M ".concat(e,",").concat(r+l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(e+c*j,",").concat(r,`
            L `).concat(e+n-c*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*j,`
            L `).concat(e+n,",").concat(r+i-l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(e+n-c*j,",").concat(r+i,`
            L `).concat(e+c*j,",").concat(r+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(e,",").concat(r+i-l*j," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},xSe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(s,s+l),f=Math.max(s,s+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return n>=d&&n<=f&&i>=h&&i<=m}return!1},bSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iT=function(e){var r=Iz(Iz({},bSe),e),n=w.useRef(),i=w.useState(-1),s=dSe(i,2),o=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&l(P)}catch{}},[]);var c=r.x,d=r.y,f=r.width,h=r.height,m=r.radius,g=r.className,j=r.animationEasing,x=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||f===0||h===0)return null;var O=pt("recharts-rectangle",g);return S?Y.createElement(xa,{canBegin:o>0,from:{width:f,height:h,x:c,y:d},to:{width:f,height:h,x:c,y:d},duration:x,animationEasing:j,isActive:S},function(P){var C=P.width,_=P.height,k=P.x,A=P.y;return Y.createElement(xa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:b,easing:j},Y.createElement("path",vx({},tt(r,!0),{className:O,d:Lz(k,A,C,_,m),ref:n})))}):Y.createElement("path",vx({},tt(r,!0),{className:O,d:Lz(c,d,f,h,m)}))},wSe=["points","className","baseLinePoints","connectNulls"];function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Du.apply(this,arguments)}function jSe(t,e){if(t==null)return{};var r=SSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zz(t){return OSe(t)||_Se(t)||NSe(t)||CSe()}function CSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NSe(t,e){if(t){if(typeof t=="string")return XO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XO(t,e)}}function _Se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OSe(t){if(Array.isArray(t))return XO(t)}function XO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Fz=function(e){return e&&e.x===+e.x&&e.y===+e.y},PSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Fz(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Fz(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},sp=function(e,r){var n=PSe(e);r&&(n=[n.reduce(function(s,o){return[].concat(zz(s),zz(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},kSe=function(e,r,n){var i=sp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(sp(r.reverse(),n).slice(1))},TSe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=jSe(e,wSe);if(!r||!r.length)return null;var l=pt("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=kSe(r,i,s);return Y.createElement("g",{className:l},Y.createElement("path",Du({},tt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Y.createElement("path",Du({},tt(o,!0),{fill:"none",d:sp(r,s)})):null,c?Y.createElement("path",Du({},tt(o,!0),{fill:"none",d:sp(i,s)})):null)}var f=sp(r,s);return Y.createElement("path",Du({},tt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function YO(){return YO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YO.apply(this,arguments)}var pb=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=pt("recharts-dot",s);return r===+r&&n===+n&&i===+i?w.createElement("circle",YO({},tt(e,!1),$y(e),{className:o,cx:r,cy:n,r:i})):null};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}var ASe=["x","y","top","left","width","height","className"];function KO(){return KO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KO.apply(this,arguments)}function $z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ESe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(r),!0).forEach(function(n){MSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MSe(t,e,r){return e=DSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DSe(t){var e=RSe(t,"string");return Kp(e)=="symbol"?e:e+""}function RSe(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ISe(t,e){if(t==null)return{};var r=LSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zSe=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},FSe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,h=f===void 0?0:f,m=e.height,g=m===void 0?0:m,j=e.className,x=ISe(e,ASe),y=ESe({x:n,y:s,top:l,left:d,width:h,height:g},x);return!Te(n)||!Te(s)||!Te(h)||!Te(g)||!Te(l)||!Te(d)?null:Y.createElement("path",KO({},tt(y,!0),{className:pt("recharts-cross",j),d:zSe(n,s,h,g,l,d)}))},EN,Bz;function $Se(){if(Bz)return EN;Bz=1;var t=cb(),e=cV(),r=Na();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return EN=n,EN}var BSe=$Se();const HSe=zt(BSe);var MN,Hz;function WSe(){if(Hz)return MN;Hz=1;var t=cb(),e=Na(),r=uV();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return MN=n,MN}var USe=WSe();const qSe=zt(USe);var VSe=["cx","cy","angle","ticks","axisLine"],GSe=["ticks","tick","angle","tickFormatter","stroke"];function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ap.apply(this,arguments)}function Wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(r),!0).forEach(function(n){mb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uz(t,e){if(t==null)return{};var r=XSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KV(n.key),n)}}function KSe(t,e,r){return e&&qz(t.prototype,e),r&&qz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JSe(t,e,r){return e=yx(e),ZSe(t,YV()?Reflect.construct(e,r||[],yx(t).constructor):e.apply(t,r))}function ZSe(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QSe(t)}function QSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YV=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yx(t)}function eCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JO(t,e)}function JO(t,e){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JO(t,e)}function mb(t,e,r){return e=KV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KV(t){var e=tCe(t,"string");return Cd(e)=="symbol"?e:e+""}function tCe(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gb=(function(t){function e(){return YSe(this,e),JSe(this,e,arguments)}return eCe(e,t),KSe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return ir(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=HSe(l,function(f){return f.coordinate||0}),d=qSe(l,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=Uz(n,VSe),f=l.reduce(function(j,x){return[Math.min(j[0],x.coordinate),Math.max(j[1],x.coordinate)]},[1/0,-1/0]),h=ir(i,s,f[0],o),m=ir(i,s,f[1],o),g=tc(tc(tc({},tt(d,!1)),{},{fill:"none"},tt(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return Y.createElement("line",ap({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=Uz(i,GSe),h=this.getTickTextAnchor(),m=tt(f,!1),g=tt(o,!1),j=s.map(function(x,y){var b=n.getTickValueCoord(x),S=tc(tc(tc(tc({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:d},g),{},{index:y},b),{},{payload:x});return Y.createElement(Mt,ap({className:pt("recharts-polar-radius-axis-tick",zV(o)),key:"tick-".concat(x.coordinate)},kc(n.props,x,y)),e.renderTickItem(o,S,c?c(x.value,y):x.value))});return Y.createElement(Mt,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:Y.createElement(Mt,{className:pt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),ln.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,i):ot(n)?o=n(i):o=Y.createElement(Tc,ap({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(w.PureComponent);mb(gb,"displayName","PolarRadiusAxis");mb(gb,"axisType","radiusAxis");mb(gb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}function Vz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vz(Object(r),!0).forEach(function(n){vb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZV(n.key),n)}}function nCe(t,e,r){return e&&Gz(t.prototype,e),r&&Gz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iCe(t,e,r){return e=xx(e),sCe(t,JV()?Reflect.construct(e,r||[],xx(t).constructor):e.apply(t,r))}function sCe(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aCe(t)}function aCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}function oCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZO(t,e)}function ZO(t,e){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZO(t,e)}function vb(t,e,r){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZV(t){var e=lCe(t,"string");return Nd(e)=="symbol"?e:e+""}function lCe(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cCe=Math.PI/180,Xz=1e-5,yb=(function(t){function e(){return rCe(this,e),iCe(this,e,arguments)}return oCe(e,t),nCe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,h=ir(s,o,l,n.coordinate),m=ir(s,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*cCe),o;return s>Xz?o=i==="outer"?"start":"end":s<-Xz?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=rc(rc({},tt(this.props,!1)),{},{fill:"none"},tt(l,!1));if(c==="circle")return Y.createElement(pb,lc({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:o}));var f=this.props.ticks,h=f.map(function(m){return ir(i,s,o,m.coordinate)});return Y.createElement(TSe,lc({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=tt(this.props,!1),h=tt(o,!1),m=rc(rc({},f),{},{fill:"none"},tt(l,!1)),g=s.map(function(j,x){var y=n.getTickLineCoord(j),b=n.getTickTextAnchor(j),S=rc(rc(rc({textAnchor:b},f),{},{stroke:"none",fill:d},h),{},{index:x,payload:j,x:y.x2,y:y.y2});return Y.createElement(Mt,lc({className:pt("recharts-polar-angle-axis-tick",zV(o)),key:"tick-".concat(j.coordinate)},kc(n.props,j,x)),l&&Y.createElement("line",lc({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&e.renderTickItem(o,S,c?c(j.value,x):j.value))});return Y.createElement(Mt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:Y.createElement(Mt,{className:pt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,i):ot(n)?o=n(i):o=Y.createElement(Tc,lc({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(w.PureComponent);vb(yb,"displayName","PolarAngleAxis");vb(yb,"axisType","angleAxis");vb(yb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var DN,Yz;function uCe(){if(Yz)return DN;Yz=1;var t=lq(),e=t(Object.getPrototypeOf,Object);return DN=e,DN}var RN,Kz;function dCe(){if(Kz)return RN;Kz=1;var t=mo(),e=uCe(),r=go(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function d(f){if(!r(f)||t(f)!=n)return!1;var h=e(f);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return RN=d,RN}var fCe=dCe();const hCe=zt(fCe);var IN,Jz;function pCe(){if(Jz)return IN;Jz=1;var t=mo(),e=go(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return IN=n,IN}var mCe=pCe();const gCe=zt(mCe);function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function vCe(t,e){return wCe(t)||bCe(t,e)||xCe(t,e)||yCe()}function yCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xCe(t,e){if(t){if(typeof t=="string")return Zz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zz(t,e)}}function Zz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function wCe(t){if(Array.isArray(t))return t}function Qz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(r),!0).forEach(function(n){jCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jCe(t,e,r){return e=SCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SCe(t){var e=CCe(t,"string");return Jp(e)=="symbol"?e:e+""}function CCe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tF=function(e,r,n,i,s){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-i,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},NCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_Ce=function(e){var r=eF(eF({},NCe),e),n=w.useRef(),i=w.useState(-1),s=vCe(i,2),o=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&l(O)}catch{}},[]);var c=r.x,d=r.y,f=r.upperWidth,h=r.lowerWidth,m=r.height,g=r.className,j=r.animationEasing,x=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||m!==+m||f===0&&h===0||m===0)return null;var S=pt("recharts-trapezoid",g);return b?Y.createElement(xa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:f,lowerWidth:h,height:m,x:c,y:d},duration:x,animationEasing:j,isActive:b},function(O){var P=O.upperWidth,C=O.lowerWidth,_=O.height,k=O.x,A=O.y;return Y.createElement(xa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:j},Y.createElement("path",bx({},tt(r,!0),{className:S,d:tF(k,A,P,C,_),ref:n})))}):Y.createElement("g",null,Y.createElement("path",bx({},tt(r,!0),{className:S,d:tF(c,d,f,h,m)})))},OCe=["option","shapeType","propTransformer","activeClassName","isActive"];function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function PCe(t,e){if(t==null)return{};var r=kCe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){TCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TCe(t,e,r){return e=ACe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ACe(t){var e=ECe(t,"string");return Zp(e)=="symbol"?e:e+""}function ECe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MCe(t,e){return wx(wx({},e),t)}function DCe(t,e){return t==="symbols"}function nF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Y.createElement(iT,r);case"trapezoid":return Y.createElement(_Ce,r);case"sector":return Y.createElement(BV,r);case"symbols":if(DCe(e))return Y.createElement(S2,r);break;default:return null}}function RCe(t){return w.isValidElement(t)?t.props:t}function QV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?MCe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=PCe(t,OCe),d;if(w.isValidElement(e))d=w.cloneElement(e,wx(wx({},c),RCe(e)));else if(ot(e))d=e(c);else if(hCe(e)&&!gCe(e)){var f=i(e,c);d=Y.createElement(nF,{shapeType:r,elementProps:f})}else{var h=c;d=Y.createElement(nF,{shapeType:r,elementProps:h})}return l?Y.createElement(Mt,{className:o},d):d}function xb(t,e){return e!=null&&"trapezoids"in t.props}function bb(t,e){return e!=null&&"sectors"in t.props}function Qp(t,e){return e!=null&&"points"in t.props}function ICe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function LCe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function zCe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function FCe(t,e){var r;return xb(t,e)?r=ICe:bb(t,e)?r=LCe:Qp(t,e)&&(r=zCe),r}function $Ce(t,e){var r;return xb(t,e)?r="trapezoids":bb(t,e)?r="sectors":Qp(t,e)&&(r="points"),r}function BCe(t,e){if(xb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(bb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Qp(t,e)?e.payload:{}}function HCe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=$Ce(r,e),s=BCe(r,e),o=n.filter(function(c,d){var f=Hm(s,c),h=r.props[i].filter(function(j){var x=FCe(r,e);return x(j,e)}),m=r.props[i].indexOf(h[h.length-1]),g=d===m;return f&&g}),l=n.indexOf(o[o.length-1]);return l}var Jv;function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(this,arguments)}function iF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(r),!0).forEach(function(n){es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t9(n.key),n)}}function UCe(t,e,r){return e&&sF(t.prototype,e),r&&sF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qCe(t,e,r){return e=jx(e),VCe(t,e9()?Reflect.construct(e,r||[],jx(t).constructor):e.apply(t,r))}function VCe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GCe(t)}function GCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function XCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}function QO(t,e){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QO(t,e)}function es(t,e,r){return e=t9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t9(t){var e=YCe(t,"string");return _d(e)=="symbol"?e:e+""}function YCe(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yo=(function(t){function e(r){var n;return WCe(this,e),n=qCe(this,e,[r]),es(n,"pieRef",null),es(n,"sectorRefs",[]),es(n,"id",lf("recharts-pie-")),es(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ot(i)&&i()}),es(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ot(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return XCe(e,t),UCe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,d=s.valueKey,f=tt(this.props,!1),h=tt(o,!1),m=tt(l,!1),g=o&&o.offsetRadius||20,j=n.map(function(x,y){var b=(x.startAngle+x.endAngle)/2,S=ir(x.cx,x.cy,x.outerRadius+g,b),O=tr(tr(tr(tr({},f),x),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(S.x,x.cx)},S),P=tr(tr(tr(tr({},f),x),{},{fill:"none",stroke:x.fill},m),{},{index:y,points:[ir(x.cx,x.cy,x.outerRadius,b),S]}),C=c;return dt(c)&&dt(d)?C="value":dt(c)&&(C=d),Y.createElement(Mt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,P,"line"),e.renderLabelItem(o,O,Jr(x,C)))});return Y.createElement(Mt,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(d,f){if(d?.startAngle===0&&d?.endAngle===0&&n.length!==1)return null;var h=i.isActiveIndex(f),m=c&&i.hasActiveIndex()?c:null,g=h?o:m,j=tr(tr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Y.createElement(Mt,Ru({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},kc(i.props,d,f),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(f)}),Y.createElement(QV,Ru({option:g,isActive:h,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state,m=h.prevSectors,g=h.prevIsAnimationActive;return Y.createElement(xa,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var x=j.t,y=[],b=s&&s[0],S=b.startAngle;return s.forEach(function(O,P){var C=m&&m[P],_=P>0?Ei(O,"paddingAngle",0):0;if(C){var k=_i(C.endAngle-C.startAngle,O.endAngle-O.startAngle),A=tr(tr({},O),{},{startAngle:S+_,endAngle:S+k(x)+_});y.push(A),S=A.endAngle}else{var M=O.endAngle,D=O.startAngle,L=_i(0,M-D),W=L(x),$=tr(tr({},O),{},{startAngle:S+_,endAngle:S+W+_});y.push($),S=$.endAngle}}),Y.createElement(Mt,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Hm(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,h=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,j=this.state.isAnimationFinished;if(s||!o||!o.length||!Te(d)||!Te(f)||!Te(h)||!Te(m))return null;var x=pt("recharts-pie",l);return Y.createElement(Mt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),ln.renderCallByParent(this.props,null,!1),(!g||j)&&eo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(Y.isValidElement(n))return Y.cloneElement(n,i);if(ot(n))return n(i);var o=pt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Y.createElement(hx,Ru({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(Y.isValidElement(n))return Y.cloneElement(n,i);var o=s;if(ot(n)&&(o=n(i),Y.isValidElement(o)))return o;var l=pt("recharts-pie-label-text",typeof n!="boolean"&&!ot(n)?n.className:"");return Y.createElement(Tc,Ru({},i,{alignmentBaseline:"middle",className:l}),o)}}])})(w.PureComponent);Jv=yo;es(yo,"displayName","Pie");es(yo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Hc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});es(yo,"parseDeltaAngle",function(t,e){var r=Bn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});es(yo,"getRealPieData",function(t){var e=t.data,r=t.children,n=tt(t,!1),i=Mi(r,rb);return e&&e.length?e.map(function(s,o){return tr(tr(tr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return tr(tr({},n),s.props)}):[]});es(yo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=LV(i,s),l=n+Hn(t.cx,i,i/2),c=r+Hn(t.cy,s,s/2),d=Hn(t.innerRadius,o,0),f=Hn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}});es(yo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?tr(tr({},e.type.defaultProps),e.props):e.props,i=Jv.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,f=n.nameKey,h=n.valueKey,m=n.tooltipType,g=Math.abs(n.minAngle),j=Jv.parseCoordinateOfPie(n,r),x=Jv.parseDeltaAngle(o,l),y=Math.abs(x),b=d;dt(d)&&dt(h)?(Es(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):dt(d)&&(Es(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var S=i.filter(function(A){return Jr(A,b,0)!==0}).length,O=(y>=360?S:S-1)*c,P=y-S*g-O,C=i.reduce(function(A,M){var D=Jr(M,b,0);return A+(Te(D)?D:0)},0),_;if(C>0){var k;_=i.map(function(A,M){var D=Jr(A,b,0),L=Jr(A,f,M),W=(Te(D)?D:0)/C,$;M?$=k.endAngle+Bn(x)*c*(D!==0?1:0):$=o;var H=$+Bn(x)*((D!==0?g:0)+W*P),z=($+H)/2,q=(j.innerRadius+j.outerRadius)/2,E=[{name:L,value:D,payload:A,dataKey:b,type:m}],U=ir(j.cx,j.cy,q,z);return k=tr(tr(tr({percent:W,cornerRadius:s,name:L,tooltipPayload:E,midAngle:z,middleRadius:q,tooltipPosition:U},A),j),{},{value:Jr(A,b),startAngle:$,endAngle:H,payload:A,paddingAngle:Bn(x)*c}),k})}return tr(tr({},j),{},{sectors:_,data:i})});var LN,aF;function KCe(){if(aF)return LN;aF=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var l=-1,c=e(t((i-n)/(s||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=s;return d}return LN=r,LN}var zN,oF;function r9(){if(oF)return zN;oF=1;var t=Cq(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return zN=n,zN}var FN,lF;function JCe(){if(lF)return FN;lF=1;var t=KCe(),e=tb(),r=r9();function n(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,i)}}return FN=n,FN}var $N,cF;function ZCe(){if(cF)return $N;cF=1;var t=JCe(),e=t();return $N=e,$N}var QCe=ZCe();const Sx=zt(QCe);function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function uF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(r),!0).forEach(function(n){n9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n9(t,e,r){return e=eNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eNe(t){var e=tNe(t,"string");return em(e)=="symbol"?e:e+""}function tNe(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rNe=["Webkit","Moz","O","ms"],nNe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=rNe.reduce(function(s,o){return dF(dF({},s),{},n9({},o+n,r))},{});return i[e]=r,i};function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cx.apply(this,arguments)}function fF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(r),!0).forEach(function(n){Si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s9(n.key),n)}}function sNe(t,e,r){return e&&hF(t.prototype,e),r&&hF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aNe(t,e,r){return e=Nx(e),oNe(t,i9()?Reflect.construct(e,r||[],Nx(t).constructor):e.apply(t,r))}function oNe(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lNe(t)}function lNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i9=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(t)}function cNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eP(t,e)}function eP(t,e){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eP(t,e)}function Si(t,e,r){return e=s9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s9(t){var e=uNe(t,"string");return Od(e)=="symbol"?e:e+""}function uNe(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dNe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=rp().domain(Sx(0,c)).range([s,s+o-l]),f=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:f}},pF=function(e){return e.changedTouches&&!!e.changedTouches.length},Pd=(function(t){function e(r){var n;return iNe(this,e),n=aNe(this,e,[r]),Si(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Si(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Si(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Si(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Si(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Si(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Si(n,"handleSlideDragStart",function(i){var s=pF(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cNe(e,t),sNe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,h=Math.min(i,s),m=Math.max(i,s),g=e.getIndexInRange(o,h),j=e.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:j===f?f:j-j%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Jr(s[n],l,n);return ot(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,h=c.travellerWidth,m=c.startIndex,g=c.endIndex,j=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,d+f-h-l,d+f-h-o):x<0&&(x=Math.max(x,d-o,d-l));var y=this.getIndex({startX:o+x,endX:l+x});(y.startIndex!==m||y.endIndex!==g)&&j&&j(y),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=pF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],f=this.props,h=f.x,m=f.width,g=f.travellerWidth,j=f.onChange,x=f.gap,y=f.data,b={startX:this.state.startX,endX:this.state.endX},S=n.pageX-s;S>0?S=Math.min(S,h+m-g-d):S<0&&(S=Math.max(S,h-d)),b[o]=d+S;var O=this.getIndex(b),P=O.startIndex,C=O.endIndex,_=function(){var A=y.length-1;return o==="startX"&&(l>c?P%x===0:C%x===0)||l<c&&C===A||o==="endX"&&(l>c?C%x===0:P%x===0)||l>c&&C===A};this.setState(Si(Si({},o,d+S),"brushMoveStartX",n.pageX),function(){j&&_()&&j(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[i],h=l.indexOf(f);if(h!==-1){var m=h+n;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=d||i==="endX"&&g<=c||this.setState(Si({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Y.createElement("rect",{stroke:d,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,d=n.children,f=n.padding,h=w.Children.only(d);return h?Y.cloneElement(h,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,h=c.height,m=c.traveller,g=c.ariaLabel,j=c.data,x=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),S=BN(BN({},tt(this.props,!1)),{},{x:b,y:d,width:f,height:h}),O=g||"Min value: ".concat((s=j[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=j[y])===null||o===void 0?void 0:o.name);return Y.createElement(Mt,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,S))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,d=s.travellerWidth,f=Math.min(n,i)+d,h=Math.max(Math.abs(i-n)-d,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,f=this.state,h=f.startX,m=f.endX,g=5,j={pointerEvents:"none",fill:d};return Y.createElement(Mt,{className:"recharts-brush-texts"},Y.createElement(Tc,Cx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-g,y:o+l/2},j),this.getTextOfTick(i)),Y.createElement(Tc,Cx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+g,y:o+l/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,d=n.width,f=n.height,h=n.alwaysShowText,m=this.state,g=m.startX,j=m.endX,x=m.isTextActive,y=m.isSlideMoving,b=m.isTravellerMoving,S=m.isTravellerFocused;if(!i||!i.length||!Te(l)||!Te(c)||!Te(d)||!Te(f)||d<=0||f<=0)return null;var O=pt("recharts-brush",s),P=Y.Children.count(o)===1,C=nNe("userSelect","none");return Y.createElement(Mt,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(g,j),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(j,"endX"),(x||y||b||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(s+l/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return Y.isValidElement(n)?s=Y.cloneElement(n,i):ot(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,f=n.startIndex,h=n.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return BN({prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},s&&s.length?dNe({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(w.PureComponent);Si(Pd,"displayName","Brush");Si(Pd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HN,mF;function fNe(){if(mF)return HN;mF=1;var t=T2();function e(r,n){var i;return t(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return HN=e,HN}var WN,gF;function hNe(){if(gF)return WN;gF=1;var t=tq(),e=Na(),r=fNe(),n=mi(),i=tb();function s(o,l,c){var d=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return WN=s,WN}var pNe=hNe();const mNe=zt(pNe);var pa=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},UN,vF;function gNe(){if(vF)return UN;vF=1;var t=xq();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return UN=e,UN}var qN,yF;function vNe(){if(yF)return qN;yF=1;var t=gNe(),e=vq(),r=Na();function n(i,s){var o={};return s=r(s,3),e(i,function(l,c,d){t(o,c,s(l,c,d))}),o}return qN=n,qN}var yNe=vNe();const xNe=zt(yNe);var VN,xF;function bNe(){if(xF)return VN;xF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return VN=t,VN}var GN,bF;function wNe(){if(bF)return GN;bF=1;var t=T2();function e(r,n){var i=!0;return t(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return GN=e,GN}var XN,wF;function jNe(){if(wF)return XN;wF=1;var t=bNe(),e=wNe(),r=Na(),n=mi(),i=tb();function s(o,l,c){var d=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,r(l,3))}return XN=s,XN}var SNe=jNe();const a9=zt(SNe);var CNe=["x","y"];function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function tP(){return tP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tP.apply(this,arguments)}function jF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(r),!0).forEach(function(n){NNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NNe(t,e,r){return e=_Ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ne(t){var e=ONe(t,"string");return tm(e)=="symbol"?e:e+""}function ONe(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PNe(t,e){if(t==null)return{};var r=kNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TNe(t,e){var r=t.x,n=t.y,i=PNe(t,CNe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),h="".concat(e.width||i.width),m=parseInt(h,10);return vh(vh(vh(vh(vh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function SF(t){return Y.createElement(QV,tP({shapeType:"rectangle",propTransformer:TNe,activeClassName:"recharts-active-bar"},t))}var ANe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=Te(n)||epe(n);return s?e(n,i):(s||Ec(),r)}},ENe=["value","background"],o9;function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function MNe(t,e){if(t==null)return{};var r=DNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x.apply(this,arguments)}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){Qo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c9(n.key),n)}}function INe(t,e,r){return e&&NF(t.prototype,e),r&&NF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LNe(t,e,r){return e=Ox(e),zNe(t,l9()?Reflect.construct(e,r||[],Ox(t).constructor):e.apply(t,r))}function zNe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FNe(t)}function FNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l9=function(){return!!t})()}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(t)}function $Ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}function rP(t,e){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rP(t,e)}function Qo(t,e,r){return e=c9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c9(t){var e=BNe(t,"string");return kd(e)=="symbol"?e:e+""}function BNe(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uo=(function(t){function e(){var r;RNe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=LNe(this,e,[].concat(i)),Qo(r,"state",{isAnimationFinished:!1}),Qo(r,"id",lf("recharts-bar-")),Qo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Qo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return $Ne(e,t),INe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,d=s.activeBar,f=tt(this.props,!1);return n&&n.map(function(h,m){var g=m===c,j=g?d:o,x=Mr(Mr(Mr({},f),h),{},{isActive:g,option:j,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(Mt,_x({className:"recharts-bar-rectangle"},kc(i.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),Y.createElement(SF,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state.prevData;return Y.createElement(xa,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var j=g.t,x=s.map(function(y,b){var S=m&&m[b];if(S){var O=_i(S.x,y.x),P=_i(S.y,y.y),C=_i(S.width,y.width),_=_i(S.height,y.height);return Mr(Mr({},y),{},{x:O(j),y:P(j),width:C(j),height:_(j)})}if(o==="horizontal"){var k=_i(0,y.height),A=k(j);return Mr(Mr({},y),{},{y:y.y+y.height-A,height:A})}var M=_i(0,y.width),D=M(j);return Mr(Mr({},y),{},{width:D})});return Y.createElement(Mt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Hm(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=tt(this.props.background,!1);return s.map(function(d,f){d.value;var h=d.background,m=MNe(d,ENe);if(!h)return null;var g=Mr(Mr(Mr(Mr(Mr({},m),{},{fill:"#eee"},h),c),kc(n.props,d,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Y.createElement(SF,_x({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,h=Mi(f,Wm);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,g=function(y,b){var S=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:S,errorVal:Jr(y,b)}},j={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(Mt,j,h.map(function(x){return Y.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,h=n.width,m=n.height,g=n.isAnimationActive,j=n.background,x=n.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=pt("recharts-bar",o),S=l&&l.allowDataOverflow,O=c&&c.allowDataOverflow,P=S||O,C=dt(x)?this.id:x;return Y.createElement(Mt,{className:b},S||O?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:S?d:d-h/2,y:O?f:f-m/2,width:S?h:h*2,height:O?m:m*2}))):null,Y.createElement(Mt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(C,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,C),(!g||y)&&eo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(w.PureComponent);o9=uo;Qo(uo,"displayName","Bar");Qo(uo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Hc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qo(uo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,h=t.displayedData,m=t.offset,g=mwe(n,r);if(!g)return null;var j=e.layout,x=r.type.defaultProps,y=x!==void 0?Mr(Mr({},x),r.props):r.props,b=y.dataKey,S=y.children,O=y.minPointSize,P=j==="horizontal"?o:s,C=d?P.scale.domain():null,_=jwe({numericAxis:P}),k=Mi(S,rb),A=h.map(function(M,D){var L,W,$,H,z,q;d?L=gwe(d[f+D],C):(L=Jr(M,b),Array.isArray(L)||(L=[_,L]));var E=ANe(O,o9.defaultProps.minPointSize)(L[1],D);if(j==="horizontal"){var U,B=[o.scale(L[0]),o.scale(L[1])],I=B[0],F=B[1];W=K4({axis:s,ticks:l,bandSize:i,offset:g.offset,entry:M,index:D}),$=(U=F??I)!==null&&U!==void 0?U:void 0,H=g.size;var G=I-F;if(z=Number.isNaN(G)?0:G,q={x:W,y:o.y,width:H,height:o.height},Math.abs(E)>0&&Math.abs(z)<Math.abs(E)){var Z=Bn(z||E)*(Math.abs(E)-Math.abs(z));$-=Z,z+=Z}}else{var K=[s.scale(L[0]),s.scale(L[1])],ae=K[0],ie=K[1];if(W=ae,$=K4({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:M,index:D}),H=ie-ae,z=g.size,q={x:s.x,y:$,width:s.width,height:z},Math.abs(E)>0&&Math.abs(H)<Math.abs(E)){var J=Bn(H||E)*(Math.abs(E)-Math.abs(H));H+=J}}return Mr(Mr(Mr({},M),{},{x:W,y:$,width:H,height:z,value:d?L:L[1],payload:M,background:q},k&&k[D]&&k[D].props),{},{tooltipPayload:[RV(r,M)],tooltipPosition:{x:W+H/2,y:$+z/2}})});return Mr({data:A,layout:j},m)});function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function HNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u9(n.key),n)}}function WNe(t,e,r){return e&&_F(t.prototype,e),r&&_F(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ws(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(r),!0).forEach(function(n){wb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wb(t,e,r){return e=u9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u9(t){var e=UNe(t,"string");return rm(e)=="symbol"?e:e+""}function UNe(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d9=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Ci(d,uo);return f.reduce(function(g,j){var x=r[j],y=x.orientation,b=x.domain,S=x.padding,O=S===void 0?{}:S,P=x.mirror,C=x.reversed,_="".concat(y).concat(P?"Mirror":""),k,A,M,D,L;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var W=b[1]-b[0],$=1/0,H=x.categoricalDomain.sort(npe);if(H.forEach(function(K,ae){ae>0&&($=Math.min((K||0)-(H[ae-1]||0),$))}),Number.isFinite($)){var z=$/W,q=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(k=z*q/2),x.padding==="no-gap"){var E=Hn(e.barCategoryGap,z*q),U=z*q/2;k=U-E-(U-E)/q*E}}}i==="xAxis"?A=[n.left+(O.left||0)+(k||0),n.left+n.width-(O.right||0)-(k||0)]:i==="yAxis"?A=c==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(k||0),n.top+n.height-(O.bottom||0)-(k||0)]:A=x.range,C&&(A=[A[1],A[0]]);var B=AV(x,s,m),I=B.scale,F=B.realScaleType;I.domain(b).range(A),EV(I);var G=MV(I,ws(ws({},x),{},{realScaleType:F}));i==="xAxis"?(L=y==="top"&&!P||y==="bottom"&&P,M=n.left,D=h[_]-L*x.height):i==="yAxis"&&(L=y==="left"&&!P||y==="right"&&P,M=h[_]-L*x.width,D=n.top);var Z=ws(ws(ws({},x),G),{},{realScaleType:F,x:M,y:D,scale:I,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return Z.bandSize=ux(Z,G),!x.hide&&i==="xAxis"?h[_]+=(L?-1:1)*Z.height:x.hide||(h[_]+=(L?-1:1)*Z.width),ws(ws({},g),{},wb({},j,Z))},{})},f9=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},qNe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return f9({x:r,y:n},{x:i,y:s})},h9=(function(){function t(e){HNe(this,t),this.scale=e}return WNe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();wb(h9,"EPS",1e-4);var sT=function(e){var r=Object.keys(e).reduce(function(n,i){return ws(ws({},n),{},wb({},i,h9.create(e[i])))},{});return ws(ws({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return xNe(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return a9(i,function(s,o){return r[o].isInRange(s)})}})};function VNe(t){return(t%180+180)%180}var GNe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=VNe(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},YN,PF;function XNe(){if(PF)return YN;PF=1;var t=Na(),e=Lm(),r=Q0();function n(i){return function(s,o,l){var c=Object(s);if(!e(s)){var d=t(o,3);s=r(s),o=function(h){return d(c[h],h,c)}}var f=i(s,o,l);return f>-1?c[d?s[f]:f]:void 0}}return YN=n,YN}var KN,kF;function YNe(){if(kF)return KN;kF=1;var t=r9();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return KN=e,KN}var JN,TF;function KNe(){if(TF)return JN;TF=1;var t=fq(),e=Na(),r=YNe(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(s,e(o,3),d)}return JN=i,JN}var ZN,AF;function JNe(){if(AF)return ZN;AF=1;var t=XNe(),e=KNe(),r=t(e);return ZN=r,ZN}var ZNe=JNe();const QNe=zt(ZNe);var e_e=PU();const t_e=zt(e_e);var r_e=t_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),aT=w.createContext(void 0),oT=w.createContext(void 0),p9=w.createContext(void 0),m9=w.createContext({}),g9=w.createContext(void 0),v9=w.createContext(0),y9=w.createContext(0),EF=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,f=r_e(s);return Y.createElement(aT.Provider,{value:n},Y.createElement(oT.Provider,{value:i},Y.createElement(m9.Provider,{value:s},Y.createElement(p9.Provider,{value:f},Y.createElement(g9.Provider,{value:o},Y.createElement(v9.Provider,{value:d},Y.createElement(y9.Provider,{value:c},l)))))))},n_e=function(){return w.useContext(g9)},x9=function(e){var r=w.useContext(aT);r==null&&Ec();var n=r[e];return n==null&&Ec(),n},i_e=function(){var e=w.useContext(aT);return Go(e)},s_e=function(){var e=w.useContext(oT),r=QNe(e,function(n){return a9(n.domain,Number.isFinite)});return r||Go(e)},b9=function(e){var r=w.useContext(oT);r==null&&Ec();var n=r[e];return n==null&&Ec(),n},a_e=function(){var e=w.useContext(p9);return e},o_e=function(){return w.useContext(m9)},lT=function(){return w.useContext(y9)},cT=function(){return w.useContext(v9)};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function l_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j9(n.key),n)}}function u_e(t,e,r){return e&&c_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d_e(t,e,r){return e=Px(e),f_e(t,w9()?Reflect.construct(e,r||[],Px(t).constructor):e.apply(t,r))}function f_e(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_e(t)}function h_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(t)}function p_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nP(t,e)}function nP(t,e){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nP(t,e)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){uT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uT(t,e,r){return e=j9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9(t){var e=m_e(t,"string");return Td(e)=="symbol"?e:e+""}function m_e(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g_e(t,e){return b_e(t)||x_e(t,e)||y_e(t,e)||v_e()}function v_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_e(t,e){if(t){if(typeof t=="string")return RF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RF(t,e)}}function RF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function b_e(t){if(Array.isArray(t))return t}function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iP.apply(this,arguments)}var w_e=function(e,r){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,r):ot(e)?n=e(r):n=Y.createElement("line",iP({},r,{className:"recharts-reference-line-line"})),n},j_e=function(e,r,n,i,s,o,l,c,d){var f=s.x,h=s.y,m=s.width,g=s.height;if(n){var j=d.y,x=e.y.apply(j,{position:o});if(pa(d,"discard")&&!e.y.isInRange(x))return null;var y=[{x:f+m,y:x},{x:f,y:x}];return c==="left"?y.reverse():y}if(r){var b=d.x,S=e.x.apply(b,{position:o});if(pa(d,"discard")&&!e.x.isInRange(S))return null;var O=[{x:S,y:h+g},{x:S,y:h}];return l==="top"?O.reverse():O}if(i){var P=d.segment,C=P.map(function(_){return e.apply(_,{position:o})});return pa(d,"discard")&&mNe(C,function(_){return!e.isInRange(_)})?null:C}return null};function S_e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=n_e(),f=x9(i),h=b9(s),m=a_e();if(!d||!m)return null;Es(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=sT({x:f.scale,y:h.scale}),j=Zr(e),x=Zr(r),y=n&&n.length===2,b=j_e(g,j,x,y,m,t.position,f.orientation,h.orientation,t);if(!b)return null;var S=g_e(b,2),O=S[0],P=O.x,C=O.y,_=S[1],k=_.x,A=_.y,M=pa(t,"hidden")?"url(#".concat(d,")"):void 0,D=DF(DF({clipPath:M},tt(t,!0)),{},{x1:P,y1:C,x2:k,y2:A});return Y.createElement(Mt,{className:pt("recharts-reference-line",l)},w_e(o,D),ln.renderCallByParent(t,qNe({x1:P,y1:C,x2:k,y2:A})))}var dT=(function(t){function e(){return l_e(this,e),d_e(this,e,arguments)}return p_e(e,t),u_e(e,[{key:"render",value:function(){return Y.createElement(S_e,this.props)}}])})(Y.Component);uT(dT,"displayName","ReferenceLine");uT(dT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function sP(){return sP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sP.apply(this,arguments)}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function IF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(r),!0).forEach(function(n){jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C9(n.key),n)}}function __e(t,e,r){return e&&N_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_e(t,e,r){return e=kx(e),P_e(t,S9()?Reflect.construct(e,r||[],kx(t).constructor):e.apply(t,r))}function P_e(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_e(t)}function k_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(t)}function T_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aP(t,e)}function aP(t,e){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aP(t,e)}function jb(t,e,r){return e=C9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C9(t){var e=A_e(t,"string");return Ad(e)=="symbol"?e:e+""}function A_e(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E_e=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=sT({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return pa(e,"discard")&&!o.isInRange(l)?null:l},Sb=(function(t){function e(){return C_e(this,e),O_e(this,e,arguments)}return T_e(e,t),__e(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=Zr(i),f=Zr(s);if(Es(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var h=E_e(this.props);if(!h)return null;var m=h.x,g=h.y,j=this.props,x=j.shape,y=j.className,b=pa(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=LF(LF({clipPath:b},tt(this.props,!0)),{},{cx:m,cy:g});return Y.createElement(Mt,{className:pt("recharts-reference-dot",y)},e.renderDot(x,S),ln.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])})(Y.Component);jb(Sb,"displayName","ReferenceDot");jb(Sb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jb(Sb,"renderDot",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):ot(t)?r=t(e):r=Y.createElement(pb,sP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function oP(){return oP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oP.apply(this,arguments)}function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){Cb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_9(n.key),n)}}function R_e(t,e,r){return e&&D_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I_e(t,e,r){return e=Tx(e),L_e(t,N9()?Reflect.construct(e,r||[],Tx(t).constructor):e.apply(t,r))}function L_e(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_e(t)}function z_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tx(t)}function F_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lP(t,e)}function lP(t,e){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lP(t,e)}function Cb(t,e,r){return e=_9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _9(t){var e=$_e(t,"string");return Ed(e)=="symbol"?e:e+""}function $_e(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B_e=function(e,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,d=s.y2,f=s.xAxis,h=s.yAxis;if(!f||!h)return null;var m=sT({x:f.scale,y:h.scale}),g={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},j={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(d,{position:"end"}):m.y.rangeMax};return pa(s,"discard")&&(!m.isInRange(g)||!m.isInRange(j))?null:f9(g,j)},Nb=(function(t){function e(){return M_e(this,e),I_e(this,e,arguments)}return F_e(e,t),R_e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,f=n.clipPathId;Es(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Zr(i),m=Zr(s),g=Zr(o),j=Zr(l),x=this.props.shape;if(!h&&!m&&!g&&!j&&!x)return null;var y=B_e(h,m,g,j,this.props);if(!y&&!x)return null;var b=pa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Y.createElement(Mt,{className:pt("recharts-reference-area",c)},e.renderRect(x,FF(FF({clipPath:b},tt(this.props,!0)),y)),ln.renderCallByParent(this.props,y))}}])})(Y.Component);Cb(Nb,"displayName","ReferenceArea");Cb(Nb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cb(Nb,"renderRect",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):ot(t)?r=t(e):r=Y.createElement(iT,oP({},e,{className:"recharts-reference-area-rect"})),r});function O9(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function H_e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return GNe(n,r)}function W_e(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function Ax(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function U_e(t,e){return O9(t,e+1)}function q_e(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o,h=function(){var j=n?.[c];if(j===void 0)return{v:O9(n,d)};var x=c,y,b=function(){return y===void 0&&(y=r(j,x)),y},S=j.coordinate,O=c===0||Ax(t,S,b,f,l);O||(c=0,f=o,d+=1),O&&(f=S+t*(b()/2+i),c+=d)},m;d<=s.length;)if(m=h(),m)return m.v;return[]}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function $F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function On(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(r),!0).forEach(function(n){V_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V_e(t,e,r){return e=G_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G_e(t){var e=X_e(t,"string");return nm(e)=="symbol"?e:e+""}function X_e(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y_e(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,d=function(m){var g=s[m],j,x=function(){return j===void 0&&(j=r(g,m)),j};if(m===o-1){var y=t*(g.coordinate+t*x()/2-c);s[m]=g=On(On({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else s[m]=g=On(On({},g),{},{tickCoord:g.coordinate});var b=Ax(t,g.tickCoord,x,l,c);b&&(c=g.tickCoord-t*(x()/2+i),s[m]=On(On({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return s}function K_e(t,e,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(s){var f=n[l-1],h=r(f,l-1),m=t*(f.coordinate+t*h/2-d);o[l-1]=f=On(On({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate});var g=Ax(t,f.tickCoord,function(){return h},c,d);g&&(d=f.tickCoord-t*(h/2+i),o[l-1]=On(On({},f),{},{isShow:!0}))}for(var j=s?l-1:l,x=function(S){var O=o[S],P,C=function(){return P===void 0&&(P=r(O,S)),P};if(S===0){var _=t*(O.coordinate-t*C()/2-c);o[S]=O=On(On({},O),{},{tickCoord:_<0?O.coordinate-_*t:O.coordinate})}else o[S]=O=On(On({},O),{},{tickCoord:O.coordinate});var k=Ax(t,O.tickCoord,C,c,d);k&&(c=O.tickCoord+t*(C()/2+i),o[S]=On(On({},O),{},{isShow:!0}))},y=0;y<j;y++)x(y);return o}function fT(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(Te(c)||Hc.isSsr)return U_e(i,typeof c=="number"&&Te(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",j=f&&g==="width"?tp(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(O,P){var C=ot(d)?d(O.value,P):O.value;return g==="width"?H_e(tp(C,{fontSize:e,letterSpacing:r}),j,h):tp(C,{fontSize:e,letterSpacing:r})[g]},y=i.length>=2?Bn(i[1].coordinate-i[0].coordinate):1,b=W_e(s,y,g);return c==="equidistantPreserveStart"?q_e(y,b,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=K_e(y,b,x,i,o,c==="preserveStartEnd"):m=Y_e(y,b,x,i,o),m.filter(function(S){return S.isShow}))}var J_e=["viewBox"],Z_e=["viewBox"],Q_e=["ticks"];function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iu.apply(this,arguments)}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){hT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QN(t,e){if(t==null)return{};var r=eOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k9(n.key),n)}}function rOe(t,e,r){return e&&HF(t.prototype,e),r&&HF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nOe(t,e,r){return e=Ex(e),iOe(t,P9()?Reflect.construct(e,r||[],Ex(t).constructor):e.apply(t,r))}function iOe(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sOe(t)}function sOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ex(t)}function aOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cP(t,e)}function cP(t,e){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cP(t,e)}function hT(t,e,r){return e=k9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k9(t){var e=oOe(t,"string");return Md(e)=="symbol"?e:e+""}function oOe(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hf=(function(t){function e(r){var n;return tOe(this,e),n=nOe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return aOe(e,t),rOe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=QN(n,J_e),l=this.props,c=l.viewBox,d=QN(l,Z_e);return!Xu(s,c)||!Xu(o,d)||!Xu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,h=i.mirror,m=i.tickMargin,g,j,x,y,b,S,O=h?-1:1,P=n.tickSize||f,C=Te(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":g=j=n.coordinate,y=o+ +!h*c,x=y-O*P,S=x-O*m,b=C;break;case"left":x=y=n.coordinate,j=s+ +!h*l,g=j-O*P,b=g-O*m,S=C;break;case"right":x=y=n.coordinate,j=s+ +h*l,g=j+O*P,b=g+O*m,S=C;break;default:g=j=n.coordinate,y=o+ +h*c,x=y+O*P,S=x+O*m,b=C;break}return{line:{x1:g,y1:x,x2:j,y2:y},tick:{x:b,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,f=n.axisLine,h=Wr(Wr(Wr({},tt(this.props,!1)),tt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=Wr(Wr({},h),{},{x1:i,y1:s+m*l,x2:i+o,y2:s+m*l})}else{var g=+(c==="left"&&!d||c==="right"&&d);h=Wr(Wr({},h),{},{x1:i+g*o,y1:s,x2:i+g*o,y2:s+l})}return Y.createElement("line",Iu({},h,{className:pt("recharts-cartesian-axis-line",Ei(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,h=l.tickFormatter,m=l.unit,g=fT(Wr(Wr({},this.props),{},{ticks:n}),i,s),j=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=tt(this.props,!1),b=tt(f,!1),S=Wr(Wr({},y),{},{fill:"none"},tt(c,!1)),O=g.map(function(P,C){var _=o.getTickLineCoord(P),k=_.line,A=_.tick,M=Wr(Wr(Wr(Wr({textAnchor:j,verticalAnchor:x},y),{},{stroke:"none",fill:d},b),A),{},{index:C,payload:P,visibleTicksCount:g.length,tickFormatter:h});return Y.createElement(Mt,Iu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},kc(o.props,P,C)),c&&Y.createElement("line",Iu({},S,k,{className:pt("recharts-cartesian-axis-tick-line",Ei(c,"className"))})),f&&e.renderTickItem(f,M,"".concat(ot(h)?h(P.value,C):P.value).concat(m||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var h=this.props,m=h.ticks,g=QN(h,Q_e),j=m;return ot(c)&&(j=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!j||!j.length?null:Y.createElement(Mt,{className:pt("recharts-cartesian-axis",d),ref:function(y){n.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=pt(i.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?o=Y.cloneElement(n,Wr(Wr({},i),{},{className:l})):ot(n)?o=n(Wr(Wr({},i),{},{className:l})):o=Y.createElement(Tc,Iu({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(w.Component);hT(hf,"displayName","CartesianAxis");hT(hf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lOe=["x1","y1","x2","y2","key"],cOe=["offset"];function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){uOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uOe(t,e,r){return e=dOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dOe(t){var e=fOe(t,"string");return Mc(e)=="symbol"?e:e+""}function fOe(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function UF(t,e){if(t==null)return{};var r=hOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pOe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return Y.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function T9(t,e){var r;if(Y.isValidElement(t))r=Y.cloneElement(t,e);else if(ot(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=UF(e,lOe),d=tt(c,!1);d.offset;var f=UF(d,cOe);r=Y.createElement("line",gc({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function mOe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=Tn(Tn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return T9(i,d)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function gOe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=Tn(Tn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return T9(i,d)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function vOe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var f=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==f[0]&&f.unshift(0);var h=f.map(function(m,g){var j=!f[g+1],x=j?i+o-m:f[g+1]-m;if(x<=0)return null;var y=g%e.length;return Y.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:x,width:s,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function yOe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var f=d.map(function(m){return Math.round(m+s-s)}).sort(function(m,g){return m-g});s!==f[0]&&f.unshift(0);var h=f.map(function(m,g){var j=!f[g+1],x=j?s+l-m:f[g+1]-m;if(x<=0)return null;var y=g%n.length;return Y.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:x,height:c,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var xOe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return TV(fT(Tn(Tn(Tn({},hf.defaultProps),n),{},{ticks:Xa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},bOe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return TV(fT(Tn(Tn(Tn({},hf.defaultProps),n),{},{ticks:Xa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},_u={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function im(t){var e,r,n,i,s,o,l=lT(),c=cT(),d=o_e(),f=Tn(Tn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:_u.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:_u.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:_u.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:_u.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:_u.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:_u.verticalFill,x:Te(t.x)?t.x:d.left,y:Te(t.y)?t.y:d.top,width:Te(t.width)?t.width:d.width,height:Te(t.height)?t.height:d.height}),h=f.x,m=f.y,g=f.width,j=f.height,x=f.syncWithTicks,y=f.horizontalValues,b=f.verticalValues,S=i_e(),O=s_e();if(!Te(g)||g<=0||!Te(j)||j<=0||!Te(h)||h!==+h||!Te(m)||m!==+m)return null;var P=f.verticalCoordinatesGenerator||xOe,C=f.horizontalCoordinatesGenerator||bOe,_=f.horizontalPoints,k=f.verticalPoints;if((!_||!_.length)&&ot(C)){var A=y&&y.length,M=C({yAxis:O?Tn(Tn({},O),{},{ticks:A?y:O.ticks}):void 0,width:l,height:c,offset:d},A?!0:x);Es(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(M),"]")),Array.isArray(M)&&(_=M)}if((!k||!k.length)&&ot(P)){var D=b&&b.length,L=P({xAxis:S?Tn(Tn({},S),{},{ticks:D?b:S.ticks}):void 0,width:l,height:c,offset:d},D?!0:x);Es(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(L),"]")),Array.isArray(L)&&(k=L)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(pOe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Y.createElement(mOe,gc({},f,{offset:d,horizontalPoints:_,xAxis:S,yAxis:O})),Y.createElement(gOe,gc({},f,{offset:d,verticalPoints:k,xAxis:S,yAxis:O})),Y.createElement(vOe,gc({},f,{horizontalPoints:_})),Y.createElement(yOe,gc({},f,{verticalPoints:k})))}im.displayName="CartesianGrid";var wOe=["type","layout","connectNulls","ref"],jOe=["key"];function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function qF(t,e){if(t==null)return{};var r=SOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){js(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ou(t){return OOe(t)||_Oe(t)||NOe(t)||COe()}function COe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(t,e){if(t){if(typeof t=="string")return uP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uP(t,e)}}function _Oe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OOe(t){if(Array.isArray(t))return uP(t)}function uP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function POe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E9(n.key),n)}}function kOe(t,e,r){return e&&GF(t.prototype,e),r&&GF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TOe(t,e,r){return e=Mx(e),AOe(t,A9()?Reflect.construct(e,r||[],Mx(t).constructor):e.apply(t,r))}function AOe(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EOe(t)}function EOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A9=function(){return!!t})()}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(t)}function MOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dP(t,e)}function dP(t,e){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dP(t,e)}function js(t,e,r){return e=E9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E9(t){var e=DOe(t,"string");return Dd(e)=="symbol"?e:e+""}function DOe(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pf=(function(t){function e(){var r;POe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=TOe(this,e,[].concat(i)),js(r,"state",{isAnimationFinished:!0,totalLength:0}),js(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),js(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,S){return b+S});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/d),h=o%d,m=l-o,g=[],j=0,x=0;j<c.length;x+=c[j],++j)if(x+c[j]>h){g=[].concat(Ou(c.slice(0,j)),[h-x]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(Ou(e.repeat(c,f)),Ou(g),y).map(function(b){return"".concat(b,"px")}).join(", ")}),js(r,"id",lf("recharts-line-")),js(r,"pathRef",function(o){r.mainCurve=o}),js(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),js(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return MOe(e,t),kOe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,h=Mi(f,Wm);if(!h)return null;var m=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:Jr(x.payload,y)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(Mt,g,h.map(function(j){return Y.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=tt(this.props,!1),m=tt(c,!0),g=d.map(function(x,y){var b=ji(ji(ji({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:d});return e.renderDotItem(c,b)}),j={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Y.createElement(Mt,op({className:"recharts-line-dots",key:"dots"},j),g)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,d=l.layout,f=l.connectNulls;l.ref;var h=qF(l,wOe),m=ji(ji(ji({},tt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:f});return Y.createElement(hx,op({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,m=o.animationEasing,g=o.animationId,j=o.animateNewValues,x=o.width,y=o.height,b=this.state,S=b.prevPoints,O=b.totalLength;return Y.createElement(xa,{begin:f,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var C=P.t;if(S){var _=S.length/l.length,k=l.map(function(W,$){var H=Math.floor($*_);if(S[H]){var z=S[H],q=_i(z.x,W.x),E=_i(z.y,W.y);return ji(ji({},W),{},{x:q(C),y:E(C)})}if(j){var U=_i(x*2,W.x),B=_i(y/2,W.y);return ji(ji({},W),{},{x:U(C),y:B(C)})}return ji(ji({},W),{},{x:W.x,y:W.y})});return s.renderCurveStatically(k,n,i)}var A=_i(0,O),M=A(C),D;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(W){return parseFloat(W)});D=s.getStrokeDasharray(M,O,L)}else D=s.generateSimpleStrokeDasharray(O,M);return s.renderCurveStatically(l,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,d=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!Hm(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,f=i.yAxis,h=i.top,m=i.left,g=i.width,j=i.height,x=i.isAnimationActive,y=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,S=l.length===1,O=pt("recharts-line",c),P=d&&d.allowDataOverflow,C=f&&f.allowDataOverflow,_=P||C,k=dt(y)?this.id:y,A=(n=tt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=A.r,D=M===void 0?3:M,L=A.strokeWidth,W=L===void 0?2:L,$=fpe(o)?o:{},H=$.clipDot,z=H===void 0?!0:H,q=D*2+W;return Y.createElement(Mt,{className:O},P||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(k)},Y.createElement("rect",{x:P?m:m-g/2,y:C?h:h-j/2,width:P?g:g*2,height:C?j:j*2})),!z&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(k)},Y.createElement("rect",{x:m-q/2,y:h-q/2,width:g+q,height:j+q}))):null,!S&&this.renderCurve(_,k),this.renderErrorBar(_,k),(S||o)&&this.renderDots(_,z,k),(!x||b)&&eo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Ou(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Ou(o),Ou(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(Y.isValidElement(n))s=Y.cloneElement(n,i);else if(ot(n))s=n(i);else{var o=i.key,l=qF(i,jOe),c=pt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=Y.createElement(pb,op({key:o},l,{className:c}))}return s}}])})(w.PureComponent);js(pf,"displayName","Line");js(pf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Hc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});js(pf,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,f=e.layout,h=c.map(function(m,g){var j=Jr(m,o);return f==="horizontal"?{x:Y4({axis:r,ticks:i,bandSize:l,entry:m,index:g}),y:dt(j)?null:n.scale(j),value:j,payload:m}:{x:dt(j)?null:r.scale(j),y:Y4({axis:n,ticks:s,bandSize:l,entry:m,index:g}),value:j,payload:m}});return ji({points:h,layout:f},d)});function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function ROe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R9(n.key),n)}}function LOe(t,e,r){return e&&IOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zOe(t,e,r){return e=Dx(e),FOe(t,M9()?Reflect.construct(e,r||[],Dx(t).constructor):e.apply(t,r))}function FOe(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Oe(t)}function $Oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M9=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(t)}function BOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fP(t,e)}function fP(t,e){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fP(t,e)}function D9(t,e,r){return e=R9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R9(t){var e=HOe(t,"string");return Rd(e)=="symbol"?e:e+""}function HOe(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hP(){return hP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hP.apply(this,arguments)}function WOe(t){var e=t.xAxisId,r=lT(),n=cT(),i=x9(e);return i==null?null:w.createElement(hf,hP({},i,{className:pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Xa(o,!0)}}))}var yl=(function(t){function e(){return ROe(this,e),zOe(this,e,arguments)}return BOe(e,t),LOe(e,[{key:"render",value:function(){return w.createElement(WOe,this.props)}}])})(w.Component);D9(yl,"displayName","XAxis");D9(yl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function UOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z9(n.key),n)}}function VOe(t,e,r){return e&&qOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GOe(t,e,r){return e=Rx(e),XOe(t,I9()?Reflect.construct(e,r||[],Rx(t).constructor):e.apply(t,r))}function XOe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YOe(t)}function YOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rx(t)}function KOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pP(t,e)}function pP(t,e){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pP(t,e)}function L9(t,e,r){return e=z9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z9(t){var e=JOe(t,"string");return Id(e)=="symbol"?e:e+""}function JOe(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mP(){return mP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mP.apply(this,arguments)}var ZOe=function(e){var r=e.yAxisId,n=lT(),i=cT(),s=b9(r);return s==null?null:w.createElement(hf,mP({},s,{className:pt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Xa(l,!0)}}))},xl=(function(t){function e(){return UOe(this,e),GOe(this,e,arguments)}return KOe(e,t),VOe(e,[{key:"render",value:function(){return w.createElement(ZOe,this.props)}}])})(w.Component);L9(xl,"displayName","YAxis");L9(xl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XF(t){return rPe(t)||tPe(t)||ePe(t)||QOe()}function QOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ePe(t,e){if(t){if(typeof t=="string")return gP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gP(t,e)}}function tPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rPe(t){if(Array.isArray(t))return gP(t)}function gP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vP=function(e,r,n,i,s){var o=Mi(e,dT),l=Mi(e,Sb),c=[].concat(XF(o),XF(l)),d=Mi(e,Nb),f="".concat(i,"Id"),h=i[0],m=r;if(c.length&&(m=c.reduce(function(x,y){if(y.props[f]===n&&pa(y.props,"extendDomain")&&Te(y.props[h])){var b=y.props[h];return[Math.min(x[0],b),Math.max(x[1],b)]}return x},m)),d.length){var g="".concat(h,"1"),j="".concat(h,"2");m=d.reduce(function(x,y){if(y.props[f]===n&&pa(y.props,"extendDomain")&&Te(y.props[g])&&Te(y.props[j])){var b=y.props[g],S=y.props[j];return[Math.min(x[0],b,S),Math.max(x[1],b,S)]}return x},m)}return s&&s.length&&(m=s.reduce(function(x,y){return Te(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},m)),m},e_={exports:{}},YF;function nPe(){return YF||(YF=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,h||c,m),j=r?r+d:d;return c._events[j]?c._events[j].fn?c._events[j]=[c._events[j],g]:c._events[j].push(g):(c._events[j]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)e.call(f,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,j=new Array(g);m<g;m++)j[m]=h[m].fn;return j},l.prototype.listenerCount=function(d){var f=r?r+d:d,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,f,h,m,g,j){var x=r?r+d:d;if(!this._events[x])return!1;var y=this._events[x],b=arguments.length,S,O;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,m),!0;case 5:return y.fn.call(y.context,f,h,m,g),!0;case 6:return y.fn.call(y.context,f,h,m,g,j),!0}for(O=1,S=new Array(b-1);O<b;O++)S[O-1]=arguments[O];y.fn.apply(y.context,S)}else{var P=y.length,C;for(O=0;O<P;O++)switch(y[O].once&&this.removeListener(d,y[O].fn,void 0,!0),b){case 1:y[O].fn.call(y[O].context);break;case 2:y[O].fn.call(y[O].context,f);break;case 3:y[O].fn.call(y[O].context,f,h);break;case 4:y[O].fn.call(y[O].context,f,h,m);break;default:if(!S)for(C=1,S=new Array(b-1);C<b;C++)S[C-1]=arguments[C];y[O].fn.apply(y[O].context,S)}}return!0},l.prototype.on=function(d,f,h){return s(this,d,f,h,!1)},l.prototype.once=function(d,f,h){return s(this,d,f,h,!0)},l.prototype.removeListener=function(d,f,h,m){var g=r?r+d:d;if(!this._events[g])return this;if(!f)return o(this,g),this;var j=this._events[g];if(j.fn)j.fn===f&&(!m||j.once)&&(!h||j.context===h)&&o(this,g);else{for(var x=0,y=[],b=j.length;x<b;x++)(j[x].fn!==f||m&&!j[x].once||h&&j[x].context!==h)&&y.push(j[x]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(e_)),e_.exports}var iPe=nPe();const sPe=zt(iPe);var t_=new sPe,r_="recharts.syncMouseEvents";function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function aPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F9(n.key),n)}}function lPe(t,e,r){return e&&oPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n_(t,e,r){return e=F9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F9(t){var e=cPe(t,"string");return sm(e)=="symbol"?e:e+""}function cPe(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uPe=(function(){function t(){aPe(this,t),n_(this,"activeIndex",0),n_(this,"coordinateList",[]),n_(this,"layout","horizontal")}return lPe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,f=r.offset,h=f===void 0?null:f,m=r.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+c+d,m=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function dPe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Te(n)&&Te(i))return!0}return!1}function fPe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function $9(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=ir(e,r,n,i),l=ir(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function hPe(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,h=e.angle,m=ir(l,c,d,h),g=ir(l,c,f,h);n=m.x,i=m.y,s=g.x,o=g.y}else return $9(e);return[{x:n,y:i},{x:s,y:o}]}function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function KF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(r),!0).forEach(function(n){pPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pPe(t,e,r){return e=mPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mPe(t){var e=gPe(t,"string");return am(e)=="symbol"?e:e+""}function gPe(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vPe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!s||!o||m!=="ScatterChart"&&i!=="axis")return null;var j,x=hx;if(m==="ScatterChart")j=o,x=FSe;else if(m==="BarChart")j=fPe(h,o,c,f),x=iT;else if(h==="radial"){var y=$9(o),b=y.cx,S=y.cy,O=y.radius,P=y.startAngle,C=y.endAngle;j={cx:b,cy:S,startAngle:P,endAngle:C,innerRadius:O,outerRadius:O},x=BV}else j={points:hPe(h,o,c)},x=hx;var _=Dv(Dv(Dv(Dv({stroke:"#ccc",pointerEvents:"none"},c),j),tt(g,!1)),{},{payload:l,payloadIndex:d,className:pt("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,_):w.createElement(x,_)}var yPe=["item"],xPe=["children","className","width","height","style","compact","title","desc"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function JF(t,e){return jPe(t)||wPe(t,e)||H9(t,e)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function jPe(t){if(Array.isArray(t))return t}function ZF(t,e){if(t==null)return{};var r=SPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W9(n.key),n)}}function _Pe(t,e,r){return e&&NPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OPe(t,e,r){return e=Ix(e),PPe(t,B9()?Reflect.construct(e,r||[],Ix(t).constructor):e.apply(t,r))}function PPe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kPe(t)}function kPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(t)}function TPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yP(t,e)}function yP(t,e){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yP(t,e)}function zd(t){return MPe(t)||EPe(t)||H9(t)||APe()}function APe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(t,e){if(t){if(typeof t=="string")return xP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xP(t,e)}}function EPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MPe(t){if(Array.isArray(t))return xP(t)}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){rt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rt(t,e,r){return e=W9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W9(t){var e=DPe(t,"string");return Ld(e)=="symbol"?e:e+""}function DPe(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RPe={xAxis:["bottom","top"],yAxis:["left","right"]},IPe={width:"100%",height:"100%"},U9={x:0,y:0};function Rv(t){return t}var LPe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},zPe=function(e,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return xe(xe(xe({},i),ir(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,d=i.angle;return xe(xe(xe({},i),ir(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return U9},_b=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(zd(l),zd(d)):l},[]);return o.length>0?o:e&&e.length&&Te(i)&&Te(s)?e.slice(i,s+1):[]};function q9(t){return t==="number"?[0,"auto"]:void 0}var bP=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,l=_b(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,d){var f,h=(f=d.props.data)!==null&&f!==void 0?f:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=h===void 0?l:h;m=Fy(g,o.dataKey,i)}else m=h&&h[n]||l[n];return m?[].concat(zd(c),[RV(d,m)]):c},[])},e3=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=LPe(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=cwe(o,l,d,c);if(f>=0&&d){var h=d[f]&&d[f].value,m=bP(e,r,f,h),g=zPe(n,l,f,s);return{activeTooltipIndex:f,activeLabel:h,activePayload:m,activeCoordinate:g}}return null},FPe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,h=e.children,m=e.stackOffset,g=kV(f,s);return n.reduce(function(j,x){var y,b=x.type.defaultProps!==void 0?xe(xe({},x.type.defaultProps),x.props):x.props,S=b.type,O=b.dataKey,P=b.allowDataOverflow,C=b.allowDuplicatedCategory,_=b.scale,k=b.ticks,A=b.includeHidden,M=b[o];if(j[M])return j;var D=_b(e.data,{graphicalItems:i.filter(function(G){var Z,K=o in G.props?G.props[o]:(Z=G.type.defaultProps)===null||Z===void 0?void 0:Z[o];return K===M}),dataStartIndex:c,dataEndIndex:d}),L=D.length,W,$,H;dPe(b.domain,P,S)&&(W=DO(b.domain,null,P),g&&(S==="number"||_!=="auto")&&(H=np(D,O,"category")));var z=q9(S);if(!W||W.length===0){var q,E=(q=b.domain)!==null&&q!==void 0?q:z;if(O){if(W=np(D,O,S),S==="category"&&g){var U=rpe(W);C&&U?($=W,W=Sx(0,L)):C||(W=Q4(E,W,x).reduce(function(G,Z){return G.indexOf(Z)>=0?G:[].concat(zd(G),[Z])},[]))}else if(S==="category")C?W=W.filter(function(G){return G!==""&&!dt(G)}):W=Q4(E,W,x).reduce(function(G,Z){return G.indexOf(Z)>=0||Z===""||dt(Z)?G:[].concat(zd(G),[Z])},[]);else if(S==="number"){var B=pwe(D,i.filter(function(G){var Z,K,ae=o in G.props?G.props[o]:(Z=G.type.defaultProps)===null||Z===void 0?void 0:Z[o],ie="hide"in G.props?G.props.hide:(K=G.type.defaultProps)===null||K===void 0?void 0:K.hide;return ae===M&&(A||!ie)}),O,s,f);B&&(W=B)}g&&(S==="number"||_!=="auto")&&(H=np(D,O,"category"))}else g?W=Sx(0,L):l&&l[M]&&l[M].hasStack&&S==="number"?W=m==="expand"?[0,1]:DV(l[M].stackGroups,c,d):W=PV(D,i.filter(function(G){var Z=o in G.props?G.props[o]:G.type.defaultProps[o],K="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return Z===M&&(A||!K)}),S,f,!0);if(S==="number")W=vP(h,W,M,s,k),E&&(W=DO(E,W,P));else if(S==="category"&&E){var I=E,F=W.every(function(G){return I.indexOf(G)>=0});F&&(W=I)}}return xe(xe({},j),{},rt({},M,xe(xe({},b),{},{axisType:s,domain:W,categoricalDomain:H,duplicateDomain:$,originalDomain:(y=b.domain)!==null&&y!==void 0?y:z,isCategorical:g,layout:f})))},{})},$Pe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,h=e.children,m=_b(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),g=m.length,j=kV(f,s),x=-1;return n.reduce(function(y,b){var S=b.type.defaultProps!==void 0?xe(xe({},b.type.defaultProps),b.props):b.props,O=S[o],P=q9("number");if(!y[O]){x++;var C;return j?C=Sx(0,g):l&&l[O]&&l[O].hasStack?(C=DV(l[O].stackGroups,c,d),C=vP(h,C,O,s)):(C=DO(P,PV(m,n.filter(function(_){var k,A,M=o in _.props?_.props[o]:(k=_.type.defaultProps)===null||k===void 0?void 0:k[o],D="hide"in _.props?_.props.hide:(A=_.type.defaultProps)===null||A===void 0?void 0:A.hide;return M===O&&!D}),"number",f),i.defaultProps.allowDataOverflow),C=vP(h,C,O,s)),xe(xe({},y),{},rt({},O,xe(xe({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ei(RPe,"".concat(s,".").concat(x%2),null),domain:C,originalDomain:P,isCategorical:j,layout:f})))}return y},{})},BPe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.children,h="".concat(i,"Id"),m=Mi(f,s),g={};return m&&m.length?g=FPe(e,{axes:m,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(g=$Pe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),g},HPe=function(e){var r=Go(e),n=Xa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:A2(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ux(r,n)}},t3=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ci(r,Pd),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},WPe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Za(r&&r.type);return n&&n.indexOf("Bar")>=0})},r3=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UPe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,f=n.height,h=n.children,m=n.margin||{},g=Ci(h,Pd),j=Ci(h,fa),x=Object.keys(c).reduce(function(C,_){var k=c[_],A=k.orientation;return!k.mirror&&!k.hide?xe(xe({},C),{},rt({},A,C[A]+k.width)):C},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(C,_){var k=o[_],A=k.orientation;return!k.mirror&&!k.hide?xe(xe({},C),{},rt({},A,Ei(C,"".concat(A))+k.height)):C},{top:m.top||0,bottom:m.bottom||0}),b=xe(xe({},y),x),S=b.bottom;g&&(b.bottom+=g.props.height||Pd.defaultProps.height),j&&r&&(b=fwe(b,i,n,r));var O=d-b.left-b.right,P=f-b.top-b.bottom;return xe(xe({brushBottom:S},b),{},{width:Math.max(O,0),height:Math.max(P,0)})},qPe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},pT=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,m=function(b,S){var O=S.graphicalItems,P=S.stackGroups,C=S.offset,_=S.updateId,k=S.dataStartIndex,A=S.dataEndIndex,M=b.barSize,D=b.layout,L=b.barGap,W=b.barCategoryGap,$=b.maxBarSize,H=r3(D),z=H.numericAxisName,q=H.cateAxisName,E=WPe(O),U=[];return O.forEach(function(B,I){var F=_b(b.data,{graphicalItems:[B],dataStartIndex:k,dataEndIndex:A}),G=B.type.defaultProps!==void 0?xe(xe({},B.type.defaultProps),B.props):B.props,Z=G.dataKey,K=G.maxBarSize,ae=G["".concat(z,"Id")],ie=G["".concat(q,"Id")],J={},fe=c.reduce(function(it,st){var Zt=S["".concat(st.axisType,"Map")],yn=G["".concat(st.axisType,"Id")];Zt&&Zt[yn]||st.axisType==="zAxis"||Ec();var br=Zt[yn];return xe(xe({},it),{},rt(rt({},st.axisType,br),"".concat(st.axisType,"Ticks"),Xa(br)))},J),oe=fe[q],ue=fe["".concat(q,"Ticks")],de=P&&P[ae]&&P[ae].hasStack&&Swe(B,P[ae].stackGroups),le=Za(B.type).indexOf("Bar")>=0,ke=ux(oe,ue),Ne=[],Le=E&&uwe({barSize:M,stackGroups:P,totalSize:qPe(fe,q)});if(le){var Ke,De,vt=dt(K)?$:K,je=(Ke=(De=ux(oe,ue,!0))!==null&&De!==void 0?De:vt)!==null&&Ke!==void 0?Ke:0;Ne=dwe({barGap:L,barCategoryGap:W,bandSize:je!==ke?je:ke,sizeList:Le[ie],maxBarSize:vt}),je!==ke&&(Ne=Ne.map(function(it){return xe(xe({},it),{},{position:xe(xe({},it.position),{},{offset:it.position.offset-je/2})})}))}var ft=B&&B.type&&B.type.getComposedData;ft&&U.push({props:xe(xe({},ft(xe(xe({},fe),{},{displayedData:F,props:b,dataKey:Z,item:B,bandSize:ke,barPosition:Ne,offset:C,stackedData:de,layout:D,dataStartIndex:k,dataEndIndex:A}))),{},rt(rt(rt({key:B.key||"item-".concat(I)},z,fe[z]),q,fe[q]),"animationId",_)),childIndex:mpe(B,b.children),item:B})}),U},g=function(b,S){var O=b.props,P=b.dataStartIndex,C=b.dataEndIndex,_=b.updateId;if(!hI({props:O}))return null;var k=O.children,A=O.layout,M=O.stackOffset,D=O.data,L=O.reverseStackOrder,W=r3(A),$=W.numericAxisName,H=W.cateAxisName,z=Mi(k,n),q=wwe(D,z,"".concat($,"Id"),"".concat(H,"Id"),M,L),E=c.reduce(function(G,Z){var K="".concat(Z.axisType,"Map");return xe(xe({},G),{},rt({},K,BPe(O,xe(xe({},Z),{},{graphicalItems:z,stackGroups:Z.axisType===$&&q,dataStartIndex:P,dataEndIndex:C}))))},{}),U=UPe(xe(xe({},E),{},{props:O,graphicalItems:z}),S?.legendBBox);Object.keys(E).forEach(function(G){E[G]=f(O,E[G],U,G.replace("Map",""),r)});var B=E["".concat(H,"Map")],I=HPe(B),F=m(O,xe(xe({},E),{},{dataStartIndex:P,dataEndIndex:C,updateId:_,graphicalItems:z,stackGroups:q,offset:U}));return xe(xe({formattedGraphicalItems:F,graphicalItems:z,offset:U,stackGroups:q},I),E)},j=(function(y){function b(S){var O,P,C;return CPe(this,b),C=OPe(this,b,[S]),rt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(C,"accessibilityManager",new uPe),rt(C,"handleLegendBBoxUpdate",function(_){if(_){var k=C.state,A=k.dataStartIndex,M=k.dataEndIndex,D=k.updateId;C.setState(xe({legendBBox:_},g({props:C.props,dataStartIndex:A,dataEndIndex:M,updateId:D},xe(xe({},C.state),{},{legendBBox:_}))))}}),rt(C,"handleReceiveSyncEvent",function(_,k,A){if(C.props.syncId===_){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(k)}}),rt(C,"handleBrushChange",function(_){var k=_.startIndex,A=_.endIndex;if(k!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return xe({dataStartIndex:k,dataEndIndex:A},g({props:C.props,dataStartIndex:k,dataEndIndex:A,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),rt(C,"handleMouseEnter",function(_){var k=C.getMouseInfo(_);if(k){var A=xe(xe({},k),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var M=C.props.onMouseEnter;ot(M)&&M(A,_)}}),rt(C,"triggeredAfterMouseMove",function(_){var k=C.getMouseInfo(_),A=k?xe(xe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var M=C.props.onMouseMove;ot(M)&&M(A,_)}),rt(C,"handleItemMouseEnter",function(_){C.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),rt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),rt(C,"handleMouseMove",function(_){_.persist(),C.throttleTriggeredAfterMouseMove(_)}),rt(C,"handleMouseLeave",function(_){C.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var A=C.props.onMouseLeave;ot(A)&&A(k,_)}),rt(C,"handleOuterEvent",function(_){var k=ppe(_),A=Ei(C.props,"".concat(k));if(k&&ot(A)){var M,D;/.*touch.*/i.test(k)?D=C.getMouseInfo(_.changedTouches[0]):D=C.getMouseInfo(_),A((M=D)!==null&&M!==void 0?M:{},_)}}),rt(C,"handleClick",function(_){var k=C.getMouseInfo(_);if(k){var A=xe(xe({},k),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var M=C.props.onClick;ot(M)&&M(A,_)}}),rt(C,"handleMouseDown",function(_){var k=C.props.onMouseDown;if(ot(k)){var A=C.getMouseInfo(_);k(A,_)}}),rt(C,"handleMouseUp",function(_){var k=C.props.onMouseUp;if(ot(k)){var A=C.getMouseInfo(_);k(A,_)}}),rt(C,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),rt(C,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.handleMouseDown(_.changedTouches[0])}),rt(C,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.handleMouseUp(_.changedTouches[0])}),rt(C,"handleDoubleClick",function(_){var k=C.props.onDoubleClick;if(ot(k)){var A=C.getMouseInfo(_);k(A,_)}}),rt(C,"handleContextMenu",function(_){var k=C.props.onContextMenu;if(ot(k)){var A=C.getMouseInfo(_);k(A,_)}}),rt(C,"triggerSyncEvent",function(_){C.props.syncId!==void 0&&t_.emit(r_,C.props.syncId,_,C.eventEmitterSymbol)}),rt(C,"applySyncEvent",function(_){var k=C.props,A=k.layout,M=k.syncMethod,D=C.state.updateId,L=_.dataStartIndex,W=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)C.setState(xe({dataStartIndex:L,dataEndIndex:W},g({props:C.props,dataStartIndex:L,dataEndIndex:W,updateId:D},C.state)));else if(_.activeTooltipIndex!==void 0){var $=_.chartX,H=_.chartY,z=_.activeTooltipIndex,q=C.state,E=q.offset,U=q.tooltipTicks;if(!E)return;if(typeof M=="function")z=M(U,_);else if(M==="value"){z=-1;for(var B=0;B<U.length;B++)if(U[B].value===_.activeLabel){z=B;break}}var I=xe(xe({},E),{},{x:E.left,y:E.top}),F=Math.min($,I.x+I.width),G=Math.min(H,I.y+I.height),Z=U[z]&&U[z].value,K=bP(C.state,C.props.data,z),ae=U[z]?{x:A==="horizontal"?U[z].coordinate:F,y:A==="horizontal"?G:U[z].coordinate}:U9;C.setState(xe(xe({},_),{},{activeLabel:Z,activeCoordinate:ae,activePayload:K,activeTooltipIndex:z}))}else C.setState(_)}),rt(C,"renderCursor",function(_){var k,A=C.state,M=A.isTooltipActive,D=A.activeCoordinate,L=A.activePayload,W=A.offset,$=A.activeTooltipIndex,H=A.tooltipAxisBandSize,z=C.getTooltipEventType(),q=(k=_.props.active)!==null&&k!==void 0?k:M,E=C.props.layout,U=_.key||"_recharts-cursor";return Y.createElement(vPe,{key:U,activeCoordinate:D,activePayload:L,activeTooltipIndex:$,chartName:r,element:_,isActive:q,layout:E,offset:W,tooltipAxisBandSize:H,tooltipEventType:z})}),rt(C,"renderPolarAxis",function(_,k,A){var M=Ei(_,"type.axisType"),D=Ei(C.state,"".concat(M,"Map")),L=_.type.defaultProps,W=L!==void 0?xe(xe({},L),_.props):_.props,$=D&&D[W["".concat(M,"Id")]];return w.cloneElement(_,xe(xe({},$),{},{className:pt(M,$.className),key:_.key||"".concat(k,"-").concat(A),ticks:Xa($,!0)}))}),rt(C,"renderPolarGrid",function(_){var k=_.props,A=k.radialLines,M=k.polarAngles,D=k.polarRadius,L=C.state,W=L.radiusAxisMap,$=L.angleAxisMap,H=Go(W),z=Go($),q=z.cx,E=z.cy,U=z.innerRadius,B=z.outerRadius;return w.cloneElement(_,{polarAngles:Array.isArray(M)?M:Xa(z,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(D)?D:Xa(H,!0).map(function(I){return I.coordinate}),cx:q,cy:E,innerRadius:U,outerRadius:B,key:_.key||"polar-grid",radialLines:A})}),rt(C,"renderLegend",function(){var _=C.state.formattedGraphicalItems,k=C.props,A=k.children,M=k.width,D=k.height,L=C.props.margin||{},W=M-(L.left||0)-(L.right||0),$=_V({children:A,formattedGraphicalItems:_,legendWidth:W,legendContent:d});if(!$)return null;var H=$.item,z=ZF($,yPe);return w.cloneElement(H,xe(xe({},z),{},{chartWidth:M,chartHeight:D,margin:L,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),rt(C,"renderTooltip",function(){var _,k=C.props,A=k.children,M=k.accessibilityLayer,D=Ci(A,oi);if(!D)return null;var L=C.state,W=L.isTooltipActive,$=L.activeCoordinate,H=L.activePayload,z=L.activeLabel,q=L.offset,E=(_=D.props.active)!==null&&_!==void 0?_:W;return w.cloneElement(D,{viewBox:xe(xe({},q),{},{x:q.left,y:q.top}),active:E,label:z,payload:E?H:[],coordinate:$,accessibilityLayer:M})}),rt(C,"renderBrush",function(_){var k=C.props,A=k.margin,M=k.data,D=C.state,L=D.offset,W=D.dataStartIndex,$=D.dataEndIndex,H=D.updateId;return w.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Tv(C.handleBrushChange,_.props.onChange),data:M,x:Te(_.props.x)?_.props.x:L.left,y:Te(_.props.y)?_.props.y:L.top+L.height+L.brushBottom-(A.bottom||0),width:Te(_.props.width)?_.props.width:L.width,startIndex:W,endIndex:$,updateId:"brush-".concat(H)})}),rt(C,"renderReferenceElement",function(_,k,A){if(!_)return null;var M=C,D=M.clipPathId,L=C.state,W=L.xAxisMap,$=L.yAxisMap,H=L.offset,z=_.type.defaultProps||{},q=_.props,E=q.xAxisId,U=E===void 0?z.xAxisId:E,B=q.yAxisId,I=B===void 0?z.yAxisId:B;return w.cloneElement(_,{key:_.key||"".concat(k,"-").concat(A),xAxis:W[U],yAxis:$[I],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:D})}),rt(C,"renderActivePoints",function(_){var k=_.item,A=_.activePoint,M=_.basePoint,D=_.childIndex,L=_.isRange,W=[],$=k.props.key,H=k.item.type.defaultProps!==void 0?xe(xe({},k.item.type.defaultProps),k.item.props):k.item.props,z=H.activeDot,q=H.dataKey,E=xe(xe({index:D,dataKey:q,cx:A.x,cy:A.y,r:4,fill:nT(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},tt(z,!1)),$y(z));return W.push(b.renderActiveDot(z,E,"".concat($,"-activePoint-").concat(D))),M?W.push(b.renderActiveDot(z,xe(xe({},E),{},{cx:M.x,cy:M.y}),"".concat($,"-basePoint-").concat(D))):L&&W.push(null),W}),rt(C,"renderGraphicChild",function(_,k,A){var M=C.filterFormatItem(_,k,A);if(!M)return null;var D=C.getTooltipEventType(),L=C.state,W=L.isTooltipActive,$=L.tooltipAxis,H=L.activeTooltipIndex,z=L.activeLabel,q=C.props.children,E=Ci(q,oi),U=M.props,B=U.points,I=U.isRange,F=U.baseLine,G=M.item.type.defaultProps!==void 0?xe(xe({},M.item.type.defaultProps),M.item.props):M.item.props,Z=G.activeDot,K=G.hide,ae=G.activeBar,ie=G.activeShape,J=!!(!K&&W&&E&&(Z||ae||ie)),fe={};D!=="axis"&&E&&E.props.trigger==="click"?fe={onClick:Tv(C.handleItemMouseEnter,_.props.onClick)}:D!=="axis"&&(fe={onMouseLeave:Tv(C.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Tv(C.handleItemMouseEnter,_.props.onMouseEnter)});var oe=w.cloneElement(_,xe(xe({},M.props),fe));function ue(st){return typeof $.dataKey=="function"?$.dataKey(st.payload):null}if(J)if(H>=0){var de,le;if($.dataKey&&!$.allowDuplicatedCategory){var ke=typeof $.dataKey=="function"?ue:"payload.".concat($.dataKey.toString());de=Fy(B,ke,z),le=I&&F&&Fy(F,ke,z)}else de=B?.[H],le=I&&F&&F[H];if(ie||ae){var Ne=_.props.activeIndex!==void 0?_.props.activeIndex:H;return[w.cloneElement(_,xe(xe(xe({},M.props),fe),{},{activeIndex:Ne})),null,null]}if(!dt(de))return[oe].concat(zd(C.renderActivePoints({item:M,activePoint:de,basePoint:le,childIndex:H,isRange:I})))}else{var Le,Ke=(Le=C.getItemByXY(C.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:oe},De=Ke.graphicalItem,vt=De.item,je=vt===void 0?_:vt,ft=De.childIndex,it=xe(xe(xe({},M.props),fe),{},{activeIndex:ft});return[w.cloneElement(je,it),null,null]}return I?[oe,null,null]:[oe,null]}),rt(C,"renderCustomized",function(_,k,A){return w.cloneElement(_,xe(xe({key:"recharts-customized-".concat(A)},C.props),C.state))}),rt(C,"renderMap",{CartesianGrid:{handler:Rv,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Rv},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Rv},YAxis:{handler:Rv},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((O=S.id)!==null&&O!==void 0?O:lf("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Nq(C.triggeredAfterMouseMove,(P=S.throttleDelay)!==null&&P!==void 0?P:1e3/60),C.state={},C}return TPe(b,y),_Pe(b,[{key:"componentDidMount",value:function(){var O,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,P=O.children,C=O.data,_=O.height,k=O.layout,A=Ci(P,oi);if(A){var M=A.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,L=bP(this.state,C,M,D),W=this.state.tooltipTicks[M].coordinate,$=(this.state.offset.top+_)/2,H=k==="horizontal",z=H?{x:W,y:$}:{y:W,x:$},q=this.state.formattedGraphicalItems.find(function(U){var B=U.item;return B.type.name==="Scatter"});q&&(z=xe(xe({},z),q.props.points[M].tooltipPosition),L=q.props.points[M].tooltipPayload);var E={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:D,activePayload:L,activeCoordinate:z};this.setState(E),this.renderCursor(A),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var C,_;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(O){rO([Ci(O.children,oi)],[Ci(this.props.children,oi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=Ci(this.props.children,oi);if(O&&typeof O.props.shared=="boolean"){var P=O.props.shared?"axis":"item";return l.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var P=this.container,C=P.getBoundingClientRect(),_=tye(C),k={chartX:Math.round(O.pageX-_.left),chartY:Math.round(O.pageY-_.top)},A=C.width/P.offsetWidth||1,M=this.inRange(k.chartX,k.chartY,A);if(!M)return null;var D=this.state,L=D.xAxisMap,W=D.yAxisMap,$=this.getTooltipEventType(),H=e3(this.state,this.props.data,this.props.layout,M);if($!=="axis"&&L&&W){var z=Go(L).scale,q=Go(W).scale,E=z&&z.invert?z.invert(k.chartX):null,U=q&&q.invert?q.invert(k.chartY):null;return xe(xe({},k),{},{xValue:E,yValue:U},H)}return H?xe(xe({},k),H):null}},{key:"inRange",value:function(O,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,k=O/C,A=P/C;if(_==="horizontal"||_==="vertical"){var M=this.state.offset,D=k>=M.left&&k<=M.left+M.width&&A>=M.top&&A<=M.top+M.height;return D?{x:k,y:A}:null}var L=this.state,W=L.angleAxisMap,$=L.radiusAxisMap;if(W&&$){var H=Go(W);return rz({x:k,y:A},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,P=this.getTooltipEventType(),C=Ci(O,oi),_={};C&&P==="axis"&&(C.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=$y(this.props,this.handleOuterEvent);return xe(xe({},k),_)}},{key:"addListener",value:function(){t_.on(r_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){t_.removeListener(r_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,P,C){for(var _=this.state.formattedGraphicalItems,k=0,A=_.length;k<A;k++){var M=_[k];if(M.item===O||M.props.key===O.key||P===Za(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,P=this.state.offset,C=P.left,_=P.top,k=P.height,A=P.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:O},Y.createElement("rect",{x:C,y:_,height:k,width:A})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(P,C){var _=JF(C,2),k=_[0],A=_[1];return xe(xe({},P),{},rt({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(P,C){var _=JF(C,2),k=_[0],A=_[1];return xe(xe({},P),{},rt({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(O){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(O){var P=this.state,C=P.formattedGraphicalItems,_=P.activeItem;if(C&&C.length)for(var k=0,A=C.length;k<A;k++){var M=C[k],D=M.props,L=M.item,W=L.type.defaultProps!==void 0?xe(xe({},L.type.defaultProps),L.props):L.props,$=Za(L.type);if($==="Bar"){var H=(D.data||[]).find(function(U){return xSe(O,U)});if(H)return{graphicalItem:M,payload:H}}else if($==="RadialBar"){var z=(D.data||[]).find(function(U){return rz(O,U)});if(z)return{graphicalItem:M,payload:z}}else if(xb(M,_)||bb(M,_)||Qp(M,_)){var q=HCe({graphicalItem:M,activeTooltipItem:_,itemData:W.data}),E=W.activeIndex===void 0?q:W.activeIndex;return{graphicalItem:xe(xe({},M),{},{childIndex:E}),payload:Qp(M,_)?W.data[q]:M.props.data[q]}}}return null}},{key:"render",value:function(){var O=this;if(!hI(this))return null;var P=this.props,C=P.children,_=P.className,k=P.width,A=P.height,M=P.style,D=P.compact,L=P.title,W=P.desc,$=ZF(P,xPe),H=tt($,!1);if(D)return Y.createElement(EF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(iO,Lu({},H,{width:k,height:A,title:L,desc:W}),this.renderClipPath(),mI(C,this.renderMap)));if(this.props.accessibilityLayer){var z,q;H.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,H.role=(q=this.props.role)!==null&&q!==void 0?q:"application",H.onKeyDown=function(U){O.accessibilityManager.keyboardEvent(U)},H.onFocus=function(){O.accessibilityManager.focus()}}var E=this.parseEventsOfWrapper();return Y.createElement(EF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",Lu({className:pt("recharts-wrapper",_),style:xe({position:"relative",cursor:"default",width:k,height:A},M)},E,{ref:function(B){O.container=B}}),Y.createElement(iO,Lu({},H,{width:k,height:A,title:L,desc:W,style:IPe}),this.renderClipPath(),mI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);rt(j,"displayName",r),rt(j,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),rt(j,"getDerivedStateFromProps",function(y,b){var S=y.dataKey,O=y.data,P=y.children,C=y.width,_=y.height,k=y.layout,A=y.stackOffset,M=y.margin,D=b.dataStartIndex,L=b.dataEndIndex;if(b.updateId===void 0){var W=t3(y);return xe(xe(xe({},W),{},{updateId:0},g(xe(xe({props:y},W),{},{updateId:0}),b)),{},{prevDataKey:S,prevData:O,prevWidth:C,prevHeight:_,prevLayout:k,prevStackOffset:A,prevMargin:M,prevChildren:P})}if(S!==b.prevDataKey||O!==b.prevData||C!==b.prevWidth||_!==b.prevHeight||k!==b.prevLayout||A!==b.prevStackOffset||!Xu(M,b.prevMargin)){var $=t3(y),H={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=xe(xe({},e3(b,O,k)),{},{updateId:b.updateId+1}),q=xe(xe(xe({},$),H),z);return xe(xe(xe({},q),g(xe({props:y},q),b)),{},{prevDataKey:S,prevData:O,prevWidth:C,prevHeight:_,prevLayout:k,prevStackOffset:A,prevMargin:M,prevChildren:P})}if(!rO(P,b.prevChildren)){var E,U,B,I,F=Ci(P,Pd),G=F&&(E=(U=F.props)===null||U===void 0?void 0:U.startIndex)!==null&&E!==void 0?E:D,Z=F&&(B=(I=F.props)===null||I===void 0?void 0:I.endIndex)!==null&&B!==void 0?B:L,K=G!==D||Z!==L,ae=!dt(O),ie=ae&&!K?b.updateId:b.updateId+1;return xe(xe({updateId:ie},g(xe(xe({props:y},b),{},{updateId:ie,dataStartIndex:G,dataEndIndex:Z}),b)),{},{prevChildren:P,dataStartIndex:G,dataEndIndex:Z})}return null}),rt(j,"renderActiveDot",function(y,b,S){var O;return w.isValidElement(y)?O=w.cloneElement(y,b):ot(y)?O=y(b):O=Y.createElement(pb,b),Y.createElement(Mt,{className:"recharts-active-dot",key:S},O)});var x=w.forwardRef(function(b,S){return Y.createElement(j,Lu({},b,{ref:S}))});return x.displayName=j.displayName,x},V9=pT({chartName:"LineChart",GraphicalChild:pf,axisComponents:[{axisType:"xAxis",AxisComp:yl},{axisType:"yAxis",AxisComp:xl}],formatAxisMap:d9}),G9=pT({chartName:"BarChart",GraphicalChild:uo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:yl},{axisType:"yAxis",AxisComp:xl}],formatAxisMap:d9}),VPe=pT({chartName:"PieChart",GraphicalChild:yo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yb},{axisType:"radiusAxis",AxisComp:gb}],formatAxisMap:Mwe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const n3="http://localhost:4000";function GPe(){const[t,e]=w.useState(!0),[r,n]=w.useState([]),[i,s]=w.useState([]),[o,l]=w.useState(0),[c,d]=w.useState(0),[f,h]=w.useState(0),[m,g]=w.useState(0),j=async()=>{try{e(!0);const P=await fetch(`${n3}/api/orders`,{credentials:"include"});if(P.ok){const _=await P.json();n(Array.isArray(_)?_:[])}else if(P.status===401){ve.error("Unauthorized. Please log in again.");return}const C=await fetch(`${n3}/api/cashflow`,{credentials:"include"});if(C.ok){const _=await C.json();s(Array.isArray(_)?_:[])}else C.status===401&&ve.error("Unauthorized. Please log in again.")}catch(P){console.error("Error loading reports:",P),ve.error("Failed to load reports data")}finally{e(!1)}};w.useEffect(()=>{j()},[]),w.useEffect(()=>{const P=i.filter(_=>_.type==="in").reduce((_,k)=>_+k.amount,0);l(P),d(r.length);const C=new Set(r.map(_=>_.customer?.email).filter(Boolean));h(C.size),g(r.length)},[r,i]);const y=(()=>{const P=new Date,C=[];for(let _=5;_>=0;_--){const k=new Date(P.getFullYear(),P.getMonth()-_,1);C.push({month:k.toLocaleDateString("en-US",{month:"short"}),revenue:0,orders:0})}return i.forEach(_=>{if(_.type==="in"){const k=new Date(_.date),A=C.findIndex(M=>{const D=new Date(M.month+" 1, "+k.getFullYear());return D.getMonth()===k.getMonth()&&D.getFullYear()===k.getFullYear()});A>=0&&(C[A].revenue+=_.amount)}}),r.forEach(_=>{if(_.orderDate){const k=new Date(_.orderDate),A=C.findIndex(M=>{const D=new Date(M.month+" 1, "+k.getFullYear());return D.getMonth()===k.getMonth()&&D.getFullYear()===k.getFullYear()});A>=0&&(C[A].orders+=1)}}),C})(),b=[{name:"Custom Orders",value:r.length,color:"#3b82f6"}],S=[],O=[{title:"Total Revenue",value:`${o.toLocaleString()}`,change:"+0%",trend:"up",icon:$x,color:"text-green-600",bgColor:"bg-green-100"},{title:"Total Orders",value:c.toString(),change:"+0%",trend:"up",icon:fl,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"New Customers",value:f.toString(),change:"+0%",trend:"up",icon:NP,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Products Sold",value:m.toString(),change:"+0%",trend:"up",icon:nr,color:"text-orange-600",bgColor:"bg-orange-100"}];return t?a.jsx(un,{children:a.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading reports..."})]})})}):a.jsx(un,{children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reports & Analytics"}),a.jsx("p",{className:"text-gray-600",children:"Track your business performance and insights"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",onClick:j,children:[a.jsx(om,{className:"size-4 mr-2"}),"Refresh"]}),a.jsxs(ee,{variant:"outline",children:[a.jsx(zx,{className:"size-4 mr-2"}),"Last 6 Months"]}),a.jsxs(ee,{className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(k3,{className:"size-4 mr-2"}),"Export Report"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:O.map((P,C)=>{const _=P.icon;return a.jsx(ht,{children:a.jsxs(jt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`${P.bgColor} ${P.color} p-3 rounded-lg`,children:a.jsx(_,{className:"size-6"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[P.trend==="up"?a.jsx(zv,{className:"size-4 text-green-600"}):a.jsx(o_,{className:"size-4 text-red-600"}),a.jsx("span",{className:`text-sm font-medium ${P.trend==="up"?"text-green-600":"text-red-600"}`,children:P.change})]})]}),a.jsx("h3",{className:"text-2xl font-bold mb-1",children:P.value}),a.jsx("p",{className:"text-sm text-gray-600",children:P.title})]})},C)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Revenue Overview"})}),a.jsx(jt,{children:y.length>0&&y.some(P=>P.revenue>0)?a.jsx(ep,{width:"100%",height:300,children:a.jsxs(V9,{data:y,children:[a.jsx(im,{strokeDasharray:"3 3"}),a.jsx(yl,{dataKey:"month"}),a.jsx(xl,{}),a.jsx(oi,{}),a.jsx(fa,{}),a.jsx(pf,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2})]})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:a.jsx("p",{children:"No revenue data available"})})})]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Orders Overview"})}),a.jsx(jt,{children:y.length>0&&y.some(P=>P.orders>0)?a.jsx(ep,{width:"100%",height:300,children:a.jsxs(G9,{data:y,children:[a.jsx(im,{strokeDasharray:"3 3"}),a.jsx(yl,{dataKey:"month"}),a.jsx(xl,{}),a.jsx(oi,{}),a.jsx(fa,{}),a.jsx(uo,{dataKey:"orders",fill:"#10b981"})]})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:a.jsx("p",{children:"No orders data available"})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Sales by Category"})}),a.jsx(jt,{children:b.length>0&&b.some(P=>P.value>0)?a.jsx(ep,{width:"100%",height:300,children:a.jsxs(VPe,{children:[a.jsx(yo,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:C})=>`${P} ${(C*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.map((P,C)=>a.jsx(rb,{fill:P.color},`cell-${C}`))}),a.jsx(oi,{})]})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:a.jsx("p",{children:"No category data available"})})})]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Top Selling Products"})}),a.jsx(jt,{children:S.length>0?a.jsx("div",{className:"space-y-4",children:S.map((P,C)=>a.jsxs("div",{className:"flex items-center justify-between pb-4 border-b last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:P.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[P.sold," units sold"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-green-600",children:["",P.revenue.toLocaleString()]})})]},C))}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:a.jsx("p",{children:"No product sales data available"})})})]})]})]})})}const i_="http://localhost:4000";function XPe(){const[t,e]=w.useState(!0),[r,n]=w.useState(null),[i,s]=w.useState([]),[o,l]=w.useState(!1),[c,d]=w.useState(!1),f=async()=>{try{e(!0);const O=new Date,P=new Date(O.getFullYear(),O.getMonth(),1),C=new Date(O.getFullYear(),O.getMonth()+1,0,23,59,59,999),_=await fetch(`${i_}/api/cashflow/report?startDate=${P.toISOString()}&endDate=${C.toISOString()}`,{credentials:"include"});if(_.ok){const A=await _.json();n(A)}else if(_.status===401){ve.error("Unauthorized. Please log in again.");return}const k=await fetch(`${i_}/api/cashflow`,{credentials:"include"});if(k.ok){const A=await k.json();s(A)}else k.status===401&&ve.error("Unauthorized. Please log in again.")}catch(O){console.error("Error loading cashflow:",O),ve.error("Failed to load cashflow data")}finally{e(!1)}},h=async()=>{try{d(!0);const O=await fetch(`${i_}/api/cashflow/reset/all`,{method:"DELETE",credentials:"include"});if(O.ok)ve.success("Cashflow and reports reset successfully"),l(!1),await f();else if(O.status===401)ve.error("Unauthorized. Please log in again.");else{const P=await O.json().catch(()=>({error:"Failed to reset"}));ve.error(P.error||"Failed to reset cashflow")}}catch(O){console.error("Error resetting cashflow:",O),ve.error("Failed to reset cashflow")}finally{d(!1)}};w.useEffect(()=>{f()},[]);const m=r?.totalMoneyIn||0,g=r?.totalMoneyOut||0,j=r?.netCashflow||0,x=m>0?(j/m*100).toFixed(1):"0.0",b=(()=>{const O=new Date,P=[];for(let C=5;C>=0;C--){const _=new Date(O.getFullYear(),O.getMonth()-C,1);P.push({month:_.toLocaleDateString("en-US",{month:"short"}),income:0,expenses:0,profit:0})}return i.forEach(C=>{const _=new Date(C.date),k=P.findIndex(A=>new Date(A.month+" 1, "+_.getFullYear()).getMonth()===_.getMonth());k>=0&&(C.type==="in"?P[k].income+=C.amount:P[k].expenses+=C.amount,P[k].profit=P[k].income-P[k].expenses)}),P})(),S=i.slice(0,10);return t?a.jsx(un,{children:a.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading cashflow data..."})]})})}):a.jsxs(un,{children:[a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Cash Flow"}),a.jsx("p",{className:"text-gray-600",children:"Monitor income, expenses, and profitability"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",onClick:f,children:[a.jsx(om,{className:"size-4 mr-2"}),"Refresh"]}),a.jsxs(ee,{variant:"outline",onClick:()=>l(!0),className:"text-red-600 hover:text-red-700",children:[a.jsx(ma,{className:"size-4 mr-2"}),"Reset Data"]}),a.jsxs(ee,{variant:"outline",children:[a.jsx(zx,{className:"size-4 mr-2"}),"This Month"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(ht,{children:a.jsxs(jt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-lg",children:a.jsx(qE,{className:"size-6"})}),a.jsx(zv,{className:"size-4 text-green-600"})]}),a.jsxs("h3",{className:"text-2xl font-bold mb-1",children:["",m.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]})}),a.jsx(ht,{children:a.jsxs(jt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"bg-red-100 text-red-600 p-3 rounded-lg",children:a.jsx(UE,{className:"size-6"})}),a.jsx(o_,{className:"size-4 text-red-600"})]}),a.jsxs("h3",{className:"text-2xl font-bold mb-1",children:["",g.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})}),a.jsx(ht,{children:a.jsxs(jt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${j>=0?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600"}`,children:a.jsx($x,{className:"size-6"})}),j>=0?a.jsx(zv,{className:"size-4 text-green-600"}):a.jsx(o_,{className:"size-4 text-red-600"})]}),a.jsxs("h3",{className:`text-2xl font-bold mb-1 ${j>=0?"text-green-600":"text-red-600"}`,children:["",j.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Net Profit"})]})}),a.jsx(ht,{children:a.jsxs(jt,{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"bg-purple-100 text-purple-600 p-3 rounded-lg",children:a.jsx(zv,{className:"size-6"})})}),a.jsxs("h3",{className:"text-2xl font-bold mb-1",children:[x,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Profit Margin"})]})})]}),b.length>0&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Income vs Expenses"})}),a.jsx(jt,{children:a.jsx(ep,{width:"100%",height:300,children:a.jsxs(G9,{data:b,children:[a.jsx(im,{strokeDasharray:"3 3"}),a.jsx(yl,{dataKey:"month"}),a.jsx(xl,{}),a.jsx(oi,{}),a.jsx(fa,{}),a.jsx(uo,{dataKey:"income",fill:"#10b981",name:"Income"}),a.jsx(uo,{dataKey:"expenses",fill:"#ef4444",name:"Expenses"})]})})})]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Profit Trend"})}),a.jsx(jt,{children:a.jsx(ep,{width:"100%",height:300,children:a.jsxs(V9,{data:b,children:[a.jsx(im,{strokeDasharray:"3 3"}),a.jsx(yl,{dataKey:"month"}),a.jsx(xl,{}),a.jsx(oi,{}),a.jsx(fa,{}),a.jsx(pf,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"})]})})})]})]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Recent Transactions"})}),a.jsx(jt,{children:S.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No transactions yet"}),a.jsx("p",{className:"text-sm mt-2",children:"Transactions will appear here when payments are approved"})]}):a.jsx("div",{className:"space-y-3",children:S.map(O=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${O.type==="in"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:O.type==="in"?a.jsx(qE,{className:"size-5"}):a.jsx(UE,{className:"size-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:O.description}),a.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(O.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),O.referenceNumber&&`  Ref: ${O.referenceNumber}`]})]})]}),a.jsxs("p",{className:`font-bold ${O.type==="in"?"text-green-600":"text-red-600"}`,children:[O.type==="in"?"+":"-","",O.amount.toLocaleString()]})]},O.id))})})]})]}),a.jsx(rl,{open:o,onOpenChange:l,children:a.jsxs(nl,{children:[a.jsxs(il,{children:[a.jsx(al,{children:"Reset Cashflow & Reports"}),a.jsx(ol,{children:"Are you sure you want to reset all cashflow data and reports? This action cannot be undone. All income and expense entries will be deleted, and reports will show zero values."})]}),a.jsxs(sl,{children:[a.jsx(cl,{disabled:c,children:"Cancel"}),a.jsx(ll,{onClick:h,disabled:c,className:"bg-red-600 hover:bg-red-700",children:c?"Resetting...":"Reset All Data"})]})]})})]})}const Iv="http://localhost:4000";function YPe(){const{orderId:t}=um(),e=kr(),[r,n]=w.useState(null),[i,s]=w.useState(!0),[o,l]=w.useState(!1),[c,d]=w.useState({trackingNumber:"",carrier:"",shippedDate:new Date().toISOString().split("T")[0],estimatedDelivery:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]}),f=["J&T Express","LBC Express","2GO Express","Lalamove","Grab Express","GoGo Express","Flash Express","Ninja Van","XDE Logistics","Entrego","Other"];w.useEffect(()=>{h()},[t]);const h=async()=>{if(t)try{s(!0);const j=await fetch(`${Iv}/api/orders/${t}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to load order");const x=await j.json();n(x),x.shipping&&d({trackingNumber:x.shipping.trackingNumber||"",carrier:x.shipping.carrier||"",shippedDate:x.shipping.shippedDate?new Date(x.shipping.shippedDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],estimatedDelivery:x.shipping.estimatedDelivery?new Date(x.shipping.estimatedDelivery).toISOString().split("T")[0]:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]})}catch(j){console.error("Error loading order:",j),ve.error(j.message||"Failed to load order")}finally{s(!1)}},m=async()=>{if(!(!t||!r)){if(!c.trackingNumber.trim()){ve.error("Tracking number is required");return}if(!c.carrier.trim()){ve.error("Carrier is required");return}try{l(!0);const j=await fetch(`${Iv}/api/orders/${r.orderId}/shipping`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({trackingNumber:c.trackingNumber.trim(),carrier:c.carrier,shippedDate:c.shippedDate,estimatedDelivery:c.estimatedDelivery})});if(!j.ok){const x=await j.json();throw new Error(x.error||"Failed to save shipping details")}r.status!=="shipping"&&await fetch(`${Iv}/api/orders/${r.orderId}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"shipping"})}),ve.success("Shipping details saved successfully"),await h(),setTimeout(()=>{e("/admin/orders")},1e3)}catch(j){console.error("Error saving shipping details:",j),ve.error(j.message||"Failed to save shipping details")}finally{l(!1)}}},g=async()=>{if(r)try{l(!0);const j=await fetch(`${Iv}/api/orders/${r.orderId}/delivered`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include"});if(!j.ok){const x=await j.json();throw new Error(x.error||"Failed to mark order as delivered")}ve.success("Order marked as delivered!"),await h(),setTimeout(()=>{e("/admin/orders")},1e3)}catch(j){console.error("Error marking order as delivered:",j),ve.error(j.message||"Failed to mark order as delivered")}finally{l(!1)}};return i?a.jsx(un,{children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading order..."})]})})}):r?a.jsx(un,{children:a.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(ee,{variant:"ghost",onClick:()=>e("/admin/orders"),className:"mb-4",children:[a.jsx(fo,{className:"size-4 mr-2"}),"Back to Orders"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Zi,{className:"size-8 text-indigo-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Shipping Details"}),a.jsxs("p",{className:"text-gray-600",children:["Order ",r.id]})]})]})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Order Summary"})}),a.jsxs(jt,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(be,{className:"text-sm text-gray-600",children:"Customer"}),a.jsx("p",{className:"font-medium",children:r.customer.name}),a.jsx("p",{className:"text-sm text-gray-600",children:r.customer.email}),a.jsx("p",{className:"text-sm text-gray-600",children:r.customer.phone})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-sm text-gray-600",children:"Shipping Address"}),a.jsx("p",{className:"text-sm",children:r.customer.address||"No address provided"})]}),a.jsxs("div",{children:[a.jsx(be,{className:"text-sm text-gray-600",children:"Total Amount"}),a.jsxs("p",{className:"text-xl font-bold",children:["",r.total.toFixed(2)]})]})]})]}),a.jsxs(ht,{children:[a.jsx(yr,{children:a.jsx(Rr,{children:"Shipping Information"})}),a.jsxs(jt,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(be,{htmlFor:"trackingNumber",children:"Tracking Number *"}),a.jsx(ze,{id:"trackingNumber",value:c.trackingNumber,onChange:j=>d({...c,trackingNumber:j.target.value}),placeholder:"Enter tracking number",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(be,{htmlFor:"carrier",children:"Carrier *"}),a.jsxs(Gr,{value:c.carrier,onValueChange:j=>d({...c,carrier:j}),children:[a.jsx(Yr,{className:"mt-1",children:a.jsx(Xr,{placeholder:"Select carrier"})}),a.jsx(Kr,{children:f.map(j=>a.jsx(He,{value:j,children:j},j))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(be,{htmlFor:"shippedDate",children:"Shipped Date"}),a.jsx(ze,{id:"shippedDate",type:"date",value:c.shippedDate,onChange:j=>d({...c,shippedDate:j.target.value}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(be,{htmlFor:"estimatedDelivery",children:"Estimated Delivery"}),a.jsx(ze,{id:"estimatedDelivery",type:"date",value:c.estimatedDelivery,onChange:j=>d({...c,estimatedDelivery:j.target.value}),className:"mt-1"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(ee,{onClick:m,disabled:o||r.status==="shipping"||r.status==="delivered",className:"flex-1",children:o?"Saving...":r.status==="shipping"||r.status==="delivered"?"Shipping Details Saved":"Save Shipping Details"}),r.status==="shipping"&&a.jsx(ee,{onClick:g,disabled:o,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:o?"Processing...":"Mark as Delivered"}),a.jsx(ee,{variant:"outline",onClick:()=>e("/admin/orders"),disabled:o,children:"Back to Orders"})]})]})]})]})]})}):a.jsx(un,{children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(nr,{className:"size-16 mx-auto mb-4 text-gray-400"}),a.jsx("h2",{className:"mb-4",children:"Order Not Found"}),a.jsx(ee,{onClick:()=>e("/admin/orders"),children:"Back to Orders"})]})})})}const Lv="http://localhost:4000";function KPe(){const{isLoggedIn:t}=hi(),[e,r]=w.useState([]),[n,i]=w.useState(!1),s=w.useCallback(async()=>{if(!t){r([]);return}i(!0);try{const d=await fetch(`${Lv}/api/favorites`,{credentials:"include"});if(d.ok){const h=(await d.json()).items.map(m=>({id:m.productId,name:m.productName,price:Number(m.price),image:m.image||"",category:m.category||""}));r(h)}}catch(d){console.error("Failed to load favorites:",d)}finally{i(!1)}},[t]);w.useEffect(()=>{s()},[s]);const o=w.useCallback(async(d,f,h,m,g)=>{if(!t)return r(j=>j.find(y=>y.id===d)?j.filter(y=>y.id!==d):[...j,{id:d,name:f,price:h,image:m,category:g}]),!1;try{const j=await fetch(`${Lv}/api/favorites/toggle`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productId:d,productName:f,price:h,image:m,category:g})});if(j.ok)return await s(),(await j.json()).isFavorited}catch(j){console.error("Failed to toggle favorite:",j)}return!1},[t,s]),l=w.useCallback(async d=>{if(!t){r(f=>f.filter(h=>h.id!==d));return}try{const f=await fetch(`${Lv}/api/favorites`,{method:"GET",credentials:"include"});if(f.ok){const m=(await f.json()).items.find(g=>g.productId===d);m&&(await fetch(`${Lv}/api/favorites/${m.id}`,{method:"DELETE",credentials:"include"})).ok&&await s()}}catch(f){console.error("Failed to remove favorite:",f)}},[t,s]),c=w.useCallback(d=>e.some(f=>f.id===d),[e]);return{favorites:e,isLoading:n,toggleFavorite:o,removeFavorite:l,isFavorited:c,reloadFavorites:s}}const JPe=[{id:"1",name:"Classic White T-Shirt - Round Neck",price:200,image:"https://images.unsplash.com/photo-1636458939465-9209848a5688?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwbW9kZWwlMjB0c2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts"},{id:"2",name:"Varsity Jacket - Blue & White",price:600,image:"https://images.unsplash.com/photo-1761245332312-fddc4f0b5bab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2YXJzaXR5JTIwamFja2V0JTIwc3RyZWV0fGVufDF8fHx8MTc2Mjk3Nzk3OXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"3",name:"Oversized Hoodie - Premium Cotton",price:450,image:"https://images.unsplash.com/photo-1688111421205-a0a85415b224?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwaG9vZGllfGVufDF8fHx8MTc2Mjk1MjY5MHww&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies"},{id:"4",name:"Denim Jacket - Classic Blue",price:550,image:"https://images.unsplash.com/photo-1657349038547-b18a07fb4329?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZW5pbSUyMGphY2tldCUyMHN0eWxlfGVufDF8fHx8MTc2MjkzMjg2MXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"5",name:"Premium Black Hoodie",price:480,image:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxibGFjayUyMGhvb2RpZXxlbnwxfHx8fDE3NjI5MjQwNzV8MA&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies"},{id:"6",name:"Graphic Print Tee",price:250,image:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmFwaGljJTIwdGVlfGVufDF8fHx8MTc2MjkyNDA3NXww&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts"},{id:"7",name:"Classic Polo Shirt",price:280,image:"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBwb2xvJTIwc2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Polo"},{id:"8",name:"Casual Button-Up Shirt",price:320,image:"https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBzaGlydHxlbnwxfHx8fDE3NjI5MjQwNzV8MA&ixlib=rb-4.1.0&q=80&w=1080",category:"Shirts"},{id:"9",name:"Slim Fit Chinos",price:420,image:"https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBjaGlub3N8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Pants"},{id:"10",name:"Bomber Jacket",price:680,image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBib21iZXIlMjBqYWNrZXR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"11",name:"Floral Summer Dress",price:580,image:"https://images.unsplash.com/photo-1595777457583-95e059d581b8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGRyZXNzfGVufDF8fHx8MTc2MjkyNDA3NXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Dresses"},{id:"12",name:"Oversized Blazer - Black",price:720,image:"https://images.unsplash.com/photo-1594633313593-bab3825d0caf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGJsYXplcnxlbnwxfHx8fDE3NjI5MjQwNzV8MA&ixlib=rb-4.1.0&q=80&w=1080",category:"Blazers"},{id:"13",name:"Casual Crop Top",price:180,image:"https://images.unsplash.com/photo-1564859228273-274232fdb516?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGNyb3AlMjB0b3B8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Tops"},{id:"14",name:"High-Waisted Jeans",price:480,image:"https://images.unsplash.com/photo-1541099649105-f69ad21f3246?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGplYW5zfGVufDF8fHx8MTc2MjkyNDA3NXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jeans"},{id:"15",name:"Knit Sweater - Cream",price:420,image:"https://images.unsplash.com/photo-1576871337632-b9aef4c17ab9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMHN3ZWF0ZXJ8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Sweaters"},{id:"16",name:"Leather Jacket - Brown",price:890,image:"https://images.unsplash.com/photo-1521223890158-f9f7c3d5d504?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGxlYXRoZXIlMjBqYWNrZXR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"k1",name:"Kids Classic T-Shirt",price:150,image:"https://images.unsplash.com/photo-1731267776886-90f90af75eb1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxraWRzJTIwdC1zaGlydCUyMHdoaXRlfGVufDF8fHx8MTc2Mjk5MDk5MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",category:"T-Shirts"},{id:"k2",name:"Kids Polo Shirt - Classic",price:180,image:"https://images.unsplash.com/photo-1659779193831-97ccb9fecfeb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxraWRzJTIwcG9sbyUyMHNoaXJ0fGVufDF8fHx8MTc2MjkzMjQzOHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",category:"Shirts"},{id:"k3",name:"Kids Casual Outfit",price:280,image:"https://images.unsplash.com/photo-1759313560190-d160c3567170?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxraWRzJTIwZmFzaGlvbiUyMGNhc3VhbHxlbnwxfHx8fDE3NjI5OTA5OTF8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",category:"Casual"},{id:"k4",name:"Kids Stylish Wear",price:320,image:"https://images.unsplash.com/photo-1695262620869-fedab63bcc41?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGlsZHJlbiUyMGNsb3RoaW5nJTIwc3R5bGV8ZW58MXx8fHwxNzYyOTkwOTkxfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",category:"Clothing"}];function i3(t){return JPe.find(e=>e.id===t)}const ZPe=[{id:"1",name:"Classic White T-Shirt - Round Neck",price:200,image:"https://images.unsplash.com/photo-1636458939465-9209848a5688?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwbW9kZWwlMjB0c2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts"},{id:"2",name:"Varsity Jacket - Blue & White",price:600,image:"https://images.unsplash.com/photo-1761245332312-fddc4f0b5bab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2YXJzaXR5JTIwamFja2V0JTIwc3RyZWV0fGVufDF8fHx8MTc2Mjk3Nzk3OXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"3",name:"Oversized Hoodie - Premium Cotton",price:450,image:"https://images.unsplash.com/photo-1688111421205-a0a85415b224?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwaG9vZGllfGVufDF8fHx8MTc2Mjk1MjY5MHww&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies"},{id:"4",name:"Denim Jacket - Classic Blue",price:550,image:"https://images.unsplash.com/photo-1657349038547-b18a07fb4329?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZW5pbSUyMGphY2tldCUyMHN0eWxlfGVufDF8fHx8MTc2MjkzMjg2MXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"5",name:"Premium Black Hoodie",price:480,image:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxibGFjayUyMGhvb2RpZXxlbnwxfHx8fDE3NjI5MjQwNzV8MA&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies"},{id:"6",name:"Graphic Print Tee",price:250,image:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmFwaGljJTIwdGVlfGVufDF8fHx8MTc2MjkyNDA3NXww&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts"}];function QPe({onCartClick:t,onFavoritesClick:e,onLoginClick:r,cartItemsCount:n=0,favoritesCount:i=0}){const s=fi(),o=kr(),[l,c]=w.useState(!1),[d,f]=w.useState(!1),[h,m]=w.useState(""),[g,j]=w.useState(!1),{requireAuth:x,isLoggedIn:y,user:b,logout:S}=hi(),O=w.useRef(null);w.useEffect(()=>{const M=D=>{O.current&&!O.current.contains(D.target)&&f(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const P=M=>s.pathname===M,C=()=>{x(()=>{e()})},_=()=>{y?S():r()},k=h.trim()?ZPe.filter(M=>M.name.toLowerCase().includes(h.toLowerCase())||M.category.toLowerCase().includes(h.toLowerCase())):[],A=M=>{f(!1),m(""),o(`/product/${M}`)};return a.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80",children:[a.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs(Or,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex size-8 items-center justify-center rounded-md bg-black",children:a.jsx("span",{className:"text-white",children:"R"})}),a.jsx("span",{className:"tracking-tight",children:"RFM"})]}),a.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[a.jsxs(Or,{to:"/new-arrivals",className:`text-sm transition-colors hover:text-black/70 relative ${P("/new-arrivals")?"font-medium":""}`,children:["Catalog",P("/new-arrivals")&&a.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),a.jsxs(Or,{to:"/unisex",className:`text-sm transition-colors hover:text-black/70 relative ${P("/unisex")?"font-medium":""}`,children:["Unisex",P("/unisex")&&a.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),a.jsxs(Or,{to:"/men",className:`text-sm transition-colors hover:text-black/70 relative ${P("/men")?"font-medium":""}`,children:["Men",P("/men")&&a.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),a.jsxs(Or,{to:"/women",className:`text-sm transition-colors hover:text-black/70 relative ${P("/women")?"font-medium":""}`,children:["Women",P("/women")&&a.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),a.jsxs(Or,{to:"/kids",className:`text-sm transition-colors hover:text-black/70 relative ${P("/kids")?"font-medium":""}`,children:["Kids",P("/kids")&&a.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),a.jsxs(Or,{to:"/custom-products",className:`text-sm transition-colors hover:text-black/70 relative ${P("/custom-products")?"font-medium":""}`,children:["Customize Clothing",P("/custom-products")&&a.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]})]})]}),a.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:a.jsxs("div",{className:"relative w-full",ref:O,children:[a.jsx(Ns,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-gray-400 pointer-events-none z-10"}),a.jsx(ze,{placeholder:"Search for products...",className:"w-full pl-10 pr-4 h-10 rounded-full border-gray-200",value:h,onChange:M=>m(M.target.value),onClick:()=>f(!0)}),d&&h.trim()&&a.jsx("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-auto z-50",children:k.length>0?a.jsx("div",{className:"p-2",children:k.map(M=>a.jsxs("button",{onClick:()=>A(M.id),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Pi,{src:M.image,alt:M.name,className:"size-12 rounded-md object-cover"}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-medium",children:M.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M.category})]}),a.jsxs("p",{className:"text-sm font-medium",children:["",M.price.toFixed(2)]})]},M.id))}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Ns,{className:"size-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500",children:"No products found"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try a different search term"})]})})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden transition-transform active:scale-95",onClick:()=>j(!0),children:a.jsx(Ns,{className:"size-5"})}),y?a.jsxs(Yk,{children:[a.jsx(Kk,{asChild:!0,children:a.jsxs(ee,{variant:"ghost",size:"icon",className:"relative transition-transform active:scale-95 rounded-full p-0",children:[a.jsxs(J$,{className:"size-9",children:[a.jsx(Z$,{src:b?.profilePicture,alt:b?.name}),a.jsx(Q$,{className:"bg-black text-white text-sm",children:b?.name.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2)})]}),a.jsx("span",{className:"absolute top-0 right-0 size-2.5 bg-green-500 rounded-full ring-2 ring-white"})]})}),a.jsxs(Jk,{align:"end",className:"w-56",children:[a.jsx(sW,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:b?.name}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:b?.email})]})}),a.jsx(Kh,{}),b?.role==="admin"&&a.jsxs(a.Fragment,{children:[a.jsxs(Zo,{onClick:()=>o("/admin/payment-verification"),children:[a.jsx(Ux,{className:"mr-2 size-4"}),"Go to Admin Panel"]}),a.jsx(Kh,{})]}),a.jsxs(Zo,{onClick:()=>o("/account"),children:[a.jsx(KE,{className:"mr-2 size-4"}),"My Account"]}),a.jsxs(Zo,{onClick:C,children:[a.jsx(Zu,{className:"mr-2 size-4"}),"My Favorites"]}),a.jsx(Kh,{}),a.jsxs(Zo,{onClick:_,children:[a.jsx(M3,{className:"mr-2 size-4"}),"Logout"]})]})]}):a.jsx(ee,{variant:"ghost",size:"icon",onClick:r,className:"relative transition-transform active:scale-95",children:a.jsx(KE,{className:"size-5"})}),a.jsxs(ee,{variant:"ghost",size:"icon",onClick:C,className:"relative transition-transform active:scale-95",children:[a.jsx(Zu,{className:"size-5"}),i>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex size-5 items-center justify-center rounded-full bg-black text-white text-xs",children:i})]}),a.jsxs(ee,{variant:"ghost",size:"icon",onClick:t,className:"relative transition-transform active:scale-95",children:[a.jsx(Qu,{className:"size-5"}),n>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex size-5 items-center justify-center rounded-full bg-black text-white text-xs",children:n})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden transition-transform active:scale-95",onClick:()=>c(!0),children:a.jsx(HY,{className:"size-5"})})]})]}),a.jsx(Qx,{open:l,onOpenChange:c,children:a.jsxs(e0,{side:"right",className:"w-[300px] sm:w-[400px]",children:[a.jsxs(BP,{children:[a.jsx(t0,{children:"Menu"}),a.jsx(r0,{children:"Navigate to different sections"})]}),a.jsxs("nav",{className:"flex flex-col gap-4 mt-8",children:[a.jsx(Or,{to:"/new-arrivals",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/new-arrivals")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Catalog"}),a.jsx(Or,{to:"/unisex",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/unisex")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Unisex"}),a.jsx(Or,{to:"/men",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/men")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Men"}),a.jsx(Or,{to:"/women",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/women")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Women"}),a.jsx(Or,{to:"/kids",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/kids")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Kids"}),a.jsx(Or,{to:"/custom-products",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/custom-products")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Custom Design"})]})]})}),a.jsx(cd,{open:g,onOpenChange:j,children:a.jsxs(ud,{className:"max-w-lg",children:[a.jsxs(dd,{children:[a.jsx(fd,{children:"Search Products"}),a.jsx(xp,{className:"sr-only",children:"Search for products"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx(Ns,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-gray-400 pointer-events-none z-10"}),a.jsx(ze,{placeholder:"Search for products...",className:"w-full pl-10 pr-4 h-10 rounded-full border-gray-200",value:h,onChange:M=>m(M.target.value),autoFocus:!0})]}),h.trim()&&a.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:k.length>0?k.map(M=>a.jsxs("button",{onClick:()=>{A(M.id),j(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Pi,{src:M.image,alt:M.name,className:"size-12 rounded-md object-cover"}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-medium",children:M.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M.category})]}),a.jsxs("p",{className:"text-sm font-medium",children:["",M.price.toFixed(2)]})]},M.id)):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Ns,{className:"size-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500",children:"No products found"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try a different search term"})]})})]})]})})]})}function eke(){const t=new Date().getFullYear();return a.jsx("footer",{className:"bg-black text-white mt-auto",children:a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 text-white",children:"Shop"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Or,{to:"/new-arrivals",className:"text-gray-400 hover:text-white transition-colors",children:"New Arrivals"})}),a.jsx("li",{children:a.jsx(Or,{to:"/men",className:"text-gray-400 hover:text-white transition-colors",children:"Men's Collection"})}),a.jsx("li",{children:a.jsx(Or,{to:"/women",className:"text-gray-400 hover:text-white transition-colors",children:"Women's Collection"})}),a.jsx("li",{children:a.jsx(Or,{to:"/kids",className:"text-gray-400 hover:text-white transition-colors",children:"Kids' Collection"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 text-white",children:"Company"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Careers"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Store Locator"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 text-white",children:"Help"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Shipping & Delivery"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Returns & Exchanges"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Size Guide"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 text-white",children:"Follow Us"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"Instagram"})}),a.jsx("li",{children:a.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"Facebook"})}),a.jsx("li",{children:a.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"Twitter"})}),a.jsx("li",{children:a.jsx("a",{href:"https://pinterest.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"Pinterest"})})]})]})]}),a.jsx("div",{className:"pt-8 border-t border-gray-800 text-center",children:a.jsxs("p",{className:"text-sm text-gray-400 mb-0",children:[" ",t," RFM. All rights reserved."]})})]})})}class tke extends w.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onReset&&this.props.onReset(),window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){if(this.state.hasError){const{fallbackMessage:e,showHomeButton:r=!0}=this.props,{error:n,errorInfo:i}=this.state;return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:a.jsxs(ht,{className:"max-w-2xl w-full",children:[a.jsxs(yr,{children:[a.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-2",children:[a.jsx(L3,{className:"w-8 h-8"}),a.jsx(Rr,{className:"text-2xl",children:"Something went wrong"})]}),a.jsx(cc,{children:e||"We're sorry, but an unexpected error occurred. Your work may have been saved automatically."})]}),a.jsxs(jt,{className:"space-y-4",children:[n&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("p",{className:"font-semibold text-red-800 mb-2",children:"Error Details:"}),a.jsx("p",{className:"text-sm text-red-700 font-mono break-all",children:n.toString()})]}),i&&!1,a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"What happened?"})," A component encountered an error and couldn't continue."]}),a.jsxs("p",{className:"text-sm text-blue-800 mt-2",children:[a.jsx("strong",{children:"What can you do?"})," Try reloading the page. If the problem persists, your design may have been auto-saved and you can try again later."]})]})]}),a.jsxs(Kee,{className:"flex gap-3 justify-end",children:[r&&a.jsxs(ee,{variant:"outline",onClick:this.handleGoHome,className:"gap-2",children:[a.jsx(Bx,{className:"w-4 h-4"}),"Go to Home"]}),a.jsxs(ee,{onClick:this.handleReset,className:"gap-2",children:[a.jsx(om,{className:"w-4 h-4"}),"Reload Page"]})]})]})})}return this.props.children}}function rke({isOpen:t,onClose:e,items:r,onUpdateQuantity:n,onRemoveItem:i,onClearCart:s}){const o=kr(),l=r.reduce((x,y)=>x+y.price*y.quantity,0),c=2e3,d=l>=c?0:100,f=l+d,h=r.reduce((x,y)=>x+y.quantity,0),m=Math.max(0,c-l),g=(x,y)=>{i(x),ve.success(`${y} removed from cart`)},j=(x,y,b)=>{n(x,y),ve.success(`Updated quantity for ${b}`)};return a.jsx(Qx,{open:t,onOpenChange:e,children:a.jsxs(e0,{className:"flex w-full flex-col sm:max-w-lg p-0",children:[a.jsxs("div",{className:"px-6 py-5 border-b",children:[a.jsx(t0,{className:"text-xl mb-2",children:"Shopping Cart"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(r0,{className:"text-sm",children:"Review your items and proceed to checkout"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900 ml-4 shrink-0",children:[h," ",h===1?"item":"items"]})]})]}),r.length===0?a.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 px-6 py-12",children:[a.jsx("div",{className:"flex size-24 items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200",children:a.jsx(Qu,{className:"size-12 text-gray-400"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Discover amazing products and add them to your cart to get started!"})]}),a.jsxs(ee,{onClick:e,className:"bg-black text-white hover:bg-black/90",children:[a.jsx(Qu,{className:"size-4 mr-2"}),"Start Shopping"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-6 pt-4",children:d>0&&m>0?a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(nr,{className:"size-4 text-blue-600"}),a.jsxs("p",{className:"text-sm text-blue-900",children:["Add ",a.jsxs("span",{className:"font-semibold",children:["",m.toFixed(2)]})," more for FREE shipping!"]})]}),a.jsx("div",{className:"w-full bg-blue-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Math.min(l/c*100,100)}%`}})})]}):a.jsxs("div",{className:"bg-green-50 rounded-lg p-3 mb-4 flex items-center gap-2",children:[a.jsx(nr,{className:"size-4 text-green-600"}),a.jsx("p",{className:"text-sm text-green-900 font-medium",children:" You've unlocked FREE shipping!"})]})}),a.jsx("div",{className:"flex-1 overflow-auto px-6 pb-4",children:a.jsx("div",{className:"space-y-6",children:r.map(x=>{const y=x.price*x.quantity;return a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsx("div",{className:"size-20 shrink-0 overflow-hidden rounded-md bg-gray-100 border",children:a.jsx(Pi,{src:x.image,alt:x.name,className:"size-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"line-clamp-2 pr-2",children:x.name}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 shrink-0 text-red-500 hover:text-red-700 hover:bg-red-50 -mt-1 transition-transform active:scale-95",onClick:()=>g(x.id,x.name),children:a.jsx(ma,{className:"size-4"})})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["",x.price.toFixed(2)," each"]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 border rounded-md",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-100 rounded-none transition-transform active:scale-95",onClick:()=>j(x.id,Math.max(1,x.quantity-1),x.name),disabled:x.quantity<=1,children:a.jsx(R3,{className:"size-3.5"})}),a.jsx("span",{className:"w-8 text-center font-medium text-sm",children:x.quantity}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-100 rounded-none transition-transform active:scale-95",onClick:()=>j(x.id,x.quantity+1,x.name),children:a.jsx(dl,{className:"size-3.5"})})]}),a.jsxs("div",{className:"font-semibold",children:["",y.toFixed(2)]})]})]})]},x.id)})})}),a.jsx("div",{className:"border-t bg-white",children:a.jsxs("div",{className:"px-6 py-5 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:["Subtotal (",h," ",h===1?"item":"items",")"]}),a.jsxs("span",{className:"font-medium",children:["",l.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),d===0?a.jsx("span",{className:"font-medium text-green-600",children:"FREE"}):a.jsxs("span",{className:"font-medium",children:["",d.toFixed(2)]})]}),a.jsx(qt,{}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"font-semibold",children:"Total"}),a.jsxs("span",{className:"font-bold text-xl",children:["",f.toFixed(2)]})]}),a.jsxs("div",{className:"space-y-3 pt-2",children:[a.jsx(ee,{className:"w-full bg-black text-white hover:bg-black/90 h-12 transition-transform active:scale-95",onClick:()=>{e(),o("/checkout"),ve.success("Proceeding to checkout...")},children:"Proceed to Checkout"}),a.jsx(ee,{variant:"ghost",className:"w-full h-10 transition-transform active:scale-95",onClick:e,children:"Continue Shopping"})]})]})})]})]})})}function nke({isOpen:t,onClose:e,favorites:r,onRemoveFavorite:n,onAddToCart:i}){const s=(o,l)=>{n(o),ve.success(`${l} removed from favorites`)};return a.jsx(Qx,{open:t,onOpenChange:e,children:a.jsxs(e0,{side:"right",className:"w-full sm:max-w-lg flex flex-col",children:[a.jsxs(BP,{children:[a.jsx(t0,{children:"My Favorites"}),a.jsxs(r0,{children:[r.length," ",r.length===1?"item":"items"," saved"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto mt-6",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[a.jsx("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:a.jsx("svg",{className:"size-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),a.jsx("h3",{className:"mb-2",children:"No favorites yet"}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Start adding items to your favorites by clicking the heart icon on products you love!"})]}):a.jsx("div",{className:"space-y-4",children:r.map(o=>a.jsxs("div",{className:"flex gap-4 p-4 rounded-lg border bg-white hover:shadow-md transition-shadow",children:[a.jsx("img",{src:o.image,alt:o.name,className:"size-24 object-cover rounded-md"}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm mb-1",children:o.name}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:o.category}),a.jsxs("p",{className:"font-medium",children:["",o.price]})]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(ee,{size:"sm",onClick:l=>{const c=l.currentTarget;c.style.transform="scale(0.95)",setTimeout(()=>{c.style.transform="scale(1)"},100),i(o.id),ve.success(`${o.name} added to cart!`)},className:"flex-1 bg-black text-white hover:bg-black/90 transition-transform active:scale-95",children:[a.jsx(Qu,{className:"size-4 mr-2"}),"Add to Cart"]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 shrink-0 text-red-500 hover:text-red-700 hover:bg-red-50 -mt-1 transition-transform active:scale-95",onClick:()=>s(o.id,o.name),children:a.jsx(ma,{className:"size-4"})})]})]})]},o.id))})}),r.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(qt,{}),a.jsx("div",{className:"p-6",children:a.jsxs(ee,{className:"w-full bg-black text-white hover:bg-black/90 transition-transform active:scale-95",onClick:()=>{r.forEach(o=>i(o.id)),ve.success("All items added to cart!")},children:[a.jsx(Qu,{className:"size-4 mr-2"}),"Add All to Cart"]})})]})]})})}function ike({isOpen:t,onClose:e}){const[r,n]=w.useState(!1),[i,s]=w.useState(""),[o,l]=w.useState(!1),[c,d]=w.useState(!1),{login:f,signup:h}=hi(),m=kr(),g="http://localhost:4000";w.useEffect(()=>{const b=()=>{window.google?.accounts?.id?d(!0):setTimeout(b,100)};b()},[]);const j=async b=>{b.preventDefault(),s(""),n(!0);const S=new FormData(b.currentTarget),O=S.get("email"),P=S.get("password"),C=await f(O,P);if(n(!1),C.success){const{user:_,isAdmin:k}=C;k?(ve.success("Welcome Admin!",{description:"Redirecting to admin panel..."}),e(),m("/admin/payment-verification")):(ve.success("Welcome back!",{description:"You have successfully logged in."}),e())}else s(C.error||"Login failed")},x=async b=>{b.preventDefault(),s(""),n(!0);const S=new FormData(b.currentTarget),O=S.get("name"),P=S.get("email"),C=S.get("phone"),_=S.get("password"),k=S.get("confirm-password");if(_!==k){s("Passwords do not match"),n(!1);return}const A=await h(O,P,C,_);n(!1),A.success?(ve.success("Account created!",{description:"Welcome to RFM. Start shopping now!"}),e(),m("/")):s(A.error||"Signup failed")},y=async()=>{if(!c||!window.google){ve.error("Google Sign-In not ready. Please wait a moment and try again.");return}l(!0),s("");try{window.google.accounts.oauth2.initTokenClient({client_id:"206684745984-7oodt981bauroqir1tmjvs1nme2m29ot.apps.googleusercontent.com",scope:"email profile",callback:async S=>{try{console.log("[Google] Got token response");const P=await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${S.access_token}`}})).json();console.log("[Google] User info:",P);const C=await fetch(`${g}/auth/google-oauth`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:P.email,name:P.name,picture:P.picture,sub:P.sub})}),_=await C.json();if(l(!1),!C.ok){console.error("[Google] Backend error:",_),s(_.error||"Google sign-in failed"),ve.error(_.error||"Google sign-in failed");return}if(_.success&&_.user){const k=_.user.role==="admin";ve.success(`Welcome${k?" Admin":""}!`,{description:k?"Redirecting to admin panel...":"You have successfully signed in."}),e(),m(k?"/admin/payment-verification":"/"),window.location.reload()}}catch(O){console.error("[Google] Error:",O),l(!1),s("Network error during Google sign-in"),ve.error("Network error. Please try again.")}}}).requestAccessToken()}catch(b){console.error("[Google] Initialization error:",b),l(!1),s("Failed to initialize Google Sign-In"),ve.error("Failed to initialize Google Sign-In")}};return a.jsx(cd,{open:t,onOpenChange:e,children:a.jsxs(ud,{className:"sm:max-w-md",children:[(r||o)&&a.jsxs("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 flex flex-col items-center justify-center rounded-lg",children:[a.jsx($n,{className:"size-12 animate-spin text-white mb-4"}),a.jsx("p",{className:"text-white font-medium text-lg",children:o?"Signing in with Google...":"Logging you in..."}),a.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Please wait"})]}),a.jsxs(dd,{children:[a.jsx(fd,{children:"Welcome to RFM"}),a.jsx(xp,{children:"Sign in to your account or create a new one"})]}),a.jsxs(Fk,{defaultValue:"login",className:"w-full",children:[a.jsxs($k,{className:"grid w-full grid-cols-2",children:[a.jsx(od,{value:"login",children:"Login"}),a.jsx(od,{value:"signup",children:"Sign Up"})]}),a.jsx(ld,{value:"login",children:a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-start gap-2",children:[a.jsx(ty,{className:"size-5 shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"email",children:"Email"}),a.jsx(ze,{id:"email",name:"email",type:"email",placeholder:"test@rfm.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"password",children:"Password"}),a.jsx(ze,{id:"password",name:"password",type:"password",placeholder:"password123",required:!0})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Demo Customer: test@rfm.com / password123"})}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Demo Admin: admin@rfm.com / admin123"})}),a.jsxs(ee,{type:"submit",className:"w-full bg-black text-white hover:bg-black/90 transition-transform active:scale-95",disabled:r,children:[r&&a.jsx($n,{className:"mr-2 size-4 animate-spin"}),r?"Signing in...":"Sign In"]}),a.jsxs("div",{className:"relative",children:[a.jsx(qt,{}),a.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-2 text-xs text-gray-500",children:"OR CONTINUE WITH"})]}),a.jsxs(ee,{variant:"outline",type:"button",className:"w-full transition-transform active:scale-95",onClick:y,disabled:o||r,children:[o&&a.jsx($n,{className:"mr-2 size-4 animate-spin"}),o?"Signing in with Google...":"Google"]})]})}),a.jsx(ld,{value:"signup",children:a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-start gap-2",children:[a.jsx(ty,{className:"size-5 shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"signup-name",children:"Full Name"}),a.jsx(ze,{id:"signup-name",name:"name",type:"text",placeholder:"Enter your full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"signup-email",children:"Email Address"}),a.jsx(ze,{id:"signup-email",name:"email",type:"email",placeholder:"name@example.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"signup-phone",children:"Phone Number"}),a.jsx(ze,{id:"signup-phone",name:"phone",type:"tel",placeholder:"+63 XXX XXX XXXX",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"signup-password",children:"Password"}),a.jsx(ze,{id:"signup-password",name:"password",type:"password",placeholder:"Minimum 8 characters",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"signup-confirm",children:"Confirm Password"}),a.jsx(ze,{id:"signup-confirm",name:"confirm-password",type:"password",placeholder:"Confirm your password",required:!0})]}),a.jsxs(ee,{type:"submit",className:"w-full bg-black text-white hover:bg-black/90 transition-transform active:scale-95",disabled:r,children:[r&&a.jsx($n,{className:"mr-2 size-4 animate-spin"}),r?"Creating account...":"Create Account"]}),a.jsxs("div",{className:"relative",children:[a.jsx(qt,{}),a.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-2 text-xs text-gray-500",children:"OR CONTINUE WITH"})]}),a.jsxs(ee,{variant:"outline",type:"button",className:"w-full transition-transform active:scale-95",onClick:y,disabled:o||r,children:[o&&a.jsx($n,{className:"mr-2 size-4 animate-spin"}),o?"Signing up with Google...":"Google"]}),a.jsx("p",{className:"text-center text-xs text-gray-500",children:"By signing up, you agree to our Terms of Service and Privacy Policy"})]})})]})]})})}var ske=(t,e,r,n,i,s,o,l)=>{let c=document.documentElement,d=["light","dark"];function f(g){(Array.isArray(t)?t:[t]).forEach(j=>{let x=j==="class",y=x&&s?i.map(b=>s[b]||b):i;x?(c.classList.remove(...y),c.classList.add(s&&s[g]?s[g]:g)):c.setAttribute(j,g)}),h(g)}function h(g){l&&d.includes(g)&&(c.style.colorScheme=g)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let g=localStorage.getItem(e)||r,j=o&&g==="system"?m():g;f(j)}catch{}},ake=w.createContext(void 0),oke={setTheme:t=>{},themes:[]},lke=()=>{var t;return(t=w.useContext(ake))!=null?t:oke};w.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:o,themes:l,nonce:c,scriptProps:d})=>{let f=JSON.stringify([r,e,s,t,l,o,n,i]).slice(1,-1);return w.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${ske.toString()})(${f})`}})});const cke=({...t})=>{const{theme:e="system"}=lke();return a.jsx(DZ,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function ta({children:t,onRequireAuth:e}){const{isLoggedIn:r,user:n,isHydrating:i}=hi(),s=fi();return w.useEffect(()=>{!i&&!r&&e()},[r,i,e]),i?null:!r||n?.role!=="admin"?a.jsx(_J,{to:"/",replace:!0,state:{from:s}}):t}function uke({isAuthOpen:t,setIsAuthOpen:e}){const r=fi(),[n,i]=w.useState(!1),[s,o]=w.useState(!1),{cartItems:l,addToCart:c,updateQuantity:d,removeItem:f,clearCart:h}=$8(),{favorites:m,toggleFavorite:g,removeFavorite:j}=KPe(),x=r.pathname!=="/custom-design"&&r.pathname!=="/custom-design-preview"&&!r.pathname.startsWith("/admin"),y=async(k,A=1,M,D)=>{try{const W=await fetch(`http://localhost:4000/api/catalog-products/${k}`);if(W.ok){const $=await W.json();c($.product_id.toString(),$.product_name,$.base_price,$.product_images[0]?.image_url||"",$.category,A,M,D);return}}catch{console.log("Not a catalog product, checking mock data")}const L=i3(k);L&&c(k,L.name,L.price,L.image,L.category,A,M,D)},b=async k=>{try{const M=await fetch(`http://localhost:4000/api/catalog-products/${k}`);if(M.ok){const D=await M.json();g(D.product_id.toString(),D.product_name,D.base_price,D.product_images[0]?.image_url||"",D.category);return}}catch{console.log("Not a catalog product, checking mock data")}const A=i3(k);A&&g(k,A.name,A.price,A.image,A.category)},S=(k,A)=>{d(k,A)},O=k=>{f(k)},P=k=>{j(k)},C=()=>{h()},_=l.reduce((k,A)=>k+A.quantity,0);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[x&&a.jsx(QPe,{onCartClick:()=>i(!0),onFavoritesClick:()=>o(!0),onLoginClick:()=>e(!0),cartItemsCount:_,favoritesCount:m.length}),a.jsx("main",{className:"flex-1",children:a.jsxs(PJ,{children:[a.jsx(Vt,{path:"/",element:a.jsx(RZ,{onAddToCart:y,onToggleFavorite:b,favorites:m})}),a.jsx(Vt,{path:"/new-arrivals",element:a.jsx(qee,{onAddToCart:y,onToggleFavorite:b,favorites:m})}),a.jsx(Vt,{path:"/men",element:a.jsx(Vee,{onAddToCart:y,onToggleFavorite:b,favorites:m})}),a.jsx(Vt,{path:"/women",element:a.jsx(Gee,{onAddToCart:y,onToggleFavorite:b,favorites:m})}),a.jsx(Vt,{path:"/kids",element:a.jsx(Xee,{onAddToCart:y,onToggleFavorite:b,favorites:m})}),a.jsx(Vt,{path:"/unisex",element:a.jsx(Yee,{onAddToCart:y,onToggleFavorite:b,favorites:m})}),a.jsx(Vt,{path:"/product/:id",element:a.jsx(Goe,{onAddToCart:y,onToggleFavorite:b,favorites:m})}),a.jsx(Vt,{path:"/custom-design",element:a.jsx(tke,{fallbackMessage:"The design editor encountered an error. Your work may have been auto-saved.",onReset:()=>{localStorage.removeItem("fabricCanvas")},children:a.jsx($ae,{})})}),a.jsx(Vt,{path:"/custom-design-preview",element:a.jsx(koe,{})}),a.jsx(Vt,{path:"/custom-products",element:a.jsx(woe,{})}),a.jsx(Vt,{path:"/custom-product/:id",element:a.jsx(Poe,{})}),a.jsx(Vt,{path:"/checkout",element:a.jsx(lle,{cartItems:l,onClearCart:C})}),a.jsx(Vt,{path:"/order-confirmation/:orderId",element:a.jsx(ule,{})}),a.jsx(Vt,{path:"/track-order",element:a.jsx(fle,{})}),a.jsx(Vt,{path:"/order-tracking/:orderId",element:a.jsx(HD,{})}),a.jsx(Vt,{path:"/order-tracking",element:a.jsx(HD,{})}),a.jsx(Vt,{path:"/account",element:a.jsx(yte,{})}),a.jsx(Vt,{path:"/admin/orders",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(Ide,{})})}),a.jsx(Vt,{path:"/admin/payment-verification",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(Lce,{})})}),a.jsx(Vt,{path:"/admin/customizable-products",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(Jfe,{})})}),a.jsx(Vt,{path:"/admin/products",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(ohe,{})})}),a.jsx(Vt,{path:"/admin/canvas-resources",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(lhe,{})})}),a.jsx(Vt,{path:"/admin/employees",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(fhe,{})})}),a.jsx(Vt,{path:"/admin/inventory",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(hhe,{})})}),a.jsx(Vt,{path:"/admin/reports",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(GPe,{})})}),a.jsx(Vt,{path:"/admin/cash-flow",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(XPe,{})})}),a.jsx(Vt,{path:"/shipping-details/:orderId",element:a.jsx(ta,{onRequireAuth:()=>e(!0),children:a.jsx(YPe,{})})})]})}),x&&a.jsx(eke,{}),a.jsx(rke,{isOpen:n,onClose:()=>i(!1),items:l,onUpdateQuantity:S,onRemoveItem:O,onClearCart:C}),a.jsx(nke,{isOpen:s,onClose:()=>o(!1),favorites:m,onRemoveFavorite:P,onAddToCart:y}),a.jsx(ike,{isOpen:t,onClose:()=>e(!1)}),a.jsx(cke,{})]})}function dke(){const[t,e]=w.useState(!1);return a.jsx(oZ,{onOpenLoginModal:()=>e(!0),children:a.jsx(uke,{isAuthOpen:t,setIsAuthOpen:e})})}function fke(){return a.jsx(JJ,{children:a.jsx(dke,{})})}T7.createRoot(document.getElementById("root")).render(a.jsx(fke,{}));
