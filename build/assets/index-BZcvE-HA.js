function v7(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function y7(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var tj={exports:{}},nh={},rj={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function x7(){if(CE)return xt;CE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function y(z,V,J){this.props=z,this.context=V,this.refs=b,this.updater=J||g}y.prototype.isReactComponent={},y.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},y.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=y.prototype;function S(z,V,J){this.props=z,this.context=V,this.refs=b,this.updater=J||g}var _=S.prototype=new x;_.constructor=S,j(_,y.prototype),_.isPureReactComponent=!0;var P=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(z,V,J){var Q,se={},oe=null,K=null;if(V!=null)for(Q in V.ref!==void 0&&(K=V.ref),V.key!==void 0&&(oe=""+V.key),V)C.call(V,Q)&&!k.hasOwnProperty(Q)&&(se[Q]=V[Q]);var de=arguments.length-2;if(de===1)se.children=J;else if(1<de){for(var ae=Array(de),ce=0;ce<de;ce++)ae[ce]=arguments[ce+2];se.children=ae}if(z&&z.defaultProps)for(Q in de=z.defaultProps,de)se[Q]===void 0&&(se[Q]=de[Q]);return{$$typeof:t,type:z,key:oe,ref:K,props:se,_owner:O.current}}function M(z,V){return{$$typeof:t,type:z.type,key:V,ref:z.ref,props:z.props,_owner:z._owner}}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(J){return V[J]})}var B=/\/+/g;function $(z,V){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):V.toString(36)}function q(z,V,J,Q,se){var oe=typeof z;(oe==="undefined"||oe==="boolean")&&(z=null);var K=!1;if(z===null)K=!0;else switch(oe){case"string":case"number":K=!0;break;case"object":switch(z.$$typeof){case t:case e:K=!0}}if(K)return K=z,se=se(K),z=Q===""?"."+$(K,0):Q,P(se)?(J="",z!=null&&(J=z.replace(B,"$&/")+"/"),q(se,V,J,"",function(ce){return ce})):se!=null&&(D(se)&&(se=M(se,J+(!se.key||K&&K.key===se.key?"":(""+se.key).replace(B,"$&/")+"/")+z)),V.push(se)),1;if(K=0,Q=Q===""?".":Q+":",P(z))for(var de=0;de<z.length;de++){oe=z[de];var ae=Q+$(oe,de);K+=q(oe,V,J,ae,se)}else if(ae=m(z),typeof ae=="function")for(z=ae.call(z),de=0;!(oe=z.next()).done;)oe=oe.value,ae=Q+$(oe,de++),K+=q(oe,V,J,ae,se);else if(oe==="object")throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return K}function F(z,V,J){if(z==null)return z;var Q=[],se=0;return q(z,Q,"","",function(oe){return V.call(J,oe,se++)}),Q}function G(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(J){(z._status===0||z._status===-1)&&(z._status=1,z._result=J)},function(J){(z._status===0||z._status===-1)&&(z._status=2,z._result=J)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var E={current:null},U={transition:null},H={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:U,ReactCurrentOwner:O};function I(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:F,forEach:function(z,V,J){F(z,function(){V.apply(this,arguments)},J)},count:function(z){var V=0;return F(z,function(){V++}),V},toArray:function(z){return F(z,function(V){return V})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},xt.Component=y,xt.Fragment=r,xt.Profiler=i,xt.PureComponent=S,xt.StrictMode=n,xt.Suspense=c,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,xt.act=I,xt.cloneElement=function(z,V,J){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Q=j({},z.props),se=z.key,oe=z.ref,K=z._owner;if(V!=null){if(V.ref!==void 0&&(oe=V.ref,K=O.current),V.key!==void 0&&(se=""+V.key),z.type&&z.type.defaultProps)var de=z.type.defaultProps;for(ae in V)C.call(V,ae)&&!k.hasOwnProperty(ae)&&(Q[ae]=V[ae]===void 0&&de!==void 0?de[ae]:V[ae])}var ae=arguments.length-2;if(ae===1)Q.children=J;else if(1<ae){de=Array(ae);for(var ce=0;ce<ae;ce++)de[ce]=arguments[ce+2];Q.children=de}return{$$typeof:t,type:z.type,key:se,ref:oe,props:Q,_owner:K}},xt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},xt.createElement=A,xt.createFactory=function(z){var V=A.bind(null,z);return V.type=z,V},xt.createRef=function(){return{current:null}},xt.forwardRef=function(z){return{$$typeof:l,render:z}},xt.isValidElement=D,xt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:G}},xt.memo=function(z,V){return{$$typeof:d,type:z,compare:V===void 0?null:V}},xt.startTransition=function(z){var V=U.transition;U.transition={};try{z()}finally{U.transition=V}},xt.unstable_act=I,xt.useCallback=function(z,V){return E.current.useCallback(z,V)},xt.useContext=function(z){return E.current.useContext(z)},xt.useDebugValue=function(){},xt.useDeferredValue=function(z){return E.current.useDeferredValue(z)},xt.useEffect=function(z,V){return E.current.useEffect(z,V)},xt.useId=function(){return E.current.useId()},xt.useImperativeHandle=function(z,V,J){return E.current.useImperativeHandle(z,V,J)},xt.useInsertionEffect=function(z,V){return E.current.useInsertionEffect(z,V)},xt.useLayoutEffect=function(z,V){return E.current.useLayoutEffect(z,V)},xt.useMemo=function(z,V){return E.current.useMemo(z,V)},xt.useReducer=function(z,V,J){return E.current.useReducer(z,V,J)},xt.useRef=function(z){return E.current.useRef(z)},xt.useState=function(z){return E.current.useState(z)},xt.useSyncExternalStore=function(z,V,J){return E.current.useSyncExternalStore(z,V,J)},xt.useTransition=function(){return E.current.useTransition()},xt.version="18.3.1",xt}var NE;function $a(){return NE||(NE=1,rj.exports=x7()),rj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function b7(){if(_E)return nh;_E=1;var t=$a(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,h={},m=null,g=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(f in c)n.call(c,f)&&!a.hasOwnProperty(f)&&(h[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:l,key:m,ref:g,props:h,_owner:i.current}}return nh.Fragment=r,nh.jsx=o,nh.jsxs=o,nh}var OE;function w7(){return OE||(OE=1,tj.exports=b7()),tj.exports}var s=w7(),Jg={},nj={exports:{}},ii={},ij={exports:{}},aj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function j7(){return PE||(PE=1,(function(t){function e(U,H){var I=U.length;U.push(H);e:for(;0<I;){var z=I-1>>>1,V=U[z];if(0<i(V,H))U[z]=H,U[I]=V,I=z;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var H=U[0],I=U.pop();if(I!==H){U[0]=I;e:for(var z=0,V=U.length,J=V>>>1;z<J;){var Q=2*(z+1)-1,se=U[Q],oe=Q+1,K=U[oe];if(0>i(se,I))oe<V&&0>i(K,se)?(U[z]=K,U[oe]=I,z=oe):(U[z]=se,U[Q]=I,z=Q);else if(oe<V&&0>i(K,I))U[z]=K,U[oe]=I,z=oe;else break e}}return H}function i(U,H){var I=U.sortIndex-H.sortIndex;return I!==0?I:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,m=3,g=!1,j=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var H=r(d);H!==null;){if(H.callback===null)n(d);else if(H.startTime<=U)n(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(d)}}function P(U){if(b=!1,_(U),!j)if(r(c)!==null)j=!0,G(C);else{var H=r(d);H!==null&&E(P,H.startTime-U)}}function C(U,H){j=!1,b&&(b=!1,x(A),A=-1),g=!0;var I=m;try{for(_(H),h=r(c);h!==null&&(!(h.expirationTime>H)||U&&!L());){var z=h.callback;if(typeof z=="function"){h.callback=null,m=h.priorityLevel;var V=z(h.expirationTime<=H);H=t.unstable_now(),typeof V=="function"?h.callback=V:h===r(c)&&n(c),_(H)}else n(c);h=r(c)}if(h!==null)var J=!0;else{var Q=r(d);Q!==null&&E(P,Q.startTime-H),J=!1}return J}finally{h=null,m=I,g=!1}}var O=!1,k=null,A=-1,M=5,D=-1;function L(){return!(t.unstable_now()-D<M)}function B(){if(k!==null){var U=t.unstable_now();D=U;var H=!0;try{H=k(!0,U)}finally{H?$():(O=!1,k=null)}}else O=!1}var $;if(typeof S=="function")$=function(){S(B)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,F=q.port2;q.port1.onmessage=B,$=function(){F.postMessage(null)}}else $=function(){y(B,0)};function G(U){k=U,O||(O=!0,$())}function E(U,H){A=y(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){j||g||(j=!0,G(C))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var I=m;m=H;try{return U()}finally{m=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=m;m=U;try{return H()}finally{m=I}},t.unstable_scheduleCallback=function(U,H,I){var z=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?z+I:z):I=z,U){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=I+V,U={id:f++,callback:H,priorityLevel:U,startTime:I,expirationTime:V,sortIndex:-1},I>z?(U.sortIndex=I,e(d,U),r(c)===null&&U===r(d)&&(b?(x(A),A=-1):b=!0,E(P,I-z))):(U.sortIndex=V,e(c,U),j||g||(j=!0,G(C))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var H=m;return function(){var I=m;m=H;try{return U.apply(this,arguments)}finally{m=I}}}})(aj)),aj}var kE;function S7(){return kE||(kE=1,ij.exports=j7()),ij.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function C7(){if(TE)return ii;TE=1;var t=$a(),e=S7();function r(u){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(u,p){o(u,p),o(u+"Capture",p)}function o(u,p){for(i[u]=p,u=0;u<p.length;u++)n.add(p[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(u){return c.call(h,u)?!0:c.call(f,u)?!1:d.test(u)?h[u]=!0:(f[u]=!0,!1)}function g(u,p,v,N){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return N?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function j(u,p,v,N){if(p===null||typeof p>"u"||g(u,p,v,N))return!0;if(N)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function b(u,p,v,N,T,R,W){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=N,this.attributeNamespace=T,this.mustUseProperty=v,this.propertyName=u,this.type=p,this.sanitizeURL=R,this.removeEmptyString=W}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){y[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var p=u[0];y[p]=new b(p,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){y[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){y[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){y[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){y[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){y[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){y[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){y[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function S(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var p=u.replace(x,S);y[p]=new b(p,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var p=u.replace(x,S);y[p]=new b(p,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var p=u.replace(x,S);y[p]=new b(p,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){y[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){y[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function _(u,p,v,N){var T=y.hasOwnProperty(p)?y[p]:null;(T!==null?T.type!==0:N||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(j(p,v,T,N)&&(v=null),N||T===null?m(p)&&(v===null?u.removeAttribute(p):u.setAttribute(p,""+v)):T.mustUseProperty?u[T.propertyName]=v===null?T.type===3?!1:"":v:(p=T.attributeName,N=T.attributeNamespace,v===null?u.removeAttribute(p):(T=T.type,v=T===3||T===4&&v===!0?"":""+v,N?u.setAttributeNS(N,p,v):u.setAttribute(p,v))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),U=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=U&&u[U]||u["@@iterator"],typeof u=="function"?u:null)}var I=Object.assign,z;function V(u){if(z===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);z=p&&p[1]||""}return`
`+z+u}var J=!1;function Q(u,p){if(!u||J)return"";J=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ge){var N=ge}Reflect.construct(u,[],p)}else{try{p.call()}catch(ge){N=ge}u.call(p.prototype)}else{try{throw Error()}catch(ge){N=ge}u()}}catch(ge){if(ge&&N&&typeof ge.stack=="string"){for(var T=ge.stack.split(`
`),R=N.stack.split(`
`),W=T.length-1,Z=R.length-1;1<=W&&0<=Z&&T[W]!==R[Z];)Z--;for(;1<=W&&0<=Z;W--,Z--)if(T[W]!==R[Z]){if(W!==1||Z!==1)do if(W--,Z--,0>Z||T[W]!==R[Z]){var ne=`
`+T[W].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=W&&0<=Z);break}}}finally{J=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?V(u):""}function se(u){switch(u.tag){case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return u=Q(u.type,!1),u;case 11:return u=Q(u.type.render,!1),u;case 1:return u=Q(u.type,!0),u;default:return""}}function oe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case k:return"Fragment";case O:return"Portal";case M:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case L:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case B:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case F:return p=u.displayName||null,p!==null?p:oe(u.type)||"Memo";case G:p=u._payload,u=u._init;try{return oe(u(p))}catch{}}return null}function K(u){var p=u.type;switch(u.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=p.render,u=u.displayName||u.name||"",p.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(p);case 8:return p===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function de(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ae(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function ce(u){var p=ae(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,p),N=""+u[p];if(!u.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,R=v.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return T.call(this)},set:function(W){N=""+W,R.call(this,W)}}),Object.defineProperty(u,p,{enumerable:v.enumerable}),{getValue:function(){return N},setValue:function(W){N=""+W},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function xe(u){u._valueTracker||(u._valueTracker=ce(u))}function le(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var v=p.getValue(),N="";return u&&(N=ae(u)?u.checked?"true":"false":u.value),u=N,u!==v?(p.setValue(u),!0):!1}function Te(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Ne(u,p){var v=p.checked;return I({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function Fe(u,p){var v=p.defaultValue==null?"":p.defaultValue,N=p.checked!=null?p.checked:p.defaultChecked;v=de(p.value!=null?p.value:v),u._wrapperState={initialChecked:N,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Ke(u,p){p=p.checked,p!=null&&_(u,"checked",p,!1)}function Re(u,p){Ke(u,p);var v=de(p.value),N=p.type;if(v!=null)N==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(N==="submit"||N==="reset"){u.removeAttribute("value");return}p.hasOwnProperty("value")?ct(u,p.type,v):p.hasOwnProperty("defaultValue")&&ct(u,p.type,de(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(u.defaultChecked=!!p.defaultChecked)}function mt(u,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var N=p.type;if(!(N!=="submit"&&N!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+u._wrapperState.initialValue,v||p===u.value||(u.value=p),u.defaultValue=p}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function ct(u,p,v){(p!=="number"||Te(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var je=Array.isArray;function gt(u,p,v,N){if(u=u.options,p){p={};for(var T=0;T<v.length;T++)p["$"+v[T]]=!0;for(v=0;v<u.length;v++)T=p.hasOwnProperty("$"+u[v].value),u[v].selected!==T&&(u[v].selected=T),T&&N&&(u[v].defaultSelected=!0)}else{for(v=""+de(v),p=null,T=0;T<u.length;T++){if(u[T].value===v){u[T].selected=!0,N&&(u[T].defaultSelected=!0);return}p!==null||u[T].disabled||(p=u[T])}p!==null&&(p.selected=!0)}}function Qe(u,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return I({},p,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function zt(u,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(r(92));if(je(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),v=p}u._wrapperState={initialValue:de(v)}}function en(u,p){var v=de(p.value),N=de(p.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),p.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),N!=null&&(u.defaultValue=""+N)}function tn(u){var p=u.textContent;p===u._wrapperState.initialValue&&p!==""&&p!==null&&(u.value=p)}function rn(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fr(u,p){return u==null||u==="http://www.w3.org/1999/xhtml"?rn(p):u==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Ot,jn=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,N,T){MSApp.execUnsafeLocalFunction(function(){return u(p,v,N,T)})}:u})(function(u,p){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=p;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Ot.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;p.firstChild;)u.appendChild(p.firstChild)}});function zr(u,p){if(p){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=p;return}}u.textContent=p}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(u){sr.forEach(function(p){p=p+u.charAt(0).toUpperCase()+u.substring(1),St[p]=St[u]})});function qa(u,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||St.hasOwnProperty(u)&&St[u]?(""+p).trim():p+"px"}function gi(u,p){u=u.style;for(var v in p)if(p.hasOwnProperty(v)){var N=v.indexOf("--")===0,T=qa(v,p[v],N);v==="float"&&(v="cssFloat"),N?u.setProperty(v,T):u[v]=T}}var Va=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function In(u,p){if(p){if(Va[u]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Ps(u,p){if(u.indexOf("-")===-1)return typeof p.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nn=null;function Sn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var bo=null,vi=null,Ut=null;function xr(u){if(u=Hf(u)){if(typeof bo!="function")throw Error(r(280));var p=u.stateNode;p&&(p=fg(p),bo(u.stateNode,u.type,p))}}function $e(u){vi?Ut?Ut.push(u):Ut=[u]:vi=u}function Nt(){if(vi){var u=vi,p=Ut;if(Ut=vi=null,xr(u),p)for(u=0;u<p.length;u++)xr(p[u])}}function wt(u,p){return u(p)}function Mt(){}var Ft=!1;function Wt(u,p,v){if(Ft)return u(p,v);Ft=!0;try{return wt(u,p,v)}finally{Ft=!1,(vi!==null||Ut!==null)&&(Mt(),Nt())}}function yt(u,p){var v=u.stateNode;if(v===null)return null;var N=fg(v);if(N===null)return null;v=N[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(u=u.type,N=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!N;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(r(231,p,typeof v));return v}var Fr=!1;if(l)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Fr=!1}function Kt(u,p,v,N,T,R,W,Z,ne){var ge=Array.prototype.slice.call(arguments,3);try{p.apply(v,ge)}catch(Ce){this.onError(Ce)}}var an=!1,br=null,gn=!1,Ii=null,wl={onError:function(u){an=!0,br=u}};function qm(u,p,v,N,T,R,W,Z,ne){an=!1,br=null,Kt.apply(wl,arguments)}function Cb(u,p,v,N,T,R,W,Z,ne){if(qm.apply(this,arguments),an){if(an){var ge=br;an=!1,br=null}else throw Error(r(198));gn||(gn=!0,Ii=ge)}}function Ga(u){var p=u,v=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(v=p.return),u=p.return;while(u)}return p.tag===3?v:null}function Vm(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function gf(u){if(Ga(u)!==u)throw Error(r(188))}function Nb(u){var p=u.alternate;if(!p){if(p=Ga(u),p===null)throw Error(r(188));return p!==u?null:u}for(var v=u,N=p;;){var T=v.return;if(T===null)break;var R=T.alternate;if(R===null){if(N=T.return,N!==null){v=N;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===v)return gf(T),u;if(R===N)return gf(T),p;R=R.sibling}throw Error(r(188))}if(v.return!==N.return)v=T,N=R;else{for(var W=!1,Z=T.child;Z;){if(Z===v){W=!0,v=T,N=R;break}if(Z===N){W=!0,N=T,v=R;break}Z=Z.sibling}if(!W){for(Z=R.child;Z;){if(Z===v){W=!0,v=R,N=T;break}if(Z===N){W=!0,N=R,v=T;break}Z=Z.sibling}if(!W)throw Error(r(189))}}if(v.alternate!==N)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?u:p}function Xa(u){return u=Nb(u),u!==null?vf(u):null}function vf(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var p=vf(u);if(p!==null)return p;u=u.sibling}return null}var Gm=e.unstable_scheduleCallback,yf=e.unstable_cancelCallback,xf=e.unstable_shouldYield,bf=e.unstable_requestPaint,hr=e.unstable_now,Vc=e.unstable_getCurrentPriorityLevel,wf=e.unstable_ImmediatePriority,Xm=e.unstable_UserBlockingPriority,Gc=e.unstable_NormalPriority,ue=e.unstable_LowPriority,Ym=e.unstable_IdlePriority,jl=null,yi=null;function Sl(u){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(jl,u,void 0,(u.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:Sf,Km=Math.log,jf=Math.LN2;function Sf(u){return u>>>=0,u===0?32:31-(Km(u)/jf|0)|0}var Ya=64,Cl=4194304;function wo(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ka(u,p){var v=u.pendingLanes;if(v===0)return 0;var N=0,T=u.suspendedLanes,R=u.pingedLanes,W=v&268435455;if(W!==0){var Z=W&~T;Z!==0?N=wo(Z):(R&=W,R!==0&&(N=wo(R)))}else W=v&~T,W!==0?N=wo(W):R!==0&&(N=wo(R));if(N===0)return 0;if(p!==0&&p!==N&&(p&T)===0&&(T=N&-N,R=p&-p,T>=R||T===16&&(R&4194240)!==0))return p;if((N&4)!==0&&(N|=v&16),p=u.entangledLanes,p!==0)for(u=u.entanglements,p&=N;0<p;)v=31-vn(p),T=1<<v,N|=u[v],p&=~T;return N}function Jm(u,p){switch(u){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _b(u,p){for(var v=u.suspendedLanes,N=u.pingedLanes,T=u.expirationTimes,R=u.pendingLanes;0<R;){var W=31-vn(R),Z=1<<W,ne=T[W];ne===-1?((Z&v)===0||(Z&N)!==0)&&(T[W]=Jm(Z,p)):ne<=p&&(u.expiredLanes|=Z),R&=~Z}}function Xc(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Zm(){var u=Ya;return Ya<<=1,(Ya&4194240)===0&&(Ya=64),u}function Cf(u){for(var p=[],v=0;31>v;v++)p.push(u);return p}function Nl(u,p,v){u.pendingLanes|=p,p!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,p=31-vn(p),u[p]=v}function Ob(u,p){var v=u.pendingLanes&~p;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=p,u.mutableReadLanes&=p,u.entangledLanes&=p,p=u.entanglements;var N=u.eventTimes;for(u=u.expirationTimes;0<v;){var T=31-vn(v),R=1<<T;p[T]=0,N[T]=-1,u[T]=-1,v&=~R}}function Nf(u,p){var v=u.entangledLanes|=p;for(u=u.entanglements;v;){var N=31-vn(v),T=1<<N;T&p|u[N]&p&&(u[N]|=p),v&=~T}}var Rt=0;function Qm(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var eg,_f,tg,Of,Pf,kf=!1,_l=[],Li=null,Cn=null,zi=null,Zn=new Map,Ja=new Map,ua=[],rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tf(u,p){switch(u){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Zn.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(p.pointerId)}}function Ol(u,p,v,N,T,R){return u===null||u.nativeEvent!==R?(u={blockedOn:p,domEventName:v,eventSystemFlags:N,nativeEvent:R,targetContainers:[T]},p!==null&&(p=Hf(p),p!==null&&_f(p)),u):(u.eventSystemFlags|=N,p=u.targetContainers,T!==null&&p.indexOf(T)===-1&&p.push(T),u)}function Pb(u,p,v,N,T){switch(p){case"focusin":return Li=Ol(Li,u,p,v,N,T),!0;case"dragenter":return Cn=Ol(Cn,u,p,v,N,T),!0;case"mouseover":return zi=Ol(zi,u,p,v,N,T),!0;case"pointerover":var R=T.pointerId;return Zn.set(R,Ol(Zn.get(R)||null,u,p,v,N,T)),!0;case"gotpointercapture":return R=T.pointerId,Ja.set(R,Ol(Ja.get(R)||null,u,p,v,N,T)),!0}return!1}function Af(u){var p=Tl(u.target);if(p!==null){var v=Ga(p);if(v!==null){if(p=v.tag,p===13){if(p=Vm(v),p!==null){u.blockedOn=p,Pf(u.priority,function(){tg(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Yc(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var v=we(u.domEventName,u.eventSystemFlags,p[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var N=new v.constructor(v.type,v);nn=N,v.target.dispatchEvent(N),nn=null}else return p=Hf(v),p!==null&&_f(p),u.blockedOn=v,!1;p.shift()}return!0}function ng(u,p,v){Yc(u)&&v.delete(p)}function kb(){kf=!1,Li!==null&&Yc(Li)&&(Li=null),Cn!==null&&Yc(Cn)&&(Cn=null),zi!==null&&Yc(zi)&&(zi=null),Zn.forEach(ng),Ja.forEach(ng)}function Pl(u,p){u.blockedOn===p&&(u.blockedOn=null,kf||(kf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kb)))}function kl(u){function p(T){return Pl(T,u)}if(0<_l.length){Pl(_l[0],u);for(var v=1;v<_l.length;v++){var N=_l[v];N.blockedOn===u&&(N.blockedOn=null)}}for(Li!==null&&Pl(Li,u),Cn!==null&&Pl(Cn,u),zi!==null&&Pl(zi,u),Zn.forEach(p),Ja.forEach(p),v=0;v<ua.length;v++)N=ua[v],N.blockedOn===u&&(N.blockedOn=null);for(;0<ua.length&&(v=ua[0],v.blockedOn===null);)Af(v),v.blockedOn===null&&ua.shift()}var jo=P.ReactCurrentBatchConfig,Kc=!0;function Tb(u,p,v,N){var T=Rt,R=jo.transition;jo.transition=null;try{Rt=1,X(u,p,v,N)}finally{Rt=T,jo.transition=R}}function Ab(u,p,v,N){var T=Rt,R=jo.transition;jo.transition=null;try{Rt=4,X(u,p,v,N)}finally{Rt=T,jo.transition=R}}function X(u,p,v,N){if(Kc){var T=we(u,p,v,N);if(T===null)qb(u,p,N,me,v),Tf(u,N);else if(Pb(T,u,p,v,N))N.stopPropagation();else if(Tf(u,N),p&4&&-1<rg.indexOf(u)){for(;T!==null;){var R=Hf(T);if(R!==null&&eg(R),R=we(u,p,v,N),R===null&&qb(u,p,N,me,v),R===T)break;T=R}T!==null&&N.stopPropagation()}else qb(u,p,N,null,v)}}var me=null;function we(u,p,v,N){if(me=null,u=Sn(N),u=Tl(u),u!==null)if(p=Ga(u),p===null)u=null;else if(v=p.tag,v===13){if(u=Vm(p),u!==null)return u;u=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null);return me=u,null}function Ae(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vc()){case wf:return 1;case Xm:return 4;case Gc:case ue:return 16;case Ym:return 536870912;default:return 16}default:return 16}}var Ee=null,Gt=null,It=null;function ft(){if(It)return It;var u,p=Gt,v=p.length,N,T="value"in Ee?Ee.value:Ee.textContent,R=T.length;for(u=0;u<v&&p[u]===T[u];u++);var W=v-u;for(N=1;N<=W&&p[v-N]===T[R-N];N++);return It=T.slice(u,1<N?1-N:void 0)}function Xe(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function it(){return!0}function wr(){return!1}function Jt(u){function p(v,N,T,R,W){this._reactName=v,this._targetInst=T,this.type=N,this.nativeEvent=R,this.target=W,this.currentTarget=null;for(var Z in u)u.hasOwnProperty(Z)&&(v=u[Z],this[Z]=v?v(R):R[Z]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?it:wr,this.isPropagationStopped=wr,this}return I(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=it)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=it)},persist:function(){},isPersistent:it}),p}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Jt(Ln),jr=I({},Ln,{view:0,detail:0}),zn=Jt(jr),So,Eb,Ef,ig=I({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Db,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ef&&(Ef&&u.type==="mousemove"?(So=u.screenX-Ef.screenX,Eb=u.screenY-Ef.screenY):Eb=So=0,Ef=u),So)},movementY:function(u){return"movementY"in u?u.movementY:Eb}}),hT=Jt(ig),q9=I({},ig,{dataTransfer:0}),V9=Jt(q9),G9=I({},jr,{relatedTarget:0}),Mb=Jt(G9),X9=I({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Y9=Jt(X9),K9=I({},Ln,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),J9=Jt(K9),Z9=I({},Ln,{data:0}),pT=Jt(Z9),Q9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rG(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=tG[u])?!!p[u]:!1}function Db(){return rG}var nG=I({},jr,{key:function(u){if(u.key){var p=Q9[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=Xe(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?eG[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Db,charCode:function(u){return u.type==="keypress"?Xe(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Xe(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),iG=Jt(nG),aG=I({},ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mT=Jt(aG),sG=I({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Db}),oG=Jt(sG),lG=I({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),cG=Jt(lG),uG=I({},ig,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),dG=Jt(uG),fG=[9,13,27,32],Rb=l&&"CompositionEvent"in window,Mf=null;l&&"documentMode"in document&&(Mf=document.documentMode);var hG=l&&"TextEvent"in window&&!Mf,gT=l&&(!Rb||Mf&&8<Mf&&11>=Mf),vT=" ",yT=!1;function xT(u,p){switch(u){case"keyup":return fG.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bT(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Jc=!1;function pG(u,p){switch(u){case"compositionend":return bT(p);case"keypress":return p.which!==32?null:(yT=!0,vT);case"textInput":return u=p.data,u===vT&&yT?null:u;default:return null}}function mG(u,p){if(Jc)return u==="compositionend"||!Rb&&xT(u,p)?(u=ft(),It=Gt=Ee=null,Jc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return gT&&p.locale!=="ko"?null:p.data;default:return null}}var gG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wT(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!gG[u.type]:p==="textarea"}function jT(u,p,v,N){$e(N),p=cg(p,"onChange"),0<p.length&&(v=new da("onChange","change",null,v,N),u.push({event:v,listeners:p}))}var Df=null,Rf=null;function vG(u){$T(u,0)}function ag(u){var p=ru(u);if(le(p))return u}function yG(u,p){if(u==="change")return p}var ST=!1;if(l){var Ib;if(l){var Lb="oninput"in document;if(!Lb){var CT=document.createElement("div");CT.setAttribute("oninput","return;"),Lb=typeof CT.oninput=="function"}Ib=Lb}else Ib=!1;ST=Ib&&(!document.documentMode||9<document.documentMode)}function NT(){Df&&(Df.detachEvent("onpropertychange",_T),Rf=Df=null)}function _T(u){if(u.propertyName==="value"&&ag(Rf)){var p=[];jT(p,Rf,u,Sn(u)),Wt(vG,p)}}function xG(u,p,v){u==="focusin"?(NT(),Df=p,Rf=v,Df.attachEvent("onpropertychange",_T)):u==="focusout"&&NT()}function bG(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return ag(Rf)}function wG(u,p){if(u==="click")return ag(p)}function jG(u,p){if(u==="input"||u==="change")return ag(p)}function SG(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var fa=typeof Object.is=="function"?Object.is:SG;function If(u,p){if(fa(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var v=Object.keys(u),N=Object.keys(p);if(v.length!==N.length)return!1;for(N=0;N<v.length;N++){var T=v[N];if(!c.call(p,T)||!fa(u[T],p[T]))return!1}return!0}function OT(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function PT(u,p){var v=OT(u);u=0;for(var N;v;){if(v.nodeType===3){if(N=u+v.textContent.length,u<=p&&N>=p)return{node:v,offset:p-u};u=N}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=OT(v)}}function kT(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?kT(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function TT(){for(var u=window,p=Te();p instanceof u.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)u=p.contentWindow;else break;p=Te(u.document)}return p}function zb(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}function CG(u){var p=TT(),v=u.focusedElem,N=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&kT(v.ownerDocument.documentElement,v)){if(N!==null&&zb(v)){if(p=N.start,u=N.end,u===void 0&&(u=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(u,v.value.length);else if(u=(p=v.ownerDocument||document)&&p.defaultView||window,u.getSelection){u=u.getSelection();var T=v.textContent.length,R=Math.min(N.start,T);N=N.end===void 0?R:Math.min(N.end,T),!u.extend&&R>N&&(T=N,N=R,R=T),T=PT(v,R);var W=PT(v,N);T&&W&&(u.rangeCount!==1||u.anchorNode!==T.node||u.anchorOffset!==T.offset||u.focusNode!==W.node||u.focusOffset!==W.offset)&&(p=p.createRange(),p.setStart(T.node,T.offset),u.removeAllRanges(),R>N?(u.addRange(p),u.extend(W.node,W.offset)):(p.setEnd(W.node,W.offset),u.addRange(p)))}}for(p=[],u=v;u=u.parentNode;)u.nodeType===1&&p.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)u=p[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var NG=l&&"documentMode"in document&&11>=document.documentMode,Zc=null,Fb=null,Lf=null,$b=!1;function AT(u,p,v){var N=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;$b||Zc==null||Zc!==Te(N)||(N=Zc,"selectionStart"in N&&zb(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Lf&&If(Lf,N)||(Lf=N,N=cg(Fb,"onSelect"),0<N.length&&(p=new da("onSelect","select",null,p,v),u.push({event:p,listeners:N}),p.target=Zc)))}function sg(u,p){var v={};return v[u.toLowerCase()]=p.toLowerCase(),v["Webkit"+u]="webkit"+p,v["Moz"+u]="moz"+p,v}var Qc={animationend:sg("Animation","AnimationEnd"),animationiteration:sg("Animation","AnimationIteration"),animationstart:sg("Animation","AnimationStart"),transitionend:sg("Transition","TransitionEnd")},Bb={},ET={};l&&(ET=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function og(u){if(Bb[u])return Bb[u];if(!Qc[u])return u;var p=Qc[u],v;for(v in p)if(p.hasOwnProperty(v)&&v in ET)return Bb[u]=p[v];return u}var MT=og("animationend"),DT=og("animationiteration"),RT=og("animationstart"),IT=og("transitionend"),LT=new Map,zT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(u,p){LT.set(u,p),a(p,[u])}for(var Hb=0;Hb<zT.length;Hb++){var Wb=zT[Hb],_G=Wb.toLowerCase(),OG=Wb[0].toUpperCase()+Wb.slice(1);Co(_G,"on"+OG)}Co(MT,"onAnimationEnd"),Co(DT,"onAnimationIteration"),Co(RT,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(IT,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PG=new Set("cancel close invalid load scroll toggle".split(" ").concat(zf));function FT(u,p,v){var N=u.type||"unknown-event";u.currentTarget=v,Cb(N,p,void 0,u),u.currentTarget=null}function $T(u,p){p=(p&4)!==0;for(var v=0;v<u.length;v++){var N=u[v],T=N.event;N=N.listeners;e:{var R=void 0;if(p)for(var W=N.length-1;0<=W;W--){var Z=N[W],ne=Z.instance,ge=Z.currentTarget;if(Z=Z.listener,ne!==R&&T.isPropagationStopped())break e;FT(T,Z,ge),R=ne}else for(W=0;W<N.length;W++){if(Z=N[W],ne=Z.instance,ge=Z.currentTarget,Z=Z.listener,ne!==R&&T.isPropagationStopped())break e;FT(T,Z,ge),R=ne}}}if(gn)throw u=Ii,gn=!1,Ii=null,u}function rr(u,p){var v=p[Jb];v===void 0&&(v=p[Jb]=new Set);var N=u+"__bubble";v.has(N)||(BT(p,u,2,!1),v.add(N))}function Ub(u,p,v){var N=0;p&&(N|=4),BT(v,u,N,p)}var lg="_reactListening"+Math.random().toString(36).slice(2);function Ff(u){if(!u[lg]){u[lg]=!0,n.forEach(function(v){v!=="selectionchange"&&(PG.has(v)||Ub(v,!1,u),Ub(v,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[lg]||(p[lg]=!0,Ub("selectionchange",!1,p))}}function BT(u,p,v,N){switch(Ae(p)){case 1:var T=Tb;break;case 4:T=Ab;break;default:T=X}v=T.bind(null,p,v,u),T=void 0,!Fr||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(T=!0),N?T!==void 0?u.addEventListener(p,v,{capture:!0,passive:T}):u.addEventListener(p,v,!0):T!==void 0?u.addEventListener(p,v,{passive:T}):u.addEventListener(p,v,!1)}function qb(u,p,v,N,T){var R=N;if((p&1)===0&&(p&2)===0&&N!==null)e:for(;;){if(N===null)return;var W=N.tag;if(W===3||W===4){var Z=N.stateNode.containerInfo;if(Z===T||Z.nodeType===8&&Z.parentNode===T)break;if(W===4)for(W=N.return;W!==null;){var ne=W.tag;if((ne===3||ne===4)&&(ne=W.stateNode.containerInfo,ne===T||ne.nodeType===8&&ne.parentNode===T))return;W=W.return}for(;Z!==null;){if(W=Tl(Z),W===null)return;if(ne=W.tag,ne===5||ne===6){N=R=W;continue e}Z=Z.parentNode}}N=N.return}Wt(function(){var ge=R,Ce=Sn(v),_e=[];e:{var Se=LT.get(u);if(Se!==void 0){var Ie=da,Ue=u;switch(u){case"keypress":if(Xe(v)===0)break e;case"keydown":case"keyup":Ie=iG;break;case"focusin":Ue="focus",Ie=Mb;break;case"focusout":Ue="blur",Ie=Mb;break;case"beforeblur":case"afterblur":Ie=Mb;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=hT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=V9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=oG;break;case MT:case DT:case RT:Ie=Y9;break;case IT:Ie=cG;break;case"scroll":Ie=zn;break;case"wheel":Ie=dG;break;case"copy":case"cut":case"paste":Ie=J9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=mT}var Ge=(p&4)!==0,_r=!Ge&&u==="scroll",fe=Ge?Se!==null?Se+"Capture":null:Se;Ge=[];for(var ie=ge,pe;ie!==null;){pe=ie;var Oe=pe.stateNode;if(pe.tag===5&&Oe!==null&&(pe=Oe,fe!==null&&(Oe=yt(ie,fe),Oe!=null&&Ge.push($f(ie,Oe,pe)))),_r)break;ie=ie.return}0<Ge.length&&(Se=new Ie(Se,Ue,null,v,Ce),_e.push({event:Se,listeners:Ge}))}}if((p&7)===0){e:{if(Se=u==="mouseover"||u==="pointerover",Ie=u==="mouseout"||u==="pointerout",Se&&v!==nn&&(Ue=v.relatedTarget||v.fromElement)&&(Tl(Ue)||Ue[ks]))break e;if((Ie||Se)&&(Se=Ce.window===Ce?Ce:(Se=Ce.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ie?(Ue=v.relatedTarget||v.toElement,Ie=ge,Ue=Ue?Tl(Ue):null,Ue!==null&&(_r=Ga(Ue),Ue!==_r||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Ie=null,Ue=ge),Ie!==Ue)){if(Ge=hT,Oe="onMouseLeave",fe="onMouseEnter",ie="mouse",(u==="pointerout"||u==="pointerover")&&(Ge=mT,Oe="onPointerLeave",fe="onPointerEnter",ie="pointer"),_r=Ie==null?Se:ru(Ie),pe=Ue==null?Se:ru(Ue),Se=new Ge(Oe,ie+"leave",Ie,v,Ce),Se.target=_r,Se.relatedTarget=pe,Oe=null,Tl(Ce)===ge&&(Ge=new Ge(fe,ie+"enter",Ue,v,Ce),Ge.target=pe,Ge.relatedTarget=_r,Oe=Ge),_r=Oe,Ie&&Ue)t:{for(Ge=Ie,fe=Ue,ie=0,pe=Ge;pe;pe=eu(pe))ie++;for(pe=0,Oe=fe;Oe;Oe=eu(Oe))pe++;for(;0<ie-pe;)Ge=eu(Ge),ie--;for(;0<pe-ie;)fe=eu(fe),pe--;for(;ie--;){if(Ge===fe||fe!==null&&Ge===fe.alternate)break t;Ge=eu(Ge),fe=eu(fe)}Ge=null}else Ge=null;Ie!==null&&HT(_e,Se,Ie,Ge,!1),Ue!==null&&_r!==null&&HT(_e,_r,Ue,Ge,!0)}}e:{if(Se=ge?ru(ge):window,Ie=Se.nodeName&&Se.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Se.type==="file")var Ye=yG;else if(wT(Se))if(ST)Ye=jG;else{Ye=bG;var et=xG}else(Ie=Se.nodeName)&&Ie.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Ye=wG);if(Ye&&(Ye=Ye(u,ge))){jT(_e,Ye,v,Ce);break e}et&&et(u,Se,ge),u==="focusout"&&(et=Se._wrapperState)&&et.controlled&&Se.type==="number"&&ct(Se,"number",Se.value)}switch(et=ge?ru(ge):window,u){case"focusin":(wT(et)||et.contentEditable==="true")&&(Zc=et,Fb=ge,Lf=null);break;case"focusout":Lf=Fb=Zc=null;break;case"mousedown":$b=!0;break;case"contextmenu":case"mouseup":case"dragend":$b=!1,AT(_e,v,Ce);break;case"selectionchange":if(NG)break;case"keydown":case"keyup":AT(_e,v,Ce)}var tt;if(Rb)e:{switch(u){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Jc?xT(u,v)&&(at="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(at="onCompositionStart");at&&(gT&&v.locale!=="ko"&&(Jc||at!=="onCompositionStart"?at==="onCompositionEnd"&&Jc&&(tt=ft()):(Ee=Ce,Gt="value"in Ee?Ee.value:Ee.textContent,Jc=!0)),et=cg(ge,at),0<et.length&&(at=new pT(at,u,null,v,Ce),_e.push({event:at,listeners:et}),tt?at.data=tt:(tt=bT(v),tt!==null&&(at.data=tt)))),(tt=hG?pG(u,v):mG(u,v))&&(ge=cg(ge,"onBeforeInput"),0<ge.length&&(Ce=new pT("onBeforeInput","beforeinput",null,v,Ce),_e.push({event:Ce,listeners:ge}),Ce.data=tt))}$T(_e,p)})}function $f(u,p,v){return{instance:u,listener:p,currentTarget:v}}function cg(u,p){for(var v=p+"Capture",N=[];u!==null;){var T=u,R=T.stateNode;T.tag===5&&R!==null&&(T=R,R=yt(u,v),R!=null&&N.unshift($f(u,R,T)),R=yt(u,p),R!=null&&N.push($f(u,R,T))),u=u.return}return N}function eu(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function HT(u,p,v,N,T){for(var R=p._reactName,W=[];v!==null&&v!==N;){var Z=v,ne=Z.alternate,ge=Z.stateNode;if(ne!==null&&ne===N)break;Z.tag===5&&ge!==null&&(Z=ge,T?(ne=yt(v,R),ne!=null&&W.unshift($f(v,ne,Z))):T||(ne=yt(v,R),ne!=null&&W.push($f(v,ne,Z)))),v=v.return}W.length!==0&&u.push({event:p,listeners:W})}var kG=/\r\n?/g,TG=/\u0000|\uFFFD/g;function WT(u){return(typeof u=="string"?u:""+u).replace(kG,`
`).replace(TG,"")}function ug(u,p,v){if(p=WT(p),WT(u)!==p&&v)throw Error(r(425))}function dg(){}var Vb=null,Gb=null;function Xb(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Yb=typeof setTimeout=="function"?setTimeout:void 0,AG=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,EG=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(u){return UT.resolve(null).then(u).catch(MG)}:Yb;function MG(u){setTimeout(function(){throw u})}function Kb(u,p){var v=p,N=0;do{var T=v.nextSibling;if(u.removeChild(v),T&&T.nodeType===8)if(v=T.data,v==="/$"){if(N===0){u.removeChild(T),kl(p);return}N--}else v!=="$"&&v!=="$?"&&v!=="$!"||N++;v=T}while(v);kl(p)}function No(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return u}function qT(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return u;p--}else v==="/$"&&p++}u=u.previousSibling}return null}var tu=Math.random().toString(36).slice(2),Za="__reactFiber$"+tu,Bf="__reactProps$"+tu,ks="__reactContainer$"+tu,Jb="__reactEvents$"+tu,DG="__reactListeners$"+tu,RG="__reactHandles$"+tu;function Tl(u){var p=u[Za];if(p)return p;for(var v=u.parentNode;v;){if(p=v[ks]||v[Za]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(u=qT(u);u!==null;){if(v=u[Za])return v;u=qT(u)}return p}u=v,v=u.parentNode}return null}function Hf(u){return u=u[Za]||u[ks],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function ru(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function fg(u){return u[Bf]||null}var Zb=[],nu=-1;function _o(u){return{current:u}}function nr(u){0>nu||(u.current=Zb[nu],Zb[nu]=null,nu--)}function Zt(u,p){nu++,Zb[nu]=u.current,u.current=p}var Oo={},Nn=_o(Oo),Qn=_o(!1),Al=Oo;function iu(u,p){var v=u.type.contextTypes;if(!v)return Oo;var N=u.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===p)return N.__reactInternalMemoizedMaskedChildContext;var T={},R;for(R in v)T[R]=p[R];return N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=p,u.__reactInternalMemoizedMaskedChildContext=T),T}function ei(u){return u=u.childContextTypes,u!=null}function hg(){nr(Qn),nr(Nn)}function VT(u,p,v){if(Nn.current!==Oo)throw Error(r(168));Zt(Nn,p),Zt(Qn,v)}function GT(u,p,v){var N=u.stateNode;if(p=p.childContextTypes,typeof N.getChildContext!="function")return v;N=N.getChildContext();for(var T in N)if(!(T in p))throw Error(r(108,K(u)||"Unknown",T));return I({},v,N)}function pg(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Oo,Al=Nn.current,Zt(Nn,u),Zt(Qn,Qn.current),!0}function XT(u,p,v){var N=u.stateNode;if(!N)throw Error(r(169));v?(u=GT(u,p,Al),N.__reactInternalMemoizedMergedChildContext=u,nr(Qn),nr(Nn),Zt(Nn,u)):nr(Qn),Zt(Qn,v)}var Ts=null,mg=!1,Qb=!1;function YT(u){Ts===null?Ts=[u]:Ts.push(u)}function IG(u){mg=!0,YT(u)}function Po(){if(!Qb&&Ts!==null){Qb=!0;var u=0,p=Rt;try{var v=Ts;for(Rt=1;u<v.length;u++){var N=v[u];do N=N(!0);while(N!==null)}Ts=null,mg=!1}catch(T){throw Ts!==null&&(Ts=Ts.slice(u+1)),Gm(wf,Po),T}finally{Rt=p,Qb=!1}}return null}var au=[],su=0,gg=null,vg=0,Fi=[],$i=0,El=null,As=1,Es="";function Ml(u,p){au[su++]=vg,au[su++]=gg,gg=u,vg=p}function KT(u,p,v){Fi[$i++]=As,Fi[$i++]=Es,Fi[$i++]=El,El=u;var N=As;u=Es;var T=32-vn(N)-1;N&=~(1<<T),v+=1;var R=32-vn(p)+T;if(30<R){var W=T-T%5;R=(N&(1<<W)-1).toString(32),N>>=W,T-=W,As=1<<32-vn(p)+T|v<<T|N,Es=R+u}else As=1<<R|v<<T|N,Es=u}function ew(u){u.return!==null&&(Ml(u,1),KT(u,1,0))}function tw(u){for(;u===gg;)gg=au[--su],au[su]=null,vg=au[--su],au[su]=null;for(;u===El;)El=Fi[--$i],Fi[$i]=null,Es=Fi[--$i],Fi[$i]=null,As=Fi[--$i],Fi[$i]=null}var xi=null,bi=null,or=!1,ha=null;function JT(u,p){var v=Ui(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=u,p=u.deletions,p===null?(u.deletions=[v],u.flags|=16):p.push(v)}function ZT(u,p){switch(u.tag){case 5:var v=u.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(u.stateNode=p,xi=u,bi=No(p.firstChild),!0):!1;case 6:return p=u.pendingProps===""||p.nodeType!==3?null:p,p!==null?(u.stateNode=p,xi=u,bi=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=El!==null?{id:As,overflow:Es}:null,u.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=Ui(18,null,null,0),v.stateNode=p,v.return=u,u.child=v,xi=u,bi=null,!0):!1;default:return!1}}function rw(u){return(u.mode&1)!==0&&(u.flags&128)===0}function nw(u){if(or){var p=bi;if(p){var v=p;if(!ZT(u,p)){if(rw(u))throw Error(r(418));p=No(v.nextSibling);var N=xi;p&&ZT(u,p)?JT(N,v):(u.flags=u.flags&-4097|2,or=!1,xi=u)}}else{if(rw(u))throw Error(r(418));u.flags=u.flags&-4097|2,or=!1,xi=u}}}function QT(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;xi=u}function yg(u){if(u!==xi)return!1;if(!or)return QT(u),or=!0,!1;var p;if((p=u.tag!==3)&&!(p=u.tag!==5)&&(p=u.type,p=p!=="head"&&p!=="body"&&!Xb(u.type,u.memoizedProps)),p&&(p=bi)){if(rw(u))throw eA(),Error(r(418));for(;p;)JT(u,p),p=No(p.nextSibling)}if(QT(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,p=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(p===0){bi=No(u.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}u=u.nextSibling}bi=null}}else bi=xi?No(u.stateNode.nextSibling):null;return!0}function eA(){for(var u=bi;u;)u=No(u.nextSibling)}function ou(){bi=xi=null,or=!1}function iw(u){ha===null?ha=[u]:ha.push(u)}var LG=P.ReactCurrentBatchConfig;function Wf(u,p,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(r(309));var N=v.stateNode}if(!N)throw Error(r(147,u));var T=N,R=""+u;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===R?p.ref:(p=function(W){var Z=T.refs;W===null?delete Z[R]:Z[R]=W},p._stringRef=R,p)}if(typeof u!="string")throw Error(r(284));if(!v._owner)throw Error(r(290,u))}return u}function xg(u,p){throw u=Object.prototype.toString.call(p),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u))}function tA(u){var p=u._init;return p(u._payload)}function rA(u){function p(fe,ie){if(u){var pe=fe.deletions;pe===null?(fe.deletions=[ie],fe.flags|=16):pe.push(ie)}}function v(fe,ie){if(!u)return null;for(;ie!==null;)p(fe,ie),ie=ie.sibling;return null}function N(fe,ie){for(fe=new Map;ie!==null;)ie.key!==null?fe.set(ie.key,ie):fe.set(ie.index,ie),ie=ie.sibling;return fe}function T(fe,ie){return fe=Io(fe,ie),fe.index=0,fe.sibling=null,fe}function R(fe,ie,pe){return fe.index=pe,u?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<ie?(fe.flags|=2,ie):pe):(fe.flags|=2,ie)):(fe.flags|=1048576,ie)}function W(fe){return u&&fe.alternate===null&&(fe.flags|=2),fe}function Z(fe,ie,pe,Oe){return ie===null||ie.tag!==6?(ie=Yw(pe,fe.mode,Oe),ie.return=fe,ie):(ie=T(ie,pe),ie.return=fe,ie)}function ne(fe,ie,pe,Oe){var Ye=pe.type;return Ye===k?Ce(fe,ie,pe.props.children,Oe,pe.key):ie!==null&&(ie.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===G&&tA(Ye)===ie.type)?(Oe=T(ie,pe.props),Oe.ref=Wf(fe,ie,pe),Oe.return=fe,Oe):(Oe=Wg(pe.type,pe.key,pe.props,null,fe.mode,Oe),Oe.ref=Wf(fe,ie,pe),Oe.return=fe,Oe)}function ge(fe,ie,pe,Oe){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==pe.containerInfo||ie.stateNode.implementation!==pe.implementation?(ie=Kw(pe,fe.mode,Oe),ie.return=fe,ie):(ie=T(ie,pe.children||[]),ie.return=fe,ie)}function Ce(fe,ie,pe,Oe,Ye){return ie===null||ie.tag!==7?(ie=Bl(pe,fe.mode,Oe,Ye),ie.return=fe,ie):(ie=T(ie,pe),ie.return=fe,ie)}function _e(fe,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Yw(""+ie,fe.mode,pe),ie.return=fe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:return pe=Wg(ie.type,ie.key,ie.props,null,fe.mode,pe),pe.ref=Wf(fe,null,ie),pe.return=fe,pe;case O:return ie=Kw(ie,fe.mode,pe),ie.return=fe,ie;case G:var Oe=ie._init;return _e(fe,Oe(ie._payload),pe)}if(je(ie)||H(ie))return ie=Bl(ie,fe.mode,pe,null),ie.return=fe,ie;xg(fe,ie)}return null}function Se(fe,ie,pe,Oe){var Ye=ie!==null?ie.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Ye!==null?null:Z(fe,ie,""+pe,Oe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case C:return pe.key===Ye?ne(fe,ie,pe,Oe):null;case O:return pe.key===Ye?ge(fe,ie,pe,Oe):null;case G:return Ye=pe._init,Se(fe,ie,Ye(pe._payload),Oe)}if(je(pe)||H(pe))return Ye!==null?null:Ce(fe,ie,pe,Oe,null);xg(fe,pe)}return null}function Ie(fe,ie,pe,Oe,Ye){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return fe=fe.get(pe)||null,Z(ie,fe,""+Oe,Ye);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case C:return fe=fe.get(Oe.key===null?pe:Oe.key)||null,ne(ie,fe,Oe,Ye);case O:return fe=fe.get(Oe.key===null?pe:Oe.key)||null,ge(ie,fe,Oe,Ye);case G:var et=Oe._init;return Ie(fe,ie,pe,et(Oe._payload),Ye)}if(je(Oe)||H(Oe))return fe=fe.get(pe)||null,Ce(ie,fe,Oe,Ye,null);xg(ie,Oe)}return null}function Ue(fe,ie,pe,Oe){for(var Ye=null,et=null,tt=ie,at=ie=0,ln=null;tt!==null&&at<pe.length;at++){tt.index>at?(ln=tt,tt=null):ln=tt.sibling;var Pt=Se(fe,tt,pe[at],Oe);if(Pt===null){tt===null&&(tt=ln);break}u&&tt&&Pt.alternate===null&&p(fe,tt),ie=R(Pt,ie,at),et===null?Ye=Pt:et.sibling=Pt,et=Pt,tt=ln}if(at===pe.length)return v(fe,tt),or&&Ml(fe,at),Ye;if(tt===null){for(;at<pe.length;at++)tt=_e(fe,pe[at],Oe),tt!==null&&(ie=R(tt,ie,at),et===null?Ye=tt:et.sibling=tt,et=tt);return or&&Ml(fe,at),Ye}for(tt=N(fe,tt);at<pe.length;at++)ln=Ie(tt,fe,at,pe[at],Oe),ln!==null&&(u&&ln.alternate!==null&&tt.delete(ln.key===null?at:ln.key),ie=R(ln,ie,at),et===null?Ye=ln:et.sibling=ln,et=ln);return u&&tt.forEach(function(Lo){return p(fe,Lo)}),or&&Ml(fe,at),Ye}function Ge(fe,ie,pe,Oe){var Ye=H(pe);if(typeof Ye!="function")throw Error(r(150));if(pe=Ye.call(pe),pe==null)throw Error(r(151));for(var et=Ye=null,tt=ie,at=ie=0,ln=null,Pt=pe.next();tt!==null&&!Pt.done;at++,Pt=pe.next()){tt.index>at?(ln=tt,tt=null):ln=tt.sibling;var Lo=Se(fe,tt,Pt.value,Oe);if(Lo===null){tt===null&&(tt=ln);break}u&&tt&&Lo.alternate===null&&p(fe,tt),ie=R(Lo,ie,at),et===null?Ye=Lo:et.sibling=Lo,et=Lo,tt=ln}if(Pt.done)return v(fe,tt),or&&Ml(fe,at),Ye;if(tt===null){for(;!Pt.done;at++,Pt=pe.next())Pt=_e(fe,Pt.value,Oe),Pt!==null&&(ie=R(Pt,ie,at),et===null?Ye=Pt:et.sibling=Pt,et=Pt);return or&&Ml(fe,at),Ye}for(tt=N(fe,tt);!Pt.done;at++,Pt=pe.next())Pt=Ie(tt,fe,at,Pt.value,Oe),Pt!==null&&(u&&Pt.alternate!==null&&tt.delete(Pt.key===null?at:Pt.key),ie=R(Pt,ie,at),et===null?Ye=Pt:et.sibling=Pt,et=Pt);return u&&tt.forEach(function(g7){return p(fe,g7)}),or&&Ml(fe,at),Ye}function _r(fe,ie,pe,Oe){if(typeof pe=="object"&&pe!==null&&pe.type===k&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case C:e:{for(var Ye=pe.key,et=ie;et!==null;){if(et.key===Ye){if(Ye=pe.type,Ye===k){if(et.tag===7){v(fe,et.sibling),ie=T(et,pe.props.children),ie.return=fe,fe=ie;break e}}else if(et.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===G&&tA(Ye)===et.type){v(fe,et.sibling),ie=T(et,pe.props),ie.ref=Wf(fe,et,pe),ie.return=fe,fe=ie;break e}v(fe,et);break}else p(fe,et);et=et.sibling}pe.type===k?(ie=Bl(pe.props.children,fe.mode,Oe,pe.key),ie.return=fe,fe=ie):(Oe=Wg(pe.type,pe.key,pe.props,null,fe.mode,Oe),Oe.ref=Wf(fe,ie,pe),Oe.return=fe,fe=Oe)}return W(fe);case O:e:{for(et=pe.key;ie!==null;){if(ie.key===et)if(ie.tag===4&&ie.stateNode.containerInfo===pe.containerInfo&&ie.stateNode.implementation===pe.implementation){v(fe,ie.sibling),ie=T(ie,pe.children||[]),ie.return=fe,fe=ie;break e}else{v(fe,ie);break}else p(fe,ie);ie=ie.sibling}ie=Kw(pe,fe.mode,Oe),ie.return=fe,fe=ie}return W(fe);case G:return et=pe._init,_r(fe,ie,et(pe._payload),Oe)}if(je(pe))return Ue(fe,ie,pe,Oe);if(H(pe))return Ge(fe,ie,pe,Oe);xg(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ie!==null&&ie.tag===6?(v(fe,ie.sibling),ie=T(ie,pe),ie.return=fe,fe=ie):(v(fe,ie),ie=Yw(pe,fe.mode,Oe),ie.return=fe,fe=ie),W(fe)):v(fe,ie)}return _r}var lu=rA(!0),nA=rA(!1),bg=_o(null),wg=null,cu=null,aw=null;function sw(){aw=cu=wg=null}function ow(u){var p=bg.current;nr(bg),u._currentValue=p}function lw(u,p,v){for(;u!==null;){var N=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,N!==null&&(N.childLanes|=p)):N!==null&&(N.childLanes&p)!==p&&(N.childLanes|=p),u===v)break;u=u.return}}function uu(u,p){wg=u,aw=cu=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&p)!==0&&(ti=!0),u.firstContext=null)}function Bi(u){var p=u._currentValue;if(aw!==u)if(u={context:u,memoizedValue:p,next:null},cu===null){if(wg===null)throw Error(r(308));cu=u,wg.dependencies={lanes:0,firstContext:u}}else cu=cu.next=u;return p}var Dl=null;function cw(u){Dl===null?Dl=[u]:Dl.push(u)}function iA(u,p,v,N){var T=p.interleaved;return T===null?(v.next=v,cw(p)):(v.next=T.next,T.next=v),p.interleaved=v,Ms(u,N)}function Ms(u,p){u.lanes|=p;var v=u.alternate;for(v!==null&&(v.lanes|=p),v=u,u=u.return;u!==null;)u.childLanes|=p,v=u.alternate,v!==null&&(v.childLanes|=p),v=u,u=u.return;return v.tag===3?v.stateNode:null}var ko=!1;function uw(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aA(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ds(u,p){return{eventTime:u,lane:p,tag:0,payload:null,callback:null,next:null}}function To(u,p,v){var N=u.updateQueue;if(N===null)return null;if(N=N.shared,(_t&2)!==0){var T=N.pending;return T===null?p.next=p:(p.next=T.next,T.next=p),N.pending=p,Ms(u,v)}return T=N.interleaved,T===null?(p.next=p,cw(N)):(p.next=T.next,T.next=p),N.interleaved=p,Ms(u,v)}function jg(u,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var N=p.lanes;N&=u.pendingLanes,v|=N,p.lanes=v,Nf(u,v)}}function sA(u,p){var v=u.updateQueue,N=u.alternate;if(N!==null&&(N=N.updateQueue,v===N)){var T=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var W={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};R===null?T=R=W:R=R.next=W,v=v.next}while(v!==null);R===null?T=R=p:R=R.next=p}else T=R=p;v={baseState:N.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:N.shared,effects:N.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=p:u.next=p,v.lastBaseUpdate=p}function Sg(u,p,v,N){var T=u.updateQueue;ko=!1;var R=T.firstBaseUpdate,W=T.lastBaseUpdate,Z=T.shared.pending;if(Z!==null){T.shared.pending=null;var ne=Z,ge=ne.next;ne.next=null,W===null?R=ge:W.next=ge,W=ne;var Ce=u.alternate;Ce!==null&&(Ce=Ce.updateQueue,Z=Ce.lastBaseUpdate,Z!==W&&(Z===null?Ce.firstBaseUpdate=ge:Z.next=ge,Ce.lastBaseUpdate=ne))}if(R!==null){var _e=T.baseState;W=0,Ce=ge=ne=null,Z=R;do{var Se=Z.lane,Ie=Z.eventTime;if((N&Se)===Se){Ce!==null&&(Ce=Ce.next={eventTime:Ie,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Ue=u,Ge=Z;switch(Se=p,Ie=v,Ge.tag){case 1:if(Ue=Ge.payload,typeof Ue=="function"){_e=Ue.call(Ie,_e,Se);break e}_e=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ge.payload,Se=typeof Ue=="function"?Ue.call(Ie,_e,Se):Ue,Se==null)break e;_e=I({},_e,Se);break e;case 2:ko=!0}}Z.callback!==null&&Z.lane!==0&&(u.flags|=64,Se=T.effects,Se===null?T.effects=[Z]:Se.push(Z))}else Ie={eventTime:Ie,lane:Se,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ce===null?(ge=Ce=Ie,ne=_e):Ce=Ce.next=Ie,W|=Se;if(Z=Z.next,Z===null){if(Z=T.shared.pending,Z===null)break;Se=Z,Z=Se.next,Se.next=null,T.lastBaseUpdate=Se,T.shared.pending=null}}while(!0);if(Ce===null&&(ne=_e),T.baseState=ne,T.firstBaseUpdate=ge,T.lastBaseUpdate=Ce,p=T.shared.interleaved,p!==null){T=p;do W|=T.lane,T=T.next;while(T!==p)}else R===null&&(T.shared.lanes=0);Ll|=W,u.lanes=W,u.memoizedState=_e}}function oA(u,p,v){if(u=p.effects,p.effects=null,u!==null)for(p=0;p<u.length;p++){var N=u[p],T=N.callback;if(T!==null){if(N.callback=null,N=v,typeof T!="function")throw Error(r(191,T));T.call(N)}}}var Uf={},Qa=_o(Uf),qf=_o(Uf),Vf=_o(Uf);function Rl(u){if(u===Uf)throw Error(r(174));return u}function dw(u,p){switch(Zt(Vf,p),Zt(qf,u),Zt(Qa,Uf),u=p.nodeType,u){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:fr(null,"");break;default:u=u===8?p.parentNode:p,p=u.namespaceURI||null,u=u.tagName,p=fr(p,u)}nr(Qa),Zt(Qa,p)}function du(){nr(Qa),nr(qf),nr(Vf)}function lA(u){Rl(Vf.current);var p=Rl(Qa.current),v=fr(p,u.type);p!==v&&(Zt(qf,u),Zt(Qa,v))}function fw(u){qf.current===u&&(nr(Qa),nr(qf))}var pr=_o(0);function Cg(u){for(var p=u;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var hw=[];function pw(){for(var u=0;u<hw.length;u++)hw[u]._workInProgressVersionPrimary=null;hw.length=0}var Ng=P.ReactCurrentDispatcher,mw=P.ReactCurrentBatchConfig,Il=0,mr=null,$r=null,sn=null,_g=!1,Gf=!1,Xf=0,zG=0;function _n(){throw Error(r(321))}function gw(u,p){if(p===null)return!1;for(var v=0;v<p.length&&v<u.length;v++)if(!fa(u[v],p[v]))return!1;return!0}function vw(u,p,v,N,T,R){if(Il=R,mr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Ng.current=u===null||u.memoizedState===null?HG:WG,u=v(N,T),Gf){R=0;do{if(Gf=!1,Xf=0,25<=R)throw Error(r(301));R+=1,sn=$r=null,p.updateQueue=null,Ng.current=UG,u=v(N,T)}while(Gf)}if(Ng.current=kg,p=$r!==null&&$r.next!==null,Il=0,sn=$r=mr=null,_g=!1,p)throw Error(r(300));return u}function yw(){var u=Xf!==0;return Xf=0,u}function es(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?mr.memoizedState=sn=u:sn=sn.next=u,sn}function Hi(){if($r===null){var u=mr.alternate;u=u!==null?u.memoizedState:null}else u=$r.next;var p=sn===null?mr.memoizedState:sn.next;if(p!==null)sn=p,$r=u;else{if(u===null)throw Error(r(310));$r=u,u={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},sn===null?mr.memoizedState=sn=u:sn=sn.next=u}return sn}function Yf(u,p){return typeof p=="function"?p(u):p}function xw(u){var p=Hi(),v=p.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=u;var N=$r,T=N.baseQueue,R=v.pending;if(R!==null){if(T!==null){var W=T.next;T.next=R.next,R.next=W}N.baseQueue=T=R,v.pending=null}if(T!==null){R=T.next,N=N.baseState;var Z=W=null,ne=null,ge=R;do{var Ce=ge.lane;if((Il&Ce)===Ce)ne!==null&&(ne=ne.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),N=ge.hasEagerState?ge.eagerState:u(N,ge.action);else{var _e={lane:Ce,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};ne===null?(Z=ne=_e,W=N):ne=ne.next=_e,mr.lanes|=Ce,Ll|=Ce}ge=ge.next}while(ge!==null&&ge!==R);ne===null?W=N:ne.next=Z,fa(N,p.memoizedState)||(ti=!0),p.memoizedState=N,p.baseState=W,p.baseQueue=ne,v.lastRenderedState=N}if(u=v.interleaved,u!==null){T=u;do R=T.lane,mr.lanes|=R,Ll|=R,T=T.next;while(T!==u)}else T===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function bw(u){var p=Hi(),v=p.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=u;var N=v.dispatch,T=v.pending,R=p.memoizedState;if(T!==null){v.pending=null;var W=T=T.next;do R=u(R,W.action),W=W.next;while(W!==T);fa(R,p.memoizedState)||(ti=!0),p.memoizedState=R,p.baseQueue===null&&(p.baseState=R),v.lastRenderedState=R}return[R,N]}function cA(){}function uA(u,p){var v=mr,N=Hi(),T=p(),R=!fa(N.memoizedState,T);if(R&&(N.memoizedState=T,ti=!0),N=N.queue,ww(hA.bind(null,v,N,u),[u]),N.getSnapshot!==p||R||sn!==null&&sn.memoizedState.tag&1){if(v.flags|=2048,Kf(9,fA.bind(null,v,N,T,p),void 0,null),on===null)throw Error(r(349));(Il&30)!==0||dA(v,p,T)}return T}function dA(u,p,v){u.flags|=16384,u={getSnapshot:p,value:v},p=mr.updateQueue,p===null?(p={lastEffect:null,stores:null},mr.updateQueue=p,p.stores=[u]):(v=p.stores,v===null?p.stores=[u]:v.push(u))}function fA(u,p,v,N){p.value=v,p.getSnapshot=N,pA(p)&&mA(u)}function hA(u,p,v){return v(function(){pA(p)&&mA(u)})}function pA(u){var p=u.getSnapshot;u=u.value;try{var v=p();return!fa(u,v)}catch{return!0}}function mA(u){var p=Ms(u,1);p!==null&&va(p,u,1,-1)}function gA(u){var p=es();return typeof u=="function"&&(u=u()),p.memoizedState=p.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:u},p.queue=u,u=u.dispatch=BG.bind(null,mr,u),[p.memoizedState,u]}function Kf(u,p,v,N){return u={tag:u,create:p,destroy:v,deps:N,next:null},p=mr.updateQueue,p===null?(p={lastEffect:null,stores:null},mr.updateQueue=p,p.lastEffect=u.next=u):(v=p.lastEffect,v===null?p.lastEffect=u.next=u:(N=v.next,v.next=u,u.next=N,p.lastEffect=u)),u}function vA(){return Hi().memoizedState}function Og(u,p,v,N){var T=es();mr.flags|=u,T.memoizedState=Kf(1|p,v,void 0,N===void 0?null:N)}function Pg(u,p,v,N){var T=Hi();N=N===void 0?null:N;var R=void 0;if($r!==null){var W=$r.memoizedState;if(R=W.destroy,N!==null&&gw(N,W.deps)){T.memoizedState=Kf(p,v,R,N);return}}mr.flags|=u,T.memoizedState=Kf(1|p,v,R,N)}function yA(u,p){return Og(8390656,8,u,p)}function ww(u,p){return Pg(2048,8,u,p)}function xA(u,p){return Pg(4,2,u,p)}function bA(u,p){return Pg(4,4,u,p)}function wA(u,p){if(typeof p=="function")return u=u(),p(u),function(){p(null)};if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function jA(u,p,v){return v=v!=null?v.concat([u]):null,Pg(4,4,wA.bind(null,p,u),v)}function jw(){}function SA(u,p){var v=Hi();p=p===void 0?null:p;var N=v.memoizedState;return N!==null&&p!==null&&gw(p,N[1])?N[0]:(v.memoizedState=[u,p],u)}function CA(u,p){var v=Hi();p=p===void 0?null:p;var N=v.memoizedState;return N!==null&&p!==null&&gw(p,N[1])?N[0]:(u=u(),v.memoizedState=[u,p],u)}function NA(u,p,v){return(Il&21)===0?(u.baseState&&(u.baseState=!1,ti=!0),u.memoizedState=v):(fa(v,p)||(v=Zm(),mr.lanes|=v,Ll|=v,u.baseState=!0),p)}function FG(u,p){var v=Rt;Rt=v!==0&&4>v?v:4,u(!0);var N=mw.transition;mw.transition={};try{u(!1),p()}finally{Rt=v,mw.transition=N}}function _A(){return Hi().memoizedState}function $G(u,p,v){var N=Do(u);if(v={lane:N,action:v,hasEagerState:!1,eagerState:null,next:null},OA(u))PA(p,v);else if(v=iA(u,p,v,N),v!==null){var T=$n();va(v,u,N,T),kA(v,p,N)}}function BG(u,p,v){var N=Do(u),T={lane:N,action:v,hasEagerState:!1,eagerState:null,next:null};if(OA(u))PA(p,T);else{var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=p.lastRenderedReducer,R!==null))try{var W=p.lastRenderedState,Z=R(W,v);if(T.hasEagerState=!0,T.eagerState=Z,fa(Z,W)){var ne=p.interleaved;ne===null?(T.next=T,cw(p)):(T.next=ne.next,ne.next=T),p.interleaved=T;return}}catch{}finally{}v=iA(u,p,T,N),v!==null&&(T=$n(),va(v,u,N,T),kA(v,p,N))}}function OA(u){var p=u.alternate;return u===mr||p!==null&&p===mr}function PA(u,p){Gf=_g=!0;var v=u.pending;v===null?p.next=p:(p.next=v.next,v.next=p),u.pending=p}function kA(u,p,v){if((v&4194240)!==0){var N=p.lanes;N&=u.pendingLanes,v|=N,p.lanes=v,Nf(u,v)}}var kg={readContext:Bi,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},HG={readContext:Bi,useCallback:function(u,p){return es().memoizedState=[u,p===void 0?null:p],u},useContext:Bi,useEffect:yA,useImperativeHandle:function(u,p,v){return v=v!=null?v.concat([u]):null,Og(4194308,4,wA.bind(null,p,u),v)},useLayoutEffect:function(u,p){return Og(4194308,4,u,p)},useInsertionEffect:function(u,p){return Og(4,2,u,p)},useMemo:function(u,p){var v=es();return p=p===void 0?null:p,u=u(),v.memoizedState=[u,p],u},useReducer:function(u,p,v){var N=es();return p=v!==void 0?v(p):p,N.memoizedState=N.baseState=p,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:p},N.queue=u,u=u.dispatch=$G.bind(null,mr,u),[N.memoizedState,u]},useRef:function(u){var p=es();return u={current:u},p.memoizedState=u},useState:gA,useDebugValue:jw,useDeferredValue:function(u){return es().memoizedState=u},useTransition:function(){var u=gA(!1),p=u[0];return u=FG.bind(null,u[1]),es().memoizedState=u,[p,u]},useMutableSource:function(){},useSyncExternalStore:function(u,p,v){var N=mr,T=es();if(or){if(v===void 0)throw Error(r(407));v=v()}else{if(v=p(),on===null)throw Error(r(349));(Il&30)!==0||dA(N,p,v)}T.memoizedState=v;var R={value:v,getSnapshot:p};return T.queue=R,yA(hA.bind(null,N,R,u),[u]),N.flags|=2048,Kf(9,fA.bind(null,N,R,v,p),void 0,null),v},useId:function(){var u=es(),p=on.identifierPrefix;if(or){var v=Es,N=As;v=(N&~(1<<32-vn(N)-1)).toString(32)+v,p=":"+p+"R"+v,v=Xf++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=zG++,p=":"+p+"r"+v.toString(32)+":";return u.memoizedState=p},unstable_isNewReconciler:!1},WG={readContext:Bi,useCallback:SA,useContext:Bi,useEffect:ww,useImperativeHandle:jA,useInsertionEffect:xA,useLayoutEffect:bA,useMemo:CA,useReducer:xw,useRef:vA,useState:function(){return xw(Yf)},useDebugValue:jw,useDeferredValue:function(u){var p=Hi();return NA(p,$r.memoizedState,u)},useTransition:function(){var u=xw(Yf)[0],p=Hi().memoizedState;return[u,p]},useMutableSource:cA,useSyncExternalStore:uA,useId:_A,unstable_isNewReconciler:!1},UG={readContext:Bi,useCallback:SA,useContext:Bi,useEffect:ww,useImperativeHandle:jA,useInsertionEffect:xA,useLayoutEffect:bA,useMemo:CA,useReducer:bw,useRef:vA,useState:function(){return bw(Yf)},useDebugValue:jw,useDeferredValue:function(u){var p=Hi();return $r===null?p.memoizedState=u:NA(p,$r.memoizedState,u)},useTransition:function(){var u=bw(Yf)[0],p=Hi().memoizedState;return[u,p]},useMutableSource:cA,useSyncExternalStore:uA,useId:_A,unstable_isNewReconciler:!1};function pa(u,p){if(u&&u.defaultProps){p=I({},p),u=u.defaultProps;for(var v in u)p[v]===void 0&&(p[v]=u[v]);return p}return p}function Sw(u,p,v,N){p=u.memoizedState,v=v(N,p),v=v==null?p:I({},p,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var Tg={isMounted:function(u){return(u=u._reactInternals)?Ga(u)===u:!1},enqueueSetState:function(u,p,v){u=u._reactInternals;var N=$n(),T=Do(u),R=Ds(N,T);R.payload=p,v!=null&&(R.callback=v),p=To(u,R,T),p!==null&&(va(p,u,T,N),jg(p,u,T))},enqueueReplaceState:function(u,p,v){u=u._reactInternals;var N=$n(),T=Do(u),R=Ds(N,T);R.tag=1,R.payload=p,v!=null&&(R.callback=v),p=To(u,R,T),p!==null&&(va(p,u,T,N),jg(p,u,T))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var v=$n(),N=Do(u),T=Ds(v,N);T.tag=2,p!=null&&(T.callback=p),p=To(u,T,N),p!==null&&(va(p,u,N,v),jg(p,u,N))}};function TA(u,p,v,N,T,R,W){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(N,R,W):p.prototype&&p.prototype.isPureReactComponent?!If(v,N)||!If(T,R):!0}function AA(u,p,v){var N=!1,T=Oo,R=p.contextType;return typeof R=="object"&&R!==null?R=Bi(R):(T=ei(p)?Al:Nn.current,N=p.contextTypes,R=(N=N!=null)?iu(u,T):Oo),p=new p(v,R),u.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Tg,u.stateNode=p,p._reactInternals=u,N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=R),p}function EA(u,p,v,N){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,N),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,N),p.state!==u&&Tg.enqueueReplaceState(p,p.state,null)}function Cw(u,p,v,N){var T=u.stateNode;T.props=v,T.state=u.memoizedState,T.refs={},uw(u);var R=p.contextType;typeof R=="object"&&R!==null?T.context=Bi(R):(R=ei(p)?Al:Nn.current,T.context=iu(u,R)),T.state=u.memoizedState,R=p.getDerivedStateFromProps,typeof R=="function"&&(Sw(u,p,R,v),T.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(p=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),p!==T.state&&Tg.enqueueReplaceState(T,T.state,null),Sg(u,v,T,N),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}function fu(u,p){try{var v="",N=p;do v+=se(N),N=N.return;while(N);var T=v}catch(R){T=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:p,stack:T,digest:null}}function Nw(u,p,v){return{value:u,source:null,stack:v??null,digest:p??null}}function _w(u,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var qG=typeof WeakMap=="function"?WeakMap:Map;function MA(u,p,v){v=Ds(-1,v),v.tag=3,v.payload={element:null};var N=p.value;return v.callback=function(){Lg||(Lg=!0,Bw=N),_w(u,p)},v}function DA(u,p,v){v=Ds(-1,v),v.tag=3;var N=u.type.getDerivedStateFromError;if(typeof N=="function"){var T=p.value;v.payload=function(){return N(T)},v.callback=function(){_w(u,p)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(v.callback=function(){_w(u,p),typeof N!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var W=p.stack;this.componentDidCatch(p.value,{componentStack:W!==null?W:""})}),v}function RA(u,p,v){var N=u.pingCache;if(N===null){N=u.pingCache=new qG;var T=new Set;N.set(p,T)}else T=N.get(p),T===void 0&&(T=new Set,N.set(p,T));T.has(v)||(T.add(v),u=a7.bind(null,u,p,v),p.then(u,u))}function IA(u){do{var p;if((p=u.tag===13)&&(p=u.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return u;u=u.return}while(u!==null);return null}function LA(u,p,v,N,T){return(u.mode&1)===0?(u===p?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=Ds(-1,1),p.tag=2,To(v,p,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=T,u)}var VG=P.ReactCurrentOwner,ti=!1;function Fn(u,p,v,N){p.child=u===null?nA(p,null,v,N):lu(p,u.child,v,N)}function zA(u,p,v,N,T){v=v.render;var R=p.ref;return uu(p,T),N=vw(u,p,v,N,R,T),v=yw(),u!==null&&!ti?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~T,Rs(u,p,T)):(or&&v&&ew(p),p.flags|=1,Fn(u,p,N,T),p.child)}function FA(u,p,v,N,T){if(u===null){var R=v.type;return typeof R=="function"&&!Xw(R)&&R.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=R,$A(u,p,R,N,T)):(u=Wg(v.type,null,N,p,p.mode,T),u.ref=p.ref,u.return=p,p.child=u)}if(R=u.child,(u.lanes&T)===0){var W=R.memoizedProps;if(v=v.compare,v=v!==null?v:If,v(W,N)&&u.ref===p.ref)return Rs(u,p,T)}return p.flags|=1,u=Io(R,N),u.ref=p.ref,u.return=p,p.child=u}function $A(u,p,v,N,T){if(u!==null){var R=u.memoizedProps;if(If(R,N)&&u.ref===p.ref)if(ti=!1,p.pendingProps=N=R,(u.lanes&T)!==0)(u.flags&131072)!==0&&(ti=!0);else return p.lanes=u.lanes,Rs(u,p,T)}return Ow(u,p,v,N,T)}function BA(u,p,v){var N=p.pendingProps,T=N.children,R=u!==null?u.memoizedState:null;if(N.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(pu,wi),wi|=v;else{if((v&1073741824)===0)return u=R!==null?R.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:u,cachePool:null,transitions:null},p.updateQueue=null,Zt(pu,wi),wi|=u,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=R!==null?R.baseLanes:v,Zt(pu,wi),wi|=N}else R!==null?(N=R.baseLanes|v,p.memoizedState=null):N=v,Zt(pu,wi),wi|=N;return Fn(u,p,T,v),p.child}function HA(u,p){var v=p.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function Ow(u,p,v,N,T){var R=ei(v)?Al:Nn.current;return R=iu(p,R),uu(p,T),v=vw(u,p,v,N,R,T),N=yw(),u!==null&&!ti?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~T,Rs(u,p,T)):(or&&N&&ew(p),p.flags|=1,Fn(u,p,v,T),p.child)}function WA(u,p,v,N,T){if(ei(v)){var R=!0;pg(p)}else R=!1;if(uu(p,T),p.stateNode===null)Eg(u,p),AA(p,v,N),Cw(p,v,N,T),N=!0;else if(u===null){var W=p.stateNode,Z=p.memoizedProps;W.props=Z;var ne=W.context,ge=v.contextType;typeof ge=="object"&&ge!==null?ge=Bi(ge):(ge=ei(v)?Al:Nn.current,ge=iu(p,ge));var Ce=v.getDerivedStateFromProps,_e=typeof Ce=="function"||typeof W.getSnapshotBeforeUpdate=="function";_e||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Z!==N||ne!==ge)&&EA(p,W,N,ge),ko=!1;var Se=p.memoizedState;W.state=Se,Sg(p,N,W,T),ne=p.memoizedState,Z!==N||Se!==ne||Qn.current||ko?(typeof Ce=="function"&&(Sw(p,v,Ce,N),ne=p.memoizedState),(Z=ko||TA(p,v,Z,N,Se,ne,ge))?(_e||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(p.flags|=4194308)):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=N,p.memoizedState=ne),W.props=N,W.state=ne,W.context=ge,N=Z):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),N=!1)}else{W=p.stateNode,aA(u,p),Z=p.memoizedProps,ge=p.type===p.elementType?Z:pa(p.type,Z),W.props=ge,_e=p.pendingProps,Se=W.context,ne=v.contextType,typeof ne=="object"&&ne!==null?ne=Bi(ne):(ne=ei(v)?Al:Nn.current,ne=iu(p,ne));var Ie=v.getDerivedStateFromProps;(Ce=typeof Ie=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Z!==_e||Se!==ne)&&EA(p,W,N,ne),ko=!1,Se=p.memoizedState,W.state=Se,Sg(p,N,W,T);var Ue=p.memoizedState;Z!==_e||Se!==Ue||Qn.current||ko?(typeof Ie=="function"&&(Sw(p,v,Ie,N),Ue=p.memoizedState),(ge=ko||TA(p,v,ge,N,Se,Ue,ne)||!1)?(Ce||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(N,Ue,ne),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(N,Ue,ne)),typeof W.componentDidUpdate=="function"&&(p.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof W.componentDidUpdate!="function"||Z===u.memoizedProps&&Se===u.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Se===u.memoizedState||(p.flags|=1024),p.memoizedProps=N,p.memoizedState=Ue),W.props=N,W.state=Ue,W.context=ne,N=ge):(typeof W.componentDidUpdate!="function"||Z===u.memoizedProps&&Se===u.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Se===u.memoizedState||(p.flags|=1024),N=!1)}return Pw(u,p,v,N,R,T)}function Pw(u,p,v,N,T,R){HA(u,p);var W=(p.flags&128)!==0;if(!N&&!W)return T&&XT(p,v,!1),Rs(u,p,R);N=p.stateNode,VG.current=p;var Z=W&&typeof v.getDerivedStateFromError!="function"?null:N.render();return p.flags|=1,u!==null&&W?(p.child=lu(p,u.child,null,R),p.child=lu(p,null,Z,R)):Fn(u,p,Z,R),p.memoizedState=N.state,T&&XT(p,v,!0),p.child}function UA(u){var p=u.stateNode;p.pendingContext?VT(u,p.pendingContext,p.pendingContext!==p.context):p.context&&VT(u,p.context,!1),dw(u,p.containerInfo)}function qA(u,p,v,N,T){return ou(),iw(T),p.flags|=256,Fn(u,p,v,N),p.child}var kw={dehydrated:null,treeContext:null,retryLane:0};function Tw(u){return{baseLanes:u,cachePool:null,transitions:null}}function VA(u,p,v){var N=p.pendingProps,T=pr.current,R=!1,W=(p.flags&128)!==0,Z;if((Z=W)||(Z=u!==null&&u.memoizedState===null?!1:(T&2)!==0),Z?(R=!0,p.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),Zt(pr,T&1),u===null)return nw(p),u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((p.mode&1)===0?p.lanes=1:u.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(W=N.children,u=N.fallback,R?(N=p.mode,R=p.child,W={mode:"hidden",children:W},(N&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=W):R=Ug(W,N,0,null),u=Bl(u,N,v,null),R.return=p,u.return=p,R.sibling=u,p.child=R,p.child.memoizedState=Tw(v),p.memoizedState=kw,u):Aw(p,W));if(T=u.memoizedState,T!==null&&(Z=T.dehydrated,Z!==null))return GG(u,p,W,N,Z,T,v);if(R){R=N.fallback,W=p.mode,T=u.child,Z=T.sibling;var ne={mode:"hidden",children:N.children};return(W&1)===0&&p.child!==T?(N=p.child,N.childLanes=0,N.pendingProps=ne,p.deletions=null):(N=Io(T,ne),N.subtreeFlags=T.subtreeFlags&14680064),Z!==null?R=Io(Z,R):(R=Bl(R,W,v,null),R.flags|=2),R.return=p,N.return=p,N.sibling=R,p.child=N,N=R,R=p.child,W=u.child.memoizedState,W=W===null?Tw(v):{baseLanes:W.baseLanes|v,cachePool:null,transitions:W.transitions},R.memoizedState=W,R.childLanes=u.childLanes&~v,p.memoizedState=kw,N}return R=u.child,u=R.sibling,N=Io(R,{mode:"visible",children:N.children}),(p.mode&1)===0&&(N.lanes=v),N.return=p,N.sibling=null,u!==null&&(v=p.deletions,v===null?(p.deletions=[u],p.flags|=16):v.push(u)),p.child=N,p.memoizedState=null,N}function Aw(u,p){return p=Ug({mode:"visible",children:p},u.mode,0,null),p.return=u,u.child=p}function Ag(u,p,v,N){return N!==null&&iw(N),lu(p,u.child,null,v),u=Aw(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function GG(u,p,v,N,T,R,W){if(v)return p.flags&256?(p.flags&=-257,N=Nw(Error(r(422))),Ag(u,p,W,N)):p.memoizedState!==null?(p.child=u.child,p.flags|=128,null):(R=N.fallback,T=p.mode,N=Ug({mode:"visible",children:N.children},T,0,null),R=Bl(R,T,W,null),R.flags|=2,N.return=p,R.return=p,N.sibling=R,p.child=N,(p.mode&1)!==0&&lu(p,u.child,null,W),p.child.memoizedState=Tw(W),p.memoizedState=kw,R);if((p.mode&1)===0)return Ag(u,p,W,null);if(T.data==="$!"){if(N=T.nextSibling&&T.nextSibling.dataset,N)var Z=N.dgst;return N=Z,R=Error(r(419)),N=Nw(R,N,void 0),Ag(u,p,W,N)}if(Z=(W&u.childLanes)!==0,ti||Z){if(N=on,N!==null){switch(W&-W){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(N.suspendedLanes|W))!==0?0:T,T!==0&&T!==R.retryLane&&(R.retryLane=T,Ms(u,T),va(N,u,T,-1))}return Gw(),N=Nw(Error(r(421))),Ag(u,p,W,N)}return T.data==="$?"?(p.flags|=128,p.child=u.child,p=s7.bind(null,u),T._reactRetry=p,null):(u=R.treeContext,bi=No(T.nextSibling),xi=p,or=!0,ha=null,u!==null&&(Fi[$i++]=As,Fi[$i++]=Es,Fi[$i++]=El,As=u.id,Es=u.overflow,El=p),p=Aw(p,N.children),p.flags|=4096,p)}function GA(u,p,v){u.lanes|=p;var N=u.alternate;N!==null&&(N.lanes|=p),lw(u.return,p,v)}function Ew(u,p,v,N,T){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:N,tail:v,tailMode:T}:(R.isBackwards=p,R.rendering=null,R.renderingStartTime=0,R.last=N,R.tail=v,R.tailMode=T)}function XA(u,p,v){var N=p.pendingProps,T=N.revealOrder,R=N.tail;if(Fn(u,p,N.children,v),N=pr.current,(N&2)!==0)N=N&1|2,p.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&GA(u,v,p);else if(u.tag===19)GA(u,v,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break e;for(;u.sibling===null;){if(u.return===null||u.return===p)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}N&=1}if(Zt(pr,N),(p.mode&1)===0)p.memoizedState=null;else switch(T){case"forwards":for(v=p.child,T=null;v!==null;)u=v.alternate,u!==null&&Cg(u)===null&&(T=v),v=v.sibling;v=T,v===null?(T=p.child,p.child=null):(T=v.sibling,v.sibling=null),Ew(p,!1,T,v,R);break;case"backwards":for(v=null,T=p.child,p.child=null;T!==null;){if(u=T.alternate,u!==null&&Cg(u)===null){p.child=T;break}u=T.sibling,T.sibling=v,v=T,T=u}Ew(p,!0,v,null,R);break;case"together":Ew(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Eg(u,p){(p.mode&1)===0&&u!==null&&(u.alternate=null,p.alternate=null,p.flags|=2)}function Rs(u,p,v){if(u!==null&&(p.dependencies=u.dependencies),Ll|=p.lanes,(v&p.childLanes)===0)return null;if(u!==null&&p.child!==u.child)throw Error(r(153));if(p.child!==null){for(u=p.child,v=Io(u,u.pendingProps),p.child=v,v.return=p;u.sibling!==null;)u=u.sibling,v=v.sibling=Io(u,u.pendingProps),v.return=p;v.sibling=null}return p.child}function XG(u,p,v){switch(p.tag){case 3:UA(p),ou();break;case 5:lA(p);break;case 1:ei(p.type)&&pg(p);break;case 4:dw(p,p.stateNode.containerInfo);break;case 10:var N=p.type._context,T=p.memoizedProps.value;Zt(bg,N._currentValue),N._currentValue=T;break;case 13:if(N=p.memoizedState,N!==null)return N.dehydrated!==null?(Zt(pr,pr.current&1),p.flags|=128,null):(v&p.child.childLanes)!==0?VA(u,p,v):(Zt(pr,pr.current&1),u=Rs(u,p,v),u!==null?u.sibling:null);Zt(pr,pr.current&1);break;case 19:if(N=(v&p.childLanes)!==0,(u.flags&128)!==0){if(N)return XA(u,p,v);p.flags|=128}if(T=p.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Zt(pr,pr.current),N)break;return null;case 22:case 23:return p.lanes=0,BA(u,p,v)}return Rs(u,p,v)}var YA,Mw,KA,JA;YA=function(u,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Mw=function(){},KA=function(u,p,v,N){var T=u.memoizedProps;if(T!==N){u=p.stateNode,Rl(Qa.current);var R=null;switch(v){case"input":T=Ne(u,T),N=Ne(u,N),R=[];break;case"select":T=I({},T,{value:void 0}),N=I({},N,{value:void 0}),R=[];break;case"textarea":T=Qe(u,T),N=Qe(u,N),R=[];break;default:typeof T.onClick!="function"&&typeof N.onClick=="function"&&(u.onclick=dg)}In(v,N);var W;v=null;for(ge in T)if(!N.hasOwnProperty(ge)&&T.hasOwnProperty(ge)&&T[ge]!=null)if(ge==="style"){var Z=T[ge];for(W in Z)Z.hasOwnProperty(W)&&(v||(v={}),v[W]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(i.hasOwnProperty(ge)?R||(R=[]):(R=R||[]).push(ge,null));for(ge in N){var ne=N[ge];if(Z=T?.[ge],N.hasOwnProperty(ge)&&ne!==Z&&(ne!=null||Z!=null))if(ge==="style")if(Z){for(W in Z)!Z.hasOwnProperty(W)||ne&&ne.hasOwnProperty(W)||(v||(v={}),v[W]="");for(W in ne)ne.hasOwnProperty(W)&&Z[W]!==ne[W]&&(v||(v={}),v[W]=ne[W])}else v||(R||(R=[]),R.push(ge,v)),v=ne;else ge==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Z=Z?Z.__html:void 0,ne!=null&&Z!==ne&&(R=R||[]).push(ge,ne)):ge==="children"?typeof ne!="string"&&typeof ne!="number"||(R=R||[]).push(ge,""+ne):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(i.hasOwnProperty(ge)?(ne!=null&&ge==="onScroll"&&rr("scroll",u),R||Z===ne||(R=[])):(R=R||[]).push(ge,ne))}v&&(R=R||[]).push("style",v);var ge=R;(p.updateQueue=ge)&&(p.flags|=4)}},JA=function(u,p,v,N){v!==N&&(p.flags|=4)};function Jf(u,p){if(!or)switch(u.tailMode){case"hidden":p=u.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var N=null;v!==null;)v.alternate!==null&&(N=v),v=v.sibling;N===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:N.sibling=null}}function On(u){var p=u.alternate!==null&&u.alternate.child===u.child,v=0,N=0;if(p)for(var T=u.child;T!==null;)v|=T.lanes|T.childLanes,N|=T.subtreeFlags&14680064,N|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)v|=T.lanes|T.childLanes,N|=T.subtreeFlags,N|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=N,u.childLanes=v,p}function YG(u,p,v){var N=p.pendingProps;switch(tw(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(p),null;case 1:return ei(p.type)&&hg(),On(p),null;case 3:return N=p.stateNode,du(),nr(Qn),nr(Nn),pw(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(u===null||u.child===null)&&(yg(p)?p.flags|=4:u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,ha!==null&&(Uw(ha),ha=null))),Mw(u,p),On(p),null;case 5:fw(p);var T=Rl(Vf.current);if(v=p.type,u!==null&&p.stateNode!=null)KA(u,p,v,N,T),u.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!N){if(p.stateNode===null)throw Error(r(166));return On(p),null}if(u=Rl(Qa.current),yg(p)){N=p.stateNode,v=p.type;var R=p.memoizedProps;switch(N[Za]=p,N[Bf]=R,u=(p.mode&1)!==0,v){case"dialog":rr("cancel",N),rr("close",N);break;case"iframe":case"object":case"embed":rr("load",N);break;case"video":case"audio":for(T=0;T<zf.length;T++)rr(zf[T],N);break;case"source":rr("error",N);break;case"img":case"image":case"link":rr("error",N),rr("load",N);break;case"details":rr("toggle",N);break;case"input":Fe(N,R),rr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!R.multiple},rr("invalid",N);break;case"textarea":zt(N,R),rr("invalid",N)}In(v,R),T=null;for(var W in R)if(R.hasOwnProperty(W)){var Z=R[W];W==="children"?typeof Z=="string"?N.textContent!==Z&&(R.suppressHydrationWarning!==!0&&ug(N.textContent,Z,u),T=["children",Z]):typeof Z=="number"&&N.textContent!==""+Z&&(R.suppressHydrationWarning!==!0&&ug(N.textContent,Z,u),T=["children",""+Z]):i.hasOwnProperty(W)&&Z!=null&&W==="onScroll"&&rr("scroll",N)}switch(v){case"input":xe(N),mt(N,R,!0);break;case"textarea":xe(N),tn(N);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(N.onclick=dg)}N=T,p.updateQueue=N,N!==null&&(p.flags|=4)}else{W=T.nodeType===9?T:T.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=rn(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=W.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof N.is=="string"?u=W.createElement(v,{is:N.is}):(u=W.createElement(v),v==="select"&&(W=u,N.multiple?W.multiple=!0:N.size&&(W.size=N.size))):u=W.createElementNS(u,v),u[Za]=p,u[Bf]=N,YA(u,p,!1,!1),p.stateNode=u;e:{switch(W=Ps(v,N),v){case"dialog":rr("cancel",u),rr("close",u),T=N;break;case"iframe":case"object":case"embed":rr("load",u),T=N;break;case"video":case"audio":for(T=0;T<zf.length;T++)rr(zf[T],u);T=N;break;case"source":rr("error",u),T=N;break;case"img":case"image":case"link":rr("error",u),rr("load",u),T=N;break;case"details":rr("toggle",u),T=N;break;case"input":Fe(u,N),T=Ne(u,N),rr("invalid",u);break;case"option":T=N;break;case"select":u._wrapperState={wasMultiple:!!N.multiple},T=I({},N,{value:void 0}),rr("invalid",u);break;case"textarea":zt(u,N),T=Qe(u,N),rr("invalid",u);break;default:T=N}In(v,T),Z=T;for(R in Z)if(Z.hasOwnProperty(R)){var ne=Z[R];R==="style"?gi(u,ne):R==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&jn(u,ne)):R==="children"?typeof ne=="string"?(v!=="textarea"||ne!=="")&&zr(u,ne):typeof ne=="number"&&zr(u,""+ne):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?ne!=null&&R==="onScroll"&&rr("scroll",u):ne!=null&&_(u,R,ne,W))}switch(v){case"input":xe(u),mt(u,N,!1);break;case"textarea":xe(u),tn(u);break;case"option":N.value!=null&&u.setAttribute("value",""+de(N.value));break;case"select":u.multiple=!!N.multiple,R=N.value,R!=null?gt(u,!!N.multiple,R,!1):N.defaultValue!=null&&gt(u,!!N.multiple,N.defaultValue,!0);break;default:typeof T.onClick=="function"&&(u.onclick=dg)}switch(v){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return On(p),null;case 6:if(u&&p.stateNode!=null)JA(u,p,u.memoizedProps,N);else{if(typeof N!="string"&&p.stateNode===null)throw Error(r(166));if(v=Rl(Vf.current),Rl(Qa.current),yg(p)){if(N=p.stateNode,v=p.memoizedProps,N[Za]=p,(R=N.nodeValue!==v)&&(u=xi,u!==null))switch(u.tag){case 3:ug(N.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&ug(N.nodeValue,v,(u.mode&1)!==0)}R&&(p.flags|=4)}else N=(v.nodeType===9?v:v.ownerDocument).createTextNode(N),N[Za]=p,p.stateNode=N}return On(p),null;case 13:if(nr(pr),N=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(or&&bi!==null&&(p.mode&1)!==0&&(p.flags&128)===0)eA(),ou(),p.flags|=98560,R=!1;else if(R=yg(p),N!==null&&N.dehydrated!==null){if(u===null){if(!R)throw Error(r(318));if(R=p.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Za]=p}else ou(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;On(p),R=!1}else ha!==null&&(Uw(ha),ha=null),R=!0;if(!R)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=v,p):(N=N!==null,N!==(u!==null&&u.memoizedState!==null)&&N&&(p.child.flags|=8192,(p.mode&1)!==0&&(u===null||(pr.current&1)!==0?Br===0&&(Br=3):Gw())),p.updateQueue!==null&&(p.flags|=4),On(p),null);case 4:return du(),Mw(u,p),u===null&&Ff(p.stateNode.containerInfo),On(p),null;case 10:return ow(p.type._context),On(p),null;case 17:return ei(p.type)&&hg(),On(p),null;case 19:if(nr(pr),R=p.memoizedState,R===null)return On(p),null;if(N=(p.flags&128)!==0,W=R.rendering,W===null)if(N)Jf(R,!1);else{if(Br!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(W=Cg(u),W!==null){for(p.flags|=128,Jf(R,!1),N=W.updateQueue,N!==null&&(p.updateQueue=N,p.flags|=4),p.subtreeFlags=0,N=v,v=p.child;v!==null;)R=v,u=N,R.flags&=14680066,W=R.alternate,W===null?(R.childLanes=0,R.lanes=u,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=W.childLanes,R.lanes=W.lanes,R.child=W.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=W.memoizedProps,R.memoizedState=W.memoizedState,R.updateQueue=W.updateQueue,R.type=W.type,u=W.dependencies,R.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return Zt(pr,pr.current&1|2),p.child}u=u.sibling}R.tail!==null&&hr()>mu&&(p.flags|=128,N=!0,Jf(R,!1),p.lanes=4194304)}else{if(!N)if(u=Cg(W),u!==null){if(p.flags|=128,N=!0,v=u.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),Jf(R,!0),R.tail===null&&R.tailMode==="hidden"&&!W.alternate&&!or)return On(p),null}else 2*hr()-R.renderingStartTime>mu&&v!==1073741824&&(p.flags|=128,N=!0,Jf(R,!1),p.lanes=4194304);R.isBackwards?(W.sibling=p.child,p.child=W):(v=R.last,v!==null?v.sibling=W:p.child=W,R.last=W)}return R.tail!==null?(p=R.tail,R.rendering=p,R.tail=p.sibling,R.renderingStartTime=hr(),p.sibling=null,v=pr.current,Zt(pr,N?v&1|2:v&1),p):(On(p),null);case 22:case 23:return Vw(),N=p.memoizedState!==null,u!==null&&u.memoizedState!==null!==N&&(p.flags|=8192),N&&(p.mode&1)!==0?(wi&1073741824)!==0&&(On(p),p.subtreeFlags&6&&(p.flags|=8192)):On(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function KG(u,p){switch(tw(p),p.tag){case 1:return ei(p.type)&&hg(),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return du(),nr(Qn),nr(Nn),pw(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 5:return fw(p),null;case 13:if(nr(pr),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(r(340));ou()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return nr(pr),null;case 4:return du(),null;case 10:return ow(p.type._context),null;case 22:case 23:return Vw(),null;case 24:return null;default:return null}}var Mg=!1,Pn=!1,JG=typeof WeakSet=="function"?WeakSet:Set,Be=null;function hu(u,p){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(N){Sr(u,p,N)}else v.current=null}function Dw(u,p,v){try{v()}catch(N){Sr(u,p,N)}}var ZA=!1;function ZG(u,p){if(Vb=Kc,u=TT(),zb(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var N=v.getSelection&&v.getSelection();if(N&&N.rangeCount!==0){v=N.anchorNode;var T=N.anchorOffset,R=N.focusNode;N=N.focusOffset;try{v.nodeType,R.nodeType}catch{v=null;break e}var W=0,Z=-1,ne=-1,ge=0,Ce=0,_e=u,Se=null;t:for(;;){for(var Ie;_e!==v||T!==0&&_e.nodeType!==3||(Z=W+T),_e!==R||N!==0&&_e.nodeType!==3||(ne=W+N),_e.nodeType===3&&(W+=_e.nodeValue.length),(Ie=_e.firstChild)!==null;)Se=_e,_e=Ie;for(;;){if(_e===u)break t;if(Se===v&&++ge===T&&(Z=W),Se===R&&++Ce===N&&(ne=W),(Ie=_e.nextSibling)!==null)break;_e=Se,Se=_e.parentNode}_e=Ie}v=Z===-1||ne===-1?null:{start:Z,end:ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(Gb={focusedElem:u,selectionRange:v},Kc=!1,Be=p;Be!==null;)if(p=Be,u=p.child,(p.subtreeFlags&1028)!==0&&u!==null)u.return=p,Be=u;else for(;Be!==null;){p=Be;try{var Ue=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var Ge=Ue.memoizedProps,_r=Ue.memoizedState,fe=p.stateNode,ie=fe.getSnapshotBeforeUpdate(p.elementType===p.type?Ge:pa(p.type,Ge),_r);fe.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var pe=p.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Oe){Sr(p,p.return,Oe)}if(u=p.sibling,u!==null){u.return=p.return,Be=u;break}Be=p.return}return Ue=ZA,ZA=!1,Ue}function Zf(u,p,v){var N=p.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var T=N=N.next;do{if((T.tag&u)===u){var R=T.destroy;T.destroy=void 0,R!==void 0&&Dw(p,v,R)}T=T.next}while(T!==N)}}function Dg(u,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&u)===u){var N=v.create;v.destroy=N()}v=v.next}while(v!==p)}}function Rw(u){var p=u.ref;if(p!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof p=="function"?p(u):p.current=u}}function QA(u){var p=u.alternate;p!==null&&(u.alternate=null,QA(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&(delete p[Za],delete p[Bf],delete p[Jb],delete p[DG],delete p[RG])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function eE(u){return u.tag===5||u.tag===3||u.tag===4}function tE(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||eE(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Iw(u,p,v){var N=u.tag;if(N===5||N===6)u=u.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(u,p):v.insertBefore(u,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(u,v)):(p=v,p.appendChild(u)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=dg));else if(N!==4&&(u=u.child,u!==null))for(Iw(u,p,v),u=u.sibling;u!==null;)Iw(u,p,v),u=u.sibling}function Lw(u,p,v){var N=u.tag;if(N===5||N===6)u=u.stateNode,p?v.insertBefore(u,p):v.appendChild(u);else if(N!==4&&(u=u.child,u!==null))for(Lw(u,p,v),u=u.sibling;u!==null;)Lw(u,p,v),u=u.sibling}var yn=null,ma=!1;function Ao(u,p,v){for(v=v.child;v!==null;)rE(u,p,v),v=v.sibling}function rE(u,p,v){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(jl,v)}catch{}switch(v.tag){case 5:Pn||hu(v,p);case 6:var N=yn,T=ma;yn=null,Ao(u,p,v),yn=N,ma=T,yn!==null&&(ma?(u=yn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):yn.removeChild(v.stateNode));break;case 18:yn!==null&&(ma?(u=yn,v=v.stateNode,u.nodeType===8?Kb(u.parentNode,v):u.nodeType===1&&Kb(u,v),kl(u)):Kb(yn,v.stateNode));break;case 4:N=yn,T=ma,yn=v.stateNode.containerInfo,ma=!0,Ao(u,p,v),yn=N,ma=T;break;case 0:case 11:case 14:case 15:if(!Pn&&(N=v.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){T=N=N.next;do{var R=T,W=R.destroy;R=R.tag,W!==void 0&&((R&2)!==0||(R&4)!==0)&&Dw(v,p,W),T=T.next}while(T!==N)}Ao(u,p,v);break;case 1:if(!Pn&&(hu(v,p),N=v.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=v.memoizedProps,N.state=v.memoizedState,N.componentWillUnmount()}catch(Z){Sr(v,p,Z)}Ao(u,p,v);break;case 21:Ao(u,p,v);break;case 22:v.mode&1?(Pn=(N=Pn)||v.memoizedState!==null,Ao(u,p,v),Pn=N):Ao(u,p,v);break;default:Ao(u,p,v)}}function nE(u){var p=u.updateQueue;if(p!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new JG),p.forEach(function(N){var T=o7.bind(null,u,N);v.has(N)||(v.add(N),N.then(T,T))})}}function ga(u,p){var v=p.deletions;if(v!==null)for(var N=0;N<v.length;N++){var T=v[N];try{var R=u,W=p,Z=W;e:for(;Z!==null;){switch(Z.tag){case 5:yn=Z.stateNode,ma=!1;break e;case 3:yn=Z.stateNode.containerInfo,ma=!0;break e;case 4:yn=Z.stateNode.containerInfo,ma=!0;break e}Z=Z.return}if(yn===null)throw Error(r(160));rE(R,W,T),yn=null,ma=!1;var ne=T.alternate;ne!==null&&(ne.return=null),T.return=null}catch(ge){Sr(T,p,ge)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)iE(p,u),p=p.sibling}function iE(u,p){var v=u.alternate,N=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ga(p,u),ts(u),N&4){try{Zf(3,u,u.return),Dg(3,u)}catch(Ge){Sr(u,u.return,Ge)}try{Zf(5,u,u.return)}catch(Ge){Sr(u,u.return,Ge)}}break;case 1:ga(p,u),ts(u),N&512&&v!==null&&hu(v,v.return);break;case 5:if(ga(p,u),ts(u),N&512&&v!==null&&hu(v,v.return),u.flags&32){var T=u.stateNode;try{zr(T,"")}catch(Ge){Sr(u,u.return,Ge)}}if(N&4&&(T=u.stateNode,T!=null)){var R=u.memoizedProps,W=v!==null?v.memoizedProps:R,Z=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{Z==="input"&&R.type==="radio"&&R.name!=null&&Ke(T,R),Ps(Z,W);var ge=Ps(Z,R);for(W=0;W<ne.length;W+=2){var Ce=ne[W],_e=ne[W+1];Ce==="style"?gi(T,_e):Ce==="dangerouslySetInnerHTML"?jn(T,_e):Ce==="children"?zr(T,_e):_(T,Ce,_e,ge)}switch(Z){case"input":Re(T,R);break;case"textarea":en(T,R);break;case"select":var Se=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!R.multiple;var Ie=R.value;Ie!=null?gt(T,!!R.multiple,Ie,!1):Se!==!!R.multiple&&(R.defaultValue!=null?gt(T,!!R.multiple,R.defaultValue,!0):gt(T,!!R.multiple,R.multiple?[]:"",!1))}T[Bf]=R}catch(Ge){Sr(u,u.return,Ge)}}break;case 6:if(ga(p,u),ts(u),N&4){if(u.stateNode===null)throw Error(r(162));T=u.stateNode,R=u.memoizedProps;try{T.nodeValue=R}catch(Ge){Sr(u,u.return,Ge)}}break;case 3:if(ga(p,u),ts(u),N&4&&v!==null&&v.memoizedState.isDehydrated)try{kl(p.containerInfo)}catch(Ge){Sr(u,u.return,Ge)}break;case 4:ga(p,u),ts(u);break;case 13:ga(p,u),ts(u),T=u.child,T.flags&8192&&(R=T.memoizedState!==null,T.stateNode.isHidden=R,!R||T.alternate!==null&&T.alternate.memoizedState!==null||($w=hr())),N&4&&nE(u);break;case 22:if(Ce=v!==null&&v.memoizedState!==null,u.mode&1?(Pn=(ge=Pn)||Ce,ga(p,u),Pn=ge):ga(p,u),ts(u),N&8192){if(ge=u.memoizedState!==null,(u.stateNode.isHidden=ge)&&!Ce&&(u.mode&1)!==0)for(Be=u,Ce=u.child;Ce!==null;){for(_e=Be=Ce;Be!==null;){switch(Se=Be,Ie=Se.child,Se.tag){case 0:case 11:case 14:case 15:Zf(4,Se,Se.return);break;case 1:hu(Se,Se.return);var Ue=Se.stateNode;if(typeof Ue.componentWillUnmount=="function"){N=Se,v=Se.return;try{p=N,Ue.props=p.memoizedProps,Ue.state=p.memoizedState,Ue.componentWillUnmount()}catch(Ge){Sr(N,v,Ge)}}break;case 5:hu(Se,Se.return);break;case 22:if(Se.memoizedState!==null){oE(_e);continue}}Ie!==null?(Ie.return=Se,Be=Ie):oE(_e)}Ce=Ce.sibling}e:for(Ce=null,_e=u;;){if(_e.tag===5){if(Ce===null){Ce=_e;try{T=_e.stateNode,ge?(R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(Z=_e.stateNode,ne=_e.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Z.style.display=qa("display",W))}catch(Ge){Sr(u,u.return,Ge)}}}else if(_e.tag===6){if(Ce===null)try{_e.stateNode.nodeValue=ge?"":_e.memoizedProps}catch(Ge){Sr(u,u.return,Ge)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===u)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===u)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===u)break e;Ce===_e&&(Ce=null),_e=_e.return}Ce===_e&&(Ce=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ga(p,u),ts(u),N&4&&nE(u);break;case 21:break;default:ga(p,u),ts(u)}}function ts(u){var p=u.flags;if(p&2){try{e:{for(var v=u.return;v!==null;){if(eE(v)){var N=v;break e}v=v.return}throw Error(r(160))}switch(N.tag){case 5:var T=N.stateNode;N.flags&32&&(zr(T,""),N.flags&=-33);var R=tE(u);Lw(u,R,T);break;case 3:case 4:var W=N.stateNode.containerInfo,Z=tE(u);Iw(u,Z,W);break;default:throw Error(r(161))}}catch(ne){Sr(u,u.return,ne)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function QG(u,p,v){Be=u,aE(u)}function aE(u,p,v){for(var N=(u.mode&1)!==0;Be!==null;){var T=Be,R=T.child;if(T.tag===22&&N){var W=T.memoizedState!==null||Mg;if(!W){var Z=T.alternate,ne=Z!==null&&Z.memoizedState!==null||Pn;Z=Mg;var ge=Pn;if(Mg=W,(Pn=ne)&&!ge)for(Be=T;Be!==null;)W=Be,ne=W.child,W.tag===22&&W.memoizedState!==null?lE(T):ne!==null?(ne.return=W,Be=ne):lE(T);for(;R!==null;)Be=R,aE(R),R=R.sibling;Be=T,Mg=Z,Pn=ge}sE(u)}else(T.subtreeFlags&8772)!==0&&R!==null?(R.return=T,Be=R):sE(u)}}function sE(u){for(;Be!==null;){var p=Be;if((p.flags&8772)!==0){var v=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Pn||Dg(5,p);break;case 1:var N=p.stateNode;if(p.flags&4&&!Pn)if(v===null)N.componentDidMount();else{var T=p.elementType===p.type?v.memoizedProps:pa(p.type,v.memoizedProps);N.componentDidUpdate(T,v.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var R=p.updateQueue;R!==null&&oA(p,R,N);break;case 3:var W=p.updateQueue;if(W!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}oA(p,W,v)}break;case 5:var Z=p.stateNode;if(v===null&&p.flags&4){v=Z;var ne=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&v.focus();break;case"img":ne.src&&(v.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ge=p.alternate;if(ge!==null){var Ce=ge.memoizedState;if(Ce!==null){var _e=Ce.dehydrated;_e!==null&&kl(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Pn||p.flags&512&&Rw(p)}catch(Se){Sr(p,p.return,Se)}}if(p===u){Be=null;break}if(v=p.sibling,v!==null){v.return=p.return,Be=v;break}Be=p.return}}function oE(u){for(;Be!==null;){var p=Be;if(p===u){Be=null;break}var v=p.sibling;if(v!==null){v.return=p.return,Be=v;break}Be=p.return}}function lE(u){for(;Be!==null;){var p=Be;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{Dg(4,p)}catch(ne){Sr(p,v,ne)}break;case 1:var N=p.stateNode;if(typeof N.componentDidMount=="function"){var T=p.return;try{N.componentDidMount()}catch(ne){Sr(p,T,ne)}}var R=p.return;try{Rw(p)}catch(ne){Sr(p,R,ne)}break;case 5:var W=p.return;try{Rw(p)}catch(ne){Sr(p,W,ne)}}}catch(ne){Sr(p,p.return,ne)}if(p===u){Be=null;break}var Z=p.sibling;if(Z!==null){Z.return=p.return,Be=Z;break}Be=p.return}}var e7=Math.ceil,Rg=P.ReactCurrentDispatcher,zw=P.ReactCurrentOwner,Wi=P.ReactCurrentBatchConfig,_t=0,on=null,Tr=null,xn=0,wi=0,pu=_o(0),Br=0,Qf=null,Ll=0,Ig=0,Fw=0,eh=null,ri=null,$w=0,mu=1/0,Is=null,Lg=!1,Bw=null,Eo=null,zg=!1,Mo=null,Fg=0,th=0,Hw=null,$g=-1,Bg=0;function $n(){return(_t&6)!==0?hr():$g!==-1?$g:$g=hr()}function Do(u){return(u.mode&1)===0?1:(_t&2)!==0&&xn!==0?xn&-xn:LG.transition!==null?(Bg===0&&(Bg=Zm()),Bg):(u=Rt,u!==0||(u=window.event,u=u===void 0?16:Ae(u.type)),u)}function va(u,p,v,N){if(50<th)throw th=0,Hw=null,Error(r(185));Nl(u,v,N),((_t&2)===0||u!==on)&&(u===on&&((_t&2)===0&&(Ig|=v),Br===4&&Ro(u,xn)),ni(u,N),v===1&&_t===0&&(p.mode&1)===0&&(mu=hr()+500,mg&&Po()))}function ni(u,p){var v=u.callbackNode;_b(u,p);var N=Ka(u,u===on?xn:0);if(N===0)v!==null&&yf(v),u.callbackNode=null,u.callbackPriority=0;else if(p=N&-N,u.callbackPriority!==p){if(v!=null&&yf(v),p===1)u.tag===0?IG(uE.bind(null,u)):YT(uE.bind(null,u)),EG(function(){(_t&6)===0&&Po()}),v=null;else{switch(Qm(N)){case 1:v=wf;break;case 4:v=Xm;break;case 16:v=Gc;break;case 536870912:v=Ym;break;default:v=Gc}v=yE(v,cE.bind(null,u))}u.callbackPriority=p,u.callbackNode=v}}function cE(u,p){if($g=-1,Bg=0,(_t&6)!==0)throw Error(r(327));var v=u.callbackNode;if(gu()&&u.callbackNode!==v)return null;var N=Ka(u,u===on?xn:0);if(N===0)return null;if((N&30)!==0||(N&u.expiredLanes)!==0||p)p=Hg(u,N);else{p=N;var T=_t;_t|=2;var R=fE();(on!==u||xn!==p)&&(Is=null,mu=hr()+500,Fl(u,p));do try{n7();break}catch(Z){dE(u,Z)}while(!0);sw(),Rg.current=R,_t=T,Tr!==null?p=0:(on=null,xn=0,p=Br)}if(p!==0){if(p===2&&(T=Xc(u),T!==0&&(N=T,p=Ww(u,T))),p===1)throw v=Qf,Fl(u,0),Ro(u,N),ni(u,hr()),v;if(p===6)Ro(u,N);else{if(T=u.current.alternate,(N&30)===0&&!t7(T)&&(p=Hg(u,N),p===2&&(R=Xc(u),R!==0&&(N=R,p=Ww(u,R))),p===1))throw v=Qf,Fl(u,0),Ro(u,N),ni(u,hr()),v;switch(u.finishedWork=T,u.finishedLanes=N,p){case 0:case 1:throw Error(r(345));case 2:$l(u,ri,Is);break;case 3:if(Ro(u,N),(N&130023424)===N&&(p=$w+500-hr(),10<p)){if(Ka(u,0)!==0)break;if(T=u.suspendedLanes,(T&N)!==N){$n(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=Yb($l.bind(null,u,ri,Is),p);break}$l(u,ri,Is);break;case 4:if(Ro(u,N),(N&4194240)===N)break;for(p=u.eventTimes,T=-1;0<N;){var W=31-vn(N);R=1<<W,W=p[W],W>T&&(T=W),N&=~R}if(N=T,N=hr()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*e7(N/1960))-N,10<N){u.timeoutHandle=Yb($l.bind(null,u,ri,Is),N);break}$l(u,ri,Is);break;case 5:$l(u,ri,Is);break;default:throw Error(r(329))}}}return ni(u,hr()),u.callbackNode===v?cE.bind(null,u):null}function Ww(u,p){var v=eh;return u.current.memoizedState.isDehydrated&&(Fl(u,p).flags|=256),u=Hg(u,p),u!==2&&(p=ri,ri=v,p!==null&&Uw(p)),u}function Uw(u){ri===null?ri=u:ri.push.apply(ri,u)}function t7(u){for(var p=u;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var N=0;N<v.length;N++){var T=v[N],R=T.getSnapshot;T=T.value;try{if(!fa(R(),T))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ro(u,p){for(p&=~Fw,p&=~Ig,u.suspendedLanes|=p,u.pingedLanes&=~p,u=u.expirationTimes;0<p;){var v=31-vn(p),N=1<<v;u[v]=-1,p&=~N}}function uE(u){if((_t&6)!==0)throw Error(r(327));gu();var p=Ka(u,0);if((p&1)===0)return ni(u,hr()),null;var v=Hg(u,p);if(u.tag!==0&&v===2){var N=Xc(u);N!==0&&(p=N,v=Ww(u,N))}if(v===1)throw v=Qf,Fl(u,0),Ro(u,p),ni(u,hr()),v;if(v===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=p,$l(u,ri,Is),ni(u,hr()),null}function qw(u,p){var v=_t;_t|=1;try{return u(p)}finally{_t=v,_t===0&&(mu=hr()+500,mg&&Po())}}function zl(u){Mo!==null&&Mo.tag===0&&(_t&6)===0&&gu();var p=_t;_t|=1;var v=Wi.transition,N=Rt;try{if(Wi.transition=null,Rt=1,u)return u()}finally{Rt=N,Wi.transition=v,_t=p,(_t&6)===0&&Po()}}function Vw(){wi=pu.current,nr(pu)}function Fl(u,p){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,AG(v)),Tr!==null)for(v=Tr.return;v!==null;){var N=v;switch(tw(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&hg();break;case 3:du(),nr(Qn),nr(Nn),pw();break;case 5:fw(N);break;case 4:du();break;case 13:nr(pr);break;case 19:nr(pr);break;case 10:ow(N.type._context);break;case 22:case 23:Vw()}v=v.return}if(on=u,Tr=u=Io(u.current,null),xn=wi=p,Br=0,Qf=null,Fw=Ig=Ll=0,ri=eh=null,Dl!==null){for(p=0;p<Dl.length;p++)if(v=Dl[p],N=v.interleaved,N!==null){v.interleaved=null;var T=N.next,R=v.pending;if(R!==null){var W=R.next;R.next=T,N.next=W}v.pending=N}Dl=null}return u}function dE(u,p){do{var v=Tr;try{if(sw(),Ng.current=kg,_g){for(var N=mr.memoizedState;N!==null;){var T=N.queue;T!==null&&(T.pending=null),N=N.next}_g=!1}if(Il=0,sn=$r=mr=null,Gf=!1,Xf=0,zw.current=null,v===null||v.return===null){Br=1,Qf=p,Tr=null;break}e:{var R=u,W=v.return,Z=v,ne=p;if(p=xn,Z.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ge=ne,Ce=Z,_e=Ce.tag;if((Ce.mode&1)===0&&(_e===0||_e===11||_e===15)){var Se=Ce.alternate;Se?(Ce.updateQueue=Se.updateQueue,Ce.memoizedState=Se.memoizedState,Ce.lanes=Se.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Ie=IA(W);if(Ie!==null){Ie.flags&=-257,LA(Ie,W,Z,R,p),Ie.mode&1&&RA(R,ge,p),p=Ie,ne=ge;var Ue=p.updateQueue;if(Ue===null){var Ge=new Set;Ge.add(ne),p.updateQueue=Ge}else Ue.add(ne);break e}else{if((p&1)===0){RA(R,ge,p),Gw();break e}ne=Error(r(426))}}else if(or&&Z.mode&1){var _r=IA(W);if(_r!==null){(_r.flags&65536)===0&&(_r.flags|=256),LA(_r,W,Z,R,p),iw(fu(ne,Z));break e}}R=ne=fu(ne,Z),Br!==4&&(Br=2),eh===null?eh=[R]:eh.push(R),R=W;do{switch(R.tag){case 3:R.flags|=65536,p&=-p,R.lanes|=p;var fe=MA(R,ne,p);sA(R,fe);break e;case 1:Z=ne;var ie=R.type,pe=R.stateNode;if((R.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(Eo===null||!Eo.has(pe)))){R.flags|=65536,p&=-p,R.lanes|=p;var Oe=DA(R,Z,p);sA(R,Oe);break e}}R=R.return}while(R!==null)}pE(v)}catch(Ye){p=Ye,Tr===v&&v!==null&&(Tr=v=v.return);continue}break}while(!0)}function fE(){var u=Rg.current;return Rg.current=kg,u===null?kg:u}function Gw(){(Br===0||Br===3||Br===2)&&(Br=4),on===null||(Ll&268435455)===0&&(Ig&268435455)===0||Ro(on,xn)}function Hg(u,p){var v=_t;_t|=2;var N=fE();(on!==u||xn!==p)&&(Is=null,Fl(u,p));do try{r7();break}catch(T){dE(u,T)}while(!0);if(sw(),_t=v,Rg.current=N,Tr!==null)throw Error(r(261));return on=null,xn=0,Br}function r7(){for(;Tr!==null;)hE(Tr)}function n7(){for(;Tr!==null&&!xf();)hE(Tr)}function hE(u){var p=vE(u.alternate,u,wi);u.memoizedProps=u.pendingProps,p===null?pE(u):Tr=p,zw.current=null}function pE(u){var p=u;do{var v=p.alternate;if(u=p.return,(p.flags&32768)===0){if(v=YG(v,p,wi),v!==null){Tr=v;return}}else{if(v=KG(v,p),v!==null){v.flags&=32767,Tr=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Br=6,Tr=null;return}}if(p=p.sibling,p!==null){Tr=p;return}Tr=p=u}while(p!==null);Br===0&&(Br=5)}function $l(u,p,v){var N=Rt,T=Wi.transition;try{Wi.transition=null,Rt=1,i7(u,p,v,N)}finally{Wi.transition=T,Rt=N}return null}function i7(u,p,v,N){do gu();while(Mo!==null);if((_t&6)!==0)throw Error(r(327));v=u.finishedWork;var T=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var R=v.lanes|v.childLanes;if(Ob(u,R),u===on&&(Tr=on=null,xn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||zg||(zg=!0,yE(Gc,function(){return gu(),null})),R=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||R){R=Wi.transition,Wi.transition=null;var W=Rt;Rt=1;var Z=_t;_t|=4,zw.current=null,ZG(u,v),iE(v,u),CG(Gb),Kc=!!Vb,Gb=Vb=null,u.current=v,QG(v),bf(),_t=Z,Rt=W,Wi.transition=R}else u.current=v;if(zg&&(zg=!1,Mo=u,Fg=T),R=u.pendingLanes,R===0&&(Eo=null),Sl(v.stateNode),ni(u,hr()),p!==null)for(N=u.onRecoverableError,v=0;v<p.length;v++)T=p[v],N(T.value,{componentStack:T.stack,digest:T.digest});if(Lg)throw Lg=!1,u=Bw,Bw=null,u;return(Fg&1)!==0&&u.tag!==0&&gu(),R=u.pendingLanes,(R&1)!==0?u===Hw?th++:(th=0,Hw=u):th=0,Po(),null}function gu(){if(Mo!==null){var u=Qm(Fg),p=Wi.transition,v=Rt;try{if(Wi.transition=null,Rt=16>u?16:u,Mo===null)var N=!1;else{if(u=Mo,Mo=null,Fg=0,(_t&6)!==0)throw Error(r(331));var T=_t;for(_t|=4,Be=u.current;Be!==null;){var R=Be,W=R.child;if((Be.flags&16)!==0){var Z=R.deletions;if(Z!==null){for(var ne=0;ne<Z.length;ne++){var ge=Z[ne];for(Be=ge;Be!==null;){var Ce=Be;switch(Ce.tag){case 0:case 11:case 15:Zf(8,Ce,R)}var _e=Ce.child;if(_e!==null)_e.return=Ce,Be=_e;else for(;Be!==null;){Ce=Be;var Se=Ce.sibling,Ie=Ce.return;if(QA(Ce),Ce===ge){Be=null;break}if(Se!==null){Se.return=Ie,Be=Se;break}Be=Ie}}}var Ue=R.alternate;if(Ue!==null){var Ge=Ue.child;if(Ge!==null){Ue.child=null;do{var _r=Ge.sibling;Ge.sibling=null,Ge=_r}while(Ge!==null)}}Be=R}}if((R.subtreeFlags&2064)!==0&&W!==null)W.return=R,Be=W;else e:for(;Be!==null;){if(R=Be,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Zf(9,R,R.return)}var fe=R.sibling;if(fe!==null){fe.return=R.return,Be=fe;break e}Be=R.return}}var ie=u.current;for(Be=ie;Be!==null;){W=Be;var pe=W.child;if((W.subtreeFlags&2064)!==0&&pe!==null)pe.return=W,Be=pe;else e:for(W=ie;Be!==null;){if(Z=Be,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:Dg(9,Z)}}catch(Ye){Sr(Z,Z.return,Ye)}if(Z===W){Be=null;break e}var Oe=Z.sibling;if(Oe!==null){Oe.return=Z.return,Be=Oe;break e}Be=Z.return}}if(_t=T,Po(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(jl,u)}catch{}N=!0}return N}finally{Rt=v,Wi.transition=p}}return!1}function mE(u,p,v){p=fu(v,p),p=MA(u,p,1),u=To(u,p,1),p=$n(),u!==null&&(Nl(u,1,p),ni(u,p))}function Sr(u,p,v){if(u.tag===3)mE(u,u,v);else for(;p!==null;){if(p.tag===3){mE(p,u,v);break}else if(p.tag===1){var N=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Eo===null||!Eo.has(N))){u=fu(v,u),u=DA(p,u,1),p=To(p,u,1),u=$n(),p!==null&&(Nl(p,1,u),ni(p,u));break}}p=p.return}}function a7(u,p,v){var N=u.pingCache;N!==null&&N.delete(p),p=$n(),u.pingedLanes|=u.suspendedLanes&v,on===u&&(xn&v)===v&&(Br===4||Br===3&&(xn&130023424)===xn&&500>hr()-$w?Fl(u,0):Fw|=v),ni(u,p)}function gE(u,p){p===0&&((u.mode&1)===0?p=1:(p=Cl,Cl<<=1,(Cl&130023424)===0&&(Cl=4194304)));var v=$n();u=Ms(u,p),u!==null&&(Nl(u,p,v),ni(u,v))}function s7(u){var p=u.memoizedState,v=0;p!==null&&(v=p.retryLane),gE(u,v)}function o7(u,p){var v=0;switch(u.tag){case 13:var N=u.stateNode,T=u.memoizedState;T!==null&&(v=T.retryLane);break;case 19:N=u.stateNode;break;default:throw Error(r(314))}N!==null&&N.delete(p),gE(u,v)}var vE;vE=function(u,p,v){if(u!==null)if(u.memoizedProps!==p.pendingProps||Qn.current)ti=!0;else{if((u.lanes&v)===0&&(p.flags&128)===0)return ti=!1,XG(u,p,v);ti=(u.flags&131072)!==0}else ti=!1,or&&(p.flags&1048576)!==0&&KT(p,vg,p.index);switch(p.lanes=0,p.tag){case 2:var N=p.type;Eg(u,p),u=p.pendingProps;var T=iu(p,Nn.current);uu(p,v),T=vw(null,p,N,u,T,v);var R=yw();return p.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,ei(N)?(R=!0,pg(p)):R=!1,p.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,uw(p),T.updater=Tg,p.stateNode=T,T._reactInternals=p,Cw(p,N,u,v),p=Pw(null,p,N,!0,R,v)):(p.tag=0,or&&R&&ew(p),Fn(null,p,T,v),p=p.child),p;case 16:N=p.elementType;e:{switch(Eg(u,p),u=p.pendingProps,T=N._init,N=T(N._payload),p.type=N,T=p.tag=c7(N),u=pa(N,u),T){case 0:p=Ow(null,p,N,u,v);break e;case 1:p=WA(null,p,N,u,v);break e;case 11:p=zA(null,p,N,u,v);break e;case 14:p=FA(null,p,N,pa(N.type,u),v);break e}throw Error(r(306,N,""))}return p;case 0:return N=p.type,T=p.pendingProps,T=p.elementType===N?T:pa(N,T),Ow(u,p,N,T,v);case 1:return N=p.type,T=p.pendingProps,T=p.elementType===N?T:pa(N,T),WA(u,p,N,T,v);case 3:e:{if(UA(p),u===null)throw Error(r(387));N=p.pendingProps,R=p.memoizedState,T=R.element,aA(u,p),Sg(p,N,null,v);var W=p.memoizedState;if(N=W.element,R.isDehydrated)if(R={element:N,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},p.updateQueue.baseState=R,p.memoizedState=R,p.flags&256){T=fu(Error(r(423)),p),p=qA(u,p,N,v,T);break e}else if(N!==T){T=fu(Error(r(424)),p),p=qA(u,p,N,v,T);break e}else for(bi=No(p.stateNode.containerInfo.firstChild),xi=p,or=!0,ha=null,v=nA(p,null,N,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(ou(),N===T){p=Rs(u,p,v);break e}Fn(u,p,N,v)}p=p.child}return p;case 5:return lA(p),u===null&&nw(p),N=p.type,T=p.pendingProps,R=u!==null?u.memoizedProps:null,W=T.children,Xb(N,T)?W=null:R!==null&&Xb(N,R)&&(p.flags|=32),HA(u,p),Fn(u,p,W,v),p.child;case 6:return u===null&&nw(p),null;case 13:return VA(u,p,v);case 4:return dw(p,p.stateNode.containerInfo),N=p.pendingProps,u===null?p.child=lu(p,null,N,v):Fn(u,p,N,v),p.child;case 11:return N=p.type,T=p.pendingProps,T=p.elementType===N?T:pa(N,T),zA(u,p,N,T,v);case 7:return Fn(u,p,p.pendingProps,v),p.child;case 8:return Fn(u,p,p.pendingProps.children,v),p.child;case 12:return Fn(u,p,p.pendingProps.children,v),p.child;case 10:e:{if(N=p.type._context,T=p.pendingProps,R=p.memoizedProps,W=T.value,Zt(bg,N._currentValue),N._currentValue=W,R!==null)if(fa(R.value,W)){if(R.children===T.children&&!Qn.current){p=Rs(u,p,v);break e}}else for(R=p.child,R!==null&&(R.return=p);R!==null;){var Z=R.dependencies;if(Z!==null){W=R.child;for(var ne=Z.firstContext;ne!==null;){if(ne.context===N){if(R.tag===1){ne=Ds(-1,v&-v),ne.tag=2;var ge=R.updateQueue;if(ge!==null){ge=ge.shared;var Ce=ge.pending;Ce===null?ne.next=ne:(ne.next=Ce.next,Ce.next=ne),ge.pending=ne}}R.lanes|=v,ne=R.alternate,ne!==null&&(ne.lanes|=v),lw(R.return,v,p),Z.lanes|=v;break}ne=ne.next}}else if(R.tag===10)W=R.type===p.type?null:R.child;else if(R.tag===18){if(W=R.return,W===null)throw Error(r(341));W.lanes|=v,Z=W.alternate,Z!==null&&(Z.lanes|=v),lw(W,v,p),W=R.sibling}else W=R.child;if(W!==null)W.return=R;else for(W=R;W!==null;){if(W===p){W=null;break}if(R=W.sibling,R!==null){R.return=W.return,W=R;break}W=W.return}R=W}Fn(u,p,T.children,v),p=p.child}return p;case 9:return T=p.type,N=p.pendingProps.children,uu(p,v),T=Bi(T),N=N(T),p.flags|=1,Fn(u,p,N,v),p.child;case 14:return N=p.type,T=pa(N,p.pendingProps),T=pa(N.type,T),FA(u,p,N,T,v);case 15:return $A(u,p,p.type,p.pendingProps,v);case 17:return N=p.type,T=p.pendingProps,T=p.elementType===N?T:pa(N,T),Eg(u,p),p.tag=1,ei(N)?(u=!0,pg(p)):u=!1,uu(p,v),AA(p,N,T),Cw(p,N,T,v),Pw(null,p,N,!0,u,v);case 19:return XA(u,p,v);case 22:return BA(u,p,v)}throw Error(r(156,p.tag))};function yE(u,p){return Gm(u,p)}function l7(u,p,v,N){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(u,p,v,N){return new l7(u,p,v,N)}function Xw(u){return u=u.prototype,!(!u||!u.isReactComponent)}function c7(u){if(typeof u=="function")return Xw(u)?1:0;if(u!=null){if(u=u.$$typeof,u===B)return 11;if(u===F)return 14}return 2}function Io(u,p){var v=u.alternate;return v===null?(v=Ui(u.tag,p,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=p,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,p=u.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Wg(u,p,v,N,T,R){var W=2;if(N=u,typeof u=="function")Xw(u)&&(W=1);else if(typeof u=="string")W=5;else e:switch(u){case k:return Bl(v.children,T,R,p);case A:W=8,T|=8;break;case M:return u=Ui(12,v,p,T|2),u.elementType=M,u.lanes=R,u;case $:return u=Ui(13,v,p,T),u.elementType=$,u.lanes=R,u;case q:return u=Ui(19,v,p,T),u.elementType=q,u.lanes=R,u;case E:return Ug(v,T,R,p);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:W=10;break e;case L:W=9;break e;case B:W=11;break e;case F:W=14;break e;case G:W=16,N=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return p=Ui(W,v,p,T),p.elementType=u,p.type=N,p.lanes=R,p}function Bl(u,p,v,N){return u=Ui(7,u,N,p),u.lanes=v,u}function Ug(u,p,v,N){return u=Ui(22,u,N,p),u.elementType=E,u.lanes=v,u.stateNode={isHidden:!1},u}function Yw(u,p,v){return u=Ui(6,u,null,p),u.lanes=v,u}function Kw(u,p,v){return p=Ui(4,u.children!==null?u.children:[],u.key,p),p.lanes=v,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}function u7(u,p,v,N,T){this.tag=p,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=N,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Jw(u,p,v,N,T,R,W,Z,ne){return u=new u7(u,p,v,Z,ne),p===1?(p=1,R===!0&&(p|=8)):p=0,R=Ui(3,null,null,p),u.current=R,R.stateNode=u,R.memoizedState={element:N,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},uw(R),u}function d7(u,p,v){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:N==null?null:""+N,children:u,containerInfo:p,implementation:v}}function xE(u){if(!u)return Oo;u=u._reactInternals;e:{if(Ga(u)!==u||u.tag!==1)throw Error(r(170));var p=u;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(ei(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(u.tag===1){var v=u.type;if(ei(v))return GT(u,v,p)}return p}function bE(u,p,v,N,T,R,W,Z,ne){return u=Jw(v,N,!0,u,T,R,W,Z,ne),u.context=xE(null),v=u.current,N=$n(),T=Do(v),R=Ds(N,T),R.callback=p??null,To(v,R,T),u.current.lanes=T,Nl(u,T,N),ni(u,N),u}function qg(u,p,v,N){var T=p.current,R=$n(),W=Do(T);return v=xE(v),p.context===null?p.context=v:p.pendingContext=v,p=Ds(R,W),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=To(T,p,W),u!==null&&(va(u,T,W,R),jg(u,T,W)),W}function Vg(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function wE(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<p?v:p}}function Zw(u,p){wE(u,p),(u=u.alternate)&&wE(u,p)}function f7(){return null}var jE=typeof reportError=="function"?reportError:function(u){console.error(u)};function Qw(u){this._internalRoot=u}Gg.prototype.render=Qw.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(r(409));qg(u,p,null,null)},Gg.prototype.unmount=Qw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;zl(function(){qg(null,u,null,null)}),p[ks]=null}};function Gg(u){this._internalRoot=u}Gg.prototype.unstable_scheduleHydration=function(u){if(u){var p=Of();u={blockedOn:null,target:u,priority:p};for(var v=0;v<ua.length&&p!==0&&p<ua[v].priority;v++);ua.splice(v,0,u),v===0&&Af(u)}};function ej(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Xg(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function SE(){}function h7(u,p,v,N,T){if(T){if(typeof N=="function"){var R=N;N=function(){var ge=Vg(W);R.call(ge)}}var W=bE(p,N,u,0,null,!1,!1,"",SE);return u._reactRootContainer=W,u[ks]=W.current,Ff(u.nodeType===8?u.parentNode:u),zl(),W}for(;T=u.lastChild;)u.removeChild(T);if(typeof N=="function"){var Z=N;N=function(){var ge=Vg(ne);Z.call(ge)}}var ne=Jw(u,0,!1,null,null,!1,!1,"",SE);return u._reactRootContainer=ne,u[ks]=ne.current,Ff(u.nodeType===8?u.parentNode:u),zl(function(){qg(p,ne,v,N)}),ne}function Yg(u,p,v,N,T){var R=v._reactRootContainer;if(R){var W=R;if(typeof T=="function"){var Z=T;T=function(){var ne=Vg(W);Z.call(ne)}}qg(p,W,u,T)}else W=h7(v,p,u,T,N);return Vg(W)}eg=function(u){switch(u.tag){case 3:var p=u.stateNode;if(p.current.memoizedState.isDehydrated){var v=wo(p.pendingLanes);v!==0&&(Nf(p,v|1),ni(p,hr()),(_t&6)===0&&(mu=hr()+500,Po()))}break;case 13:zl(function(){var N=Ms(u,1);if(N!==null){var T=$n();va(N,u,1,T)}}),Zw(u,1)}},_f=function(u){if(u.tag===13){var p=Ms(u,134217728);if(p!==null){var v=$n();va(p,u,134217728,v)}Zw(u,134217728)}},tg=function(u){if(u.tag===13){var p=Do(u),v=Ms(u,p);if(v!==null){var N=$n();va(v,u,p,N)}Zw(u,p)}},Of=function(){return Rt},Pf=function(u,p){var v=Rt;try{return Rt=u,p()}finally{Rt=v}},bo=function(u,p,v){switch(p){case"input":if(Re(u,v),p=v.name,v.type==="radio"&&p!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var N=v[p];if(N!==u&&N.form===u.form){var T=fg(N);if(!T)throw Error(r(90));le(N),Re(N,T)}}}break;case"textarea":en(u,v);break;case"select":p=v.value,p!=null&&gt(u,!!v.multiple,p,!1)}},wt=qw,Mt=zl;var p7={usingClientEntryPoint:!1,Events:[Hf,ru,fg,$e,Nt,qw]},rh={findFiberByHostInstance:Tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m7={bundleType:rh.bundleType,version:rh.version,rendererPackageName:rh.rendererPackageName,rendererConfig:rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Xa(u),u===null?null:u.stateNode},findFiberByHostInstance:rh.findFiberByHostInstance||f7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kg.isDisabled&&Kg.supportsFiber)try{jl=Kg.inject(m7),yi=Kg}catch{}}return ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p7,ii.createPortal=function(u,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ej(p))throw Error(r(200));return d7(u,p,null,v)},ii.createRoot=function(u,p){if(!ej(u))throw Error(r(299));var v=!1,N="",T=jE;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onRecoverableError!==void 0&&(T=p.onRecoverableError)),p=Jw(u,1,!1,null,null,v,!1,N,T),u[ks]=p.current,Ff(u.nodeType===8?u.parentNode:u),new Qw(p)},ii.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=Xa(p),u=u===null?null:u.stateNode,u},ii.flushSync=function(u){return zl(u)},ii.hydrate=function(u,p,v){if(!Xg(p))throw Error(r(200));return Yg(null,u,p,!0,v)},ii.hydrateRoot=function(u,p,v){if(!ej(u))throw Error(r(405));var N=v!=null&&v.hydratedSources||null,T=!1,R="",W=jE;if(v!=null&&(v.unstable_strictMode===!0&&(T=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onRecoverableError!==void 0&&(W=v.onRecoverableError)),p=bE(p,null,u,1,v??null,T,!1,R,W),u[ks]=p.current,Ff(u),N)for(u=0;u<N.length;u++)v=N[u],T=v._getVersion,T=T(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,T]:p.mutableSourceEagerHydrationData.push(v,T);return new Gg(p)},ii.render=function(u,p,v){if(!Xg(p))throw Error(r(200));return Yg(null,u,p,!1,v)},ii.unmountComponentAtNode=function(u){if(!Xg(u))throw Error(r(40));return u._reactRootContainer?(zl(function(){Yg(null,null,u,!1,function(){u._reactRootContainer=null,u[ks]=null})}),!0):!1},ii.unstable_batchedUpdates=qw,ii.unstable_renderSubtreeIntoContainer=function(u,p,v,N){if(!Xg(v))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return Yg(u,p,v,!1,N)},ii.version="18.3.1-next-f1338f8080-20240426",ii}var AE;function r3(){if(AE)return nj.exports;AE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nj.exports=C7(),nj.exports}var EE;function N7(){if(EE)return Jg;EE=1;var t=r3();return Jg.createRoot=t.createRoot,Jg.hydrateRoot=t.hydrateRoot,Jg}var _7=N7(),w=$a();const Y=Lt(w),gP=v7({__proto__:null,default:Y},[w]);function ME(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function js(...t){return e=>{let r=!1;const n=t.map(i=>{const a=ME(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():ME(t[i],null)}}}}function ut(...t){return w.useCallback(js(...t),t)}var O7=Symbol.for("react.lazy"),ey=gP[" use ".trim().toString()];function P7(t){return typeof t=="object"&&t!==null&&"then"in t}function n3(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===O7&&"_payload"in t&&P7(t._payload)}function Lx(t){const e=k7(t),r=w.forwardRef((n,i)=>{let{children:a,...o}=n;n3(a)&&typeof ey=="function"&&(a=ey(a._payload));const l=w.Children.toArray(a),c=l.find(A7);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var i3=Lx("Slot");function k7(t){const e=w.forwardRef((r,n)=>{let{children:i,...a}=r;if(n3(i)&&typeof ey=="function"&&(i=ey(i._payload)),w.isValidElement(i)){const o=M7(i),l=E7(a,i.props);return i.type!==w.Fragment&&(l.ref=n?js(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var T7=Symbol("radix.slottable");function A7(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===T7}function E7(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function M7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function a3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=a3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=a3(t))&&(n&&(n+=" "),n+=e);return n}const DE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,RE=pt,s3=(t,e)=>r=>{var n;if(e?.variants==null)return RE(t,r?.class,r?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const f=r?.[d],h=a?.[d];if(f===null)return null;const m=DE(f)||DE(h);return i[d][m]}),l=r&&Object.entries(r).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:h,className:m,...g}=f;return Object.entries(g).every(j=>{let[b,y]=j;return Array.isArray(y)?y.includes({...a,...l}[b]):{...a,...l}[b]===y})?[...d,h,m]:d},[]);return RE(t,o,c,r?.class,r?.className)},D7=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},R7=(t,e)=>({classGroupId:t,validator:e}),o3=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),ty="-",IE=[],I7="arbitrary..",L7=t=>{const e=F7(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return z7(o);const l=o.split(ty),c=l[0]===""&&l.length>1?1:0;return l3(l,c,e)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],d=r[o];return c?d?D7(d,c):c:d||IE}return r[o]||IE}}},l3=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const i=t[e],a=r.nextPart.get(i);if(a){const d=l3(t,e+1,a);if(d)return d}const o=r.validators;if(o===null)return;const l=e===0?t.join(ty):t.slice(e).join(ty),c=o.length;for(let d=0;d<c;d++){const f=o[d];if(f.validator(l))return f.classGroupId}},z7=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?I7+n:void 0})(),F7=t=>{const{theme:e,classGroups:r}=t;return $7(r,e)},$7=(t,e)=>{const r=o3();for(const n in t){const i=t[n];vP(i,r,n,e)}return r},vP=(t,e,r,n)=>{const i=t.length;for(let a=0;a<i;a++){const o=t[a];B7(o,e,r,n)}},B7=(t,e,r,n)=>{if(typeof t=="string"){H7(t,e,r);return}if(typeof t=="function"){W7(t,e,r,n);return}U7(t,e,r,n)},H7=(t,e,r)=>{const n=t===""?e:c3(e,t);n.classGroupId=r},W7=(t,e,r,n)=>{if(q7(t)){vP(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(R7(r,t))},U7=(t,e,r,n)=>{const i=Object.entries(t),a=i.length;for(let o=0;o<a;o++){const[l,c]=i[o];vP(c,c3(e,l),r,n)}},c3=(t,e)=>{let r=t;const n=e.split(ty),i=n.length;for(let a=0;a<i;a++){const o=n[a];let l=r.nextPart.get(o);l||(l=o3(),r.nextPart.set(o,l)),r=l}return r},q7=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,V7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const i=(a,o)=>{r[a]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(a){let o=r[a];if(o!==void 0)return o;if((o=n[a])!==void 0)return i(a,o),o},set(a,o){a in r?r[a]=o:i(a,o)}}},t_="!",LE=":",G7=[],zE=(t,e,r,n,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),X7=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const a=[];let o=0,l=0,c=0,d;const f=i.length;for(let b=0;b<f;b++){const y=i[b];if(o===0&&l===0){if(y===LE){a.push(i.slice(c,b)),c=b+1;continue}if(y==="/"){d=b;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const h=a.length===0?i:i.slice(c);let m=h,g=!1;h.endsWith(t_)?(m=h.slice(0,-1),g=!0):h.startsWith(t_)&&(m=h.slice(1),g=!0);const j=d&&d>c?d-c:void 0;return zE(a,g,m,j)};if(e){const i=e+LE,a=n;n=o=>o.startsWith(i)?a(o.slice(i.length)):zE(G7,!1,o,void 0,!0)}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},Y7=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let a=0;a<r.length;a++){const o=r[a],l=o[0]==="[",c=e.has(o);l||c?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},K7=t=>({cache:V7(t.cacheSize),parseClassName:X7(t),sortModifiers:Y7(t),...L7(t)}),J7=/\s+/,Z7=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],l=t.trim().split(J7);let c="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:h,modifiers:m,hasImportantModifier:g,baseClassName:j,maybePostfixModifierPosition:b}=r(f);if(h){c=f+(c.length>0?" "+c:c);continue}let y=!!b,x=n(y?j.substring(0,b):j);if(!x){if(!y){c=f+(c.length>0?" "+c:c);continue}if(x=n(j),!x){c=f+(c.length>0?" "+c:c);continue}y=!1}const S=m.length===0?"":m.length===1?m[0]:a(m).join(":"),_=g?S+t_:S,P=_+x;if(o.indexOf(P)>-1)continue;o.push(P);const C=i(x,y);for(let O=0;O<C.length;++O){const k=C[O];o.push(_+k)}c=f+(c.length>0?" "+c:c)}return c},Q7=(...t)=>{let e=0,r,n,i="";for(;e<t.length;)(r=t[e++])&&(n=u3(r))&&(i&&(i+=" "),i+=n);return i},u3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=u3(t[n]))&&(r&&(r+=" "),r+=e);return r},eX=(t,...e)=>{let r,n,i,a;const o=c=>{const d=e.reduce((f,h)=>h(f),t());return r=K7(d),n=r.cache.get,i=r.cache.set,a=l,l(c)},l=c=>{const d=n(c);if(d)return d;const f=Z7(c,r);return i(c,f),f};return a=o,(...c)=>a(Q7(...c))},tX=[],Hr=t=>{const e=r=>r[t]||tX;return e.isThemeGetter=!0,e},d3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,f3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rX=/^\d+\/\d+$/,nX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vu=t=>rX.test(t),vt=t=>!!t&&!Number.isNaN(Number(t)),zo=t=>!!t&&Number.isInteger(Number(t)),sj=t=>t.endsWith("%")&&vt(t.slice(0,-1)),Ls=t=>nX.test(t),lX=()=>!0,cX=t=>iX.test(t)&&!aX.test(t),h3=()=>!1,uX=t=>sX.test(t),dX=t=>oX.test(t),fX=t=>!qe(t)&&!Ve(t),hX=t=>$d(t,g3,h3),qe=t=>d3.test(t),Hl=t=>$d(t,v3,cX),oj=t=>$d(t,yX,vt),FE=t=>$d(t,p3,h3),pX=t=>$d(t,m3,dX),Zg=t=>$d(t,y3,uX),Ve=t=>f3.test(t),ih=t=>Bd(t,v3),mX=t=>Bd(t,xX),$E=t=>Bd(t,p3),gX=t=>Bd(t,g3),vX=t=>Bd(t,m3),Qg=t=>Bd(t,y3,!0),$d=(t,e,r)=>{const n=d3.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Bd=(t,e,r=!1)=>{const n=f3.exec(t);return n?n[1]?e(n[1]):r:!1},p3=t=>t==="position"||t==="percentage",m3=t=>t==="image"||t==="url",g3=t=>t==="length"||t==="size"||t==="bg-size",v3=t=>t==="length",yX=t=>t==="number",xX=t=>t==="family-name",y3=t=>t==="shadow",bX=()=>{const t=Hr("color"),e=Hr("font"),r=Hr("text"),n=Hr("font-weight"),i=Hr("tracking"),a=Hr("leading"),o=Hr("breakpoint"),l=Hr("container"),c=Hr("spacing"),d=Hr("radius"),f=Hr("shadow"),h=Hr("inset-shadow"),m=Hr("text-shadow"),g=Hr("drop-shadow"),j=Hr("blur"),b=Hr("perspective"),y=Hr("aspect"),x=Hr("ease"),S=Hr("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...P(),Ve,qe],O=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],A=()=>[Ve,qe,c],M=()=>[vu,"full","auto",...A()],D=()=>[zo,"none","subgrid",Ve,qe],L=()=>["auto",{span:["full",zo,Ve,qe]},zo,Ve,qe],B=()=>[zo,"auto",Ve,qe],$=()=>["auto","min","max","fr",Ve,qe],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...A()],E=()=>[vu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],U=()=>[t,Ve,qe],H=()=>[...P(),$E,FE,{position:[Ve,qe]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",gX,hX,{size:[Ve,qe]}],V=()=>[sj,ih,Hl],J=()=>["","none","full",d,Ve,qe],Q=()=>["",vt,ih,Hl],se=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[vt,sj,$E,FE],de=()=>["","none",j,Ve,qe],ae=()=>["none",vt,Ve,qe],ce=()=>["none",vt,Ve,qe],xe=()=>[vt,Ve,qe],le=()=>[vu,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ls],breakpoint:[Ls],color:[lX],container:[Ls],"drop-shadow":[Ls],ease:["in","out","in-out"],font:[fX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ls],shadow:[Ls],spacing:["px",vt],text:[Ls],"text-shadow":[Ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vu,qe,Ve,y]}],container:["container"],columns:[{columns:[vt,qe,Ve,l]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[zo,"auto",Ve,qe]}],basis:[{basis:[vu,"full","auto",l,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vt,vu,"auto","initial","none",qe]}],grow:[{grow:["",vt,Ve,qe]}],shrink:[{shrink:["",vt,Ve,qe]}],order:[{order:[zo,"first","last","none",Ve,qe]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[l,"screen",...E()]}],"min-w":[{"min-w":[l,"screen","none",...E()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",r,ih,Hl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ve,oj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sj,qe]}],"font-family":[{font:[mX,qe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ve,qe]}],"line-clamp":[{"line-clamp":[vt,"none",Ve,oj]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",Ve,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[vt,"from-font","auto",Ve,Hl]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[vt,"auto",Ve,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zo,Ve,qe],radial:["",Ve,qe],conic:[zo,Ve,qe]},vX,pX]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vt,Ve,qe]}],"outline-w":[{outline:["",vt,ih,Hl]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,Qg,Zg]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",h,Qg,Zg]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[vt,Hl]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",m,Qg,Zg]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[vt,Ve,qe]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Ve,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,qe]}],filter:[{filter:["","none",Ve,qe]}],blur:[{blur:de()}],brightness:[{brightness:[vt,Ve,qe]}],contrast:[{contrast:[vt,Ve,qe]}],"drop-shadow":[{"drop-shadow":["","none",g,Qg,Zg]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",vt,Ve,qe]}],"hue-rotate":[{"hue-rotate":[vt,Ve,qe]}],invert:[{invert:["",vt,Ve,qe]}],saturate:[{saturate:[vt,Ve,qe]}],sepia:[{sepia:["",vt,Ve,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,qe]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[vt,Ve,qe]}],"backdrop-contrast":[{"backdrop-contrast":[vt,Ve,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vt,Ve,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vt,Ve,qe]}],"backdrop-invert":[{"backdrop-invert":["",vt,Ve,qe]}],"backdrop-opacity":[{"backdrop-opacity":[vt,Ve,qe]}],"backdrop-saturate":[{"backdrop-saturate":[vt,Ve,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",vt,Ve,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vt,"initial",Ve,qe]}],ease:[{ease:["linear","initial",x,Ve,qe]}],delay:[{delay:[vt,Ve,qe]}],animate:[{animate:["none",S,Ve,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ve,qe]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[Ve,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,qe]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[vt,ih,Hl,oj]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wX=eX(bX);function Je(...t){return wX(pt(t))}const yP=s3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ee=w.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?i3:"button";return s.jsx(o,{"data-slot":"button",className:Je(yP({variant:e,size:r,className:t})),ref:a,...i})});ee.displayName="Button";const jX=s3("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function lt({className:t,variant:e,asChild:r=!1,...n}){const i=r?i3:"span";return s.jsx(i,{"data-slot":"badge",className:Je(jX({variant:e}),t),...n})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),BE=t=>{const e=CX(t);return e.charAt(0).toUpperCase()+e.slice(1)},x3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...NX,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:x3("lucide",i),...l},[...o.map(([d,f])=>w.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const r=w.forwardRef(({className:n,...i},a)=>w.createElement(_X,{ref:a,iconNode:e,className:x3(`lucide-${SX(BE(t))}`,`lucide-${t}`,n),...i}));return r.displayName=BE(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],b3=Pe("align-center",OX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]],kX=Pe("align-horizontal-space-around",PX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],AX=Pe("align-justify",TX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],w3=Pe("align-left",EX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],j3=Pe("align-right",MX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2",key:"1i8z2d"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2",key:"ypihtt"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lj=Pe("align-vertical-justify-center",DX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["rect",{width:"10",height:"6",x:"7",y:"9",rx:"2",key:"b1zbii"}],["path",{d:"M22 20H2",key:"1p1f7z"}],["path",{d:"M22 4H2",key:"1b7qnq"}]],IX=Pe("align-vertical-space-around",RX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],S3=Pe("archive",LX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fo=Pe("arrow-left",zX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yl=Pe("arrow-right",FX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],BX=Pe("bold",$X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],WX=Pe("box",HX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xP=Pe("calendar",UX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zu=Pe("check",qX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bs=Pe("chevron-down",VX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],XX=Pe("chevron-left",GX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ry=Pe("chevron-right",YX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wh=Pe("chevron-up",KX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],C3=Pe("chevrons-down",JX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],N3=Pe("chevrons-up",ZX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],HE=Pe("circle-arrow-down",QX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tu=Pe("circle-alert",eY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],WE=Pe("circle-arrow-up",tY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zx=Pe("circle-check-big",rY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wo=Pe("circle-check",nY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ny=Pe("circle-x",iY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sY=Pe("circle",aY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],r_=Pe("clock",oY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_3=Pe("copy",lY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],O3=Pe("credit-card",cY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Fx=Pe("dollar-sign",uY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],P3=Pe("download",dY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],hY=Pe("ellipsis-vertical",fY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],to=Pe("eye",pY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],gY=Pe("file-chart-column-increasing",mY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],k3=Pe("funnel",vY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Fu=Pe("grid-3x3",yY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Qu=Pe("heart",xY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wY=Pe("history",bY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$x=Pe("house",jY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Uh=Pe("image",SY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],NY=Pe("italic",CY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ev=Pe("layers",_Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wn=Pe("loader-circle",OY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],T3=Pe("lock-open",PY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],A3=Pe("lock",kY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],E3=Pe("log-out",TY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],bP=Pe("mail",AY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MY=Pe("map-pin",EY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],RY=Pe("maximize",DY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],LY=Pe("menu",IY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M5 12h14",key:"1ays0h"}]],M3=Pe("minus",zY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gr=Pe("package",FY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],fc=Pe("palette",$Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],UE=Pe("pen-line",BY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],wP=Pe("phone",HY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nl=Pe("plus",WY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],qY=Pe("redo",UY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lm=Pe("refresh-cw",VY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jP=Pe("rotate-ccw",GY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qE=Pe("save",XY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],KY=Pe("scissors",YY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ca=Pe("search",JY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bx=Pe("shield-check",ZY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cj=Pe("shield",QY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],D3=Pe("shirt",eK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],ed=Pe("shopping-bag",tK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],il=Pe("shopping-cart",rK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],cm=Pe("sliders-horizontal",nK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],VE=Pe("smartphone",iK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],GE=Pe("sparkles",aK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Hx=Pe("square-pen",sK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ho=Pe("trash-2",oK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],n_=Pe("trending-down",lK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],$v=Pe("trending-up",cK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R3=Pe("triangle-alert",uK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Qi=Pe("truck",dK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],hK=Pe("type",fK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],mK=Pe("underline",pK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],vK=Pe("undo",gK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],cp=Pe("upload",yK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XE=Pe("user",xK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],SP=Pe("users",bK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],jK=Pe("warehouse",wK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],CK=Pe("wrench",SK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tt=Pe("x",NK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],OK=Pe("zap",_K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kK=Pe("zoom-in",PK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],AK=Pe("zoom-out",TK),EK="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function ki(t){const[e,r]=w.useState(!1),n=()=>{r(!0)},{src:i,alt:a,style:o,className:l,...c}=t;return e?s.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:s.jsx("div",{className:"flex items-center justify-center w-full h-full",children:s.jsx("img",{src:EK,alt:"Error loading image",...c,"data-original-url":i})})}):s.jsx("img",{src:i,alt:a,className:l,style:o,...c,onError:n})}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YE="popstate";function MK(t={}){function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return i_("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:up(i)}return RK(e,r,null,t)}function dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DK(){return Math.random().toString(36).substring(2,10)}function KE(t,e){return{usr:t.state,key:t.key,idx:e}}function i_(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Hd(e):e,state:r,key:e&&e.key||n||DK()}}function up({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Hd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function RK(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function h(){l="POP";let y=f(),x=y==null?null:y-d;d=y,c&&c({action:l,location:b.location,delta:x})}function m(y,x){l="PUSH";let S=i_(b.location,y,x);d=f()+1;let _=KE(S,d),P=b.createHref(S);try{o.pushState(_,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}a&&c&&c({action:l,location:b.location,delta:1})}function g(y,x){l="REPLACE";let S=i_(b.location,y,x);d=f();let _=KE(S,d),P=b.createHref(S);o.replaceState(_,"",P),a&&c&&c({action:l,location:b.location,delta:0})}function j(y){return IK(y)}let b={get action(){return l},get location(){return t(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(YE,h),c=y,()=>{i.removeEventListener(YE,h),c=null}},createHref(y){return e(i,y)},createURL:j,encodeLocation(y){let x=j(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(y){return o.go(y)}};return b}function IK(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),dr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:up(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function I3(t,e,r="/"){return LK(t,e,r,!1)}function LK(t,e,r,n){let i=typeof e=="string"?Hd(e):e,a=ro(i.pathname||"/",r);if(a==null)return null;let o=L3(t);zK(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=YK(a);l=GK(o[c],d,n)}return l}function L3(t,e=[],r=[],n="",i=!1){let a=(o,l,c=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;dr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let h=Ys([n,f.relativePath]),m=r.concat(f);o.children&&o.children.length>0&&(dr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),L3(o.children,e,m,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:qK(h,o.index),routesMeta:m})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let c of z3(o.path))a(o,l,!0,c)}),e}function z3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=z3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function zK(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:VK(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var FK=/^:[\w-]+$/,$K=3,BK=2,HK=1,WK=10,UK=-2,JE=t=>t==="*";function qK(t,e){let r=t.split("/"),n=r.length;return r.some(JE)&&(n+=UK),e&&(n+=BK),r.filter(i=>!JE(i)).reduce((i,a)=>i+(FK.test(a)?$K:a===""?HK:WK),n)}function VK(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function GK(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",h=iy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=iy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ys([a,h.pathname]),pathnameBase:eJ(Ys([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Ys([a,h.pathnameBase]))}return o}function iy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=XK(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:h},m)=>{if(f==="*"){let j=l[m]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const g=l[m];return h&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function XK(t,e=!1,r=!0){aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function YK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ro(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var KK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JK=t=>KK.test(t);function ZK(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Hd(t):t,a;if(r)if(JK(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),aa(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?a=ZE(r.substring(1),"/"):a=ZE(r,e)}else a=e;return{pathname:a,search:tJ(n),hash:rJ(i)}}function ZE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function uj(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QK(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function CP(t){let e=QK(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function NP(t,e,r,n=!1){let i;typeof t=="string"?i=Hd(t):(i={...t},dr(!i.pathname||!i.pathname.includes("?"),uj("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),uj("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),uj("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=ZK(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Ys=t=>t.join("/").replace(/\/\/+/g,"/"),eJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F3=["POST","PUT","PATCH","DELETE"];new Set(F3);var iJ=["GET",...F3];new Set(iJ);var Wd=w.createContext(null);Wd.displayName="DataRouter";var Wx=w.createContext(null);Wx.displayName="DataRouterState";w.createContext(!1);var $3=w.createContext({isTransitioning:!1});$3.displayName="ViewTransition";var aJ=w.createContext(new Map);aJ.displayName="Fetchers";var sJ=w.createContext(null);sJ.displayName="Await";var Ba=w.createContext(null);Ba.displayName="Navigation";var um=w.createContext(null);um.displayName="Location";var Ha=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ha.displayName="Route";var _P=w.createContext(null);_P.displayName="RouteError";function oJ(t,{relative:e}={}){dr(Ud(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Ba),{hash:i,pathname:a,search:o}=fm(t,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:Ys([r,a])),n.createHref({pathname:l,search:o,hash:i})}function Ud(){return w.useContext(um)!=null}function fi(){return dr(Ud(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(um).location}var B3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H3(t){w.useContext(Ba).static||w.useLayoutEffect(t)}function kr(){let{isDataRoute:t}=w.useContext(Ha);return t?bJ():lJ()}function lJ(){dr(Ud(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Wd),{basename:e,navigator:r}=w.useContext(Ba),{matches:n}=w.useContext(Ha),{pathname:i}=fi(),a=JSON.stringify(CP(n)),o=w.useRef(!1);return H3(()=>{o.current=!0}),w.useCallback((c,d={})=>{if(aa(o.current,B3),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=NP(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ys([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}w.createContext(null);function dm(){let{matches:t}=w.useContext(Ha),e=t[t.length-1];return e?e.params:{}}function fm(t,{relative:e}={}){let{matches:r}=w.useContext(Ha),{pathname:n}=fi(),i=JSON.stringify(CP(r));return w.useMemo(()=>NP(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function cJ(t,e){return W3(t,e)}function W3(t,e,r,n,i){dr(Ud(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(Ba),{matches:o}=w.useContext(Ha),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";U3(d,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let m=fi(),g;if(e){let S=typeof e=="string"?Hd(e):e;dr(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=m;let j=g.pathname||"/",b=j;if(f!=="/"){let S=f.replace(/^\//,"").split("/");b="/"+j.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=I3(t,{pathname:b});aa(h||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),aa(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=pJ(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ys([f,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ys([f,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,i);return e&&x?w.createElement(um.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function uJ(){let t=xJ(),e=nJ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:i},r):null,o)}var dJ=w.createElement(uJ,null),fJ=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(Ha.Provider,{value:this.props.routeContext},w.createElement(_P.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hJ({routeContext:t,match:e,children:r}){let n=w.useContext(Wd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ha.Provider,{value:t},r)}function pJ(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r?.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);dr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(r)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:g}=r,j=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||j){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=r&&n?(f,h)=>{n(f,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:h})}:void 0;return a.reduceRight((f,h,m)=>{let g,j=!1,b=null,y=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||dJ,l&&(c<0&&m===0?(U3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,y=null):c===m&&(j=!0,y=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,m+1)),S=()=>{let _;return g?_=b:j?_=y:h.route.Component?_=w.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,w.createElement(hJ,{match:h,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(fJ,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:d}):S()},null)}function OP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mJ(t){let e=w.useContext(Wd);return dr(e,OP(t)),e}function gJ(t){let e=w.useContext(Wx);return dr(e,OP(t)),e}function vJ(t){let e=w.useContext(Ha);return dr(e,OP(t)),e}function PP(t){let e=vJ(t),r=e.matches[e.matches.length-1];return dr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function yJ(){return PP("useRouteId")}function xJ(){let t=w.useContext(_P),e=gJ("useRouteError"),r=PP("useRouteError");return t!==void 0?t:e.errors?.[r]}function bJ(){let{router:t}=mJ("useNavigate"),e=PP("useNavigate"),r=w.useRef(!1);return H3(()=>{r.current=!0}),w.useCallback(async(i,a={})=>{aa(r.current,B3),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var QE={};function U3(t,e,r){!e&&!QE[t]&&(QE[t]=!0,aa(!1,r))}w.memo(wJ);function wJ({routes:t,future:e,state:r,unstable_onError:n}){return W3(t,void 0,r,n,e)}function jJ({to:t,replace:e,state:r,relative:n}){dr(Ud(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Ba);aa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(Ha),{pathname:o}=fi(),l=kr(),c=NP(t,CP(a),o,n==="path"),d=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(d),{replace:e,state:r,relative:n})},[l,d,n,e,r]),null}function qt(t){dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SJ({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){dr(!Ud(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=Hd(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=w.useMemo(()=>{let j=ro(c,o);return j==null?null:{location:{pathname:j,search:d,hash:f,state:h,key:m},navigationType:n}},[o,c,d,f,h,m,n]);return aa(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:w.createElement(Ba.Provider,{value:l},w.createElement(um.Provider,{children:e,value:g}))}function CJ({children:t,location:e}){return cJ(a_(t),e)}function a_(t,e=[]){let r=[];return w.Children.forEach(t,(n,i)=>{if(!w.isValidElement(n))return;let a=[...e,i];if(n.type===w.Fragment){r.push.apply(r,a_(n.props.children,a));return}dr(n.type===qt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=a_(n.props.children,a)),r.push(o)}),r}var Bv="get",Hv="application/x-www-form-urlencoded";function Ux(t){return t!=null&&typeof t.tagName=="string"}function NJ(t){return Ux(t)&&t.tagName.toLowerCase()==="button"}function _J(t){return Ux(t)&&t.tagName.toLowerCase()==="form"}function OJ(t){return Ux(t)&&t.tagName.toLowerCase()==="input"}function PJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kJ(t,e){return t.button===0&&(!e||e==="_self")&&!PJ(t)}var tv=null;function TJ(){if(tv===null)try{new FormData(document.createElement("form"),0),tv=!1}catch{tv=!0}return tv}var AJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dj(t){return t!=null&&!AJ.has(t)?(aa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hv}"`),null):t}function EJ(t,e){let r,n,i,a,o;if(_J(t)){let l=t.getAttribute("action");n=l?ro(l,e):null,r=t.getAttribute("method")||Bv,i=dj(t.getAttribute("enctype"))||Hv,a=new FormData(t)}else if(NJ(t)||OJ(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?ro(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Bv,i=dj(t.getAttribute("formenctype"))||dj(l.getAttribute("enctype"))||Hv,a=new FormData(l,t),!TJ()){let{name:d,type:f,value:h}=t;if(f==="image"){let m=d?`${d}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else d&&a.append(d,h)}}else{if(Ux(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Bv,n=null,i=Hv,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kP(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MJ(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&ro(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function DJ(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RJ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function IJ(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await DJ(a,r);return o.links?o.links():[]}return[]}));return $J(n.flat(1).filter(RJ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eM(t,e,r,n,i,a){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>r[d].pathname!==c.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):a==="data"?e.filter((c,d)=>{let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function LJ(t,e,{includeHydrateFallback:r}={}){return zJ(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function zJ(t){return[...new Set(t)]}function FJ(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function $J(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(FJ(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function q3(){let t=w.useContext(Wd);return kP(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BJ(){let t=w.useContext(Wx);return kP(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var TP=w.createContext(void 0);TP.displayName="FrameworkContext";function V3(){let t=w.useContext(TP);return kP(t,"You must render this element inside a <HydratedRouter> element"),t}function HJ(t,e){let r=w.useContext(TP),[n,i]=w.useState(!1),[a,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=e,m=w.useRef(null);w.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=x=>{x.forEach(S=>{o(S.isIntersecting)})},y=new IntersectionObserver(b,{threshold:.5});return m.current&&y.observe(m.current),()=>{y.disconnect()}}},[t]),w.useEffect(()=>{if(n){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[n]);let g=()=>{i(!0)},j=()=>{i(!1),o(!1)};return r?t!=="intent"?[a,m,{}]:[a,m,{onFocus:ah(l,g),onBlur:ah(c,j),onMouseEnter:ah(d,g),onMouseLeave:ah(f,j),onTouchStart:ah(h,g)}]:[!1,m,{}]}function ah(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function WJ({page:t,...e}){let{router:r}=q3(),n=w.useMemo(()=>I3(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?w.createElement(qJ,{page:t,matches:n,...e}):null}function UJ(t){let{manifest:e,routeModules:r}=V3(),[n,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return IJ(t,e,r).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,r]),n}function qJ({page:t,matches:e,...r}){let n=fi(),{manifest:i,routeModules:a}=V3(),{basename:o}=q3(),{loaderData:l,matches:c}=BJ(),d=w.useMemo(()=>eM(t,e,c,i,n,"data"),[t,e,c,i,n]),f=w.useMemo(()=>eM(t,e,c,i,n,"assets"),[t,e,c,i,n]),h=w.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let j=new Set,b=!1;if(e.forEach(x=>{let S=i.routes[x.route.id];!S||!S.hasLoader||(!d.some(_=>_.route.id===x.route.id)&&x.route.id in l&&a[x.route.id]?.shouldRevalidate||S.hasClientLoader?b=!0:j.add(x.route.id))}),j.size===0)return[];let y=MJ(t,o,"data");return b&&j.size>0&&y.searchParams.set("_routes",e.filter(x=>j.has(x.route.id)).map(x=>x.route.id).join(",")),[y.pathname+y.search]},[o,l,n,i,d,e,t,a]),m=w.useMemo(()=>LJ(f,i),[f,i]),g=UJ(f);return w.createElement(w.Fragment,null,h.map(j=>w.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),m.map(j=>w.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),g.map(({key:j,link:b})=>w.createElement("link",{key:j,nonce:r.nonce,...b})))}function VJ(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var G3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G3&&(window.__reactRouterVersion="7.9.6")}catch{}function GJ({basename:t,children:e,window:r}){let n=w.useRef();n.current==null&&(n.current=MK({window:r,v5Compat:!0}));let i=n.current,[a,o]=w.useState({action:i.action,location:i.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>i.listen(l),[i,l]),w.createElement(SJ,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var X3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=w.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:h,...m},g){let{basename:j}=w.useContext(Ba),b=typeof d=="string"&&X3.test(d),y,x=!1;if(typeof d=="string"&&b&&(y=d,G3))try{let M=new URL(window.location.href),D=d.startsWith("//")?new URL(M.protocol+d):new URL(d),L=ro(D.pathname,j);D.origin===M.origin&&L!=null?d=L+D.search+D.hash:x=!0}catch{aa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=oJ(d,{relative:i}),[_,P,C]=HJ(n,m),O=JJ(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:h});function k(M){e&&e(M),M.defaultPrevented||O(M)}let A=w.createElement("a",{...m,...C,href:y||S,onClick:x||a?e:k,ref:VJ(g,P),target:c,"data-discover":!b&&r==="render"?"true":void 0});return _&&!b?w.createElement(w.Fragment,null,A,w.createElement(WJ,{page:S})):A});Or.displayName="Link";var XJ=w.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:l,children:c,...d},f){let h=fm(o,{relative:d.relative}),m=fi(),g=w.useContext(Wx),{navigator:j,basename:b}=w.useContext(Ba),y=g!=null&&rZ(h)&&l===!0,x=j.encodeLocation?j.encodeLocation(h).pathname:h.pathname,S=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(S=S.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&b&&(_=ro(_,b)||_);const P=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=S===x||!i&&S.startsWith(x)&&S.charAt(P)==="/",O=_!=null&&(_===x||!i&&_.startsWith(x)&&_.charAt(x.length)==="/"),k={isActive:C,isPending:O,isTransitioning:y},A=C?e:void 0,M;typeof n=="function"?M=n(k):M=[n,C?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(k):a;return w.createElement(Or,{...d,"aria-current":A,className:M,ref:f,style:D,to:o,viewTransition:l},typeof c=="function"?c(k):c)});XJ.displayName="NavLink";var YJ=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:o=Bv,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:h,...m},g)=>{let j=eZ(),b=tZ(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&X3.test(l),S=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let P=_.nativeEvent.submitter,C=P?.getAttribute("formmethod")||o;j(P||_.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:i,state:a,relative:d,preventScrollReset:f,viewTransition:h})};return w.createElement("form",{ref:g,method:y,action:b,onSubmit:n?c:S,...m,"data-discover":!x&&t==="render"?"true":void 0})});YJ.displayName="Form";function KJ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y3(t){let e=w.useContext(Wd);return dr(e,KJ(t)),e}function JJ(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let l=kr(),c=fi(),d=fm(t,{relative:a});return w.useCallback(f=>{if(kJ(f,e)){f.preventDefault();let h=r!==void 0?r:up(c)===up(d);l(t,{replace:h,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,r,n,e,t,i,a,o])}var ZJ=0,QJ=()=>`__${String(++ZJ)}__`;function eZ(){let{router:t}=Y3("useSubmit"),{basename:e}=w.useContext(Ba),r=yJ();return w.useCallback(async(n,i={})=>{let{action:a,method:o,encType:l,formData:c,body:d}=EJ(n,e);if(i.navigate===!1){let f=i.fetcherKey||QJ();await t.fetch(f,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function tZ(t,{relative:e}={}){let{basename:r}=w.useContext(Ba),n=w.useContext(Ha);dr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...fm(t||".",{relative:e})},o=fi();if(t==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Ys([r,a.pathname])),up(a)}function rZ(t,{relative:e}={}){let r=w.useContext($3);dr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Y3("useViewTransitionState"),i=fm(t,{relative:e});if(!r.isTransitioning)return!1;let a=ro(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ro(r.nextLocation.pathname,n)||r.nextLocation.pathname;return iy(i.pathname,o)!=null||iy(i.pathname,a)!=null}var cs=r3();const K3=Lt(cs),J3=w.createContext(void 0),yu="";function nZ({children:t,onOpenLoginModal:e}){const[r,n]=w.useState(!1),[i,a]=w.useState(null),[o,l]=w.useState(!0),c=async(g,j)=>{try{const b=await fetch(`${yu}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:g,password:j})}),y=await b.json().catch(()=>({}));return b.ok?(a(y.user),n(!0),{success:!0,user:y.user,isAdmin:y.user?.role==="admin"}):{success:!1,error:y.error||"Login failed"}}catch{return{success:!1,error:"Network error"}}},d=async(g,j,b,y)=>{try{const x=await fetch(`${yu}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:g,email:j,phone:b,password:y})}),S=await x.json().catch(()=>({}));return x.ok?(a(S.user),n(!0),{success:!0,user:S.user}):{success:!1,error:S.error||"Signup failed"}}catch{return{success:!1,error:"Network error"}}},f=async()=>{try{await fetch(`${yu}/auth/logout`,{method:"POST",credentials:"include"})}catch{}a(null),n(!1)},h=g=>{r?g():e()},m=()=>{e()};return w.useEffect(()=>{(async()=>{try{l(!0);let j=await fetch(`${yu}/auth/me`,{method:"GET",credentials:"include"});if(!j.ok&&j.status===401&&(await fetch(`${yu}/auth/refresh`,{method:"POST",credentials:"include"})).ok&&(j=await fetch(`${yu}/auth/me`,{method:"GET",credentials:"include"})),j.ok){const b=await j.json();b?.user&&(a(b.user),n(!0))}}catch{}finally{l(!1)}})()},[]),s.jsx(J3.Provider,{value:{isLoggedIn:r,user:i,isAdmin:i?.role==="admin",isHydrating:o,login:c,signup:d,logout:f,requireAuth:h,openLoginModal:m},children:t})}function hi(){const t=w.useContext(J3);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function iZ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const aZ=t=>{switch(t){case"success":return lZ;case"info":return uZ;case"warning":return cZ;case"error":return dZ;default:return null}},sZ=Array(12).fill(0),oZ=({visible:t,className:e})=>Y.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Y.createElement("div",{className:"sonner-spinner"},sZ.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),lZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fZ=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hZ=()=>{const[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let s_=1;class pZ{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,a=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:s_++,o=this.toasts.find(c=>c.id===a),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...e,id:a,title:n}),{...c,...e,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=n!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],Y.isValidElement(d))a=!1,this.create({id:n,type:"default",message:d});else if(gZ(d)&&!d.ok){a=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,j=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...j})}else if(d instanceof Error){a=!1;const h=typeof r.error=="function"?await r.error(d):r.error,m=typeof r.description=="function"?await r.description(d):r.description,j=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...j})}else if(r.success!==void 0){a=!1;const h=typeof r.success=="function"?await r.success(d):r.success,m=typeof r.description=="function"?await r.description(d):r.description,j=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:m,...j})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){a=!1;const f=typeof r.error=="function"?await r.error(d):r.error,h=typeof r.description=="function"?await r.description(d):r.description,g=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=r?.id||s_++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ai=new pZ,mZ=(t,e)=>{const r=e?.id||s_++;return ai.addToast({title:t,...e,id:r}),r},gZ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vZ=mZ,yZ=()=>ai.toasts,xZ=()=>ai.getActiveToasts(),ve=Object.assign(vZ,{success:ai.success,info:ai.info,warning:ai.warning,error:ai.error,custom:ai.custom,message:ai.message,promise:ai.promise,dismiss:ai.dismiss,loading:ai.loading},{getHistory:yZ,getToasts:xZ});iZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function rv(t){return t.label!==void 0}const bZ=3,wZ="24px",jZ="16px",tM=4e3,SZ=356,CZ=14,NZ=45,_Z=200;function rs(...t){return t.filter(Boolean).join(" ")}function OZ(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const PZ=t=>{var e,r,n,i,a,o,l,c,d;const{invert:f,toast:h,unstyled:m,interacting:g,setHeights:j,visibleToasts:b,heights:y,index:x,toasts:S,expanded:_,removeToast:P,defaultRichColors:C,closeButton:O,style:k,cancelButtonStyle:A,actionButtonStyle:M,className:D="",descriptionClassName:L="",duration:B,position:$,gap:q,expandByDefault:F,classNames:G,icons:E,closeButtonAriaLabel:U="Close toast"}=t,[H,I]=Y.useState(null),[z,V]=Y.useState(null),[J,Q]=Y.useState(!1),[se,oe]=Y.useState(!1),[K,de]=Y.useState(!1),[ae,ce]=Y.useState(!1),[xe,le]=Y.useState(!1),[Te,Ne]=Y.useState(0),[Fe,Ke]=Y.useState(0),Re=Y.useRef(h.duration||B||tM),mt=Y.useRef(null),ct=Y.useRef(null),je=x===0,gt=x+1<=b,Qe=h.type,zt=h.dismissible!==!1,en=h.className||"",tn=h.descriptionClassName||"",rn=Y.useMemo(()=>y.findIndex($e=>$e.toastId===h.id)||0,[y,h.id]),fr=Y.useMemo(()=>{var $e;return($e=h.closeButton)!=null?$e:O},[h.closeButton,O]),Ot=Y.useMemo(()=>h.duration||B||tM,[h.duration,B]),jn=Y.useRef(0),zr=Y.useRef(0),St=Y.useRef(0),sr=Y.useRef(null),[qa,gi]=$.split("-"),Va=Y.useMemo(()=>y.reduce(($e,Nt,wt)=>wt>=rn?$e:$e+Nt.height,0),[y,rn]),In=hZ(),Ps=h.invert||f,nn=Qe==="loading";zr.current=Y.useMemo(()=>rn*q+Va,[rn,Va]),Y.useEffect(()=>{Re.current=Ot},[Ot]),Y.useEffect(()=>{Q(!0)},[]),Y.useEffect(()=>{const $e=ct.current;if($e){const Nt=$e.getBoundingClientRect().height;return Ke(Nt),j(wt=>[{toastId:h.id,height:Nt,position:h.position},...wt]),()=>j(wt=>wt.filter(Mt=>Mt.toastId!==h.id))}},[j,h.id]),Y.useLayoutEffect(()=>{if(!J)return;const $e=ct.current,Nt=$e.style.height;$e.style.height="auto";const wt=$e.getBoundingClientRect().height;$e.style.height=Nt,Ke(wt),j(Mt=>Mt.find(Wt=>Wt.toastId===h.id)?Mt.map(Wt=>Wt.toastId===h.id?{...Wt,height:wt}:Wt):[{toastId:h.id,height:wt,position:h.position},...Mt])},[J,h.title,h.description,j,h.id,h.jsx,h.action,h.cancel]);const Sn=Y.useCallback(()=>{oe(!0),Ne(zr.current),j($e=>$e.filter(Nt=>Nt.toastId!==h.id)),setTimeout(()=>{P(h)},_Z)},[h,P,j,zr]);Y.useEffect(()=>{if(h.promise&&Qe==="loading"||h.duration===1/0||h.type==="loading")return;let $e;return _||g||In?(()=>{if(St.current<jn.current){const Mt=new Date().getTime()-jn.current;Re.current=Re.current-Mt}St.current=new Date().getTime()})():(()=>{Re.current!==1/0&&(jn.current=new Date().getTime(),$e=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Sn()},Re.current))})(),()=>clearTimeout($e)},[_,g,h,Qe,In,Sn]),Y.useEffect(()=>{h.delete&&(Sn(),h.onDismiss==null||h.onDismiss.call(h,h))},[Sn,h.delete]);function bo(){var $e;if(E?.loading){var Nt;return Y.createElement("div",{className:rs(G?.loader,h==null||(Nt=h.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":Qe==="loading"},E.loading)}return Y.createElement(oZ,{className:rs(G?.loader,h==null||($e=h.classNames)==null?void 0:$e.loader),visible:Qe==="loading"})}const vi=h.icon||E?.[Qe]||aZ(Qe);var Ut,xr;return Y.createElement("li",{tabIndex:0,ref:ct,className:rs(D,en,G?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,G?.default,G?.[Qe],h==null||(r=h.classNames)==null?void 0:r[Qe]),"data-sonner-toast":"","data-rich-colors":(Ut=h.richColors)!=null?Ut:C,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":J,"data-promise":!!h.promise,"data-swiped":xe,"data-removed":se,"data-visible":gt,"data-y-position":qa,"data-x-position":gi,"data-index":x,"data-front":je,"data-swiping":K,"data-dismissible":zt,"data-type":Qe,"data-invert":Ps,"data-swipe-out":ae,"data-swipe-direction":z,"data-expanded":!!(_||F&&J),"data-testid":h.testId,style:{"--index":x,"--toasts-before":x,"--z-index":S.length-x,"--offset":`${se?Te:zr.current}px`,"--initial-height":F?"auto":`${Fe}px`,...k,...h.style},onDragEnd:()=>{de(!1),I(null),sr.current=null},onPointerDown:$e=>{$e.button!==2&&(nn||!zt||(mt.current=new Date,Ne(zr.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(de(!0),sr.current={x:$e.clientX,y:$e.clientY})))},onPointerUp:()=>{var $e,Nt,wt;if(ae||!zt)return;sr.current=null;const Mt=Number((($e=ct.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ft=Number(((Nt=ct.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wt=new Date().getTime()-((wt=mt.current)==null?void 0:wt.getTime()),yt=H==="x"?Mt:Ft,Fr=Math.abs(yt)/Wt;if(Math.abs(yt)>=NZ||Fr>.11){Ne(zr.current),h.onDismiss==null||h.onDismiss.call(h,h),V(H==="x"?Mt>0?"right":"left":Ft>0?"down":"up"),Sn(),ce(!0);return}else{var Dt,Kt;(Dt=ct.current)==null||Dt.style.setProperty("--swipe-amount-x","0px"),(Kt=ct.current)==null||Kt.style.setProperty("--swipe-amount-y","0px")}le(!1),de(!1),I(null)},onPointerMove:$e=>{var Nt,wt,Mt;if(!sr.current||!zt||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;const Wt=$e.clientY-sr.current.y,yt=$e.clientX-sr.current.x;var Fr;const Dt=(Fr=t.swipeDirections)!=null?Fr:OZ($);!H&&(Math.abs(yt)>1||Math.abs(Wt)>1)&&I(Math.abs(yt)>Math.abs(Wt)?"x":"y");let Kt={x:0,y:0};const an=br=>1/(1.5+Math.abs(br)/20);if(H==="y"){if(Dt.includes("top")||Dt.includes("bottom"))if(Dt.includes("top")&&Wt<0||Dt.includes("bottom")&&Wt>0)Kt.y=Wt;else{const br=Wt*an(Wt);Kt.y=Math.abs(br)<Math.abs(Wt)?br:Wt}}else if(H==="x"&&(Dt.includes("left")||Dt.includes("right")))if(Dt.includes("left")&&yt<0||Dt.includes("right")&&yt>0)Kt.x=yt;else{const br=yt*an(yt);Kt.x=Math.abs(br)<Math.abs(yt)?br:yt}(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&le(!0),(wt=ct.current)==null||wt.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(Mt=ct.current)==null||Mt.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},fr&&!h.jsx&&Qe!=="loading"?Y.createElement("button",{"aria-label":U,"data-disabled":nn,"data-close-button":!0,onClick:nn||!zt?()=>{}:()=>{Sn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:rs(G?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(xr=E?.close)!=null?xr:fZ):null,(Qe||h.icon||h.promise)&&h.icon!==null&&(E?.[Qe]!==null||h.icon)?Y.createElement("div",{"data-icon":"",className:rs(G?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||bo():null,h.type!=="loading"?vi:null):null,Y.createElement("div",{"data-content":"",className:rs(G?.content,h==null||(a=h.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:rs(G?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Y.createElement("div",{"data-description":"",className:rs(L,tn,G?.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),Y.isValidElement(h.cancel)?h.cancel:h.cancel&&rv(h.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:$e=>{rv(h.cancel)&&zt&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,$e),Sn())},className:rs(G?.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,Y.isValidElement(h.action)?h.action:h.action&&rv(h.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:$e=>{rv(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,$e),!$e.defaultPrevented&&Sn())},className:rs(G?.actionButton,h==null||(d=h.classNames)==null?void 0:d.actionButton)},h.action.label):null)};function rM(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function kZ(t,e){const r={};return[t,e].forEach((n,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",l=a?jZ:wZ;function c(d){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}const TZ=Y.forwardRef(function(e,r){const{id:n,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:f,mobileOffset:h,theme:m="light",richColors:g,duration:j,style:b,visibleToasts:y=bZ,toastOptions:x,dir:S=rM(),gap:_=CZ,icons:P,containerAriaLabel:C="Notifications"}=e,[O,k]=Y.useState([]),A=Y.useMemo(()=>n?O.filter(J=>J.toasterId===n):O.filter(J=>!J.toasterId),[O,n]),M=Y.useMemo(()=>Array.from(new Set([a].concat(A.filter(J=>J.position).map(J=>J.position)))),[A,a]),[D,L]=Y.useState([]),[B,$]=Y.useState(!1),[q,F]=Y.useState(!1),[G,E]=Y.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=Y.useRef(null),H=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=Y.useRef(null),z=Y.useRef(!1),V=Y.useCallback(J=>{k(Q=>{var se;return(se=Q.find(oe=>oe.id===J.id))!=null&&se.delete||ai.dismiss(J.id),Q.filter(({id:oe})=>oe!==J.id)})},[]);return Y.useEffect(()=>ai.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{k(Q=>Q.map(se=>se.id===J.id?{...se,delete:!0}:se))});return}setTimeout(()=>{K3.flushSync(()=>{k(Q=>{const se=Q.findIndex(oe=>oe.id===J.id);return se!==-1?[...Q.slice(0,se),{...Q[se],...J},...Q.slice(se+1)]:[J,...Q]})})})}),[O]),Y.useEffect(()=>{if(m!=="system"){E(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:Q})=>{E(Q?"dark":"light")})}catch{J.addListener(({matches:se})=>{try{E(se?"dark":"light")}catch(oe){console.error(oe)}})}},[m]),Y.useEffect(()=>{O.length<=1&&$(!1)},[O]),Y.useEffect(()=>{const J=Q=>{var se;if(o.every(de=>Q[de]||Q.code===de)){var K;$(!0),(K=U.current)==null||K.focus()}Q.code==="Escape"&&(document.activeElement===U.current||(se=U.current)!=null&&se.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[o]),Y.useEffect(()=>{if(U.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,z.current=!1)}},[U.current]),Y.createElement("section",{ref:r,"aria-label":`${C} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((J,Q)=>{var se;const[oe,K]=J.split("-");return A.length?Y.createElement("ol",{key:J,dir:S==="auto"?rM():S,tabIndex:-1,ref:U,className:d,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":oe,"data-x-position":K,style:{"--front-toast-height":`${((se=D[0])==null?void 0:se.height)||0}px`,"--width":`${SZ}px`,"--gap":`${_}px`,...b,...kZ(f,h)},onBlur:de=>{z.current&&!de.currentTarget.contains(de.relatedTarget)&&(z.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||z.current||(z.current=!0,I.current=de.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{q||$(!1)},onDragEnd:()=>$(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},A.filter(de=>!de.position&&Q===0||de.position===J).map((de,ae)=>{var ce,xe;return Y.createElement(PZ,{key:de.id,icons:P,index:ae,toast:de,defaultRichColors:g,duration:(ce=x?.duration)!=null?ce:j,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:i,visibleToasts:y,closeButton:(xe=x?.closeButton)!=null?xe:c,interacting:q,position:J,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:V,toasts:A.filter(le=>le.position==de.position),heights:D.filter(le=>le.position==de.position),setHeights:L,expandByDefault:l,gap:_,expanded:B,swipeDirections:e.swipeDirections})})):null}))});function qd({id:t,name:e,price:r,image:n,category:i,isNew:a,onAddToCart:o,onToggleFavorite:l,isFavorited:c=!1}){const[d,f]=w.useState(!1),{requireAuth:h}=hi(),m=kr(),g=()=>{h(()=>{l&&(l(t),ve.success(c?"Removed from favorites":"Added to favorites"))})},j=()=>{h(()=>{o(t),ve.success(`${e} added to cart!`)})},b=()=>{m(`/product/${t}`)};return s.jsxs("div",{className:"group relative overflow-hidden rounded-lg bg-white",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[s.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100 cursor-pointer",onClick:b,children:[s.jsx(ki,{src:n,alt:e,className:"size-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[a&&s.jsx(lt,{className:"bg-black text-white hover:bg-black/90",children:"New"}),i&&s.jsx(lt,{variant:"secondary",className:"bg-white/90 text-black",children:i})]}),s.jsx("button",{onClick:y=>{y.stopPropagation(),g()},className:"absolute top-3 right-3 flex size-9 items-center justify-center rounded-full bg-white/90 backdrop-blur transition-all hover:bg-white active:scale-95",children:s.jsx(Qu,{className:`size-4 transition-colors ${c?"fill-red-500 text-red-500":"text-gray-700"}`})}),s.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 transition-all duration-300 ${d?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:s.jsxs(ee,{onClick:y=>{y.stopPropagation(),j()},className:"w-full bg-black text-white hover:bg-black/90 transition-transform active:scale-95",children:[s.jsx(il,{className:"mr-2 size-4"}),"Add to Cart"]})})]}),s.jsxs("div",{className:"p-4 cursor-pointer",onClick:b,children:[s.jsx("h3",{className:"mb-1 line-clamp-1",children:e}),s.jsxs("p",{className:"text-gray-600",children:["",r.toFixed(2)]})]})]})}function AZ({onAddToCart:t,onToggleFavorite:e,favorites:r=[]}){const n=kr(),i=[{id:"1",name:"Classic White T-Shirt - Round Neck",price:200,image:"https://images.unsplash.com/photo-1636458939465-9209848a5688?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwbW9kZWwlMjB0c2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts",isNew:!0},{id:"2",name:"Varsity Jacket - Blue & White",price:600,image:"https://images.unsplash.com/photo-1761245332312-fddc4f0b5bab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2YXJzaXR5JTIwamFja2V0JTIwc3RyZWV0fGVufDF8fHx8MTc2Mjk3Nzk3OXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets",isNew:!0},{id:"3",name:"Oversized Hoodie - Premium Cotton",price:450,image:"https://images.unsplash.com/photo-1688111421205-a0a85415b224?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwaG9vZGllfGVufDF8fHx8MTc2Mjk1MjY5MHww&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies",isNew:!1},{id:"4",name:"Denim Jacket - Classic Blue",price:550,image:"https://images.unsplash.com/photo-1657349038547-b18a07fb4329?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZW5pbSUyMGphY2tldCUyMHN0eWxlfGVufDF8fHx8MTc2MjkzMjg2MXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets",isNew:!1}];return s.jsxs("div",{children:[s.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:[s.jsx("div",{className:"container mx-auto px-4 py-20 md:py-32 md:px-6",children:s.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[s.jsx(lt,{className:"mb-4 bg-white/10 text-white hover:bg-white/20 cursor-pointer",onClick:()=>n("/new-arrivals"),children:"New Collection Available"}),s.jsx("h1",{className:"mb-6",children:"Choose & Design Your Own Clothing"}),s.jsx("p",{className:"mb-8 text-lg text-gray-300",children:"Express your unique style with our customizable clothing collection. Premium quality, affordable prices, and endless possibilities."}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:s.jsxs(ee,{size:"lg",className:"bg-white text-black hover:bg-gray-100",onClick:()=>n("/custom-products"),children:["Customizable Clothing",s.jsx(Yl,{className:"ml-2 size-4"})]})})]})}),s.jsx("div",{className:"absolute top-1/2 left-10 size-72 rounded-full bg-blue-500/10 blur-3xl"}),s.jsx("div",{className:"absolute bottom-10 right-10 size-96 rounded-full bg-purple-500/10 blur-3xl"})]}),s.jsxs("section",{className:"container mx-auto px-4 py-20 md:px-6",children:[s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-gray-600",children:"Discover our latest collection"})]}),s.jsxs(ee,{variant:"outline",onClick:()=>n("/new-arrivals"),children:["View All",s.jsx(Yl,{className:"ml-2 size-4"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(a=>s.jsx(qd,{...a,onAddToCart:t,onToggleFavorite:e,isFavorited:r.some(o=>o.id===a.id)},a.id))})]}),s.jsxs("section",{className:"container mx-auto px-4 py-20 md:px-6",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h2",{className:"mb-2",children:"Shop by Category"}),s.jsx("p",{className:"text-gray-600",children:"Explore our curated collections"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{onClick:()=>n("/men"),className:"group relative overflow-hidden rounded-lg cursor-pointer aspect-[3/4] bg-gray-100",children:[s.jsx(ki,{src:"https://images.unsplash.com/flagged/photo-1552708068-ddef64d75aee?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBmYXNoaW9uJTIwY2xvdGhpbmd8ZW58MXx8fHwxNzYyOTg2MjE1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Men's Collection",className:"size-full object-cover transition-transform duration-500 group-hover:scale-110"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[s.jsx("h3",{className:"mb-2 text-white",children:"Men"}),s.jsx("p",{className:"text-sm text-white/80 mb-4",children:"Stylish & Comfortable"}),s.jsxs(ee,{className:"bg-white text-black hover:bg-white/90",children:["Shop Now",s.jsx(Yl,{className:"ml-2 size-4"})]})]})]}),s.jsxs("div",{onClick:()=>n("/women"),className:"group relative overflow-hidden rounded-lg cursor-pointer aspect-[3/4] bg-gray-100",children:[s.jsx(ki,{src:"https://images.unsplash.com/photo-1708363390847-b4af54f45273?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGZhc2hpb24lMjBzdHlsZXxlbnwxfHx8fDE3NjI5OTEwNTJ8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Women's Collection",className:"size-full object-cover transition-transform duration-500 group-hover:scale-110"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[s.jsx("h3",{className:"mb-2 text-white",children:"Women"}),s.jsx("p",{className:"text-sm text-white/80 mb-4",children:"Elegant & Trendy"}),s.jsxs(ee,{className:"bg-white text-black hover:bg-white/90",children:["Shop Now",s.jsx(Yl,{className:"ml-2 size-4"})]})]})]}),s.jsxs("div",{onClick:()=>n("/kids"),className:"group relative overflow-hidden rounded-lg cursor-pointer aspect-[3/4] bg-gray-100",children:[s.jsx(ki,{src:"https://images.unsplash.com/photo-1695263747144-a52aa3739d62?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxraWRzJTIwY2hpbGRyZW4lMjBmYXNoaW9ufGVufDF8fHx8MTc2Mjk5MTA1Mnww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Kids' Collection",className:"size-full object-cover transition-transform duration-500 group-hover:scale-110"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[s.jsx("h3",{className:"mb-2 text-white",children:"Kids"}),s.jsx("p",{className:"text-sm text-white/80 mb-4",children:"Fun & Playful"}),s.jsxs(ee,{className:"bg-white text-black hover:bg-white/90",children:["Shop Now",s.jsx(Yl,{className:"ml-2 size-4"})]})]})]})]})]}),s.jsx("section",{className:"container mx-auto px-4 pb-20 md:px-6",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 to-purple-600 p-8 md:p-12 text-white",children:[s.jsxs("div",{className:"relative z-10 max-w-2xl",children:[s.jsx("h2",{className:"mb-4 text-white",children:"Design Your Own Clothing"}),s.jsx("p",{className:"mb-6 text-lg text-white/90",children:"Create custom designs with our easy-to-use design tool. Choose your style, add graphics, and make it uniquely yours."}),s.jsxs(ee,{size:"lg",className:"bg-white text-black hover:bg-gray-100",onClick:()=>n("/custom-products"),children:["Start Designing",s.jsx(Yl,{className:"ml-2 size-4"})]})]}),s.jsx("div",{className:"absolute right-0 top-0 size-full opacity-20",children:s.jsx(ki,{src:"https://images.unsplash.com/photo-1636458939465-9209848a5688?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwbW9kZWwlMjB0c2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Design",className:"size-full object-cover"})})]})})]})}function Me(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function EZ(t,e){const r=w.createContext(e),n=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(a){const o=w.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Rn(t,e=[]){let r=[];function n(a,o){const l=w.createContext(o),c=r.length;r=[...r,o];const d=h=>{const{scope:m,children:g,...j}=h,b=m?.[t]?.[c]||l,y=w.useMemo(()=>j,Object.values(j));return s.jsx(b.Provider,{value:y,children:g})};d.displayName=a+"Provider";function f(h,m){const g=m?.[t]?.[c]||l,j=w.useContext(g);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,f]}const i=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=l?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,MZ(i,...e)]}function MZ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Ir=globalThis?.document?w.useLayoutEffect:()=>{},DZ=gP[" useId ".trim().toString()]||(()=>{}),RZ=0;function na(t){const[e,r]=w.useState(DZ());return Ir(()=>{r(n=>n??String(RZ++))},[t]),t||(e?`radix-${e}`:"")}var IZ=gP[" useInsertionEffect ".trim().toString()]||Ir;function sa({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=LZ({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const f=w.useRef(t!==void 0);w.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=w.useCallback(f=>{if(l){const h=zZ(f)?f(t):f;h!==t&&o.current?.(h)}else a(f)},[l,t,a,o]);return[c,d]}function LZ({defaultProp:t,onChange:e}){const[r,n]=w.useState(t),i=w.useRef(r),a=w.useRef(e);return IZ(()=>{a.current=e},[e]),w.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function zZ(t){return typeof t=="function"}function FZ(t){const e=$Z(t),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(HZ);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function $Z(t){const e=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=UZ(i),l=WZ(a,i.props);return i.type!==w.Fragment&&(l.ref=n?js(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BZ=Symbol("radix.slottable");function HZ(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BZ}function WZ(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function UZ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=qZ.reduce((t,e)=>{const r=FZ(`Primitive.${e}`),n=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Z3(t,e){t&&cs.flushSync(()=>t.dispatchEvent(e))}function Ea(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>e.current?.(...r),[])}function VZ(t,e=globalThis?.document){const r=Ea(t);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var GZ="DismissableLayer",o_="dismissableLayer.update",XZ="dismissableLayer.pointerDownOutside",YZ="dismissableLayer.focusOutside",nM,Q3=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hm=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=w.useContext(Q3),[f,h]=w.useState(null),m=f?.ownerDocument??globalThis?.document,[,g]=w.useState({}),j=ut(e,k=>h(k)),b=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(y),S=f?b.indexOf(f):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,P=S>=x,C=ZZ(k=>{const A=k.target,M=[...d.branches].some(D=>D.contains(A));!P||M||(i?.(k),o?.(k),k.defaultPrevented||l?.())},m),O=QZ(k=>{const A=k.target;[...d.branches].some(D=>D.contains(A))||(a?.(k),o?.(k),k.defaultPrevented||l?.())},m);return VZ(k=>{S===d.layers.size-1&&(n?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),w.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(nM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),iM(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=nM)}},[f,m,r,d]),w.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),iM())},[f,d]),w.useEffect(()=>{const k=()=>g({});return document.addEventListener(o_,k),()=>document.removeEventListener(o_,k)},[]),s.jsx(Ze.div,{...c,ref:j,style:{pointerEvents:_?P?"auto":"none":void 0,...t.style},onFocusCapture:Me(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Me(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Me(t.onPointerDownCapture,C.onPointerDownCapture)})});hm.displayName=GZ;var KZ="DismissableLayerBranch",JZ=w.forwardRef((t,e)=>{const r=w.useContext(Q3),n=w.useRef(null),i=ut(e,n);return w.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Ze.div,{...t,ref:i})});JZ.displayName=KZ;function ZZ(t,e=globalThis?.document){const r=Ea(t),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){e$(XZ,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function QZ(t,e=globalThis?.document){const r=Ea(t),n=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!n.current&&e$(YZ,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function iM(){const t=new CustomEvent(o_);document.dispatchEvent(t)}function e$(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Z3(i,a):i.dispatchEvent(a)}var fj="focusScope.autoFocusOnMount",hj="focusScope.autoFocusOnUnmount",aM={bubbles:!1,cancelable:!0},eQ="FocusScope",pm=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=w.useState(null),d=Ea(i),f=Ea(a),h=w.useRef(null),m=ut(e,b=>c(b)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let b=function(_){if(g.paused||!l)return;const P=_.target;l.contains(P)?h.current=P:Ho(h.current,{select:!0})},y=function(_){if(g.paused||!l)return;const P=_.relatedTarget;P!==null&&(l.contains(P)||Ho(h.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&Ho(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const S=new MutationObserver(x);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),S.disconnect()}}},[n,l,g.paused]),w.useEffect(()=>{if(l){oM.add(g);const b=document.activeElement;if(!l.contains(b)){const x=new CustomEvent(fj,aM);l.addEventListener(fj,d),l.dispatchEvent(x),x.defaultPrevented||(tQ(sQ(t$(l)),{select:!0}),document.activeElement===b&&Ho(l))}return()=>{l.removeEventListener(fj,d),setTimeout(()=>{const x=new CustomEvent(hj,aM);l.addEventListener(hj,f),l.dispatchEvent(x),x.defaultPrevented||Ho(b??document.body,{select:!0}),l.removeEventListener(hj,f),oM.remove(g)},0)}}},[l,d,f,g]);const j=w.useCallback(b=>{if(!r&&!n||g.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,x=document.activeElement;if(y&&x){const S=b.currentTarget,[_,P]=rQ(S);_&&P?!b.shiftKey&&x===P?(b.preventDefault(),r&&Ho(_,{select:!0})):b.shiftKey&&x===_&&(b.preventDefault(),r&&Ho(P,{select:!0})):x===S&&b.preventDefault()}},[r,n,g.paused]);return s.jsx(Ze.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});pm.displayName=eQ;function tQ(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ho(n,{select:e}),document.activeElement!==r)return}function rQ(t){const e=t$(t),r=sM(e,t),n=sM(e.reverse(),t);return[r,n]}function t$(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function sM(t,e){for(const r of t)if(!nQ(r,{upTo:e}))return r}function nQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iQ(t){return t instanceof HTMLInputElement&&"select"in t}function Ho(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&iQ(t)&&e&&t.select()}}var oM=aQ();function aQ(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=lM(t,e),t.unshift(e)},remove(e){t=lM(t,e),t[0]?.resume()}}}function lM(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function sQ(t){return t.filter(e=>e.tagName!=="A")}var oQ="Portal",mm=w.forwardRef((t,e)=>{const{container:r,...n}=t,[i,a]=w.useState(!1);Ir(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?K3.createPortal(s.jsx(Ze.div,{...n,ref:e}),o):null});mm.displayName=oQ;function lQ(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var pi=t=>{const{present:e,children:r}=t,n=cQ(e),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),a=ut(n.ref,uQ(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:a}):null};pi.displayName="Presence";function cQ(t){const[e,r]=w.useState(),n=w.useRef(null),i=w.useRef(t),a=w.useRef("none"),o=t?"mounted":"unmounted",[l,c]=lQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=nv(n.current);a.current=l==="mounted"?d:"none"},[l]),Ir(()=>{const d=n.current,f=i.current;if(f!==t){const m=a.current,g=nv(d);t?c("MOUNT"):g==="none"||d?.display==="none"?c("UNMOUNT"):c(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Ir(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,h=g=>{const b=nv(n.current).includes(CSS.escape(g.animationName));if(g.target===e&&b&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=g=>{g.target===e&&(a.current=nv(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function nv(t){return t?.animationName||"none"}function uQ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var pj=0;function qx(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cM()),document.body.insertAdjacentElement("beforeend",t[1]??cM()),pj++,()=>{pj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),pj--}},[])}function cM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var os=function(){return os=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},os.apply(this,arguments)};function r$(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function dQ(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Wv="right-scroll-bar-position",Uv="width-before-scroll-bar",fQ="with-scroll-bars-hidden",hQ="--removed-body-scroll-bar-size";function mj(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pQ(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var mQ=typeof window<"u"?w.useLayoutEffect:w.useEffect,uM=new WeakMap;function gQ(t,e){var r=pQ(null,function(n){return t.forEach(function(i){return mj(i,n)})});return mQ(function(){var n=uM.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(l){a.has(l)||mj(l,null)}),a.forEach(function(l){i.has(l)||mj(l,o)})}uM.set(r,t)},[t]),r}function vQ(t){return t}function yQ(t,e){e===void 0&&(e=vQ);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return i}function xQ(t){t===void 0&&(t={});var e=yQ(null);return e.options=os({async:!0,ssr:!1},t),e}var n$=function(t){var e=t.sideCar,r=r$(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,os({},r))};n$.isSideCarExport=!0;function bQ(t,e){return t.useMedium(e),n$}var i$=xQ(),gj=function(){},Vx=w.forwardRef(function(t,e){var r=w.useRef(null),n=w.useState({onScrollCapture:gj,onWheelCapture:gj,onTouchMoveCapture:gj}),i=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,j=t.noIsolation,b=t.inert,y=t.allowPinchZoom,x=t.as,S=x===void 0?"div":x,_=t.gapMode,P=r$(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,O=gQ([r,e]),k=os(os({},P),i);return w.createElement(w.Fragment,null,f&&w.createElement(C,{sideCar:i$,removeScrollBar:d,shards:h,noRelative:g,noIsolation:j,inert:b,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:_}),o?w.cloneElement(w.Children.only(l),os(os({},k),{ref:O})):w.createElement(S,os({},k,{className:c,ref:O}),l))});Vx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vx.classNames={fullWidth:Uv,zeroRight:Wv};var wQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wQ();return e&&t.setAttribute("nonce",e),t}function SQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var NQ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=jQ())&&(SQ(e,r),CQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_Q=function(){var t=NQ();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},a$=function(){var t=_Q(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},OQ={left:0,top:0,right:0,gap:0},vj=function(t){return parseInt(t||"",10)||0},PQ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[vj(r),vj(n),vj(i)]},kQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return OQ;var e=PQ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},TQ=a$(),$u="data-scroll-locked",AQ=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(fQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat($u,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Uv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Wv," .").concat(Wv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Uv," .").concat(Uv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($u,`] {
    `).concat(hQ,": ").concat(l,`px;
  }
`)},dM=function(){var t=parseInt(document.body.getAttribute($u)||"0",10);return isFinite(t)?t:0},EQ=function(){w.useEffect(function(){return document.body.setAttribute($u,(dM()+1).toString()),function(){var t=dM()-1;t<=0?document.body.removeAttribute($u):document.body.setAttribute($u,t.toString())}},[])},MQ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;EQ();var a=w.useMemo(function(){return kQ(i)},[i]);return w.createElement(TQ,{styles:AQ(a,!e,i,r?"":"!important")})},l_=!1;if(typeof window<"u")try{var iv=Object.defineProperty({},"passive",{get:function(){return l_=!0,!0}});window.addEventListener("test",iv,iv),window.removeEventListener("test",iv,iv)}catch{l_=!1}var xu=l_?{passive:!1}:!1,DQ=function(t){return t.tagName==="TEXTAREA"},s$=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!DQ(t)&&r[e]==="visible")},RQ=function(t){return s$(t,"overflowY")},IQ=function(t){return s$(t,"overflowX")},fM=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=o$(t,n);if(i){var a=l$(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},LQ=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},zQ=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},o$=function(t,e){return t==="v"?RQ(e):IQ(e)},l$=function(t,e){return t==="v"?LQ(e):zQ(e)},FQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},$Q=function(t,e,r,n,i){var a=FQ(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),d=!1,f=o>0,h=0,m=0;do{if(!l)break;var g=l$(t,l),j=g[0],b=g[1],y=g[2],x=b-y-a*j;(j||x)&&o$(t,l)&&(h+=x,m+=j);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},av=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hM=function(t){return[t.deltaX,t.deltaY]},pM=function(t){return t&&"current"in t?t.current:t},BQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},WQ=0,bu=[];function UQ(t){var e=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(WQ++)[0],a=w.useState(a$)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=dQ([t.lockRef.current],(t.shards||[]).map(pM),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=w.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var x=av(b),S=r.current,_="deltaX"in b?b.deltaX:S[0]-x[0],P="deltaY"in b?b.deltaY:S[1]-x[1],C,O=b.target,k=Math.abs(_)>Math.abs(P)?"h":"v";if("touches"in b&&k==="h"&&O.type==="range")return!1;var A=fM(k,O);if(!A)return!0;if(A?C=k:(C=k==="v"?"h":"v",A=fM(k,O)),!A)return!1;if(!n.current&&"changedTouches"in b&&(_||P)&&(n.current=C),!C)return!0;var M=n.current||C;return $Q(M,y,b,M==="h"?_:P)},[]),c=w.useCallback(function(b){var y=b;if(!(!bu.length||bu[bu.length-1]!==a)){var x="deltaY"in y?hM(y):av(y),S=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&BQ(C.delta,x)})[0];if(S&&S.should){y.cancelable&&y.preventDefault();return}if(!S){var _=(o.current.shards||[]).map(pM).filter(Boolean).filter(function(C){return C.contains(y.target)}),P=_.length>0?l(y,_[0]):!o.current.noIsolation;P&&y.cancelable&&y.preventDefault()}}},[]),d=w.useCallback(function(b,y,x,S){var _={name:b,delta:y,target:x,should:S,shadowParent:qQ(x)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(P){return P!==_})},1)},[]),f=w.useCallback(function(b){r.current=av(b),n.current=void 0},[]),h=w.useCallback(function(b){d(b.type,hM(b),b.target,l(b,t.lockRef.current))},[]),m=w.useCallback(function(b){d(b.type,av(b),b.target,l(b,t.lockRef.current))},[]);w.useEffect(function(){return bu.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,xu),document.addEventListener("touchmove",c,xu),document.addEventListener("touchstart",f,xu),function(){bu=bu.filter(function(b){return b!==a}),document.removeEventListener("wheel",c,xu),document.removeEventListener("touchmove",c,xu),document.removeEventListener("touchstart",f,xu)}},[]);var g=t.removeScrollBar,j=t.inert;return w.createElement(w.Fragment,null,j?w.createElement(a,{styles:HQ(i)}):null,g?w.createElement(MQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function qQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const VQ=bQ(i$,UQ);var gm=w.forwardRef(function(t,e){return w.createElement(Vx,os({},t,{ref:e,sideCar:VQ}))});gm.classNames=Vx.classNames;var GQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wu=new WeakMap,sv=new WeakMap,ov={},yj=0,c$=function(t){return t&&(t.host||c$(t.parentNode))},XQ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=c$(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},YQ=function(t,e,r,n){var i=XQ(e,Array.isArray(t)?t:[t]);ov[r]||(ov[r]=new WeakMap);var a=ov[r],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var g=m.getAttribute(n),j=g!==null&&g!=="false",b=(wu.get(m)||0)+1,y=(a.get(m)||0)+1;wu.set(m,b),a.set(m,y),o.push(m),b===1&&j&&sv.set(m,!0),y===1&&m.setAttribute(r,"true"),j||m.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return f(e),l.clear(),yj++,function(){o.forEach(function(h){var m=wu.get(h)-1,g=a.get(h)-1;wu.set(h,m),a.set(h,g),m||(sv.has(h)||h.removeAttribute(n),sv.delete(h)),g||h.removeAttribute(r)}),yj--,yj||(wu=new WeakMap,wu=new WeakMap,sv=new WeakMap,ov={})}},Gx=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=GQ(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),YQ(n,i,r,"aria-hidden")):function(){return null}};function KQ(t){const e=JQ(t),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(QQ);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function JQ(t){const e=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=tee(i),l=eee(a,i.props);return i.type!==w.Fragment&&(l.ref=n?js(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZQ=Symbol("radix.slottable");function QQ(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZQ}function eee(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function tee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Xx="Dialog",[u$,d$]=Rn(Xx),[ree,Wa]=u$(Xx),f$=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=w.useRef(null),c=w.useRef(null),[d,f]=sa({prop:n,defaultProp:i??!1,onChange:a,caller:Xx});return s.jsx(ree,{scope:e,triggerRef:l,contentRef:c,contentId:na(),titleId:na(),descriptionId:na(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:o,children:r})};f$.displayName=Xx;var h$="DialogTrigger",p$=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wa(h$,r),a=ut(e,i.triggerRef);return s.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":MP(i.open),...n,ref:a,onClick:Me(t.onClick,i.onOpenToggle)})});p$.displayName=h$;var AP="DialogPortal",[nee,m$]=u$(AP,{forceMount:void 0}),g$=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Wa(AP,e);return s.jsx(nee,{scope:e,forceMount:r,children:w.Children.map(n,o=>s.jsx(pi,{present:r||a.open,children:s.jsx(mm,{asChild:!0,container:i,children:o})}))})};g$.displayName=AP;var ay="DialogOverlay",v$=w.forwardRef((t,e)=>{const r=m$(ay,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Wa(ay,t.__scopeDialog);return a.modal?s.jsx(pi,{present:n||a.open,children:s.jsx(aee,{...i,ref:e})}):null});v$.displayName=ay;var iee=KQ("DialogOverlay.RemoveScroll"),aee=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wa(ay,r);return s.jsx(gm,{as:iee,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ze.div,{"data-state":MP(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),hc="DialogContent",y$=w.forwardRef((t,e)=>{const r=m$(hc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Wa(hc,t.__scopeDialog);return s.jsx(pi,{present:n||a.open,children:a.modal?s.jsx(see,{...i,ref:e}):s.jsx(oee,{...i,ref:e})})});y$.displayName=hc;var see=w.forwardRef((t,e)=>{const r=Wa(hc,t.__scopeDialog),n=w.useRef(null),i=ut(e,r.contentRef,n);return w.useEffect(()=>{const a=n.current;if(a)return Gx(a)},[]),s.jsx(x$,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(t.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Me(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Me(t.onFocusOutside,a=>a.preventDefault())})}),oee=w.forwardRef((t,e)=>{const r=Wa(hc,t.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return s.jsx(x$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),x$=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=Wa(hc,r),c=w.useRef(null),d=ut(e,c);return qx(),s.jsxs(s.Fragment,{children:[s.jsx(pm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(hm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":MP(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(cee,{titleId:l.titleId}),s.jsx(dee,{contentRef:c,descriptionId:l.descriptionId})]})]})}),EP="DialogTitle",b$=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wa(EP,r);return s.jsx(Ze.h2,{id:i.titleId,...n,ref:e})});b$.displayName=EP;var w$="DialogDescription",j$=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wa(w$,r);return s.jsx(Ze.p,{id:i.descriptionId,...n,ref:e})});j$.displayName=w$;var S$="DialogClose",C$=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wa(S$,r);return s.jsx(Ze.button,{type:"button",...n,ref:e,onClick:Me(t.onClick,()=>i.onOpenChange(!1))})});C$.displayName=S$;function MP(t){return t?"open":"closed"}var N$="DialogTitleWarning",[lee,_$]=EZ(N$,{contentName:hc,titleName:EP,docsSlug:"dialog"}),cee=({titleId:t})=>{const e=_$(N$),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},uee="DialogDescriptionWarning",dee=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_$(uee).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},DP=f$,fee=p$,RP=g$,vm=v$,IP=y$,LP=b$,zP=j$,Yx=C$;function Kx({...t}){return s.jsx(DP,{"data-slot":"sheet",...t})}function hee({...t}){return s.jsx(RP,{"data-slot":"sheet-portal",...t})}const O$=w.forwardRef(({className:t,...e},r)=>s.jsx(vm,{ref:r,"data-slot":"sheet-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));O$.displayName=vm.displayName;function Jx({className:t,children:e,side:r="right",...n}){return s.jsxs(hee,{children:[s.jsx(O$,{}),s.jsxs(IP,{"data-slot":"sheet-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,s.jsxs(Yx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(Tt,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function FP({className:t,...e}){return s.jsx("div",{"data-slot":"sheet-header",className:Je("flex flex-col gap-1.5 p-4",t),...e})}function Zx({className:t,...e}){return s.jsx(LP,{"data-slot":"sheet-title",className:Je("text-foreground font-semibold",t),...e})}function Qx({className:t,...e}){return s.jsx(zP,{"data-slot":"sheet-description",className:Je("text-muted-foreground text-sm",t),...e})}function sy(t,[e,r]){return Math.min(r,Math.max(e,t))}var pee=w.createContext(void 0);function Vd(t){const e=w.useContext(pee);return t||e||"ltr"}function ym(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function xm(t){const[e,r]=w.useState(void 0);return Ir(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function mM(t){const e=mee(t),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(vee);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function mee(t){const e=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=xee(i),l=yee(a,i.props);return i.type!==w.Fragment&&(l.ref=n?js(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gee=Symbol("radix.slottable");function vee(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gee}function yee(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function xee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function e0(t){const e=t+"CollectionProvider",[r,n]=Rn(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:y,children:x}=b,S=Y.useRef(null),_=Y.useRef(new Map).current;return s.jsx(i,{scope:y,itemMap:_,collectionRef:S,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=mM(l),d=Y.forwardRef((b,y)=>{const{scope:x,children:S}=b,_=a(l,x),P=ut(y,_.collectionRef);return s.jsx(c,{ref:P,children:S})});d.displayName=l;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=mM(f),g=Y.forwardRef((b,y)=>{const{scope:x,children:S,..._}=b,P=Y.useRef(null),C=ut(y,P),O=a(f,x);return Y.useEffect(()=>(O.itemMap.set(P,{ref:P,..._}),()=>void O.itemMap.delete(P))),s.jsx(m,{[h]:"",ref:C,children:S})});g.displayName=f;function j(b){const y=a(t+"CollectionConsumer",b);return Y.useCallback(()=>{const S=y.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((O,k)=>_.indexOf(O.ref.current)-_.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},j,n]}var P$=["PageUp","PageDown"],k$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T$={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Gd="Slider",[c_,bee,wee]=e0(Gd),[A$]=Rn(Gd,[wee]),[jee,t0]=A$(Gd),E$=w.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:j,...b}=t,y=w.useRef(new Set),x=w.useRef(0),_=o==="horizontal"?See:Cee,[P=[],C]=sa({prop:f,defaultProp:d,onChange:L=>{[...y.current][x.current]?.focus(),h(L)}}),O=w.useRef(P);function k(L){const B=kee(P,L);D(L,B)}function A(L){D(L,x.current)}function M(){const L=O.current[x.current];P[x.current]!==L&&m(P)}function D(L,B,{commit:$}={commit:!1}){const q=Mee(a),F=Dee(Math.round((L-n)/a)*a+n,q),G=sy(F,[n,i]);C((E=[])=>{const U=Oee(E,G,B);if(Eee(U,c*a)){x.current=U.indexOf(G);const H=String(U)!==String(E);return H&&$&&m(U),H?U:E}else return E})}return s.jsx(jee,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:x,thumbs:y.current,values:P,orientation:o,form:j,children:s.jsx(c_.Provider,{scope:t.__scopeSlider,children:s.jsx(c_.Slot,{scope:t.__scopeSlider,children:s.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:e,onPointerDown:Me(b.onPointerDown,()=>{l||(O.current=P)}),min:n,max:i,inverted:g,onSlideStart:l?void 0:k,onSlideMove:l?void 0:A,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&D(n,0,{commit:!0}),onEndKeyDown:()=>!l&&D(i,P.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:B})=>{if(!l){const F=P$.includes(L.key)||L.shiftKey&&k$.includes(L.key)?10:1,G=x.current,E=P[G],U=a*F*B;D(E+U,G,{commit:!0})}}})})})})});E$.displayName=Gd;var[M$,D$]=A$(Gd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),See=w.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[h,m]=w.useState(null),g=ut(e,_=>m(_)),j=w.useRef(void 0),b=Vd(i),y=b==="ltr",x=y&&!a||!y&&a;function S(_){const P=j.current||h.getBoundingClientRect(),C=[0,P.width],k=$P(C,x?[r,n]:[n,r]);return j.current=P,k(_-P.left)}return s.jsx(M$,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:s.jsx(R$,{dir:b,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const P=S(_.clientX);o?.(P)},onSlideMove:_=>{const P=S(_.clientX);l?.(P)},onSlideEnd:()=>{j.current=void 0,c?.()},onStepKeyDown:_=>{const C=T$[x?"from-left":"from-right"].includes(_.key);d?.({event:_,direction:C?-1:1})}})})}),Cee=w.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=w.useRef(null),h=ut(e,f),m=w.useRef(void 0),g=!i;function j(b){const y=m.current||f.current.getBoundingClientRect(),x=[0,y.height],_=$P(x,g?[n,r]:[r,n]);return m.current=y,_(b-y.top)}return s.jsx(M$,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:s.jsx(R$,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const y=j(b.clientY);a?.(y)},onSlideMove:b=>{const y=j(b.clientY);o?.(y)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:b=>{const x=T$[g?"from-bottom":"from-top"].includes(b.key);c?.({event:b,direction:x?-1:1})}})})}),R$=w.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=t0(Gd,r);return s.jsx(Ze.span,{...d,ref:e,onKeyDown:Me(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):P$.concat(k$).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Me(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():n(h)}),onPointerMove:Me(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Me(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),a(h))})})}),I$="SliderTrack",L$=w.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=t0(I$,r);return s.jsx(Ze.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});L$.displayName=I$;var u_="SliderRange",z$=w.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=t0(u_,r),a=D$(u_,r),o=w.useRef(null),l=ut(e,o),c=i.values.length,d=i.values.map(m=>B$(m,i.min,i.max)),f=c>1?Math.min(...d):0,h=100-Math.max(...d);return s.jsx(Ze.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:f+"%",[a.endEdge]:h+"%"}})});z$.displayName=u_;var d_="SliderThumb",F$=w.forwardRef((t,e)=>{const r=bee(t.__scopeSlider),[n,i]=w.useState(null),a=ut(e,l=>i(l)),o=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(Nee,{...t,ref:a,index:o})}),Nee=w.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...a}=t,o=t0(d_,r),l=D$(d_,r),[c,d]=w.useState(null),f=ut(e,S=>d(S)),h=c?o.form||!!c.closest("form"):!0,m=xm(c),g=o.values[n],j=g===void 0?0:B$(g,o.min,o.max),b=Pee(n,o.values.length),y=m?.[l.size],x=y?Tee(y,j,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${j}% + ${x}px)`},children:[s.jsx(c_.ItemSlot,{scope:t.__scopeSlider,children:s.jsx(Ze.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:Me(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&s.jsx($$,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},n)]})});F$.displayName=d_;var _ee="RadioBubbleInput",$$=w.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=w.useRef(null),a=ut(i,n),o=ym(e);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const h=new Event("input",{bubbles:!0});f.call(l,e),l.dispatchEvent(h)}},[o,e]),s.jsx(Ze.input,{style:{display:"none"},...r,ref:a,defaultValue:e})});$$.displayName=_ee;function Oee(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,a)=>i-a)}function B$(t,e,r){const a=100/(r-e)*(t-e);return sy(a,[0,100])}function Pee(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function kee(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Tee(t,e,r){const n=t/2,a=$P([0,50],[0,n]);return(n-a(e)*r)*r}function Aee(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Eee(t,e){if(e>0){const r=Aee(t);return Math.min(...r)>=e}return!0}function $P(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Mee(t){return(String(t).split(".")[1]||"").length}function Dee(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var Ree=E$,Iee=L$,Lee=z$,zee=F$;function el({className:t,defaultValue:e,value:r,min:n=0,max:i=100,...a}){const o=w.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[n,i],[r,e,n,i]);return s.jsxs(Ree,{"data-slot":"slider",defaultValue:e,value:r,min:n,max:i,className:Je("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...a,children:[s.jsx(Iee,{"data-slot":"slider-track",className:Je("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:s.jsx(Lee,{"data-slot":"slider-range",className:Je("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(l,c)=>s.jsx(zee,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}const Fee={},$ee=Fee.VITE_API_URL||"http://localhost:4000";function bm(t){const[e,r]=w.useState([]),[n,i]=w.useState(!0),[a,o]=w.useState(null);w.useEffect(()=>{l()},[t]);const l=async()=>{i(!0),o(null);try{const c=await fetch(`${$ee}/api/catalog-products`,{credentials:"include"});if(!c.ok)throw new Error("Failed to fetch products");let f=(await c.json()).filter(m=>m.status==="Active");t&&(f=f.filter(m=>m.gender===t));const h=f.map(m=>{const g=m.product_images?.find(y=>y.display_order===1),j=m.product_images?.sort((y,x)=>y.display_order-x.display_order).map(y=>y.image_url)||[],b=m.created_at?new Date().getTime()-new Date(m.created_at).getTime()<720*60*60*1e3:!1;return{id:String(m.product_id),name:m.product_name,price:parseFloat(m.base_price),image:g?.image_url||j[0]||"",images:j,category:m.category,description:m.description,gender:m.gender,sizes:m.sizes||[],material:m.material,isNew:b}});r(h)}catch(c){console.error("Error fetching catalog products:",c),o(c.message)}finally{i(!1)}};return{products:e,loading:n,error:a,refetch:l}}function Bee({onAddToCart:t,onToggleFavorite:e,favorites:r}){const{products:n,loading:i}=bm(),[a,o]=w.useState(!1),[l,c]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([0,1e3]),g=w.useMemo(()=>n.filter(C=>C.isNew),[n]),j=w.useMemo(()=>{const C=new Set(g.map(O=>O.category));return Array.from(C).sort()},[g]),b=w.useMemo(()=>{const C=new Set(g.map(O=>O.gender||"Unisex"));return Array.from(C).sort()},[g]),y=w.useMemo(()=>g.filter(C=>!(l.length>0&&!l.includes(C.category)||d.length>0&&!d.includes(C.gender||"Unisex")||C.price<h[0]||C.price>h[1])),[l,d,h,g]),x=C=>{c(O=>O.includes(C)?O.filter(k=>k!==C):[...O,C])},S=C=>{f(O=>O.includes(C)?O.filter(k=>k!==C):[...O,C])},_=()=>{c([]),f([]),m([0,1e3])},P=l.length>0||d.length>0||h[0]!==0||h[1]!==1e3;return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("section",{className:"bg-white border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"mb-2",children:"Catalog"}),s.jsx("p",{className:"text-gray-600",children:"Browse our complete collection of clothing for everyone."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[y.length," products"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[s.jsx(cm,{className:"mr-2 size-4"}),"Filters",P&&s.jsx("span",{className:"ml-2 inline-flex items-center justify-center size-5 rounded-full bg-black text-white text-xs",children:l.length+d.length})]})]})]})}),P&&s.jsx("section",{className:"bg-gray-50 border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4 md:px-6",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),d.map(C=>s.jsxs("button",{onClick:()=>S(C),className:"inline-flex items-center gap-1 px-3 py-1 bg-black text-white text-sm rounded-full hover:bg-gray-800 transition-colors",children:[C,s.jsx(Tt,{className:"size-3"})]},C)),l.map(C=>s.jsxs("button",{onClick:()=>x(C),className:"inline-flex items-center gap-1 px-3 py-1 bg-black text-white text-sm rounded-full hover:bg-gray-800 transition-colors",children:[C,s.jsx(Tt,{className:"size-3"})]},C)),(h[0]!==0||h[1]!==1e3)&&s.jsxs("button",{onClick:()=>m([0,1e3]),className:"inline-flex items-center gap-1 px-3 py-1 bg-black text-white text-sm rounded-full hover:bg-gray-800 transition-colors",children:["",h[0]," - ",h[1],s.jsx(Tt,{className:"size-3"})]}),s.jsx("button",{onClick:_,className:"text-sm text-gray-600 hover:text-black underline",children:"Clear all"})]})})}),s.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:y.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(C=>s.jsx(qd,{...C,onAddToCart:t,onToggleFavorite:e,isFavorited:r?.some(O=>O.id===C.id)},C.id))}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h3",{className:"mb-2",children:"No new arrivals found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters to see more results"}),s.jsx(ee,{onClick:_,children:"Clear all filters"})]})}),s.jsx(Kx,{open:a,onOpenChange:o,children:s.jsxs(Jx,{side:"right",className:"w-full sm:max-w-md overflow-y-auto p-0 flex flex-col",children:[s.jsxs(FP,{className:"px-6 py-4 border-b",children:[s.jsx(Zx,{className:"text-left",children:"Filters"}),s.jsx(Qx,{className:"text-left",children:"Refine your search by selecting categories and price range"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"mb-3 text-sm uppercase tracking-wide text-gray-500",children:"Section"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(C=>s.jsx("button",{onClick:()=>S(C),className:`px-4 py-2 rounded-full border transition-all ${d.includes(C)?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:border-black"}`,children:C},C))})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("h4",{className:"mb-3 text-sm uppercase tracking-wide text-gray-500",children:"Category"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(C=>s.jsx("button",{onClick:()=>x(C),className:`px-4 py-2 rounded-full border transition-all ${l.includes(C)?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:border-black"}`,children:C},C))})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("h4",{className:"mb-3 text-sm uppercase tracking-wide text-gray-500",children:"Price Range"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Min"}),s.jsxs("div",{className:"px-4 py-2 border rounded-lg bg-gray-50",children:["",h[0]]})]}),s.jsx("div",{className:"px-3 text-gray-400",children:""}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Max"}),s.jsxs("div",{className:"px-4 py-2 border rounded-lg bg-gray-50",children:["",h[1]]})]})]}),s.jsx(el,{min:0,max:1e3,step:50,value:h,onValueChange:C=>m(C),className:"w-full"})]})]})]}),s.jsxs("div",{className:"border-t bg-white px-6 py-4 space-y-3",children:[s.jsxs(ee,{onClick:()=>{o(!1)},className:"w-full h-12",size:"lg",children:["Show ",y.length," ",y.length===1?"Product":"Products"]}),P&&s.jsx(ee,{onClick:_,variant:"outline",className:"w-full h-12",size:"lg",children:"Clear All Filters"})]})]})})]})}function Hee({onAddToCart:t,onToggleFavorite:e,favorites:r}){const{products:n,loading:i}=bm("Men");return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("section",{className:"bg-white border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"mb-2",children:"Men's Collection"}),s.jsx("p",{className:"text-gray-600",children:"Discover stylish and comfortable clothing for every occasion."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," products"]}),s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(cm,{className:"mr-2 size-4"}),"Filters"]})]})]})}),s.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(a=>s.jsx(qd,{...a,onAddToCart:t},a.id))})})]})}function Wee({onAddToCart:t,onToggleFavorite:e,favorites:r=[]}){const{products:n,loading:i}=bm("Women");return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("section",{className:"bg-white border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"mb-2",children:"Women's Collection"}),s.jsx("p",{className:"text-gray-600",children:"Elegant and trendy pieces curated just for you."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," products"]}),s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(cm,{className:"mr-2 size-4"}),"Filters"]})]})]})}),s.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(a=>s.jsx(qd,{...a,onAddToCart:t,onToggleFavorite:e,isFavorited:r.some(o=>o.id===a.id)},a.id))})})]})}function Uee({onAddToCart:t,onToggleFavorite:e,favorites:r=[]}){const{products:n,loading:i}=bm("Kids");return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("section",{className:"bg-white border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"mb-2",children:"Kids' Collection"}),s.jsx("p",{className:"text-gray-600",children:"Comfortable and stylish clothing for your little ones."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," products"]}),s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(cm,{className:"mr-2 size-4"}),"Filters"]})]})]})}),s.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(a=>s.jsx(qd,{...a,onAddToCart:t,onToggleFavorite:e,isFavorited:r.some(o=>o.id===a.id)},a.id))})})]})}function qee({onAddToCart:t,onToggleFavorite:e,favorites:r=[]}){const{products:n,loading:i}=bm("Unisex");return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"Loading products..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("section",{className:"bg-white border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"mb-2",children:"Unisex Collection"}),s.jsx("p",{className:"text-gray-600",children:"Versatile styles for everyone. Classic designs that transcend gender boundaries."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," products"]}),s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(cm,{className:"mr-2 size-4"}),"Filters"]})]})]})}),s.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(a=>s.jsx(qd,{...a,onAddToCart:t,onToggleFavorite:e,isFavorited:r.some(o=>o.id===a.id)},a.id))})})]})}function ht({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:Je("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function vr({className:t,...e}){return s.jsx("div",{"data-slot":"card-header",className:Je("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Mr({className:t,...e}){return s.jsx("h4",{"data-slot":"card-title",className:Je("leading-none",t),...e})}function tc({className:t,...e}){return s.jsx("p",{"data-slot":"card-description",className:Je("text-muted-foreground",t),...e})}function bt({className:t,...e}){return s.jsx("div",{"data-slot":"card-content",className:Je("px-6 [&:last-child]:pb-6",t),...e})}function Vee({className:t,...e}){return s.jsx("div",{"data-slot":"card-footer",className:Je("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...e})}function Gee(t,e=[]){let r=[];function n(a,o){const l=w.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const d=h=>{const{scope:m,children:g,...j}=h,b=m?.[t]?.[c]||l,y=w.useMemo(()=>j,Object.values(j));return s.jsx(b.Provider,{value:y,children:g})};d.displayName=a+"Provider";function f(h,m){const g=m?.[t]?.[c]||l,j=w.useContext(g);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,f]}const i=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=l?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,Xee(i,...e)]}function Xee(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Yee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BP=Yee.reduce((t,e)=>{const r=Lx(`Primitive.${e}`),n=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),xj={exports:{}},bj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function Kee(){if(gM)return bj;gM=1;var t=$a();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(h,m){var g=m(),j=n({inst:{value:g,getSnapshot:m}}),b=j[0].inst,y=j[1];return a(function(){b.value=g,b.getSnapshot=m,c(b)&&y({inst:b})},[h,g,m]),i(function(){return c(b)&&y({inst:b}),h(function(){c(b)&&y({inst:b})})},[h]),o(g),g}function c(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!r(h,g)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return bj.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,bj}var vM;function Jee(){return vM||(vM=1,xj.exports=Kee()),xj.exports}var Zee=Jee();function Qee(){return Zee.useSyncExternalStore(ete,()=>!0,()=>!1)}function ete(){return()=>{}}var HP="Avatar",[tte]=Gee(HP),[rte,H$]=tte(HP),W$=w.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=w.useState("idle");return s.jsx(rte,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(BP.span,{...n,ref:e})})});W$.displayName=HP;var U$="AvatarImage",q$=w.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=H$(U$,r),l=nte(n,a),c=Ea(d=>{i(d),o.onImageLoadingStatusChange(d)});return Ir(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(BP.img,{...a,ref:e,src:n}):null});q$.displayName=U$;var V$="AvatarFallback",G$=w.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=H$(V$,r),[o,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(BP.span,{...i,ref:e}):null});G$.displayName=V$;function yM(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function nte(t,{referrerPolicy:e,crossOrigin:r}){const n=Qee(),i=w.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>yM(a,t));return Ir(()=>{l(yM(a,t))},[a,t]),Ir(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),f=c("error");return a.addEventListener("load",d),a.addEventListener("error",f),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",d),a.removeEventListener("error",f)}},[a,r,e]),o}var ite=W$,ate=q$,ste=G$;function X$({className:t,...e}){return s.jsx(ite,{"data-slot":"avatar",className:Je("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Y$({className:t,...e}){return s.jsx(ate,{"data-slot":"avatar-image",className:Je("aspect-square size-full",t),...e})}function K$({className:t,...e}){return s.jsx(ste,{"data-slot":"avatar-fallback",className:Je("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}var ote=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lte=ote.reduce((t,e)=>{const r=Lx(`Primitive.${e}`),n=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),cte="Separator",xM="horizontal",ute=["horizontal","vertical"],J$=w.forwardRef((t,e)=>{const{decorative:r,orientation:n=xM,...i}=t,a=dte(n)?n:xM,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(lte.div,{"data-orientation":a,...l,...i,ref:e})});J$.displayName=cte;function dte(t){return ute.includes(t)}var fte=J$;function cr({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return s.jsx(fte,{"data-slot":"separator-root",decorative:r,orientation:e,className:Je("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}const hte="http://localhost:4000",Z$={payment_pending:{label:"Payment Pending",color:"bg-yellow-500"},pending:{label:"Pending",color:"bg-yellow-400"},designing:{label:"Designing",color:"bg-cyan-500"},ripping:{label:"Ripping",color:"bg-blue-500"},heatpress:{label:"Heat Press",color:"bg-purple-500"},assembly:{label:"Assembly",color:"bg-red-600"},qa:{label:"QA",color:"bg-orange-500"},packing:{label:"Packing",color:"bg-green-500"},done:{label:"To Ship",color:"bg-green-600"},shipping:{label:"Shipping",color:"bg-blue-700"},delivered:{label:"Delivered",color:"bg-green-700"},cancelled:{label:"Cancelled",color:"bg-red-600"}};function pte(){const{user:t,isLoggedIn:e,isAdmin:r,isHydrating:n}=hi(),i=kr(),[a,o]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState(null);w.useEffect(()=>{!n&&(!e||!t)&&i("/")},[n,e,t,i]),w.useEffect(()=>{!n&&e&&t?.email?h():n||c(!1)},[t,e,n]);const h=async()=>{try{if(c(!0),!t?.email){console.warn("No user email available"),o([]);return}const j=t.email.trim().toLowerCase();console.log("Loading orders for email:",j);const b=await fetch(`${hte}/api/orders?customerEmail=${encodeURIComponent(j)}`,{credentials:"include"});if(b.ok){const y=await b.json();console.log("Orders fetched from API:",y),o(Array.isArray(y)?y:[])}else{const y=await b.json().catch(()=>({}));console.error("Failed to fetch orders from API:",b.status,y),o([]),b.status!==404&&ve.error("Failed to load orders. Please try again later.")}}catch(j){console.error("Error loading orders:",j),ve.error("Failed to load orders"),o([])}finally{c(!1)}},m=j=>Z$[j]||{label:j,color:"bg-gray-500"},g=j=>j.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2);return!e||!t?null:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>i("/"),className:"mb-6",children:[s.jsx(fo,{className:"mr-2 size-4"}),"Back to Home"]}),s.jsx(ht,{className:"mb-6",children:s.jsx(vr,{children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs(X$,{className:"size-24",children:[s.jsx(Y$,{src:t.profilePicture,alt:t.name}),s.jsx(K$,{className:"text-2xl bg-black text-white",children:g(t.name)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Mr,{className:"text-3xl",children:t.name}),t.googleId&&s.jsxs(lt,{variant:"secondary",className:"gap-1",children:[s.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"size-3"}),"Google Account"]}),r&&s.jsxs(lt,{variant:"destructive",className:"gap-1",children:[s.jsx(cj,{className:"size-3"}),"Admin"]})]}),s.jsxs(tc,{className:"text-base",children:["Member since ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]})]})})}),s.jsxs(ht,{children:[s.jsxs(vr,{children:[s.jsx(Mr,{children:"Account Information"}),s.jsx(tc,{children:"Your personal details and account settings"})]}),s.jsxs(bt,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded-lg",children:s.jsx(bP,{className:"size-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-base font-medium",children:t.email}),t.emailVerified&&s.jsx(zx,{className:"size-4 text-green-600"})]}),t.emailVerified&&s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Verified"})]})]}),t.phone&&s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded-lg",children:s.jsx(wP,{className:"size-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"text-base font-medium mt-1",children:t.phone})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded-lg",children:s.jsx(cj,{className:"size-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),s.jsx("p",{className:"text-base font-medium mt-1 capitalize",children:t.role||"Customer"})]})]}),t.googleId&&s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"size-4"}),s.jsx("span",{children:"This account is linked with Google Sign-In"})]})})]})]}),s.jsxs(ht,{className:"mt-6",children:[s.jsxs(vr,{children:[s.jsxs(Mr,{className:"flex items-center gap-2",children:[s.jsx(Qu,{className:"size-5"}),"My Favorites"]}),s.jsx(tc,{children:"Your saved favorite products"})]}),s.jsx(bt,{children:s.jsxs(ee,{variant:"outline",className:"w-full",onClick:()=>{ve.info("Favorites feature coming soon")},children:["View Favorites",s.jsx(ry,{className:"ml-2 size-4"})]})})]}),s.jsxs(ht,{className:"mt-6",children:[s.jsxs(vr,{children:[s.jsxs(Mr,{className:"flex items-center gap-2",children:[s.jsx(ed,{className:"size-5"}),"My Orders"]}),s.jsx(tc,{children:"View and track your order status"})]}),s.jsx(bt,{children:l?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):d?s.jsx(mte,{order:d,onBack:()=>f(null)}):a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(gr,{className:"size-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"No orders yet"}),s.jsx(ee,{onClick:()=>i("/"),variant:"outline",children:"Start Shopping"})]}):s.jsx("div",{className:"space-y-3",children:a.map(j=>{const b=m(j.status);return s.jsx(ht,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>f(j),children:s.jsx(bt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"font-semibold",children:["Order #",j.orderId||j.id]}),s.jsx(lt,{className:b.color+" text-white",children:b.label})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xP,{className:"size-4"}),s.jsx("span",{children:j.orderDate?new Date(j.orderDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gr,{className:"size-4"}),s.jsxs("span",{children:[j.items.length," item",j.items.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsxs("p",{className:"font-bold text-lg",children:["",j.total.toFixed(2)]}),j.balanceRemaining>0&&s.jsxs("p",{className:"text-xs text-orange-600",children:["Balance: ",j.balanceRemaining.toFixed(2)]}),s.jsx(ry,{className:"size-5 text-gray-400 mt-2"})]})]})})},j.id)})})})]}),r&&s.jsx(ht,{className:"mt-6 border-red-200 bg-red-50",children:s.jsx(bt,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-900",children:"Admin Access"}),s.jsx("p",{className:"text-sm text-red-700",children:"You have administrative privileges"})]}),s.jsxs(ee,{onClick:()=>i("/admin/payment-verification"),variant:"destructive",children:[s.jsx(cj,{className:"mr-2 size-4"}),"Go to Admin Panel"]})]})})})]})})}function mte({order:t,onBack:e}){const r=Z$[t.status]||{label:t.status,color:"bg-gray-500"},n=[{id:"payment_pending",label:"Payment Pending"},{id:"pending",label:"Pending"},{id:"designing",label:"Designing"},{id:"ripping",label:"Ripping"},{id:"heatpress",label:"Heat Press"},{id:"assembly",label:"Assembly"},{id:"qa",label:"Quality Assurance"},{id:"packing",label:"Packing"},{id:"done",label:"To Ship"},{id:"shipping",label:"Shipping"},{id:"delivered",label:"Delivered"}],i=n.findIndex(l=>l.id===t.status),a=l=>l<i,o=l=>l===i;return s.jsxs("div",{children:[s.jsxs(ee,{variant:"ghost",onClick:e,className:"mb-4",children:[s.jsx(fo,{className:"mr-2 size-4"}),"Back to Orders"]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Mr,{children:["Order #",t.orderId||t.id]}),s.jsxs(tc,{className:"mt-1",children:["Placed on"," ",t.orderDate?new Date(t.orderDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A"]})]}),s.jsx(lt,{className:r.color+" text-white text-base px-4 py-2",children:r.label})]})}),s.jsxs(bt,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Order Status"}),s.jsx("div",{className:"space-y-4",children:n.map((l,c)=>{const d=a(c),f=o(c);return s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${d?"bg-green-500 text-white":f?r.color+" text-white":"bg-gray-200 text-gray-500"}`,children:d?s.jsx(zx,{className:"size-5"}):s.jsx("span",{className:"text-sm font-medium",children:c+1})}),c<n.length-1&&s.jsx("div",{className:`w-0.5 h-8 ${d?"bg-green-500":"bg-gray-200"}`})]}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("p",{className:`font-medium ${d?"text-green-600":f?"text-blue-600":"text-gray-500"}`,children:l.label}),f&&t.estimatedCompletion&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Estimated completion:"," ",new Date(t.estimatedCompletion).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]},l.id)})})]}),s.jsx(cr,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:t.items.map(l=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",l.quantity,"  ",l.unitPrice.toFixed(2)]})]}),s.jsxs("p",{className:"font-semibold",children:["",l.subtotal.toFixed(2)]})]},l.id))})]}),s.jsx(cr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsxs("span",{className:"font-medium",children:["",t.total.toFixed(2)]})]}),t.balanceRemaining>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Amount Paid"}),s.jsxs("span",{className:"font-medium",children:["",(t.total-t.balanceRemaining).toFixed(2)]})]}),t.balanceRemaining>0&&s.jsxs("div",{className:"flex justify-between text-orange-600",children:[s.jsx("span",{className:"font-medium",children:"Remaining Balance"}),s.jsxs("span",{className:"font-bold",children:["",t.balanceRemaining.toFixed(2)]})]}),s.jsx(cr,{}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"font-semibold",children:"Total"}),s.jsxs("span",{className:"font-bold",children:["",t.total.toFixed(2)]})]})]}),t.customer.address&&s.jsxs(s.Fragment,{children:[s.jsx(cr,{}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(MY,{className:"size-5"}),"Shipping Address"]}),s.jsx("p",{className:"text-gray-600",children:t.customer.address})]})]}),t.payment&&s.jsxs(s.Fragment,{children:[s.jsx(cr,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Payment Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Method:"}),s.jsx("span",{className:"font-medium",children:t.payment.method})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx(lt,{className:t.payment.status==="completed"?"bg-green-500":"bg-yellow-500",children:t.payment.status})]}),t.payment.referenceNumber&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Reference:"}),s.jsx("span",{className:"font-medium",children:t.payment.referenceNumber})]})]})]})]}),t.notes&&s.jsxs(s.Fragment,{children:[s.jsx(cr,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"text-gray-600",children:t.notes})]})]})]})]})]})}const gte="modulepreload",vte=function(t){return"/"+t},bM={},f_=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=o(r.map(d=>{if(d=vte(d),d in bM)return;bM[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":gte,f||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((g,j)=>{m.addEventListener("load",g),m.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function Le({className:t,type:e,...r}){return s.jsx("input",{type:e,"data-slot":"input",className:Je("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var yte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xte=yte.reduce((t,e)=>{const r=Lx(`Primitive.${e}`),n=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),bte="Label",Q$=w.forwardRef((t,e)=>s.jsx(xte.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Q$.displayName=bte;var wte=Q$;function be({className:t,...e}){return s.jsx(wte,{"data-slot":"label",className:Je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var r0="Collapsible",[jte]=Rn(r0),[Ste,WP]=jte(r0),eB=w.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c,d]=sa({prop:n,defaultProp:i??!1,onChange:o,caller:r0});return s.jsx(Ste,{scope:r,disabled:a,contentId:na(),open:c,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),children:s.jsx(Ze.div,{"data-state":qP(c),"data-disabled":a?"":void 0,...l,ref:e})})});eB.displayName=r0;var tB="CollapsibleTrigger",rB=w.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=WP(tB,r);return s.jsx(Ze.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":qP(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Me(t.onClick,i.onOpenToggle)})});rB.displayName=tB;var UP="CollapsibleContent",nB=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=WP(UP,t.__scopeCollapsible);return s.jsx(pi,{present:r||i.open,children:({present:a})=>s.jsx(Cte,{...n,ref:e,present:a})})});nB.displayName=UP;var Cte=w.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,o=WP(UP,r),[l,c]=w.useState(n),d=w.useRef(null),f=ut(e,d),h=w.useRef(0),m=h.current,g=w.useRef(0),j=g.current,b=o.open||l,y=w.useRef(b),x=w.useRef(void 0);return w.useEffect(()=>{const S=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(S)},[]),Ir(()=>{const S=d.current;if(S){x.current=x.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const _=S.getBoundingClientRect();h.current=_.height,g.current=_.width,y.current||(S.style.transitionDuration=x.current.transitionDuration,S.style.animationName=x.current.animationName),c(n)}},[o.open,n]),s.jsx(Ze.div,{"data-state":qP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...a,ref:f,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...t.style},children:b&&i})});function qP(t){return t?"open":"closed"}var Nte=eB;function wM({...t}){return s.jsx(Nte,{"data-slot":"collapsible",...t})}function jM({...t}){return s.jsx(rB,{"data-slot":"collapsible-trigger",...t})}function SM({...t}){return s.jsx(nB,{"data-slot":"collapsible-content",...t})}const _te=["top","right","bottom","left"],al=Math.min,_i=Math.max,oy=Math.round,lv=Math.floor,hs=t=>({x:t,y:t}),Ote={left:"right",right:"left",bottom:"top",top:"bottom"},Pte={start:"end",end:"start"};function h_(t,e,r){return _i(t,al(e,r))}function no(t,e){return typeof t=="function"?t(e):t}function io(t){return t.split("-")[0]}function Xd(t){return t.split("-")[1]}function VP(t){return t==="x"?"y":"x"}function GP(t){return t==="y"?"height":"width"}const kte=new Set(["top","bottom"]);function us(t){return kte.has(io(t))?"y":"x"}function XP(t){return VP(us(t))}function Tte(t,e,r){r===void 0&&(r=!1);const n=Xd(t),i=XP(t),a=GP(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=ly(o)),[o,ly(o)]}function Ate(t){const e=ly(t);return[p_(t),e,p_(e)]}function p_(t){return t.replace(/start|end/g,e=>Pte[e])}const CM=["left","right"],NM=["right","left"],Ete=["top","bottom"],Mte=["bottom","top"];function Dte(t,e,r){switch(t){case"top":case"bottom":return r?e?NM:CM:e?CM:NM;case"left":case"right":return e?Ete:Mte;default:return[]}}function Rte(t,e,r,n){const i=Xd(t);let a=Dte(io(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(p_)))),a}function ly(t){return t.replace(/left|right|bottom|top/g,e=>Ote[e])}function Ite(t){return{top:0,right:0,bottom:0,left:0,...t}}function iB(t){return typeof t!="number"?Ite(t):{top:t,right:t,bottom:t,left:t}}function cy(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function _M(t,e,r){let{reference:n,floating:i}=t;const a=us(e),o=XP(e),l=GP(o),c=io(e),d=a==="y",f=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let g;switch(c){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-i.width,y:h};break;default:g={x:n.x,y:n.y}}switch(Xd(e)){case"start":g[o]-=m*(r&&d?-1:1);break;case"end":g[o]+=m*(r&&d?-1:1);break}return g}const Lte=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=_M(d,n,c),m=n,g={},j=0;for(let b=0;b<l.length;b++){const{name:y,fn:x}=l[b],{x:S,y:_,data:P,reset:C}=await x({x:f,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});f=S??f,h=_??h,g={...g,[y]:{...g[y],...P}},C&&j<=50&&(j++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:f,y:h}=_M(d,m,c)),b=-1)}return{x:f,y:h,placement:m,strategy:i,middlewareData:g}};async function dp(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=no(e,t),j=iB(g),y=l[m?h==="floating"?"reference":"floating":h],x=cy(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),S=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},C=cy(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:_,strategy:c}):S);return{top:(x.top-C.top+j.top)/P.y,bottom:(C.bottom-x.bottom+j.bottom)/P.y,left:(x.left-C.left+j.left)/P.x,right:(C.right-x.right+j.right)/P.x}}const zte=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=no(t,e)||{};if(d==null)return{};const h=iB(f),m={x:r,y:n},g=XP(i),j=GP(g),b=await o.getDimensions(d),y=g==="y",x=y?"top":"left",S=y?"bottom":"right",_=y?"clientHeight":"clientWidth",P=a.reference[j]+a.reference[g]-m[g]-a.floating[j],C=m[g]-a.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=O?O[_]:0;(!k||!await(o.isElement==null?void 0:o.isElement(O)))&&(k=l.floating[_]||a.floating[j]);const A=P/2-C/2,M=k/2-b[j]/2-1,D=al(h[x],M),L=al(h[S],M),B=D,$=k-b[j]-L,q=k/2-b[j]/2+A,F=h_(B,q,$),G=!c.arrow&&Xd(i)!=null&&q!==F&&a.reference[j]/2-(q<B?D:L)-b[j]/2<0,E=G?q<B?q-B:q-$:0;return{[g]:m[g]+E,data:{[g]:F,centerOffset:q-F-E,...G&&{alignmentOffset:E}},reset:G}}}),Fte=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:b=!0,...y}=no(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=io(i),S=us(l),_=io(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=m||(_||!b?[ly(l)]:Ate(l)),O=j!=="none";!m&&O&&C.push(...Rte(l,b,j,P));const k=[l,...C],A=await dp(e,y),M=[];let D=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&M.push(A[x]),h){const q=Tte(i,o,P);M.push(A[q[0]],A[q[1]])}if(D=[...D,{placement:i,overflows:M}],!M.every(q=>q<=0)){var L,B;const q=(((L=a.flip)==null?void 0:L.index)||0)+1,F=k[q];if(F&&(!(h==="alignment"?S!==us(F):!1)||D.every(U=>us(U.placement)===S?U.overflows[0]>0:!0)))return{data:{index:q,overflows:D},reset:{placement:F}};let G=(B=D.filter(E=>E.overflows[0]<=0).sort((E,U)=>E.overflows[1]-U.overflows[1])[0])==null?void 0:B.placement;if(!G)switch(g){case"bestFit":{var $;const E=($=D.filter(U=>{if(O){const H=us(U.placement);return H===S||H==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(H=>H>0).reduce((H,I)=>H+I,0)]).sort((U,H)=>U[1]-H[1])[0])==null?void 0:$[0];E&&(G=E);break}case"initialPlacement":G=l;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function OM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function PM(t){return _te.some(e=>t[e]>=0)}const $te=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=no(t,e);switch(n){case"referenceHidden":{const a=await dp(e,{...i,elementContext:"reference"}),o=OM(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PM(o)}}}case"escaped":{const a=await dp(e,{...i,altBoundary:!0}),o=OM(a,r.floating);return{data:{escapedOffsets:o,escaped:PM(o)}}}default:return{}}}}},aB=new Set(["left","top"]);async function Bte(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=io(r),l=Xd(r),c=us(r)==="y",d=aB.has(o)?-1:1,f=a&&c?-1:1,h=no(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof j=="number"&&(g=l==="end"?j*-1:j),c?{x:g*f,y:m*d}:{x:m*d,y:g*f}}const Hte=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await Bte(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Wte=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:S}=y;return{x,y:S}}},...c}=no(t,e),d={x:r,y:n},f=await dp(e,c),h=us(io(i)),m=VP(h);let g=d[m],j=d[h];if(a){const y=m==="y"?"top":"left",x=m==="y"?"bottom":"right",S=g+f[y],_=g-f[x];g=h_(S,g,_)}if(o){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",S=j+f[y],_=j-f[x];j=h_(S,j,_)}const b=l.fn({...e,[m]:g,[h]:j});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[m]:a,[h]:o}}}}}},Ute=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=no(t,e),f={x:r,y:n},h=us(i),m=VP(h);let g=f[m],j=f[h];const b=no(l,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const _=m==="y"?"height":"width",P=a.reference[m]-a.floating[_]+y.mainAxis,C=a.reference[m]+a.reference[_]-y.mainAxis;g<P?g=P:g>C&&(g=C)}if(d){var x,S;const _=m==="y"?"width":"height",P=aB.has(io(i)),C=a.reference[h]-a.floating[_]+(P&&((x=o.offset)==null?void 0:x[h])||0)+(P?0:y.crossAxis),O=a.reference[h]+a.reference[_]+(P?0:((S=o.offset)==null?void 0:S[h])||0)-(P?y.crossAxis:0);j<C?j=C:j>O&&(j=O)}return{[m]:g,[h]:j}}}},qte=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=no(t,e),f=await dp(e,d),h=io(i),m=Xd(i),g=us(i)==="y",{width:j,height:b}=a.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,y=m==="end"?"top":"bottom");const S=b-f.top-f.bottom,_=j-f.left-f.right,P=al(b-f[y],S),C=al(j-f[x],_),O=!e.middlewareData.shift;let k=P,A=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=S),O&&!m){const D=_i(f.left,0),L=_i(f.right,0),B=_i(f.top,0),$=_i(f.bottom,0);g?A=j-2*(D!==0||L!==0?D+L:_i(f.left,f.right)):k=b-2*(B!==0||$!==0?B+$:_i(f.top,f.bottom))}await c({...e,availableWidth:A,availableHeight:k});const M=await o.getDimensions(l.floating);return j!==M.width||b!==M.height?{reset:{rects:!0}}:{}}}};function n0(){return typeof window<"u"}function Yd(t){return sB(t)?(t.nodeName||"").toLowerCase():"#document"}function Ti(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ss(t){var e;return(e=(sB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sB(t){return n0()?t instanceof Node||t instanceof Ti(t).Node:!1}function Ma(t){return n0()?t instanceof Element||t instanceof Ti(t).Element:!1}function ys(t){return n0()?t instanceof HTMLElement||t instanceof Ti(t).HTMLElement:!1}function kM(t){return!n0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ti(t).ShadowRoot}const Vte=new Set(["inline","contents"]);function wm(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Da(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Vte.has(i)}const Gte=new Set(["table","td","th"]);function Xte(t){return Gte.has(Yd(t))}const Yte=[":popover-open",":modal"];function i0(t){return Yte.some(e=>{try{return t.matches(e)}catch{return!1}})}const Kte=["transform","translate","scale","rotate","perspective"],Jte=["transform","translate","scale","rotate","perspective","filter"],Zte=["paint","layout","strict","content"];function YP(t){const e=KP(),r=Ma(t)?Da(t):t;return Kte.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Jte.some(n=>(r.willChange||"").includes(n))||Zte.some(n=>(r.contain||"").includes(n))}function Qte(t){let e=sl(t);for(;ys(e)&&!td(e);){if(YP(e))return e;if(i0(e))return null;e=sl(e)}return null}function KP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ere=new Set(["html","body","#document"]);function td(t){return ere.has(Yd(t))}function Da(t){return Ti(t).getComputedStyle(t)}function a0(t){return Ma(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sl(t){if(Yd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kM(t)&&t.host||Ss(t);return kM(e)?e.host:e}function oB(t){const e=sl(t);return td(e)?t.ownerDocument?t.ownerDocument.body:t.body:ys(e)&&wm(e)?e:oB(e)}function fp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=oB(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=Ti(i);if(a){const l=m_(o);return e.concat(o,o.visualViewport||[],wm(i)?i:[],l&&r?fp(l):[])}return e.concat(i,fp(i,[],r))}function m_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lB(t){const e=Da(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ys(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=oy(r)!==a||oy(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function JP(t){return Ma(t)?t:t.contextElement}function Bu(t){const e=JP(t);if(!ys(e))return hs(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=lB(e);let o=(a?oy(r.width):r.width)/n,l=(a?oy(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const tre=hs(0);function cB(t){const e=Ti(t);return!KP()||!e.visualViewport?tre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rre(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ti(t)?!1:e}function pc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=JP(t);let o=hs(1);e&&(n?Ma(n)&&(o=Bu(n)):o=Bu(t));const l=rre(a,r,n)?cB(a):hs(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(a){const m=Ti(a),g=n&&Ma(n)?Ti(n):n;let j=m,b=m_(j);for(;b&&n&&g!==j;){const y=Bu(b),x=b.getBoundingClientRect(),S=Da(b),_=x.left+(b.clientLeft+parseFloat(S.paddingLeft))*y.x,P=x.top+(b.clientTop+parseFloat(S.paddingTop))*y.y;c*=y.x,d*=y.y,f*=y.x,h*=y.y,c+=_,d+=P,j=Ti(b),b=m_(j)}}return cy({width:f,height:h,x:c,y:d})}function s0(t,e){const r=a0(t).scrollLeft;return e?e.left+r:pc(Ss(t)).left+r}function uB(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-s0(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function nre(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=Ss(n),l=e?i0(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=hs(1);const f=hs(0),h=ys(n);if((h||!h&&!a)&&((Yd(n)!=="body"||wm(o))&&(c=a0(n)),ys(n))){const g=pc(n);d=Bu(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const m=o&&!h&&!a?uB(o,c):hs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:r.y*d.y-c.scrollTop*d.y+f.y+m.y}}function ire(t){return Array.from(t.getClientRects())}function are(t){const e=Ss(t),r=a0(t),n=t.ownerDocument.body,i=_i(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=_i(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+s0(t);const l=-r.scrollTop;return Da(n).direction==="rtl"&&(o+=_i(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const TM=25;function sre(t,e){const r=Ti(t),n=Ss(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const f=KP();(!f||f&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=s0(n);if(d<=0){const f=n.ownerDocument,h=f.body,m=getComputedStyle(h),g=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,j=Math.abs(n.clientWidth-h.clientWidth-g);j<=TM&&(a-=j)}else d<=TM&&(a+=d);return{width:a,height:o,x:l,y:c}}const ore=new Set(["absolute","fixed"]);function lre(t,e){const r=pc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=ys(t)?Bu(t):hs(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function AM(t,e,r){let n;if(e==="viewport")n=sre(t,r);else if(e==="document")n=are(Ss(t));else if(Ma(e))n=lre(e,r);else{const i=cB(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return cy(n)}function dB(t,e){const r=sl(t);return r===e||!Ma(r)||td(r)?!1:Da(r).position==="fixed"||dB(r,e)}function cre(t,e){const r=e.get(t);if(r)return r;let n=fp(t,[],!1).filter(l=>Ma(l)&&Yd(l)!=="body"),i=null;const a=Da(t).position==="fixed";let o=a?sl(t):t;for(;Ma(o)&&!td(o);){const l=Da(o),c=YP(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&ore.has(i.position)||wm(o)&&!c&&dB(t,o))?n=n.filter(f=>f!==o):i=l,o=sl(o)}return e.set(t,n),n}function ure(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?i0(e)?[]:cre(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const h=AM(e,f,i);return d.top=_i(h.top,d.top),d.right=al(h.right,d.right),d.bottom=al(h.bottom,d.bottom),d.left=_i(h.left,d.left),d},AM(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function dre(t){const{width:e,height:r}=lB(t);return{width:e,height:r}}function fre(t,e,r){const n=ys(e),i=Ss(e),a=r==="fixed",o=pc(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=hs(0);function d(){c.x=s0(i)}if(n||!n&&!a)if((Yd(e)!=="body"||wm(i))&&(l=a0(e)),n){const g=pc(e,!0,a,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&d();a&&!n&&i&&d();const f=i&&!n&&!a?uB(i,l):hs(0),h=o.left+l.scrollLeft-c.x-f.x,m=o.top+l.scrollTop-c.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function wj(t){return Da(t).position==="static"}function EM(t,e){if(!ys(t)||Da(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ss(t)===r&&(r=r.ownerDocument.body),r}function fB(t,e){const r=Ti(t);if(i0(t))return r;if(!ys(t)){let i=sl(t);for(;i&&!td(i);){if(Ma(i)&&!wj(i))return i;i=sl(i)}return r}let n=EM(t,e);for(;n&&Xte(n)&&wj(n);)n=EM(n,e);return n&&td(n)&&wj(n)&&!YP(n)?r:n||Qte(t)||r}const hre=async function(t){const e=this.getOffsetParent||fB,r=this.getDimensions,n=await r(t.floating);return{reference:fre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pre(t){return Da(t).direction==="rtl"}const mre={convertOffsetParentRelativeRectToViewportRelativeRect:nre,getDocumentElement:Ss,getClippingRect:ure,getOffsetParent:fB,getElementRects:hre,getClientRects:ire,getDimensions:dre,getScale:Bu,isElement:Ma,isRTL:pre};function hB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function gre(t,e){let r=null,n;const i=Ss(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:f,top:h,width:m,height:g}=d;if(l||e(),!m||!g)return;const j=lv(h),b=lv(i.clientWidth-(f+m)),y=lv(i.clientHeight-(h+g)),x=lv(f),_={rootMargin:-j+"px "+-b+"px "+-y+"px "+-x+"px",threshold:_i(0,al(1,c))||1};let P=!0;function C(O){const k=O[0].intersectionRatio;if(k!==c){if(!P)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!hB(d,t.getBoundingClientRect())&&o(),P=!1}try{r=new IntersectionObserver(C,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,_)}r.observe(t)}return o(!0),a}function vre(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=JP(t),f=i||a?[...d?fp(d):[],...fp(e)]:[];f.forEach(x=>{i&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const h=d&&l?gre(d,r):null;let m=-1,g=null;o&&(g=new ResizeObserver(x=>{let[S]=x;S&&S.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),r()}),d&&!c&&g.observe(d),g.observe(e));let j,b=c?pc(t):null;c&&y();function y(){const x=pc(t);b&&!hB(b,x)&&r(),b=x,j=requestAnimationFrame(y)}return r(),()=>{var x;f.forEach(S=>{i&&S.removeEventListener("scroll",r),a&&S.removeEventListener("resize",r)}),h?.(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(j)}}const yre=Hte,xre=Wte,bre=Fte,wre=qte,jre=$te,MM=zte,Sre=Ute,Cre=(t,e,r)=>{const n=new Map,i={platform:mre,...r},a={...i.platform,_c:n};return Lte(t,e,{...i,platform:a})};var Nre=typeof document<"u",_re=function(){},qv=Nre?w.useLayoutEffect:_re;function uy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!uy(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!uy(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function pB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DM(t,e){const r=pB(t);return Math.round(e*r)/r}function jj(t){const e=w.useRef(t);return qv(()=>{e.current=t}),e}function Ore(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,h]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(n);uy(m,n)||g(n);const[j,b]=w.useState(null),[y,x]=w.useState(null),S=w.useCallback(U=>{U!==O.current&&(O.current=U,b(U))},[]),_=w.useCallback(U=>{U!==k.current&&(k.current=U,x(U))},[]),P=a||j,C=o||y,O=w.useRef(null),k=w.useRef(null),A=w.useRef(f),M=c!=null,D=jj(c),L=jj(i),B=jj(d),$=w.useCallback(()=>{if(!O.current||!k.current)return;const U={placement:e,strategy:r,middleware:m};L.current&&(U.platform=L.current),Cre(O.current,k.current,U).then(H=>{const I={...H,isPositioned:B.current!==!1};q.current&&!uy(A.current,I)&&(A.current=I,cs.flushSync(()=>{h(I)}))})},[m,e,r,L,B]);qv(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[d]);const q=w.useRef(!1);qv(()=>(q.current=!0,()=>{q.current=!1}),[]),qv(()=>{if(P&&(O.current=P),C&&(k.current=C),P&&C){if(D.current)return D.current(P,C,$);$()}},[P,C,$,D,M]);const F=w.useMemo(()=>({reference:O,floating:k,setReference:S,setFloating:_}),[S,_]),G=w.useMemo(()=>({reference:P,floating:C}),[P,C]),E=w.useMemo(()=>{const U={position:r,left:0,top:0};if(!G.floating)return U;const H=DM(G.floating,f.x),I=DM(G.floating,f.y);return l?{...U,transform:"translate("+H+"px, "+I+"px)",...pB(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:I}},[r,l,G.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:$,refs:F,elements:G,floatingStyles:E}),[f,$,F,G,E])}const Pre=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?MM({element:n.current,padding:i}).fn(r):{}:n?MM({element:n,padding:i}).fn(r):{}}}},kre=(t,e)=>({...yre(t),options:[t,e]}),Tre=(t,e)=>({...xre(t),options:[t,e]}),Are=(t,e)=>({...Sre(t),options:[t,e]}),Ere=(t,e)=>({...bre(t),options:[t,e]}),Mre=(t,e)=>({...wre(t),options:[t,e]}),Dre=(t,e)=>({...jre(t),options:[t,e]}),Rre=(t,e)=>({...Pre(t),options:[t,e]});var Ire="Arrow",mB=w.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(Ze.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});mB.displayName=Ire;var Lre=mB,ZP="Popper",[gB,Kd]=Rn(ZP),[zre,vB]=gB(ZP),yB=t=>{const{__scopePopper:e,children:r}=t,[n,i]=w.useState(null);return s.jsx(zre,{scope:e,anchor:n,onAnchorChange:i,children:r})};yB.displayName=ZP;var xB="PopperAnchor",bB=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=vB(xB,r),o=w.useRef(null),l=ut(e,o),c=w.useRef(null);return w.useEffect(()=>{const d=c.current;c.current=n?.current||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(Ze.div,{...i,ref:l})});bB.displayName=xB;var QP="PopperContent",[Fre,$re]=gB(QP),wB=w.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:j,...b}=t,y=vB(QP,r),[x,S]=w.useState(null),_=ut(e,K=>S(K)),[P,C]=w.useState(null),O=xm(P),k=O?.width??0,A=O?.height??0,M=n+(a!=="center"?"-"+a:""),D=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(d)?d:[d],B=L.length>0,$={padding:D,boundary:L.filter(Hre),altBoundary:B},{refs:q,floatingStyles:F,placement:G,isPositioned:E,middlewareData:U}=Ore({strategy:"fixed",placement:M,whileElementsMounted:(...K)=>vre(...K,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[kre({mainAxis:i+A,alignmentAxis:o}),c&&Tre({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Are():void 0,...$}),c&&Ere({...$}),Mre({...$,apply:({elements:K,rects:de,availableWidth:ae,availableHeight:ce})=>{const{width:xe,height:le}=de.reference,Te=K.floating.style;Te.setProperty("--radix-popper-available-width",`${ae}px`),Te.setProperty("--radix-popper-available-height",`${ce}px`),Te.setProperty("--radix-popper-anchor-width",`${xe}px`),Te.setProperty("--radix-popper-anchor-height",`${le}px`)}}),P&&Rre({element:P,padding:l}),Wre({arrowWidth:k,arrowHeight:A}),m&&Dre({strategy:"referenceHidden",...$})]}),[H,I]=CB(G),z=Ea(j);Ir(()=>{E&&z?.()},[E,z]);const V=U.arrow?.x,J=U.arrow?.y,Q=U.arrow?.centerOffset!==0,[se,oe]=w.useState();return Ir(()=>{x&&oe(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:E?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(Fre,{scope:r,placedSide:H,onArrowChange:C,arrowX:V,arrowY:J,shouldHideArrow:Q,children:s.jsx(Ze.div,{"data-side":H,"data-align":I,...b,ref:_,style:{...b.style,animation:E?void 0:"none"}})})})});wB.displayName=QP;var jB="PopperArrow",Bre={top:"bottom",right:"left",bottom:"top",left:"right"},SB=w.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=$re(jB,n),o=Bre[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(Lre,{...i,ref:r,style:{...i.style,display:"block"}})})});SB.displayName=jB;function Hre(t){return t!==null}var Wre=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=CB(r),h={start:"0%",center:"50%",end:"100%"}[f],m=(i.arrow?.x??0)+l/2,g=(i.arrow?.y??0)+c/2;let j="",b="";return d==="bottom"?(j=o?h:`${m}px`,b=`${-c}px`):d==="top"?(j=o?h:`${m}px`,b=`${n.floating.height+c}px`):d==="right"?(j=`${-c}px`,b=o?h:`${g}px`):d==="left"&&(j=`${n.floating.width+c}px`,b=o?h:`${g}px`),{data:{x:j,y:b}}}});function CB(t){const[e,r="center"]=t.split("-");return[e,r]}var ek=yB,o0=bB,tk=wB,rk=SB;function Ure(t){const e=qre(t),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(Gre);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function qre(t){const e=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=Yre(i),l=Xre(a,i.props);return i.type!==w.Fragment&&(l.ref=n?js(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Vre=Symbol("radix.slottable");function Gre(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vre}function Xre(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Yre(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var NB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Kre="VisuallyHidden",Jre=w.forwardRef((t,e)=>s.jsx(Ze.span,{...t,ref:e,style:{...NB,...t.style}}));Jre.displayName=Kre;var Zre=[" ","Enter","ArrowUp","ArrowDown"],Qre=[" ","Enter"],mc="Select",[l0,c0,ene]=e0(mc),[Jd]=Rn(mc,[ene,Kd]),u0=Kd(),[tne,fl]=Jd(mc),[rne,nne]=Jd(mc),_B=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:h,disabled:m,required:g,form:j}=t,b=u0(e),[y,x]=w.useState(null),[S,_]=w.useState(null),[P,C]=w.useState(!1),O=Vd(d),[k,A]=sa({prop:n,defaultProp:i??!1,onChange:a,caller:mc}),[M,D]=sa({prop:o,defaultProp:l,onChange:c,caller:mc}),L=w.useRef(null),B=y?j||!!y.closest("form"):!0,[$,q]=w.useState(new Set),F=Array.from($).map(G=>G.props.value).join(";");return s.jsx(ek,{...b,children:s.jsxs(tne,{required:g,scope:e,trigger:y,onTriggerChange:x,valueNode:S,onValueNodeChange:_,valueNodeHasChildren:P,onValueNodeHasChildrenChange:C,contentId:na(),value:M,onValueChange:D,open:k,onOpenChange:A,dir:O,triggerPointerDownPosRef:L,disabled:m,children:[s.jsx(l0.Provider,{scope:e,children:s.jsx(rne,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(G=>{q(E=>new Set(E).add(G))},[]),onNativeOptionRemove:w.useCallback(G=>{q(E=>{const U=new Set(E);return U.delete(G),U})},[]),children:r})}),B?s.jsxs(XB,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:M,onChange:G=>D(G.target.value),disabled:m,form:j,children:[M===void 0?s.jsx("option",{value:""}):null,Array.from($)]},F):null]})})};_B.displayName=mc;var OB="SelectTrigger",PB=w.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=u0(r),o=fl(OB,r),l=o.disabled||n,c=ut(e,o.onTriggerChange),d=c0(r),f=w.useRef("touch"),[h,m,g]=KB(b=>{const y=d().filter(_=>!_.disabled),x=y.find(_=>_.value===o.value),S=JB(y,b,x);S!==void 0&&o.onValueChange(S.value)}),j=b=>{l||(o.onOpenChange(!0),g()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return s.jsx(o0,{asChild:!0,...a,children:s.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":YB(o.value)?"":void 0,...i,ref:c,onClick:Me(i.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&j(b)}),onPointerDown:Me(i.onPointerDown,b=>{f.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(j(b),b.preventDefault())}),onKeyDown:Me(i.onKeyDown,b=>{const y=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&m(b.key),!(y&&b.key===" ")&&Zre.includes(b.key)&&(j(),b.preventDefault())})})})});PB.displayName=OB;var kB="SelectValue",TB=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=t,c=fl(kB,r),{onValueNodeHasChildrenChange:d}=c,f=a!==void 0,h=ut(e,c.onValueNodeChange);return Ir(()=>{d(f)},[d,f]),s.jsx(Ze.span,{...l,ref:h,style:{pointerEvents:"none"},children:YB(c.value)?s.jsx(s.Fragment,{children:o}):a})});TB.displayName=kB;var ine="SelectIcon",AB=w.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return s.jsx(Ze.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});AB.displayName=ine;var ane="SelectPortal",EB=t=>s.jsx(mm,{asChild:!0,...t});EB.displayName=ane;var gc="SelectContent",MB=w.forwardRef((t,e)=>{const r=fl(gc,t.__scopeSelect),[n,i]=w.useState();if(Ir(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?cs.createPortal(s.jsx(DB,{scope:t.__scopeSelect,children:s.jsx(l0.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(RB,{...t,ref:e})});MB.displayName=gc;var ba=10,[DB,hl]=Jd(gc),sne="SelectContentImpl",one=Ure("SelectContent.RemoveScroll"),RB=w.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:j,hideWhenDetached:b,avoidCollisions:y,...x}=t,S=fl(gc,r),[_,P]=w.useState(null),[C,O]=w.useState(null),k=ut(e,K=>P(K)),[A,M]=w.useState(null),[D,L]=w.useState(null),B=c0(r),[$,q]=w.useState(!1),F=w.useRef(!1);w.useEffect(()=>{if(_)return Gx(_)},[_]),qx();const G=w.useCallback(K=>{const[de,...ae]=B().map(le=>le.ref.current),[ce]=ae.slice(-1),xe=document.activeElement;for(const le of K)if(le===xe||(le?.scrollIntoView({block:"nearest"}),le===de&&C&&(C.scrollTop=0),le===ce&&C&&(C.scrollTop=C.scrollHeight),le?.focus(),document.activeElement!==xe))return},[B,C]),E=w.useCallback(()=>G([A,_]),[G,A,_]);w.useEffect(()=>{$&&E()},[$,E]);const{onOpenChange:U,triggerPointerDownPosRef:H}=S;w.useEffect(()=>{if(_){let K={x:0,y:0};const de=ce=>{K={x:Math.abs(Math.round(ce.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(ce.pageY)-(H.current?.y??0))}},ae=ce=>{K.x<=10&&K.y<=10?ce.preventDefault():_.contains(ce.target)||U(!1),document.removeEventListener("pointermove",de),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ae,{capture:!0})}}},[_,U,H]),w.useEffect(()=>{const K=()=>U(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[U]);const[I,z]=KB(K=>{const de=B().filter(xe=>!xe.disabled),ae=de.find(xe=>xe.ref.current===document.activeElement),ce=JB(de,K,ae);ce&&setTimeout(()=>ce.ref.current.focus())}),V=w.useCallback((K,de,ae)=>{const ce=!F.current&&!ae;(S.value!==void 0&&S.value===de||ce)&&(M(K),ce&&(F.current=!0))},[S.value]),J=w.useCallback(()=>_?.focus(),[_]),Q=w.useCallback((K,de,ae)=>{const ce=!F.current&&!ae;(S.value!==void 0&&S.value===de||ce)&&L(K)},[S.value]),se=n==="popper"?g_:IB,oe=se===g_?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:j,hideWhenDetached:b,avoidCollisions:y}:{};return s.jsx(DB,{scope:r,content:_,viewport:C,onViewportChange:O,itemRefCallback:V,selectedItem:A,onItemLeave:J,itemTextRefCallback:Q,focusSelectedItem:E,selectedItemText:D,position:n,isPositioned:$,searchRef:I,children:s.jsx(gm,{as:one,allowPinchZoom:!0,children:s.jsx(pm,{asChild:!0,trapped:S.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Me(i,K=>{S.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:s.jsx(hm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:s.jsx(se,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:K=>K.preventDefault(),...x,...oe,onPlaced:()=>q(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Me(x.onKeyDown,K=>{const de=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!de&&K.key.length===1&&z(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ce=B().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const xe=K.target,le=ce.indexOf(xe);ce=ce.slice(le+1)}setTimeout(()=>G(ce)),K.preventDefault()}})})})})})})});RB.displayName=sne;var lne="SelectItemAlignedPosition",IB=w.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=fl(gc,r),o=hl(gc,r),[l,c]=w.useState(null),[d,f]=w.useState(null),h=ut(e,k=>f(k)),m=c0(r),g=w.useRef(!1),j=w.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:x,focusSelectedItem:S}=o,_=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&b&&y&&x){const k=a.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),D=x.getBoundingClientRect();if(a.dir!=="rtl"){const xe=D.left-A.left,le=M.left-xe,Te=k.left-le,Ne=k.width+Te,Fe=Math.max(Ne,A.width),Ke=window.innerWidth-ba,Re=sy(le,[ba,Math.max(ba,Ke-Fe)]);l.style.minWidth=Ne+"px",l.style.left=Re+"px"}else{const xe=A.right-D.right,le=window.innerWidth-M.right-xe,Te=window.innerWidth-k.right-le,Ne=k.width+Te,Fe=Math.max(Ne,A.width),Ke=window.innerWidth-ba,Re=sy(le,[ba,Math.max(ba,Ke-Fe)]);l.style.minWidth=Ne+"px",l.style.right=Re+"px"}const L=m(),B=window.innerHeight-ba*2,$=b.scrollHeight,q=window.getComputedStyle(d),F=parseInt(q.borderTopWidth,10),G=parseInt(q.paddingTop,10),E=parseInt(q.borderBottomWidth,10),U=parseInt(q.paddingBottom,10),H=F+G+$+U+E,I=Math.min(y.offsetHeight*5,H),z=window.getComputedStyle(b),V=parseInt(z.paddingTop,10),J=parseInt(z.paddingBottom,10),Q=k.top+k.height/2-ba,se=B-Q,oe=y.offsetHeight/2,K=y.offsetTop+oe,de=F+G+K,ae=H-de;if(de<=Q){const xe=L.length>0&&y===L[L.length-1].ref.current;l.style.bottom="0px";const le=d.clientHeight-b.offsetTop-b.offsetHeight,Te=Math.max(se,oe+(xe?J:0)+le+E),Ne=de+Te;l.style.height=Ne+"px"}else{const xe=L.length>0&&y===L[0].ref.current;l.style.top="0px";const Te=Math.max(Q,F+b.offsetTop+(xe?V:0)+oe)+ae;l.style.height=Te+"px",b.scrollTop=de-Q+b.offsetTop}l.style.margin=`${ba}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=B+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,d,b,y,x,a.dir,n]);Ir(()=>_(),[_]);const[P,C]=w.useState();Ir(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const O=w.useCallback(k=>{k&&j.current===!0&&(_(),S?.(),j.current=!1)},[_,S]);return s.jsx(une,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:s.jsx(Ze.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});IB.displayName=lne;var cne="SelectPopperPosition",g_=w.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ba,...a}=t,o=u0(r);return s.jsx(tk,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g_.displayName=cne;var[une,nk]=Jd(gc,{}),v_="SelectViewport",LB=w.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=hl(v_,r),o=nk(v_,r),l=ut(e,a.onViewportChange),c=w.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(l0.Slot,{scope:r,children:s.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Me(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m?.current&&h){const g=Math.abs(c.current-f.scrollTop);if(g>0){const j=window.innerHeight-ba*2,b=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(b,y);if(x<j){const S=x+g,_=Math.min(j,S),P=S-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});LB.displayName=v_;var zB="SelectGroup",[dne,fne]=Jd(zB),hne=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=na();return s.jsx(dne,{scope:r,id:i,children:s.jsx(Ze.div,{role:"group","aria-labelledby":i,...n,ref:e})})});hne.displayName=zB;var FB="SelectLabel",pne=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=fne(FB,r);return s.jsx(Ze.div,{id:i.id,...n,ref:e})});pne.displayName=FB;var dy="SelectItem",[mne,$B]=Jd(dy),BB=w.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,l=fl(dy,r),c=hl(dy,r),d=l.value===n,[f,h]=w.useState(a??""),[m,g]=w.useState(!1),j=ut(e,S=>c.itemRefCallback?.(S,n,i)),b=na(),y=w.useRef("touch"),x=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(mne,{scope:r,value:n,disabled:i,textId:b,isSelected:d,onItemTextChange:w.useCallback(S=>{h(_=>_||(S?.textContent??"").trim())},[]),children:s.jsx(l0.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:s.jsx(Ze.div,{role:"option","aria-labelledby":b,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:j,onFocus:Me(o.onFocus,()=>g(!0)),onBlur:Me(o.onBlur,()=>g(!1)),onClick:Me(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:Me(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:Me(o.onPointerDown,S=>{y.current=S.pointerType}),onPointerMove:Me(o.onPointerMove,S=>{y.current=S.pointerType,i?c.onItemLeave?.():y.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(o.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Me(o.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(Qre.includes(S.key)&&x(),S.key===" "&&S.preventDefault())})})})})});BB.displayName=dy;var bh="SelectItemText",HB=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=fl(bh,r),l=hl(bh,r),c=$B(bh,r),d=nne(bh,r),[f,h]=w.useState(null),m=ut(e,x=>h(x),c.onItemTextChange,x=>l.itemTextRefCallback?.(x,c.value,c.disabled)),g=f?.textContent,j=w.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=d;return Ir(()=>(b(j),()=>y(j)),[b,y,j]),s.jsxs(s.Fragment,{children:[s.jsx(Ze.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?cs.createPortal(a.children,o.valueNode):null]})});HB.displayName=bh;var WB="SelectItemIndicator",UB=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return $B(WB,r).isSelected?s.jsx(Ze.span,{"aria-hidden":!0,...n,ref:e}):null});UB.displayName=WB;var y_="SelectScrollUpButton",qB=w.forwardRef((t,e)=>{const r=hl(y_,t.__scopeSelect),n=nk(y_,t.__scopeSelect),[i,a]=w.useState(!1),o=ut(e,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(GB,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qB.displayName=y_;var x_="SelectScrollDownButton",VB=w.forwardRef((t,e)=>{const r=hl(x_,t.__scopeSelect),n=nk(x_,t.__scopeSelect),[i,a]=w.useState(!1),o=ut(e,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(GB,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});VB.displayName=x_;var GB=w.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=hl("SelectScrollButton",r),o=w.useRef(null),l=c0(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Ir(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Me(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Me(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Me(i.onPointerLeave,()=>{c()})})}),gne="SelectSeparator",vne=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Ze.div,{"aria-hidden":!0,...n,ref:e})});vne.displayName=gne;var b_="SelectArrow",yne=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=u0(r),a=fl(b_,r),o=hl(b_,r);return a.open&&o.position==="popper"?s.jsx(rk,{...i,...n,ref:e}):null});yne.displayName=b_;var xne="SelectBubbleInput",XB=w.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=w.useRef(null),a=ut(n,i),o=ym(e);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const h=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(h)}},[o,e]),s.jsx(Ze.select,{...r,style:{...NB,...r.style},ref:a,defaultValue:e})});XB.displayName=xne;function YB(t){return t===""||t===void 0}function KB(t){const e=Ea(t),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(o=>{const l=r.current+o;e(l),(function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),a=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function JB(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=bne(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function bne(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var wne=_B,jne=PB,Sne=TB,Cne=AB,Nne=EB,_ne=MB,One=LB,Pne=BB,kne=HB,Tne=UB,Ane=qB,Ene=VB;function Gr({...t}){return s.jsx(wne,{"data-slot":"select",...t})}function Xr({...t}){return s.jsx(Sne,{"data-slot":"select-value",...t})}function Yr({className:t,size:e="default",children:r,...n}){return s.jsxs(jne,{"data-slot":"select-trigger","data-size":e,className:Je("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,s.jsx(Cne,{asChild:!0,children:s.jsx(Bs,{className:"size-4 opacity-50"})})]})}function Kr({className:t,children:e,position:r="popper",...n}){return s.jsx(Nne,{children:s.jsxs(_ne,{"data-slot":"select-content",className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(Mne,{}),s.jsx(One,{className:Je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),s.jsx(Dne,{})]})})}function We({className:t,children:e,...r}){return s.jsxs(Pne,{"data-slot":"select-item",className:Je("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(Tne,{children:s.jsx(Zu,{className:"size-4"})})}),s.jsx(kne,{children:e})]})}function Mne({className:t,...e}){return s.jsx(Ane,{"data-slot":"select-scroll-up-button",className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Wh,{className:"size-4"})})}function Dne({className:t,...e}){return s.jsx(Ene,{"data-slot":"select-scroll-down-button",className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Bs,{className:"size-4"})})}const Pu="/assets/787e6b4140e96e95ccf202de719b1da6a8bed3e6-DF9RBRJX.png",ku="/assets/7b9c6122bea5ee4b12601772b07cf4c23c8f6092--a6KEQUn.png";function te(t,e,r){return(e=(function(n){var i=(function(a,o){if(typeof a!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var c=l.call(a,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(a)})(n,"string");return typeof i=="symbol"?i:i+""})(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(r),!0).forEach((function(n){te(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function ar(t,e){if(t==null)return{};var r,n,i=(function(o,l){if(o==null)return{};var c={};for(var d in o)if({}.hasOwnProperty.call(o,d)){if(l.indexOf(d)>=0)continue;c[d]=o[d]}return c})(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class IM{constructor(){te(this,"browserShadowBlurConstant",1),te(this,"DPI",96),te(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),te(this,"perfLimitSizeTotal",2097152),te(this,"maxCacheSideLimit",4096),te(this,"minCacheSideLimit",256),te(this,"disableStyleCopyPaste",!1),te(this,"enableGLFiltering",!0),te(this,"textureSize",4096),te(this,"forceGLPutImageData",!1),te(this,"cachesBoundsOfCurve",!1),te(this,"fontPaths",{}),te(this,"NUM_FRACTION_DIGITS",4)}}const Ct=new class extends IM{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=re(re({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((t=>{delete this.fontPaths[t]}))}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new IM,r=t?.reduce(((n,i)=>(n[i]=e[i],n)),{})||e;this.configure(r)}},ao=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return console[t]("fabric",...r)};class ds extends Error{constructor(e,r){super("fabric: ".concat(e),r)}}let ik=class extends ds{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}};class Rne{}class Ine extends Rne{testPrecision(e,r){const n="precision ".concat(r,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((n=>this.testPrecision(r,n))),r.getExtension("WEBGL_lose_context").loseContext(),ao("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const Lne={};let w_;const zne=t=>{w_=t},Ra=()=>w_||(w_={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Ine,dispose(){},copyPasteData:Lne}),Dc=()=>Ra().document,Oa=()=>Ra().window,ZB=()=>{var t;return Math.max((t=Ct.devicePixelRatio)!==null&&t!==void 0?t:Oa().devicePixelRatio,1)},Hu=new class{constructor(){te(this,"boundsOfCurveCache",{}),this.charWidthsCache=new Map}getFontCache(t){let{fontFamily:e,fontStyle:r,fontWeight:n}=t;e=e.toLowerCase();const i=this.charWidthsCache;i.has(e)||i.set(e,new Map);const a=i.get(e),o="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return a.has(o)||a.set(o,new Map),a.get(o)}clearFontCache(t){t?this.charWidthsCache.delete((t||"").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(t){const{perfLimitSizeTotal:e}=Ct,r=Math.sqrt(e*t);return[Math.floor(r),Math.floor(e/r)]}},fy="6.9.0";function cc(){}const ol=Math.PI/2,so=2*Math.PI,ak=Math.PI/180,Dn=Object.freeze([1,0,0,1,0,0]),sk=16,Fo=.4477152502,ot="center",Ht="left",ui="top",j_="bottom",Pr="right",Gn="none",ok=/\r?\n/,QB="moving",d0="scaling",e6="rotating",lk="rotate",t6="skewing",hp="resizing",r6="modifyPoly",Fne="modifyPath",hy="changed",f0="scale",Yn="scaleX",Ri="scaleY",Zd="skewX",Qd="skewY",Dr="fill",Xn="stroke",py="modified",ju="json",Sj="svg",ze=new class{constructor(){this[ju]=new Map,this[Sj]=new Map}has(t){return this[ju].has(t)}getClass(t){const e=this[ju].get(t);if(!e)throw new ds("No class registered for ".concat(t));return e}setClass(t,e){e?this[ju].set(e,t):(this[ju].set(t.type,t),this[ju].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[Sj].get(t)}setSVGClass(t,e){this[Sj].set(e??t.type.toLowerCase(),t)}},pp=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach((e=>e.abort())),t}cancelByCanvas(t){if(!t)return[];const e=this.filter((r=>{var n;return r.target===t||typeof r.target=="object"&&((n=r.target)===null||n===void 0?void 0:n.canvas)===t}));return e.forEach((r=>r.abort())),e}cancelByTarget(t){if(!t)return[];const e=this.filter((r=>r.target===t));return e.forEach((r=>r.abort())),e}};class n6{constructor(){te(this,"__eventListeners",{})}on(e,r){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach((n=>{let[i,a]=n;this.on(i,a)})),()=>this.off(e);if(r){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(r),()=>this.off(n,r)}return()=>!1}once(e,r){if(typeof e=="object"){const n=[];return Object.entries(e).forEach((i=>{let[a,o]=i;n.push(this.once(a,o))})),()=>n.forEach((i=>i()))}if(r){const n=this.on(e,(function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.call(this,...a),n()}));return n}return()=>!1}_removeEventListener(e,r){if(this.__eventListeners[e])if(r){const n=this.__eventListeners[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}else this.__eventListeners[e]=[]}off(e,r){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach((n=>{let[i,a]=n;this._removeEventListener(i,a)})):this._removeEventListener(e,r)}fire(e,r){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(i)for(let a=0;a<i.length;a++)i[a].call(this,r||{})}}const Zl=(t,e)=>{const r=t.indexOf(e);return r!==-1&&t.splice(r,1),t},Ia=t=>{if(t===0)return 1;switch(Math.abs(t)/ol){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},La=t=>{if(t===0)return 0;const e=t/ol,r=Math.sign(t);switch(e){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(t)};class he{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=r)}add(e){return new he(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new he(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new he(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new he(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new he(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new he(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new he(this.x/e.x,this.y/e.y)}scalarDivide(e){return new he(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new he(this.x+(e.x-this.x)*r,this.y+(e.y-this.y)*r)}distanceFrom(e){const r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new he(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new he(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,r){return this.x=e,this.y=r,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const r=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=r,e.y=n}clone(){return new he(this.x,this.y)}rotate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ck;const n=La(e),i=Ia(e),a=this.subtract(r);return new he(a.x*i-a.y*n,a.x*n+a.y*i).add(r)}transform(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new he(e[0]*this.x+e[2]*this.y+(r?0:e[4]),e[1]*this.x+e[3]*this.y+(r?0:e[5]))}}const ck=new he(0,0),Vv=t=>!!t&&Array.isArray(t._objects);function uk(t){class e extends t{constructor(){super(...arguments),te(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];const o=this._objects.push(...i);return i.forEach((l=>this._onObjectAdded(l))),o}insertAt(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return this._objects.splice(n,0,...a),a.forEach((l=>this._onObjectAdded(l))),this._objects.length}remove(){const n=this._objects,i=[];for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return o.forEach((c=>{const d=n.indexOf(c);d!==-1&&(n.splice(d,1),i.push(c),this._onObjectRemoved(c))})),i}forEachObject(n){this.getObjects().forEach(((i,a,o)=>n(i,a,o)))}getObjects(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.length===0?[...this._objects]:this._objects.filter((o=>o.isType(...i)))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some((a=>a instanceof e&&a.contains(n,!0)))}complexity(){return this._objects.reduce(((n,i)=>n+=i.complexity?i.complexity():0),0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(Zl(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(Zl(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const a=this._objects.indexOf(n);if(a!==0){const o=this.findNewLowerIndex(n,a,i);return Zl(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const a=this._objects.indexOf(n);if(a!==this._objects.length-1){const o=this.findNewUpperIndex(n,a,i);return Zl(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(Zl(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,a){let o;if(a){o=i;for(let l=i-1;l>=0;--l)if(n.isOverlapping(this._objects[l])){o=l;break}}else o=i-1;return o}findNewUpperIndex(n,i,a){let o;if(a){o=i;for(let l=i+1;l<this._objects.length;++l)if(n.isOverlapping(this._objects[l])){o=l;break}}else o=i+1;return o}collectObjects(n){let{left:i,top:a,width:o,height:l}=n,{includeIntersecting:c=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=[],f=new he(i,a),h=f.add(new he(o,l));for(let m=this._objects.length-1;m>=0;m--){const g=this._objects[m];g.selectable&&g.visible&&(c&&g.intersectsWithRect(f,h)||g.isContainedWithinRect(f,h)||c&&g.containsPoint(f)||c&&g.containsPoint(h))&&d.push(g)}return d}}return e}class i6 extends n6{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in e)this.set(r,e[r])}_setObject(e){for(const r in e)this._set(r,e[r])}set(e,r){return typeof e=="object"?this._setObject(e):this._set(e,r),this}_set(e,r){this[e]=r}toggle(e){const r=this.get(e);return typeof r=="boolean"&&this.set(e,!r),this}get(e){return this[e]}}function qh(t){return Oa().requestAnimationFrame(t)}function a6(t){return Oa().cancelAnimationFrame(t)}let $ne=0;const ll=()=>$ne++,oa=()=>{const t=Dc().createElement("canvas");if(!t||t.getContext===void 0)throw new ds("Failed to create `canvas` element");return t},s6=()=>Dc().createElement("img"),di=t=>{const e=oa();return e.width=t.width,e.height=t.height,e},dk=(t,e,r)=>t.toDataURL("image/".concat(e),r),fk=(t,e,r)=>new Promise(((n,i)=>{t.toBlob(n,"image/".concat(e),r)})),Nr=t=>t*ak,xs=t=>t/ak,o6=t=>t.every(((e,r)=>e===Dn[r])),An=(t,e,r)=>new he(t).transform(e,r),li=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:n,y:i}=new he(t[4],t[5]).transform(r,!0);return r[4]=-n,r[5]=-i,r},yr=(t,e,r)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]],h0=(t,e)=>t.reduceRight(((r,n)=>n&&r?yr(n,r,e):n||r),void 0)||Dn.concat(),l6=t=>{let[e,r]=t;return Math.atan2(r,e)},vc=t=>{const e=l6(t),r=Math.pow(t[0],2)+Math.pow(t[1],2),n=Math.sqrt(r),i=(t[0]*t[3]-t[2]*t[1])/n,a=Math.atan2(t[0]*t[2]+t[1]*t[3],r);return{angle:xs(e),scaleX:n,scaleY:i,skewX:xs(a),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},ef=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Rc(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Nr(t),i=Ia(n),a=La(n);return[i,a,-a,i,e?e-(i*e-a*r):0,r?r-(a*e+i*r):0]}const p0=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},c6=t=>Math.tan(Nr(t)),hk=t=>[1,0,c6(t),1,0,0],pk=t=>[1,c6(t),0,1,0,0],jm=t=>{let{scaleX:e=1,scaleY:r=1,flipX:n=!1,flipY:i=!1,skewX:a=0,skewY:o=0}=t,l=p0(n?-e:e,i?-r:r);return a&&(l=yr(l,hk(a),!0)),o&&(l=yr(l,pk(o),!0)),l},u6=t=>{const{translateX:e=0,translateY:r=0,angle:n=0}=t;let i=ef(e,r);n&&(i=yr(i,Rc({angle:n})));const a=jm(t);return o6(a)||(i=yr(i,a)),i},Vh=function(t){let{signal:e,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((function(n,i){if(e&&e.aborted)return i(new ik("loadImage"));const a=s6();let o;e&&(o=function(c){a.src="",i(c)},e.addEventListener("abort",o,{once:!0}));const l=function(){a.onload=a.onerror=null,o&&e?.removeEventListener("abort",o),n(a)};t?(a.onload=l,a.onerror=function(){o&&e?.removeEventListener("abort",o),i(new ds("Error loading ".concat(a.src)))},r&&(a.crossOrigin=r),a.src=t):l()}))},rd=function(t){let{signal:e,reviver:r=cc}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(((n,i)=>{const a=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map((o=>ze.getClass(o.type).fromObject(o,{signal:e}).then((l=>(r(o,l),a.push(l),l)))))).then(n).catch((o=>{a.forEach((l=>{l.dispose&&l.dispose()})),i(o)})).finally((()=>{e&&e.removeEventListener("abort",i)}))}))},Sm=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(((r,n)=>{const i=[];e&&e.addEventListener("abort",n,{once:!0});const a=Object.values(t).map((l=>l&&l.type&&ze.has(l.type)?rd([l],{signal:e}).then((c=>{let[d]=c;return i.push(d),d})):l)),o=Object.keys(t);Promise.all(a).then((l=>l.reduce(((c,d,f)=>(c[o[f]]=d,c)),{}))).then(r).catch((l=>{i.forEach((c=>{c.dispose&&c.dispose()})),n(l)})).finally((()=>{e&&e.removeEventListener("abort",n)}))}))},Ic=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce(((e,r)=>(r in t&&(e[r]=t[r]),e)),{})},mk=(t,e)=>Object.keys(t).reduce(((r,n)=>(e(t[n],n,t)&&(r[n]=t[n]),r)),{}),Xt=(t,e)=>parseFloat(Number(t).toFixed(e)),nd=t=>"matrix("+t.map((e=>Xt(e,Ct.NUM_FRACTION_DIGITS))).join(" ")+")",ea=t=>!!t&&t.toLive!==void 0,LM=t=>!!t&&typeof t.toObject=="function",zM=t=>!!t&&t.offsetX!==void 0&&"source"in t,Ql=t=>!!t&&"multiSelectionStacking"in t;function d6(t){const e=t&&Na(t);let r=0,n=0;if(!t||!e)return{left:r,top:n};let i=t;const a=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(r=o.scrollLeft||a.scrollLeft||0,n=o.scrollTop||a.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:r,top:n}}const Na=t=>t.ownerDocument||null,f6=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},h6=function(t,e,r){let{width:n,height:i}=r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=n,t.height=i,a>1&&(t.setAttribute("width",(n*a).toString()),t.setAttribute("height",(i*a).toString()),e.scale(a,a))},S_=(t,e)=>{let{width:r,height:n}=e;r&&(t.style.width=typeof r=="number"?"".concat(r,"px"):r),n&&(t.style.height=typeof n=="number"?"".concat(n,"px"):n)};function FM(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=Gn,t}class gk{constructor(e){te(this,"_originalCanvasStyle",void 0),te(this,"lower",void 0);const r=this.createLowerCanvas(e);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(e){const r=(n=e)&&n.getContext!==void 0?e:e&&Dc().getElementById(e)||oa();var n;if(r.hasAttribute("data-fabric"))throw new ds("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(e){let{width:r,height:n}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,r){const{el:n,ctx:i}=this.lower;h6(n,i,e,r)}setCSSDimensions(e){S_(this.lower.el,e)}calcOffset(){return(function(e){var r;const n=e&&Na(e),i={left:0,top:0};if(!n)return i;const a=((r=f6(e))===null||r===void 0?void 0:r.getComputedStyle(e,null))||{};i.left+=parseInt(a.borderLeftWidth,10)||0,i.top+=parseInt(a.borderTopWidth,10)||0,i.left+=parseInt(a.paddingLeft,10)||0,i.top+=parseInt(a.paddingTop,10)||0;let o={left:0,top:0};const l=n.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const c=d6(e);return{left:o.left+c.left-(l.clientLeft||0)+i.left,top:o.top+c.top-(l.clientTop||0)+i.top}})(this.lower.el)}dispose(){Ra().dispose(this.lower.el),delete this.lower}}const Bne={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Dn]},Hne=["objects"];class tf extends uk(i6){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return tf.ownDefaults}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new gk(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const a=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),a}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(ao("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?ZB():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,r){return this.setDimensions({width:e},r)}setHeight(e,r){return this.setDimensions({height:e},r)}_setDimensionsImpl(e){let{cssOnly:r=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const i=re({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,r){this._setDimensionsImpl(e,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,r){const n=e,i=[...this.viewportTransform],a=An(e,li(i));i[0]=r,i[3]=r;const o=An(a,i);i[4]+=n.x-o.x,i[5]+=n.y-o.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new he(0,0),e)}absolutePan(e){const r=[...this.viewportTransform];return r[4]=-e.x,r[5]=-e.y,this.setViewportTransform(r)}relativePan(e){return this.absolutePan(new he(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=qh((()=>this.renderAndReset())))}calcViewportBoundaries(){const e=this.width,r=this.height,n=li(this.viewportTransform),i=An({x:0,y:0},n),a=An({x:e,y:r},n),o=i.min(a),l=i.max(a);return this.vptCoords={tl:o,tr:new he(l.x,o.y),bl:new he(o.x,l.y),br:l}}cancelRequestedRender(){this.nextRenderHandle&&(a6(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,r){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,r),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,r){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}_renderObjects(e,r){for(let n=0,i=r.length;n<i;++n)r[n]&&r[n].render(e)}_renderBackgroundOrOverlay(e,r){const n=this["".concat(r,"Color")],i=this["".concat(r,"Image")],a=this.viewportTransform,o=this["".concat(r,"Vpt")];if(!n&&!i)return;const l=ea(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=l?n.toLive(e):n,o&&e.transform(...a),l){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const c=n.gradientTransform||n.patternTransform;c&&e.transform(...c)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:c}=this;this.skipOffscreen=o,o&&e.transform(...a),i.render(e),this.skipOffscreen=c,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new he(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new he(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new he(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new he(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new he(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return An(this.getCenterPoint(),li(this.viewportTransform))}_centerObject(e,r){e.setXY(r,ot,ot),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,r){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,r):null;return re(re(re({version:fy},Ic(this,r)),{},{objects:this._objects.filter((a=>!a.excludeFromExport)).map((a=>this._toObject(a,e,r)))},this.__serializeBgOverlay(e,r)),i?{clipPath:i}:null)}_toObject(e,r,n){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const a=e[r](n);return this.includeDefaultValues||(e.includeDefaultValues=!!i),a}__serializeBgOverlay(e,r){const n={},i=this.backgroundImage,a=this.overlayImage,o=this.backgroundColor,l=this.overlayColor;return ea(o)?o.excludeFromExport||(n.background=o.toObject(r)):o&&(n.background=o),ea(l)?l.excludeFromExport||(n.overlay=l.toObject(r)):l&&(n.overlay=l),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,r)),a&&!a.excludeFromExport&&(n.overlayImage=this._toObject(a,e,r)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;e.reviver=r;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",r),this._setSVGObjects(n,r),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",r),n.push("</svg>"),n.join("")}_setSVGPreamble(e,r){r.suppressPreamble||e.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,r){const n=r.width||"".concat(this.width),i=r.height||"".concat(this.height),a=Ct.NUM_FRACTION_DIGITS,o=r.viewBox;let l;if(o)l='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const c=this.viewportTransform;l='viewBox="'.concat(Xt(-c[4]/c[0],a)," ").concat(Xt(-c[5]/c[3],a)," ").concat(Xt(this.width/c[0],a)," ").concat(Xt(this.height/c[3],a),'" ')}else l='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',l,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",fy,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(e){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(ll()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((e=>{const r=this["".concat(e,"Color")];if(ea(r)){const n=this["".concat(e,"Vpt")],i=this.viewportTransform,a={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return r.toSVG(a,{additionalTransform:n?nd(i):""})}})).join("")}createSVGFontFacesMarkup(){const e=[],r={},n=Ct.fontPaths;this._objects.forEach((function a(o){e.push(o),Vv(o)&&o._objects.forEach(a)})),e.forEach((a=>{if(!(o=a)||typeof o._renderText!="function")return;var o;const{styles:l,fontFamily:c}=a;!r[c]&&n[c]&&(r[c]=!0,l&&Object.values(l).forEach((d=>{Object.values(d).forEach((f=>{let{fontFamily:h=""}=f;!r[h]&&n[h]&&(r[h]=!0)}))})))}));const i=Object.keys(r).map((a=>`		@font-face {
			font-family: '`.concat(a,`';
			src: url('`).concat(n[a],`');
		}
`))).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,r){this.forEachObject((n=>{n.excludeFromExport||this._setSVGObject(e,n,r)}))}_setSVGObject(e,r,n){e.push(r.toSVG(n))}_setSVGBgOverlayImage(e,r,n){const i=this[r];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(n))}_setSVGBgOverlayColor(e,r){const n=this["".concat(r,"Color")];if(n)if(ea(n)){const i=n.repeat||"",a=this.width,o=this.height,l=this["".concat(r,"Vpt")]?nd(li(this.viewportTransform)):"";e.push('<rect transform="'.concat(l," translate(").concat(a/2,",").concat(o/2,')" x="').concat(n.offsetX-a/2,'" y="').concat(n.offsetY-o/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!zM(n)?a:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!zM(n)?o:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,r){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new ds("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:a=[]}=i,o=ar(i,Hne),{backgroundImage:l,background:c,overlayImage:d,overlay:f,clipPath:h}=o,m=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([rd(a,{reviver:r,signal:n}),Sm({backgroundImage:l,backgroundColor:c,overlayImage:d,overlayColor:f,clipPath:h},{signal:n})]).then((g=>{let[j,b]=g;return this.clear(),this.add(...j),this.set(o),this.set(b),this.renderOnAddRemove=m,this}))}clone(e){const r=this.toObject(e);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const e=di(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:a=!1}=e,o=i*(a?this.getRetinaScaling():1);return dk(this.toCanvasElement(o,e),r,n)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:a=!1}=e,o=i*(a?this.getRetinaScaling():1);return fk(this.toCanvasElement(o,e),r,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:n,left:i,top:a,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=(r||this.width)*e,c=(n||this.height)*e,d=this.getZoom(),f=this.width,h=this.height,m=this.skipControlsDrawing,g=d*e,j=this.viewportTransform,b=[g,0,0,g,(j[4]-(i||0))*e,(j[5]-(a||0))*e],y=this.enableRetinaScaling,x=di({width:l,height:c}),S=o?this._objects.filter((_=>o(_))):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=b,this.width=l,this.height=c,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(x.getContext("2d"),S),this.viewportTransform=j,this.width=f,this.height=h,this.calcViewportBoundaries(),this.enableRetinaScaling=y,this.skipControlsDrawing=m,x}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),pp.cancelByCanvas(this),this.disposed=!0,new Promise(((e,r)=>{const n=()=>{this.destroy(),e(!0)};n.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()}))}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((e=>e.dispose())),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}te(tf,"ownDefaults",Bne);const Wne=["touchstart","touchmove","touchend"],p6=t=>{const e=d6(t.target),r=(function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n})(t);return new he(r.clientX+e.left,r.clientY+e.top)},my=t=>Wne.includes(t.type)||t.pointerType==="touch",$M=t=>{t.preventDefault(),t.stopPropagation()},ps=t=>{let e=0,r=0,n=0,i=0;for(let a=0,o=t.length;a<o;a++){const{x:l,y:c}=t[a];(l>n||!a)&&(n=l),(l<e||!a)&&(e=l),(c>i||!a)&&(i=c),(c<r||!a)&&(r=c)}return{left:e,top:r,width:n-e,height:i-r}},Une=["translateX","translateY","scaleX","scaleY"],m6=(t,e)=>id(t,yr(e,t.calcOwnMatrix())),id=(t,e)=>{const r=vc(e),{translateX:n,translateY:i,scaleX:a,scaleY:o}=r,l=ar(r,Une),c=new he(n,i);t.flipX=!1,t.flipY=!1,Object.assign(t,l),t.set({scaleX:a,scaleY:o}),t.setPositionByOrigin(c,ot,ot)},g6=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},vk=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),m0=(t,e,r)=>{const n=t/2,i=e/2,a=[new he(-n,-i),new he(n,-i),new he(-n,i),new he(n,i)].map((l=>l.transform(r))),o=ps(a);return new he(o.width,o.height)},Cm=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dn;return yr(li(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dn),t)},Ks=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dn,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dn;return t.transform(Cm(e,r))},v6=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dn,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dn;return t.transform(Cm(e,r),!0)},C_=(t,e,r)=>{const n=Cm(e,r);return id(t,yr(n,t.calcOwnMatrix())),n},yk=(t,e)=>{var r;const{transform:{target:n}}=e;(r=n.canvas)===null||r===void 0||r.fire("object:".concat(t),re(re({},e),{},{target:n})),n.fire(t,e)},qne={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Er=t=>typeof t=="string"?qne[t]:t-.5,gy="not-allowed";function y6(t){return Er(t.originX)===Er(ot)&&Er(t.originY)===Er(ot)}function BM(t){return .5-Er(t)}const Ta=(t,e)=>t[e],xk=(t,e,r,n)=>({e:t,transform:e,pointer:new he(r,n)});function x6(t,e){const r=t.getTotalAngle()+xs(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function g0(t,e,r,n,i){var a;let{target:o,corner:l}=t;const c=o.controls[l],d=((a=o.canvas)===null||a===void 0?void 0:a.getZoom())||1,f=o.padding/d,h=(function(m,g,j,b){const y=m.getRelativeCenterPoint(),x=j!==void 0&&b!==void 0?m.translateToGivenOrigin(y,ot,ot,j,b):new he(m.left,m.top);return(m.angle?g.rotate(-Nr(m.angle),y):g).subtract(x)})(o,new he(n,i),e,r);return h.x>=f&&(h.x-=f),h.x<=-f&&(h.x+=f),h.y>=f&&(h.y-=f),h.y<=f&&(h.y+=f),h.x-=c.offsetX,h.y-=c.offsetY,h}const b6=(t,e,r,n)=>{const{target:i,offsetX:a,offsetY:o}=e,l=r-a,c=n-o,d=!Ta(i,"lockMovementX")&&i.left!==l,f=!Ta(i,"lockMovementY")&&i.top!==c;return d&&i.set(Ht,l),f&&i.set(ui,c),(d||f)&&yk(QB,xk(t,e,r,n)),d||f},vy=t=>t.replace(/\s+/g," "),HM={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Cj=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),WM=(t,e,r,n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),a=Math.min(t,e,r);let o,l;const c=(i+a)/2;if(i===a)o=l=0;else{const d=i-a;switch(l=c>.5?d/(2-i-a):d/(i+a),i){case t:o=(e-r)/d+(e<r?6:0);break;case e:o=(r-t)/d+2;break;case r:o=(t-e)/d+4}o/=6}return[Math.round(360*o),Math.round(100*l),Math.round(100*c),n]},UM=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},cv=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),qM=t=>{let[e,r,n,i=1]=t;const a=Math.round(.3*e+.59*r+.11*n);return[a,a,a,i]};class kt{constructor(e){if(te(this,"isUnrecognised",!1),e)if(e instanceof kt)this.setSource([...e._source]);else if(Array.isArray(e)){const[r,n,i,a=1]=e;this.setSource([r,n,i,a])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in HM&&(e=HM[e]),e==="transparent"?[255,255,255,0]:kt.sourceFromHex(e)||kt.sourceFromRgb(e)||kt.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,r,n]=this.getSource();return"rgb(".concat(e,",").concat(r,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,r,n]=WM(...this.getSource());return"hsl(".concat(e,",").concat(r,"%,").concat(n,"%)")}toHsla(){const[e,r,n,i]=WM(...this.getSource());return"hsla(".concat(e,",").concat(r,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,r,n,i]=this.getSource();return"".concat(cv(e)).concat(cv(r)).concat(cv(n)).concat(cv(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(qM(this.getSource())),this}toBlackWhite(e){const[r,,,n]=qM(this.getSource()),i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(e){e instanceof kt||(e=new kt(e));const r=this.getSource(),n=e.getSource(),[i,a,o]=r.map(((l,c)=>Math.round(.5*l+.5*n[c])));return this.setSource([i,a,o,r[3]]),this}static fromRgb(e){return kt.fromRgba(e)}static fromRgba(e){return new kt(kt.sourceFromRgb(e))}static sourceFromRgb(e){const r=vy(e).match(/^rgba?\(\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d{0,3}(?:\.\d+)?%?)\s?)?\)$/i);if(r){const[n,i,a]=r.slice(1,4).map((o=>{const l=parseFloat(o);return o.endsWith("%")?Math.round(2.55*l):l}));return[n,i,a,UM(r[4])]}}static fromHsl(e){return kt.fromHsla(e)}static fromHsla(e){return new kt(kt.sourceFromHsl(e))}static sourceFromHsl(e){const r=vy(e).match(/^hsla?\(\s?([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d*(?:\.\d+)?%?)\s?)?\)$/i);if(!r)return;const n=(kt.parseAngletoDegrees(r[1])%360+360)%360/360,i=parseFloat(r[2])/100,a=parseFloat(r[3])/100;let o,l,c;if(i===0)o=l=c=a;else{const d=a<=.5?a*(i+1):a+i-a*i,f=2*a-d;o=Cj(f,d,n+1/3),l=Cj(f,d,n),c=Cj(f,d,n-1/3)}return[Math.round(255*o),Math.round(255*l),Math.round(255*c),UM(r[4])]}static fromHex(e){return new kt(kt.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=e.slice(e.indexOf("#")+1);let n;n=r.length<=4?r.split("").map((c=>c+c)):r.match(/.{2}/g);const[i,a,o,l=255]=n.map((c=>parseInt(c,16)));return[i,a,o,l/255]}}static parseAngletoDegrees(e){const r=e.toLowerCase(),n=parseFloat(r);return r.includes("rad")?xs(n):r.includes("turn")?360*n:n}}const Bn=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sk;const r=/\D{0,2}$/.exec(t),n=parseFloat(t),i=Ct.DPI;switch(r?.[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*e;default:return n}},bk=t=>{const[e,r]=t.trim().split(" "),[n,i]=(a=e)&&a!==Gn?[a.slice(1,4),a.slice(5,8)]:a===Gn?[a,a]:["Mid","Mid"];var a;return{meetOrSlice:r||"meet",alignX:n,alignY:i}},mp=function(t,e){let r,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)r="url(#SVGID_".concat(e.id,")");else{const a=new kt(e),o=a.getAlpha();r=a.toRgb(),o!==1&&(n=o.toString())}else r="none";return i?"".concat(t,": ").concat(r,"; ").concat(n?"".concat(t,"-opacity: ").concat(n,"; "):""):"".concat(t,'="').concat(r,'" ').concat(n?"".concat(t,'-opacity="').concat(n,'" '):"")};class w6{getSvgStyles(e){const r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Gn,a=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",d=this.opacity!==void 0?this.opacity:"1",f=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),m=mp(Dr,this.fill);return[mp(Xn,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",c,"; ",m,"fill-rule: ",r,"; ","opacity: ",d,";",h,f].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(nd(n));return"".concat(i).concat(r,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:r,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),a=e.indexOf("COMMON_PARTS");return e[a]=i,r?r(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:r,reviver:n,withShadow:i,additionalTransform:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=r?"":'style="'.concat(this.getSvgStyles(),'" '),l=i?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",f=c&&c.absolutePositioned,h=this.stroke,m=this.fill,g=this.shadow,j=[],b=e.indexOf("COMMON_PARTS");let y;c&&(c.clipPathId="CLIPPATH_".concat(ll()),y='<clipPath id="'.concat(c.clipPathId,`" >
`).concat(c.toClipPathSVG(n),`</clipPath>
`)),f&&j.push("<g ",l,this.getSvgCommons(),` >
`),j.push("<g ",this.getSvgTransform(!1),f?"":l+this.getSvgCommons(),` >
`);const x=[o,d,r?"":this.addPaintOrder()," ",a?'transform="'.concat(a,'" '):""].join("");return e[b]=x,ea(m)&&j.push(m.toSVG(this)),ea(h)&&j.push(h.toSVG(this)),g&&j.push(g.toSVG(this)),c&&j.push(y),j.push(e.join("")),j.push(`</g>
`),f&&j.push(`</g>
`),n?n(j.join("")):j.join("")}addPaintOrder(){return this.paintFirst!==Dr?' paint-order="'.concat(this.paintFirst,'" '):""}}function v0(t){return new RegExp("^("+t.join("|")+")\\b","i")}const yc="textDecorationThickness",j6=["fontSize","fontWeight","fontFamily","fontStyle"],S6=["underline","overline","linethrough"],C6=[...j6,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],N6=[...C6,...S6,"textBackgroundColor","direction",yc],Vne=[...j6,...S6,Xn,"strokeWidth",Dr,"deltaY","textBackgroundColor",yc],Gne={_reNewline:ok,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ht,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ht,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[yc]:66.667},ls="justify",yy="justify-left",Gh="justify-right",Xh="justify-center";var VM,GM,XM;const Pa=String.raw(VM||(VM=Cs(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Nj=String.raw(GM||(GM=Cs(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),N_="http://www.w3.org/2000/svg",Xne=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Pa+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Pa+"))?\\s+(.*)"),Yne={cx:Ht,x:Ht,r:"radius",cy:ui,y:ui,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":yc},_j="font-size",Oj="clip-path",Kne=v0(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),Jne=v0(["symbol","image","marker","pattern","view","svg"]),YM=v0(["symbol","g","a","svg","clipPath","defs"]),KM=new RegExp(String.raw(XM||(XM=Cs(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Pa,Nj,Pa,Nj,Pa,Nj,Pa)),Zne=new he(1,0),_6=new he,wk=(t,e)=>t.rotate(e),xy=(t,e)=>new he(e).subtract(t),by=t=>t.distanceFrom(_6),wy=(t,e)=>Math.atan2(Wu(t,e),P6(t,e)),O6=t=>wy(Zne,t),y0=t=>t.eq(_6)?t:t.scalarDivide(by(t)),jk=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return y0(new he(-t.y,t.x).scalarMultiply(e?1:-1))},Wu=(t,e)=>t.x*e.y-t.y*e.x,P6=(t,e)=>t.x*e.x+t.y*e.y,__=(t,e,r)=>{if(t.eq(e)||t.eq(r))return!0;const n=Wu(e,r),i=Wu(e,t),a=Wu(r,t);return n>=0?i>=0&&a<=0:!(i<=0&&a>=0)},JM="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",ZM=new RegExp("(?:\\s|^)"+JM+JM+"("+Pa+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Ai{constructor(e){const r=typeof e=="string"?Ai.parseShadow(e):e;Object.assign(this,Ai.ownDefaults,r),this.id=ll()}static parseShadow(e){const r=e.trim(),[,n=0,i=0,a=0]=(ZM.exec(r)||[]).map((o=>parseFloat(o)||0));return{color:(r.replace(ZM,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:a}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const r=wk(new he(this.offsetX,this.offsetY),Nr(-e.angle)),n=new kt(this.color);let i=40,a=40;return e.width&&e.height&&(i=100*Xt((Math.abs(r.x)+this.blur)/e.width,Ct.NUM_FRACTION_DIGITS)+20,a=100*Xt((Math.abs(r.y)+this.blur)/e.height,Ct.NUM_FRACTION_DIGITS)+20),e.flipX&&(r.x*=-1),e.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(a,'%" height="').concat(100+2*a,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Xt(this.blur?this.blur/2:0,Ct.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Xt(r.x,Ct.NUM_FRACTION_DIGITS),'" dy="').concat(Xt(r.y,Ct.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=Ai.ownDefaults;return this.includeDefaultValues?e:mk(e,((n,i)=>n!==r[i]))}static async fromObject(e){return new this(e)}}te(Ai,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),te(Ai,"type","shadow"),ze.setClass(Ai,"shadow");const xc=(t,e,r)=>Math.max(t,Math.min(e,r)),Qne=[ui,Ht,Yn,Ri,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Zd,Qd],po=[Dr,Xn,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],eie={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ht,originY:ui,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Dr,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Pj=(t,e,r,n)=>(t<Math.abs(e)?(t=e,n=r/4):n=e===0&&t===0?r/so*Math.asin(1):r/so*Math.asin(e/t),{a:t,c:e,p:r,s:n}),QM=(t,e,r,n,i)=>t*Math.pow(2,10*(n-=1))*Math.sin((n*i-e)*so/r),k6=(t,e,r,n)=>-r*Math.cos(t/n*ol)+r+e,O_=(t,e,r,n)=>(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e,eD=(t,e,r,n)=>r-O_(n-t,0,r,n)+e;var tie=Object.freeze({__proto__:null,defaultEasing:k6,easeInBack:function(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return r*(t/=n)*t*((i+1)*t-i)+e},easeInBounce:eD,easeInCirc:(t,e,r,n)=>-r*(Math.sqrt(1-(t/=n)*t)-1)+e,easeInCubic:(t,e,r,n)=>r*(t/n)**3+e,easeInElastic:(t,e,r,n)=>{const i=r;let a=0;if(t===0)return e;if((t/=n)===1)return e+r;a||(a=.3*n);const{a:o,s:l,p:c}=Pj(i,r,a,1.70158);return-QM(o,l,c,t,n)+e},easeInExpo:(t,e,r,n)=>t===0?e:r*2**(10*(t/n-1))+e,easeInOutBack:function(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(t/=n/2)<1?r/2*(t*t*((1+(i*=1.525))*t-i))+e:r/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInOutBounce:(t,e,r,n)=>t<n/2?.5*eD(2*t,0,r,n)+e:.5*O_(2*t-n,0,r,n)+.5*r+e,easeInOutCirc:(t,e,r,n)=>(t/=n/2)<1?-r/2*(Math.sqrt(1-t**2)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e,easeInOutCubic:(t,e,r,n)=>(t/=n/2)<1?r/2*t**3+e:r/2*((t-2)**3+2)+e,easeInOutElastic:(t,e,r,n)=>{const i=r;let a=0;if(t===0)return e;if((t/=n/2)===2)return e+r;a||(a=n*(.3*1.5));const{a:o,s:l,p:c,c:d}=Pj(i,r,a,1.70158);return t<1?-.5*QM(o,l,c,t,n)+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-l)*so/c)*.5+d+e},easeInOutExpo:(t,e,r,n)=>t===0?e:t===n?e+r:(t/=n/2)<1?r/2*2**(10*(t-1))+e:r/2*-(2**(-10*--t)+2)+e,easeInOutQuad:(t,e,r,n)=>(t/=n/2)<1?r/2*t**2+e:-r/2*(--t*(t-2)-1)+e,easeInOutQuart:(t,e,r,n)=>(t/=n/2)<1?r/2*t**4+e:-r/2*((t-=2)*t**3-2)+e,easeInOutQuint:(t,e,r,n)=>(t/=n/2)<1?r/2*t**5+e:r/2*((t-2)**5+2)+e,easeInOutSine:(t,e,r,n)=>-r/2*(Math.cos(Math.PI*t/n)-1)+e,easeInQuad:(t,e,r,n)=>r*(t/=n)*t+e,easeInQuart:(t,e,r,n)=>r*(t/=n)*t**3+e,easeInQuint:(t,e,r,n)=>r*(t/n)**5+e,easeInSine:(t,e,r,n)=>-r*Math.cos(t/n*ol)+r+e,easeOutBack:function(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeOutBounce:O_,easeOutCirc:(t,e,r,n)=>r*Math.sqrt(1-(t=t/n-1)*t)+e,easeOutCubic:(t,e,r,n)=>r*((t/n-1)**3+1)+e,easeOutElastic:(t,e,r,n)=>{const i=r;let a=0;if(t===0)return e;if((t/=n)===1)return e+r;a||(a=.3*n);const{a:o,s:l,p:c,c:d}=Pj(i,r,a,1.70158);return o*2**(-10*t)*Math.sin((t*n-l)*so/c)+d+e},easeOutExpo:(t,e,r,n)=>t===n?e+r:r*-(2**(-10*t/n)+1)+e,easeOutQuad:(t,e,r,n)=>-r*(t/=n)*(t-2)+e,easeOutQuart:(t,e,r,n)=>-r*((t=t/n-1)*t**3-1)+e,easeOutQuint:(t,e,r,n)=>r*((t/n-1)**5+1)+e,easeOutSine:(t,e,r,n)=>r*Math.sin(t/n*ol)+e});const rie=()=>!1;class Sk{constructor(e){let{startValue:r,byValue:n,duration:i=500,delay:a=0,easing:o=k6,onStart:l=cc,onChange:c=cc,onComplete:d=cc,abort:f=rie,target:h}=e;te(this,"_state","pending"),te(this,"durationProgress",0),te(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=a,this.easing=o,this._onStart=l,this._onChange=c,this._onComplete=d,this._abort=f,this.target=h,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout((()=>qh(e)),this.delay):qh(e)}tick(e){const r=(e||+new Date)-this.startTime,n=Math.min(r,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:a}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=a,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),qh(this.tick)))}register(){pp.push(this)}unregister(){pp.remove(this)}abort(){this._state="aborted",this.unregister()}}const nie=["startValue","endValue"];class iie extends Sk{constructor(e){let{startValue:r=0,endValue:n=100}=e;super(re(re({},ar(e,nie)),{},{startValue:r,byValue:n-r}))}calculate(e){const r=this.easing(e,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}}const aie=["startValue","endValue"];class sie extends Sk{constructor(e){let{startValue:r=[0],endValue:n=[100]}=e;super(re(re({},ar(e,aie)),{},{startValue:r,byValue:n.map(((i,a)=>i-r[a]))}))}calculate(e){const r=this.startValue.map(((n,i)=>this.easing(e,n,this.byValue[i],this.duration,i)));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}}const oie=["startValue","endValue","easing","onChange","onComplete","abort"],lie=(t,e,r,n)=>e+r*(1-Math.cos(t/n*ol)),kj=t=>t&&((e,r,n)=>t(new kt(e).toRgba(),r,n));class cie extends Sk{constructor(e){let{startValue:r,endValue:n,easing:i=lie,onChange:a,onComplete:o,abort:l}=e,c=ar(e,oie);const d=new kt(r).getSource(),f=new kt(n).getSource();super(re(re({},c),{},{startValue:d,byValue:f.map(((h,m)=>h-d[m])),easing:i,onChange:kj(a),onComplete:kj(o),abort:kj(l)}))}calculate(e){const[r,n,i,a]=this.startValue.map(((l,c)=>this.easing(e,l,this.byValue[c],this.duration,c))),o=[...[r,n,i].map(Math.round),xc(0,a,1)];return{value:o,valueProgress:o.map(((l,c)=>this.byValue[c]!==0?Math.abs((l-this.startValue[c])/this.byValue[c]):0)).find((l=>l!==0))||0}}}function Ck(t){const e=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(t)?new sie(t):new iie(t);return e.start(),e}function T6(t){const e=new cie(t);return e.start(),e}class lr{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some((r=>r.eq(e)))}append(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter((i=>!this.includes(i)))),this}static isPointContained(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(n))return e.eq(r);if(r.x===n.x)return e.x===r.x&&(i||e.y>=Math.min(r.y,n.y)&&e.y<=Math.max(r.y,n.y));if(r.y===n.y)return e.y===r.y&&(i||e.x>=Math.min(r.x,n.x)&&e.x<=Math.max(r.x,n.x));{const a=xy(r,n),o=xy(r,e).divide(a);return i?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,r){const n=new he(e).setX(Math.min(e.x-1,...r.map((a=>a.x))));let i=0;for(let a=0;a<r.length;a++){const o=this.intersectSegmentSegment(r[a],r[(a+1)%r.length],e,n);if(o.includes(e))return!0;i+=+(o.status==="Intersection")}return i%2==1}static intersectLineLine(e,r,n,i){let a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const l=r.x-e.x,c=r.y-e.y,d=i.x-n.x,f=i.y-n.y,h=e.x-n.x,m=e.y-n.y,g=d*m-f*h,j=l*m-c*h,b=f*l-d*c;if(b!==0){const y=g/b,x=j/b;return(a||0<=y&&y<=1)&&(o||0<=x&&x<=1)?new lr("Intersection").append(new he(e.x+y*l,e.y+y*c)):new lr}if(g===0||j===0){const y=a||o||lr.isPointContained(e,n,i)||lr.isPointContained(r,n,i)||lr.isPointContained(n,e,r)||lr.isPointContained(i,e,r);return new lr(y?"Coincident":void 0)}return new lr("Parallel")}static intersectSegmentLine(e,r,n,i){return lr.intersectLineLine(e,r,n,i,!1,!0)}static intersectSegmentSegment(e,r,n,i){return lr.intersectLineLine(e,r,n,i,!1,!1)}static intersectLinePolygon(e,r,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const a=new lr,o=n.length;for(let l,c,d,f=0;f<o;f++){if(l=n[f],c=n[(f+1)%o],d=lr.intersectLineLine(e,r,l,c,i,!1),d.status==="Coincident")return d;a.append(...d.points)}return a.points.length>0&&(a.status="Intersection"),a}static intersectSegmentPolygon(e,r,n){return lr.intersectLinePolygon(e,r,n,!1)}static intersectPolygonPolygon(e,r){const n=new lr,i=e.length,a=[];for(let o=0;o<i;o++){const l=e[o],c=e[(o+1)%i],d=lr.intersectSegmentPolygon(l,c,r);d.status==="Coincident"?(a.push(d),n.append(l,c)):n.append(...d.points)}return a.length>0&&a.length===e.length?new lr("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,r,n){const i=r.min(n),a=r.max(n),o=new he(a.x,i.y),l=new he(i.x,a.y);return lr.intersectPolygonPolygon(e,[i,o,a,l])}}class uie extends i6{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?An(e,this.group.calcTransformMatrix()):e}setXY(e,r,n){this.group&&(e=An(e,li(this.group.calcTransformMatrix()))),this.setRelativeXY(e,r,n)}getRelativeXY(){return new he(this.left,this.top)}setRelativeXY(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,r,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:r,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),a=[e,r,n,i];if(this.group){const o=this.group.calcTransformMatrix();return a.map((l=>An(l,o)))}return a}intersectsWithRect(e,r){return lr.intersectPolygonRectangle(this.getCoords(),e,r).status==="Intersection"}intersectsWithObject(e){const r=lr.intersectPolygonPolygon(this.getCoords(),e.getCoords());return r.status==="Intersection"||r.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every((r=>e.containsPoint(r)))}isContainedWithinRect(e,r){const{left:n,top:i,width:a,height:o}=this.getBoundingRect();return n>=e.x&&n+a<=r.x&&i>=e.y&&i+o<=r.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return lr.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return!!this.getCoords().some((n=>n.x<=r.x&&n.x>=e.x&&n.y<=r.y&&n.y>=e.y))||!!this.intersectsWithRect(e,r)||this.containsPoint(e.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(e,r)?!0:this.getCoords().every((n=>(n.x>=r.x||n.x<=e.x)&&(n.y>=r.y||n.y<=e.y)))&&this.containsPoint(e.midPointFrom(r))}getBoundingRect(){return ps(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Yn,e),this._set(Ri,e),this.setCoords()}scaleToWidth(e){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/r)}scaleToHeight(e){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/r)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?xs(l6(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||Dn.concat()}calcACoords(){const e=Rc({angle:this.angle}),{x:r,y:n}=this.getRelativeCenterPoint(),i=ef(r,n),a=yr(i,e),o=this._getTransformedDimensions(),l=o.x/2,c=o.y/2;return{tl:An({x:-l,y:-c},a),tr:An({x:l,y:-c},a),bl:An({x:-l,y:c},a),br:An({x:l,y:c},a)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!e&&this.group&&(r=this.group.transformMatrixKey(e)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Er(this.originX),Er(this.originY)),r}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(e||!this.group)return r;const n=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every(((a,o)=>a===n[o]))?i.value:(this.group&&(r=yr(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:n,value:r},r)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===e)return r.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},a=u6(i);return this.ownMatrixCache={key:e,value:a},a}_getNonTransformedDimensions(){return new he(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=re({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=r.strokeWidth;let i=n,a=0;this.strokeUniform&&(i=0,a=n);const o=r.width+i,l=r.height+i;let c;return c=r.skewX===0&&r.skewY===0?new he(o*r.scaleX,l*r.scaleY):m0(o,l,jm(r)),c.scalarAdd(a)}translateToGivenOrigin(e,r,n,i,a){let o=e.x,l=e.y;const c=Er(i)-Er(r),d=Er(a)-Er(n);if(c||d){const f=this._getTransformedDimensions();o+=c*f.x,l+=d*f.y}return new he(o,l)}translateToCenterPoint(e,r,n){if(r===ot&&n===ot)return e;const i=this.translateToGivenOrigin(e,r,n,ot,ot);return this.angle?i.rotate(Nr(this.angle),e):i}translateToOriginPoint(e,r,n){const i=this.translateToGivenOrigin(e,ot,ot,r,n);return this.angle?i.rotate(Nr(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?An(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new he(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,r)}setPositionByOrigin(e,r,n){const i=this.translateToCenterPoint(e,r,n),a=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:a.x,top:a.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ht,ui)}}const die=["type"],fie=["extraParam"];let as=class Gv extends uie{static getDefaults(){return Gv.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){ao("warn","Setting type has no effect",e)}constructor(e){super(),te(this,"_cacheContext",null),Object.assign(this,Gv.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=oa(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const r=e.width,n=e.height,i=Ct.maxCacheSideLimit,a=Ct.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=Ct.perfLimitSizeTotal)return r<a&&(e.width=a),n<a&&(e.height=a),e;const o=r/n,[l,c]=Hu.limitDimsByArea(o),d=xc(a,l,i),f=xc(a,c,i);return r>d&&(e.zoomX/=r/d,e.width=d,e.capped=!0),n>f&&(e.zoomY/=n/f,e.height=f,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),n=r.x*e.x/this.scaleX,i=r.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:n,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,r=this._cacheContext,{width:n,height:i,zoomX:a,zoomY:o,x:l,y:c}=this._limitCacheSize(this._getCacheCanvasDimensions()),d=n!==e.width||i!==e.height,f=this.zoomX!==a||this.zoomY!==o;if(!e||!r)return!1;if(d||f){n!==e.width||i!==e.height?(e.width=n,e.height=i):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height));const h=l/2,m=c/2;return this.cacheTranslationX=Math.round(e.width/2-h)+h,this.cacheTranslationY=Math.round(e.height/2-m)+m,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(a,o),this.zoomX=a,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!r);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new he(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=vc(this.calcTransformMatrix());return new he(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(r*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,r){e!==Yn&&e!==Ri||(r=this._constrainScale(r)),e===Yn&&r<0?(this.flipX=!this.flipX,r*=-1):e==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):e!=="shadow"||!r||r instanceof Ai||(r=new Ai(r));const n=this[e]!==r;return this[e]=r,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:a}=this,{width:o,height:l}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:a,width:o,height:l,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Xn&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,r,n){e.save(),r.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,r,n){const i=this.fill,a=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=i,this.stroke=a}createClipPathLayer(e,r){const n=di(r),i=n.getContext("2d");if(i.translate(r.cacheTranslationX,r.cacheTranslationY),i.scale(r.zoomX,r.zoomY),e._cacheCanvas=n,r.parentClipPaths.forEach((a=>{a.transform(i)})),r.parentClipPaths.push(e),e.absolutePositioned){const a=li(this.calcTransformMatrix());i.transform(a[0],a[1],a[2],a[3],a[4],a[5])}return e.transform(i),e.drawObject(i,!0,r),n}_drawClipPath(e,r,n){if(!r)return;r._transformDone=!0;const i=this.createClipPathLayer(r,n);this.drawClipPathOnCache(e,r,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,n=this._cacheContext;return!(!r||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,r){const n=r.stroke;n&&(e.lineWidth=r.strokeWidth,e.lineCap=r.strokeLineCap,e.lineDashOffset=r.strokeDashOffset,e.lineJoin=r.strokeLineJoin,e.miterLimit=r.strokeMiterLimit,ea(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=r.stroke)}_setFillStyles(e,r){let{fill:n}=r;n&&(ea(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,r){r&&r.length!==0&&e.setLineDash(r)}_setShadow(e){if(!this.shadow)return;const r=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[a,,,o]=n?.viewportTransform||Dn,l=a*i,c=o*i,d=r.nonScaling?new he(1,1):this.getObjectScaling();e.shadowColor=r.color,e.shadowBlur=r.blur*Ct.browserShadowBlurConstant*(l+c)*(d.x+d.y)/4,e.shadowOffsetX=r.offsetX*l*d.x,e.shadowOffsetY=r.offsetY*c*d.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,r){if(!ea(r))return{offsetX:0,offsetY:0};const n=r.gradientTransform||r.patternTransform,i=-this.width/2+r.offsetX||0,a=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,a):e.transform(1,0,0,1,i,a),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:a}}_renderPaintInOrder(e){this.paintFirst===Xn?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const r=this.getObjectScaling();e.scale(1/r.x,1/r.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,r){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),a=this.getCanvasRetinaScaling(),o=i.x/this.scaleX/a,l=i.y/this.scaleY/a,c=di({width:Math.ceil(o),height:Math.ceil(l)}),d=c.getContext("2d");d&&(d.beginPath(),d.moveTo(0,0),d.lineTo(o,0),d.lineTo(o,l),d.lineTo(0,l),d.closePath(),d.translate(o/2,l/2),d.scale(i.zoomX/this.scaleX/a,i.zoomY/this.scaleY/a),this._applyPatternGradientTransform(d,r),d.fillStyle=r.toLive(e),d.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/i.zoomX,a*this.scaleY/i.zoomY),e.strokeStyle=(n=d.createPattern(c,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new he(this.left+this.width/2,this.top+this.height/2)}clone(e){const r=this.toObject(e);return this.constructor.fromObject(r)}cloneAsImage(e){const r=this.toCanvasElement(e);return new(ze.getClass("image"))(r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=vk(this),n=this.group,i=this.shadow,a=Math.abs,o=e.enableRetinaScaling?ZB():1,l=(e.multiplier||1)*o,c=e.canvasProvider||(S=>new tf(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&g6(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&C_(this,this.getViewportTransform()),this.setCoords();const d=oa(),f=this.getBoundingRect(),h=this.shadow,m=new he;if(h){const S=h.blur,_=h.nonScaling?new he(1,1):this.getObjectScaling();m.x=2*Math.round(a(h.offsetX)+S)*a(_.x),m.y=2*Math.round(a(h.offsetY)+S)*a(_.y)}const g=f.width+m.x,j=f.height+m.y;d.width=Math.ceil(g),d.height=Math.ceil(j);const b=c(d);e.format==="jpeg"&&(b.backgroundColor="#fff"),this.setPositionByOrigin(new he(b.width/2,b.height/2),ot,ot);const y=this.canvas;b._objects=[this],this.set("canvas",b),this.setCoords();const x=b.toCanvasElement(l||1,e);return this.set("canvas",y),this.shadow=i,n&&(this.group=n),this.set(r),this.setCoords(),b._objects=[],b.destroy(),x}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return dk(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fk(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:r,originX:n,originY:i}=this;if(r){const{x:a,y:o}=this.getRelativeCenterPoint();this.originX=ot,this.originY=ot,this.left=a,this.top=o}if(this.set("angle",e),r){const{x:a,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=a,this.top=o,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){pp.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Ra().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,r){return Object.entries(e).reduce(((n,i)=>{let[a,o]=i;return n[a]=this._animate(a,o,r),n}),{})}_animate(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),a=this.constructor.colorProperties.includes(i[i.length-1]),{abort:o,startValue:l,onChange:c,onComplete:d}=n,f=re(re({},n),{},{target:this,startValue:l??i.reduce(((h,m)=>h[m]),this),endValue:r,abort:o?.bind(this),onChange:(h,m,g)=>{i.reduce(((j,b,y)=>(y===i.length-1&&(j[b]=h),j[b])),this),c&&c(h,m,g)},onComplete:(h,m,g)=>{this.setCoords(),d&&d(h,m,g)}});return a?T6(f):Ck(f)}isDescendantOf(e){const{parent:r,group:n}=this;return r===e||n===e||!!r&&r.isDescendantOf(e)||!!n&&n!==r&&n.isDescendantOf(e)}getAncestors(){const e=[];let r=this;do r=r.parent,r&&e.push(r);while(r);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),n=e.getAncestors();if(r.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let i,a=0;a<r.length;a++){if(i=r[a],i===e)return{fork:[this,...r.slice(0,a)],otherFork:[],common:r.slice(a)};for(let o=0;o<n.length;o++){if(this===n[o])return{fork:[],otherFork:[e,...n.slice(0,o)],common:[this,...r]};if(i===n[o])return{fork:[this,...r.slice(0,a)],otherFork:[e,...n.slice(0,o)],common:r.slice(a)}}}return{fork:[this,...r],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const r=this.findCommonAncestors(e);return r&&!!r.common.length}isInFrontOf(e){if(this===e)return;const r=this.findCommonAncestors(e);if(r.fork.includes(e))return!0;if(r.otherFork.includes(this))return!1;const n=r.common[0]||this.canvas;if(!n)return;const i=r.fork.pop(),a=r.otherFork.pop(),o=n._objects.indexOf(i),l=n._objects.indexOf(a);return o>-1&&o>l}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Gv.customProperties,this.constructor.customProperties||[]);let r;const n=Ct.NUM_FRACTION_DIGITS,{clipPath:i,fill:a,stroke:o,shadow:l,strokeDashArray:c,left:d,top:f,originX:h,originY:m,width:g,height:j,strokeWidth:b,strokeLineCap:y,strokeDashOffset:x,strokeLineJoin:S,strokeUniform:_,strokeMiterLimit:P,scaleX:C,scaleY:O,angle:k,flipX:A,flipY:M,opacity:D,visible:L,backgroundColor:B,fillRule:$,paintFirst:q,globalCompositeOperation:F,skewX:G,skewY:E}=this;i&&!i.excludeFromExport&&(r=i.toObject(e.concat("inverted","absolutePositioned")));const U=I=>Xt(I,n),H=re(re({},Ic(this,e)),{},{type:this.constructor.type,version:fy,originX:h,originY:m,left:U(d),top:U(f),width:U(g),height:U(j),fill:LM(a)?a.toObject():a,stroke:LM(o)?o.toObject():o,strokeWidth:U(b),strokeDashArray:c&&c.concat(),strokeLineCap:y,strokeDashOffset:x,strokeLineJoin:S,strokeUniform:_,strokeMiterLimit:U(P),scaleX:U(C),scaleY:U(O),angle:U(k),flipX:A,flipY:M,opacity:U(D),shadow:l&&l.toObject(),visible:L,backgroundColor:B,fillRule:$,paintFirst:q,globalCompositeOperation:F,skewX:U(G),skewY:U(E)},r?{clipPath:r}:null);return this.includeDefaultValues?H:this._removeDefaultValues(H)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const r=this.constructor.getDefaults(),n=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return mk(e,((i,a)=>{if(a===Ht||a===ui||a==="type")return!0;const o=n[a];return i!==o&&!(Array.isArray(i)&&Array.isArray(o)&&i.length===0&&o.length===0)}))}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let r=ar(e,die),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,a=ar(n,fie);return Sm(r,a).then((o=>i?(delete o[i],new this(r[i],o)):new this(o)))}static fromObject(e,r){return this._fromObject(e,r)}};te(as,"stateProperties",Qne),te(as,"cacheProperties",po),te(as,"ownDefaults",eie),te(as,"type","FabricObject"),te(as,"colorProperties",[Dr,Xn,"backgroundColor"]),te(as,"customProperties",[]),ze.setClass(as),ze.setClass(as,"object");const pl=(t,e,r)=>(n,i,a,o)=>{const l=e(n,i,a,o);return l&&yk(t,re(re({},xk(n,i,a,o)),r)),l};function Lc(t){return(e,r,n,i)=>{const{target:a,originX:o,originY:l}=r,c=a.getRelativeCenterPoint(),d=a.translateToOriginPoint(c,o,l),f=t(e,r,n,i);return a.setPositionByOrigin(d,r.originX,r.originY),f}}const P_=pl(hp,Lc(((t,e,r,n)=>{const i=g0(e,e.originX,e.originY,r,n);if(Er(e.originX)===Er(ot)||Er(e.originX)===Er(Pr)&&i.x<0||Er(e.originX)===Er(Ht)&&i.x>0){const{target:a}=e,o=a.strokeWidth/(a.strokeUniform?a.scaleX:1),l=y6(e)?2:1,c=a.width,d=Math.abs(i.x*l/a.scaleX)-o;return a.set("width",Math.max(d,1)),c!==a.width}return!1})));function A6(t,e,r,n,i){n=n||{};const a=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,l=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,c=l?Xn:Dr,d=!l&&(n.cornerStrokeColor||i.cornerStrokeColor);let f,h=e,m=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",a>o?(f=a,t.scale(1,o/a),m=r*a/o):o>a?(f=o,t.scale(a/o,1),h=e*o/a):f=a,t.beginPath(),t.arc(h,m,f/2,0,so,!1),t[c](),d&&t.stroke(),t.restore()}function E6(t,e,r,n,i){n=n||{};const a=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,l=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,c=l?Xn:Dr,d=!l&&(n.cornerStrokeColor||i.cornerStrokeColor),f=a/2,h=o/2;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,r);const m=i.getTotalAngle();t.rotate(Nr(m)),t["".concat(c,"Rect")](-f,-h,a,o),d&&t.strokeRect(-f,-h,a,o),t.restore()}class si{constructor(e){te(this,"visible",!0),te(this,"actionName",f0),te(this,"angle",0),te(this,"x",0),te(this,"y",0),te(this,"offsetX",0),te(this,"offsetY",0),te(this,"sizeX",0),te(this,"sizeY",0),te(this,"touchSizeX",0),te(this,"touchSizeY",0),te(this,"cursorStyle","crosshair"),te(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,r,n,i){var a;let{tl:o,tr:l,br:c,bl:d}=i;return((a=r.canvas)===null||a===void 0?void 0:a.getActiveObject())===r&&r.isControlVisible(e)&&lr.isPointInPolygon(n,[o,l,c,d])}getActionHandler(e,r,n){return this.actionHandler}getMouseDownHandler(e,r,n){return this.mouseDownHandler}getMouseUpHandler(e,r,n){return this.mouseUpHandler}cursorStyleHandler(e,r,n){return r.cursorStyle}getActionName(e,r,n){return r.actionName}getVisibility(e,r){var n,i;return(n=(i=e._controlsVisibility)===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:this.visible}setVisibility(e,r,n){this.visible=e}positionHandler(e,r,n,i){return new he(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(r)}calcCornerCoords(e,r,n,i,a,o){const l=h0([ef(n,i),Rc({angle:e}),p0((a?this.touchSizeX:this.sizeX)||r,(a?this.touchSizeY:this.sizeY)||r)]);return{tl:new he(-.5,-.5).transform(l),tr:new he(.5,-.5).transform(l),br:new he(.5,.5).transform(l),bl:new he(-.5,.5).transform(l)}}render(e,r,n,i,a){((i=i||{}).cornerStyle||a.cornerStyle)==="circle"?A6.call(this,e,r,n,i,a):E6.call(this,e,r,n,i,a)}}const M6=(t,e,r)=>r.lockRotation?gy:e.cursorStyle,D6=pl(e6,Lc(((t,e,r,n)=>{let{target:i,ex:a,ey:o,theta:l,originX:c,originY:d}=e;const f=i.translateToOriginPoint(i.getRelativeCenterPoint(),c,d);if(Ta(i,"lockRotation"))return!1;const h=Math.atan2(o-f.y,a-f.x),m=Math.atan2(n-f.y,r-f.x);let g=xs(m-h+l);if(i.snapAngle&&i.snapAngle>0){const b=i.snapAngle,y=i.snapThreshold||b,x=Math.ceil(g/b)*b,S=Math.floor(g/b)*b;Math.abs(g-S)<y?g=S:Math.abs(g-x)<y&&(g=x)}g<0&&(g=360+g),g%=360;const j=i.angle!==g;return i.angle=g,j})));function R6(t,e){const r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function I6(t,e,r){const n=Ta(t,"lockScalingX"),i=Ta(t,"lockScalingY");if(n&&i||!e&&(n||i)&&r||n&&e==="x"||i&&e==="y")return!0;const{width:a,height:o,strokeWidth:l}=t;return a===0&&l===0&&e!=="y"||o===0&&l===0&&e!=="x"}const hie=["e","se","s","sw","w","nw","n","ne","e"],Au=(t,e,r)=>{const n=R6(t,r);if(I6(r,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return gy;const i=x6(r,e);return"".concat(hie[i],"-resize")};function Nk(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const a=e.target,o=i.by,l=R6(t,a);let c,d,f,h,m,g;if(I6(a,o,l))return!1;if(e.gestureScale)d=e.scaleX*e.gestureScale,f=e.scaleY*e.gestureScale;else{if(c=g0(e,e.originX,e.originY,r,n),m=o!=="y"?Math.sign(c.x||e.signX||1):1,g=o!=="x"?Math.sign(c.y||e.signY||1):1,e.signX||(e.signX=m),e.signY||(e.signY=g),Ta(a,"lockScalingFlip")&&(e.signX!==m||e.signY!==g))return!1;if(h=a._getTransformedDimensions(),l&&!o){const y=Math.abs(c.x)+Math.abs(c.y),{original:x}=e,S=y/(Math.abs(h.x*x.scaleX/a.scaleX)+Math.abs(h.y*x.scaleY/a.scaleY));d=x.scaleX*S,f=x.scaleY*S}else d=Math.abs(c.x*a.scaleX/h.x),f=Math.abs(c.y*a.scaleY/h.y);y6(e)&&(d*=2,f*=2),e.signX!==m&&o!=="y"&&(e.originX=BM(e.originX),d*=-1,e.signX=m),e.signY!==g&&o!=="x"&&(e.originY=BM(e.originY),f*=-1,e.signY=g)}const j=a.scaleX,b=a.scaleY;return o?(o==="x"&&a.set(Yn,d),o==="y"&&a.set(Ri,f)):(!Ta(a,"lockScalingX")&&a.set(Yn,d),!Ta(a,"lockScalingY")&&a.set(Ri,f)),j!==a.scaleX||b!==a.scaleY}const wh=pl(d0,Lc(((t,e,r,n)=>Nk(t,e,r,n)))),L6=pl(d0,Lc(((t,e,r,n)=>Nk(t,e,r,n,{by:"x"})))),z6=pl(d0,Lc(((t,e,r,n)=>Nk(t,e,r,n,{by:"y"})))),pie=["target","ex","ey","skewingSide"],Tj={x:{counterAxis:"y",scale:Yn,skew:Zd,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Ri,skew:Qd,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},mie=["ns","nesw","ew","nwse"],F6=(t,e,r)=>{if(e.x!==0&&Ta(r,"lockSkewingY")||e.y!==0&&Ta(r,"lockSkewingX"))return gy;const n=x6(r,e)%4;return"".concat(mie[n],"-resize")};function $6(t,e,r,n,i){const{target:a}=r,{counterAxis:o,origin:l,lockSkewing:c,skew:d,flip:f}=Tj[t];if(Ta(a,c))return!1;const{origin:h,flip:m}=Tj[o],g=Er(r[h])*(a[m]?-1:1),j=-Math.sign(g)*(a[f]?-1:1),b=.5*-((a[d]===0&&g0(r,ot,ot,n,i)[t]>0||a[d]>0?1:-1)*j)+.5;return pl(t6,Lc(((x,S,_,P)=>(function(C,O,k){let{target:A,ex:M,ey:D,skewingSide:L}=O,B=ar(O,pie);const{skew:$}=Tj[C],q=k.subtract(new he(M,D)).divide(new he(A.scaleX,A.scaleY))[C],F=A[$],G=B[$],E=Math.tan(Nr(G)),U=C==="y"?A._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:A._getTransformedDimensions({scaleX:1,scaleY:1}).y,H=2*q*L/Math.max(U,1)+E,I=xs(Math.atan(H));A.set($,I);const z=F!==A[$];if(z&&C==="y"){const{skewX:V,scaleX:J}=A,Q=A._getTransformedDimensions({skewY:F}),se=A._getTransformedDimensions(),oe=V!==0?Q.x/se.x:1;oe!==1&&A.set(Yn,oe*J)}return z})(t,S,new he(_,P)))))(e,re(re({},r),{},{[l]:b,skewingSide:j}),n,i)}const B6=(t,e,r,n)=>$6("x",t,e,r,n),H6=(t,e,r,n)=>$6("y",t,e,r,n);function x0(t,e){return t[e.canvas.altActionKey]}const jh=(t,e,r)=>{const n=x0(t,r);return e.x===0?n?Zd:Ri:e.y===0?n?Qd:Yn:""},rc=(t,e,r)=>x0(t,r)?F6(0,e,r):Au(t,e,r),k_=(t,e,r,n)=>x0(t,e.target)?H6(t,e,r,n):L6(t,e,r,n),T_=(t,e,r,n)=>x0(t,e.target)?B6(t,e,r,n):z6(t,e,r,n),_k=()=>({ml:new si({x:-.5,y:0,cursorStyleHandler:rc,actionHandler:k_,getActionName:jh}),mr:new si({x:.5,y:0,cursorStyleHandler:rc,actionHandler:k_,getActionName:jh}),mb:new si({x:0,y:.5,cursorStyleHandler:rc,actionHandler:T_,getActionName:jh}),mt:new si({x:0,y:-.5,cursorStyleHandler:rc,actionHandler:T_,getActionName:jh}),tl:new si({x:-.5,y:-.5,cursorStyleHandler:Au,actionHandler:wh}),tr:new si({x:.5,y:-.5,cursorStyleHandler:Au,actionHandler:wh}),bl:new si({x:-.5,y:.5,cursorStyleHandler:Au,actionHandler:wh}),br:new si({x:.5,y:.5,cursorStyleHandler:Au,actionHandler:wh}),mtr:new si({x:0,y:-.5,actionHandler:D6,cursorStyleHandler:M6,offsetY:-40,withConnection:!0,actionName:lk})}),W6=()=>({mr:new si({x:.5,y:0,actionHandler:P_,cursorStyleHandler:rc,actionName:hp}),ml:new si({x:-.5,y:0,actionHandler:P_,cursorStyleHandler:rc,actionName:hp})}),U6=()=>re(re({},_k()),W6());class ad extends as{static getDefaults(){return re(re({},super.getDefaults()),ad.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),ad.ownDefaults),this.setOptions(e)}static createControls(){return{controls:_k()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const r=e._currentTransform,n=r.target,i=r.action;if(this===n&&i&&i.startsWith(f0))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[a,o]=n[i],l=this.controls[a];if(l.shouldActivate(a,this,e,r?o.touchCorner:o.corner))return this.__corner=a,{key:a,control:l,coord:this.oCoords[a]}}}calcOCoords(){const e=this.getViewportTransform(),r=this.getCenterPoint(),n=ef(r.x,r.y),i=Rc({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),a=yr(n,i),o=yr(e,a),l=yr(o,[1/e[0],0,0,1/e[3],0,0]),c=this.group?vc(this.calcTransformMatrix()):void 0;c&&(c.scaleX=Math.abs(c.scaleX),c.scaleY=Math.abs(c.scaleY));const d=this._calculateCurrentDimensions(c),f={};return this.forEachControl(((h,m)=>{const g=h.positionHandler(d,l,this,h);f[m]=Object.assign(g,this._calcCornerCoords(h,g))})),f}_calcCornerCoords(e,r){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,r.x,r.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const r in this.controls)e(this.controls[r],r,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const r=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate(Nr(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,r){e.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=re({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,r),i.hasControls&&this.drawControlsConnectingLines(e,r),e.restore()}_renderControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,a=re({hasBorders:n,hasControls:i},r),o=this.getViewportTransform(),l=a.hasBorders,c=a.hasControls,d=yr(o,this.calcTransformMatrix()),f=vc(d);e.save(),e.translate(f.translateX,f.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(f.angle-=180),e.rotate(Nr(this.group?f.angle:this.angle)),l&&this.drawBorders(e,f,r),c&&this.drawControls(e,r),e.restore()}drawBorders(e,r,n){let i;if(n&&n.forActiveSelection||this.group){const a=m0(this.width,this.height,jm(r)),o=this.isStrokeAccountedForInDimensions()?ck:(this.strokeUniform?new he().scalarAdd(this.canvas?this.canvas.getZoom():1):new he(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);i=a.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,n)}drawControlsConnectingLines(e,r){let n=!1;e.beginPath(),this.forEachControl(((i,a)=>{i.withConnection&&i.getVisibility(this,a)&&(n=!0,e.moveTo(i.x*r.x,i.y*r.y),e.lineTo(i.x*r.x+i.offsetX,i.y*r.y+i.offsetY))})),n&&e.stroke()}drawControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:a,cornerColor:o}=this,l=re({cornerStrokeColor:i,cornerDashArray:a,cornerColor:o},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=l.cornerColor,this.transparentCorners||(e.strokeStyle=l.cornerStrokeColor),this._setLineDash(e,l.cornerDashArray),this.forEachControl(((c,d)=>{if(c.getVisibility(this,d)){const f=this.oCoords[d];c.render(e,f.x,f.y,l,this)}})),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=r}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach((r=>{let[n,i]=r;return this.setControlVisible(n,i)}))}clearContextTop(e){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const n=this.canvas.viewportTransform;r.save(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(r);const i=this.width+4,a=this.height+4;return r.clearRect(-i/2,-a/2,i,a),e||r.restore(),r}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function q6(t,e){return e.forEach((r=>{Object.getOwnPropertyNames(r.prototype).forEach((n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}))})),t}te(ad,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class hn extends ad{}q6(hn,[w6]),ze.setClass(hn),ze.setClass(hn,"object");const V6=(t,e,r,n)=>{const i=2*(n=Math.round(n))+1,{data:a}=t.getImageData(e-n,r-n,i,i);for(let o=3;o<a.length;o+=4)if(a[o]>0)return!1;return!0};class G6{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new he(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new he(1/this.options.scaleX,1/this.options.scaleY):new he(1,1)}createSideVector(e,r){const n=xy(e,r);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,r,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,r,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const r=new he(e);return r.y+=r.x*Math.tan(Nr(this.options.skewY)),r.x+=r.y*Math.tan(Nr(this.options.skewX)),r}scaleUnitVector(e,r){return e.multiply(this.strokeUniformScalar).scalarMultiply(r)}}const gie=new he;class Uu extends G6{static getOrthogonalRotationFactor(e,r){const n=r?wy(e,r):O6(e);return Math.abs(n)<ol?-1:1}constructor(e,r,n,i){super(i),te(this,"AB",void 0),te(this,"AC",void 0),te(this,"alpha",void 0),te(this,"bisector",void 0),this.A=new he(e),this.B=new he(r),this.C=new he(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=wy(this.AB,this.AC),this.bisector=y0(wk(this.AB.eq(gie)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r),a=jk(i),o=Uu.getOrthogonalRotationFactor(a,this.bisector);return this.scaleUnitVector(a,n*o)}projectBevel(){const e=[];return(this.alpha%so==0?[this.B]:[this.B,this.C]).forEach((r=>{e.push(this.projectOrthogonally(this.A,r)),e.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))})),e}projectMiter(){const e=[],r=Math.abs(this.alpha),n=1/Math.sin(r/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),a=this.options.strokeUniform?by(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return by(i)/this.strokeProjectionMagnitude<=a&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,r){const n=[],i=new he(Uu.getOrthogonalRotationFactor(this.bisector),Uu.getOrthogonalRotationFactor(new he(this.bisector.y,this.bisector.x)));return[new he(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new he(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach((a=>{__(a,e,r)&&n.push(this.A.add(a))})),n}projectRoundWithSkew(e,r){const n=[],{skewX:i,skewY:a,scaleX:o,scaleY:l,strokeUniform:c}=this.options,d=new he(Math.tan(Nr(i)),Math.tan(Nr(a))),f=this.strokeProjectionMagnitude,h=c?f/l/Math.sqrt(1/l**2+1/o**2*d.y**2):f/Math.sqrt(1+d.y**2),m=new he(Math.sqrt(Math.max(f**2-h**2,0)),h),g=c?f/Math.sqrt(1+d.x**2*(1/l)**2/(1/o+1/o*d.x*d.y)**2):f/Math.sqrt(1+d.x**2/(1+d.x*d.y)**2),j=new he(g,Math.sqrt(Math.max(f**2-g**2,0)));return[j,j.scalarMultiply(-1),m,m.scalarMultiply(-1)].map((b=>this.applySkew(c?b.multiply(this.strokeUniformScalar):b))).forEach((b=>{__(b,e,r)&&n.push(this.applySkew(this.A).add(b))})),n}projectRound(){const e=[];e.push(...this.projectBevel());const r=this.alpha%so==0,n=this.applySkew(this.A),i=e[r?0:2].subtract(n),a=e[r?1:0].subtract(n),o=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),l=Wu(i,o)>0,c=l?i:a,d=l?a:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(c,d)):e.push(...this.projectRoundNoSkew(c,d)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector})))}}class tD extends G6{constructor(e,r,n){super(n),this.A=new he(e),this.T=new he(r)}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r);return this.scaleUnitVector(jk(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new he(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else e.push(...new Uu(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const r=new he(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(y0(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);e.push(i.add(r),i.subtract(r))}return e.map((r=>this.applySkew(r)))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((e=>({originPoint:this.A,projectedPoint:e})))}}const X6=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(t.length===0)return n;const i=t.reduce(((a,o)=>(a[a.length-1].eq(o)||a.push(new he(o)),a)),[new he(t[0])]);if(i.length===1)r=!0;else if(!r){const a=i[0],o=((l,c)=>{for(let d=l.length-1;d>=0;d--)if(c(l[d],d,l))return d;return-1})(i,(l=>!l.eq(a)));i.splice(o+1)}return i.forEach(((a,o,l)=>{let c,d;o===0?(d=l[1],c=r?a:l[l.length-1]):o===l.length-1?(c=l[o-1],d=r?a:l[0]):(c=l[o-1],d=l[o+1]),r&&l.length===1?n.push(...new tD(a,a,e).project()):!r||o!==0&&o!==l.length-1?n.push(...new Uu(a,c,d,e).project()):n.push(...new tD(a,o===0?d:c,e).project())})),n},Ok=t=>{const e={};return Object.keys(t).forEach((r=>{e[r]={},Object.keys(t[r]).forEach((n=>{e[r][n]=re({},t[r][n])}))})),e},Y6=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let sh;const b0=t=>{if(sh||sh||(sh="Intl"in Oa()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),sh){const e=sh.segment(t);return Array.from(e).map((r=>{let{segment:n}=r;return n}))}return vie(t)},vie=t=>{const e=[];for(let r,n=0;n<t.length;n++)(r=yie(t,n))!==!1&&e.push(r);return e},yie=(t,e)=>{const r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1};var xie=Object.freeze({__proto__:null,capitalize:function(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(t.charAt(0).toUpperCase()).concat(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:Y6,graphemeSplit:b0});const w0=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||r&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},K6=(t,e)=>{const r=e.split(`
`),n=[];let i=-1,a={};t=Ok(t);for(let o=0;o<r.length;o++){const l=b0(r[o]);if(t[o])for(let c=0;c<l.length;c++){i++;const d=t[o][c];d&&Object.keys(d).length>0&&(w0(a,d,!0)?n.push({start:i,end:i+1,style:d}):n[n.length-1].end++),a=d||{}}else i+=l.length,a={}}return n},J6=(t,e)=>{if(!Array.isArray(t))return Ok(t);const r=e.split(ok),n={};let i=-1,a=0;for(let o=0;o<r.length;o++){const l=b0(r[o]);for(let c=0;c<l.length;c++)i++,t[a]&&t[a].start<=i&&i<t[a].end&&(n[o]=n[o]||{},n[o][c]=re({},t[a].style),i===t[a].end-1&&a++)}return n},ml=["display","transform",Dr,"fill-opacity","fill-rule","opacity",Xn,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function rD(t,e){const r=t.nodeName,n=t.getAttribute("class"),i=t.getAttribute("id"),a="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+r,"i"),e=e.replace(o,""),i&&e.length&&(o=new RegExp("#"+i+a,"i"),e=e.replace(o,"")),n&&e.length){const l=n.split(" ");for(let c=l.length;c--;)o=new RegExp("\\."+l[c]+a,"i"),e=e.replace(o,"")}return e.length===0}function bie(t,e){let r=!0;const n=rD(t,e.pop());return n&&e.length&&(r=(function(i,a){let o,l=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&a.length;)l&&(o=a.pop()),l=rD(i=i.parentElement,o);return a.length===0})(t,e)),n&&r&&e.length===0}const wie=t=>{var e;return(e=Yne[t])!==null&&e!==void 0?e:t},jie=new RegExp("(".concat(Pa,")"),"gi"),Sie=t=>vy(t.replace(jie," $1 ").replace(/,/gi," "));var nD,iD,aD,sD,oD,lD,cD;const Hn="(".concat(Pa,")"),Cie=String.raw(nD||(nD=Cs(["(skewX)(",")"],["(skewX)\\(","\\)"])),Hn),Nie=String.raw(iD||(iD=Cs(["(skewY)(",")"],["(skewY)\\(","\\)"])),Hn),_ie=String.raw(aD||(aD=Cs(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Hn,Hn,Hn),Oie=String.raw(sD||(sD=Cs(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Hn,Hn),Pie=String.raw(oD||(oD=Cs(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Hn,Hn),kie=String.raw(lD||(lD=Cs(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Hn,Hn,Hn,Hn,Hn,Hn),Pk="(?:".concat(kie,"|").concat(Pie,"|").concat(_ie,"|").concat(Oie,"|").concat(Cie,"|").concat(Nie,")"),Tie="(?:".concat(Pk,"*)"),Aie=String.raw(cD||(cD=Cs(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Tie),Eie=new RegExp(Aie),Mie=new RegExp(Pk),Die=new RegExp(Pk,"g");function gp(t){const e=[];if(!(t=Sie(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!Eie.test(t))return[...Dn];for(const r of t.matchAll(Die)){const n=Mie.exec(r[0]);if(!n)continue;let i=Dn;const a=n.filter((j=>!!j)),[,o,...l]=a,[c,d,f,h,m,g]=l.map((j=>parseFloat(j)));switch(o){case"translate":i=ef(c,d);break;case lk:i=Rc({angle:c},{x:d,y:f});break;case f0:i=p0(c,d);break;case Zd:i=hk(c);break;case Qd:i=pk(c);break;case"matrix":i=[c,d,f,h,m,g]}e.push(i)}return h0(e)}function Rie(t,e,r,n){const i=Array.isArray(e);let a,o=e;if(t!==Dr&&t!==Xn||e!==Gn){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")o=e===Gn?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")o=r&&r.transformMatrix?yr(r.transformMatrix,gp(e)):gp(e);else if(t==="visible")o=e!==Gn&&e!=="hidden",r&&r.visible===!1&&(o=!1);else if(t==="opacity")o=parseFloat(e),r&&r.opacity!==void 0&&(o*=r.opacity);else if(t==="textAnchor")o=e==="start"?Ht:e==="end"?Pr:ot;else if(t==="charSpacing"||t===yc)a=Bn(e,n)/n*1e3;else if(t==="paintFirst"){const l=e.indexOf(Dr),c=e.indexOf(Xn);o=Dr,(l>-1&&c>-1&&c<l||l===-1&&c>-1)&&(o=Xn)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";a=i?e.map(Bn):Bn(e,n)}}else o="";return!i&&isNaN(a)?o:a}function Z6(t,e){const r=t.match(Xne);if(!r)return;const n=r[1],i=r[3],a=r[4],o=r[5],l=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(e.fontSize=Bn(a)),l&&(e.fontFamily=l),o&&(e.lineHeight=o==="normal"?1:o)}function A_(t,e){t.replace(/;\s*$/,"").split(";").forEach((r=>{if(!r)return;const[n,i]=r.split(":");e[n.trim().toLowerCase()]=i.trim()}))}function Q6(t){const e={},r=t.getAttribute("style");return r&&(typeof r=="string"?A_(r,e):(function(n,i){Object.entries(n).forEach((a=>{let[o,l]=a;l!==void 0&&(i[o.toLowerCase()]=l)}))})(r,e)),e}const Iie={stroke:"strokeOpacity",fill:"fillOpacity"};function Ns(t,e,r){if(!t)return{};let n,i={},a=sk;t.parentNode&&YM.test(t.parentNode.nodeName)&&(i=Ns(t.parentElement,e,r),i.fontSize&&(n=a=Bn(i.fontSize)));const o=re(re(re({},e.reduce(((d,f)=>{const h=t.getAttribute(f);return h&&(d[f]=h),d}),{})),(function(d){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={};for(const m in f)bie(d,m.split(" "))&&(h=re(re({},h),f[m]));return h})(t,r)),Q6(t));o[Oj]&&t.setAttribute(Oj,o[Oj]),o[_j]&&(n=Bn(o[_j],a),o[_j]="".concat(n));const l={};for(const d in o){const f=wie(d),h=Rie(f,o[d],i,n);l[f]=h}l&&l.font&&Z6(l.font,l);const c=re(re({},i),l);return YM.test(t.nodeName)?c:(function(d){const f=hn.getDefaults();return Object.entries(Iie).forEach((h=>{let[m,g]=h;if(d[g]===void 0||d[m]==="")return;if(d[m]===void 0){if(!f[m])return;d[m]=f[m]}if(d[m].indexOf("url(")===0)return;const j=new kt(d[m]);d[m]=j.setAlpha(Xt(j.getAlpha()*d[g],2)).toRgba()})),d})(c)}const Lie=["left","top","width","height","visible"],e8=["rx","ry"];class Zi extends hn{static getDefaults(){return re(re({},super.getDefaults()),Zi.ownDefaults)}constructor(e){super(),Object.assign(this,Zi.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:r}=this;e&&!r?this.ry=e:r&&!e&&(this.rx=r)}_render(e){const{width:r,height:n}=this,i=-r/2,a=-n/2,o=this.rx?Math.min(this.rx,r/2):0,l=this.ry?Math.min(this.ry,n/2):0,c=o!==0||l!==0;e.beginPath(),e.moveTo(i+o,a),e.lineTo(i+r-o,a),c&&e.bezierCurveTo(i+r-Fo*o,a,i+r,a+Fo*l,i+r,a+l),e.lineTo(i+r,a+n-l),c&&e.bezierCurveTo(i+r,a+n-Fo*l,i+r-Fo*o,a+n,i+r-o,a+n),e.lineTo(i+o,a+n),c&&e.bezierCurveTo(i+Fo*o,a+n,i,a+n-Fo*l,i,a+n-l),e.lineTo(i,a+l),c&&e.bezierCurveTo(i,a+Fo*l,i+Fo*o,a,i+o,a),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...e8,...e])}_toSVG(){const{width:e,height:r,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-r/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(r,`" />
`)]}static async fromElement(e,r,n){const i=Ns(e,this.ATTRIBUTE_NAMES,n),{left:a=0,top:o=0,width:l=0,height:c=0,visible:d=!0}=i,f=ar(i,Lie);return new this(re(re(re({},r),f),{},{left:a,top:o,width:l,height:c,visible:!!(d&&l&&c)}))}}te(Zi,"type","Rect"),te(Zi,"cacheProperties",[...po,...e8]),te(Zi,"ownDefaults",{rx:0,ry:0}),te(Zi,"ATTRIBUTE_NAMES",[...ml,"x","y","rx","ry","width","height"]),ze.setClass(Zi),ze.setSVGClass(Zi);const Us="initialization",jy="added",kk="removed",Sy="imperative",t8=(t,e)=>{const{strokeUniform:r,strokeWidth:n,width:i,height:a,group:o}=e,l=o&&o!==t?Cm(o.calcTransformMatrix(),t.calcTransformMatrix()):null,c=l?e.getRelativeCenterPoint().transform(l):e.getRelativeCenterPoint(),d=!e.isStrokeAccountedForInDimensions(),f=r&&d?v6(new he(n,n),void 0,t.calcTransformMatrix()):ck,h=!r&&d?n:0,m=m0(i+h,a+h,h0([l,e.calcOwnMatrix()],!0)).add(f).scalarDivide(2);return[c.subtract(m),c.add(m)]};class Nm{calcLayoutResult(e,r){if(this.shouldPerformLayout(e))return this.calcBoundingBox(r,e)}shouldPerformLayout(e){let{type:r,prevStrategy:n,strategy:i}=e;return r===Us||r===Sy||!!n&&i!==n}shouldLayoutClipPath(e){let{type:r,target:{clipPath:n}}=e;return r!==Us&&n&&!n.absolutePositioned}getInitialSize(e,r){return r.size}calcBoundingBox(e,r){const{type:n,target:i}=r;if(n===Sy&&r.overrides)return r.overrides;if(e.length===0)return;const{left:a,top:o,width:l,height:c}=ps(e.map((h=>t8(i,h))).reduce(((h,m)=>h.concat(m)),[])),d=new he(l,c),f=new he(a,o).add(d.scalarDivide(2));if(n===Us){const h=this.getInitialSize(r,{size:d,center:f});return{center:f,relativeCorrection:new he(0,0),size:h}}return{center:f.transform(i.calcOwnMatrix()),size:d}}}te(Nm,"type","strategy");class Cy extends Nm{shouldPerformLayout(e){return!0}}te(Cy,"type","fit-content"),ze.setClass(Cy);const zie=["strategy"],Fie=["target","strategy","bubbles","prevStrategy"],r8="layoutManager";class sd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Cy;te(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const r=re(re({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const n=this.getLayoutResult(r);n&&this.commitLayout(r,n),this.onAfterLayout(r,n),this._prevLayoutStrategy=r.strategy}attachHandlers(e,r){const{target:n}=r;return[py,QB,hp,e6,d0,t6,hy,r6,Fne].map((i=>e.on(i,(a=>this.performLayout(i===py?{type:"object_modified",trigger:i,e:a,target:n}:{type:"object_modifying",trigger:i,e:a,target:n})))))}subscribe(e,r){this.unsubscribe(e,r);const n=this.attachHandlers(e,r);this._subscriptions.set(e,n)}unsubscribe(e,r){(this._subscriptions.get(e)||[]).forEach((n=>n())),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach((r=>this.unsubscribe(r,e)))}subscribeTargets(e){e.targets.forEach((r=>this.subscribe(r,e)))}onBeforeLayout(e){const{target:r,type:n}=e,{canvas:i}=r;if(n===Us||n===jy?this.subscribeTargets(e):n===kk&&this.unsubscribeTargets(e),r.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:r,context:e}),n===Sy&&e.deep){const a=ar(e,zie);r.forEachObject((o=>o.layoutManager&&o.layoutManager.performLayout(re(re({},a),{},{bubbles:!1,target:o}))))}}getLayoutResult(e){const{target:r,strategy:n,type:i}=e,a=n.calcLayoutResult(e,r.getObjects());if(!a)return;const o=i===Us?new he:r.getRelativeCenterPoint(),{center:l,correction:c=new he,relativeCorrection:d=new he}=a,f=o.subtract(l).add(c).transform(i===Us?Dn:li(r.calcOwnMatrix()),!0).add(d);return{result:a,prevCenter:o,nextCenter:l,offset:f}}commitLayout(e,r){const{target:n}=e,{result:{size:i},nextCenter:a}=r;var o,l;n.set({width:i.x,height:i.y}),this.layoutObjects(e,r),e.type===Us?n.set({left:(o=e.x)!==null&&o!==void 0?o:a.x+i.x*Er(n.originX),top:(l=e.y)!==null&&l!==void 0?l:a.y+i.y*Er(n.originY)}):(n.setPositionByOrigin(a,ot,ot),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,r){const{target:n}=e;n.forEachObject((i=>{i.group===n&&this.layoutObject(e,r,i)})),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,r,n.clipPath)}layoutObject(e,r,n){let{offset:i}=r;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(e,r){const{target:n,strategy:i,bubbles:a,prevStrategy:o}=e,l=ar(e,Fie),{canvas:c}=n;n.fire("layout:after",{context:e,result:r}),c&&c.fire("object:layout:after",{context:e,result:r,target:n});const d=n.parent;a&&d!=null&&d.layoutManager&&((l.path||(l.path=[])).push(n),d.layoutManager.performLayout(re(re({},l),{},{target:d}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach((r=>r.forEach((n=>n())))),e.clear()}toObject(){return{type:r8,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}ze.setClass(sd,r8);const $ie=["type","objects","layoutManager"];class Bie extends sd{performLayout(){}}class Ei extends uk(hn){static getDefaults(){return re(re({},super.getDefaults()),Ei.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),te(this,"_activeObjects",[]),te(this,"__objectSelectionTracker",void 0),te(this,"__objectSelectionDisposer",void 0),Object.assign(this,Ei.ownDefaults),this.setOptions(r),this.groupInit(e,r)}groupInit(e,r){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((i=>{this.enterGroup(i,!1)})),this.layoutManager=(n=r.layoutManager)!==null&&n!==void 0?n:new sd,this.layoutManager.performLayout({type:Us,target:this,targets:[...e],x:r.left,y:r.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(ao("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(ao("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter(((r,n,i)=>this.canEnterGroup(r)&&i.indexOf(r)===n))}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(r),a=super.add(...i);return this._onAfterObjectsChange(jy,i),a}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const a=this._filterObjectsBeforeEnteringGroup(n),o=super.insertAt(e,...a);return this._onAfterObjectsChange(jy,a),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(kk,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,r){this.exitGroup(e,r),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,r){this.layoutManager.performLayout({type:e,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,r){const n=this[e];return super._set(e,r),e==="canvas"&&n!==r&&(this._objects||[]).forEach((i=>{i._set(e,r)})),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,r){let{target:n}=r;const i=this._activeObjects;if(e)i.push(n),this._set("dirty",!0);else if(i.length>0){const a=i.indexOf(n);a>-1&&(i.splice(a,1),this._set("dirty",!0))}}_watchObject(e,r){e&&this._watchObject(!1,r),e?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,r){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,r)}_enterGroup(e,r){r&&id(e,yr(li(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,r){this._exitGroup(e,r),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,r){e._set("group",void 0),r||(id(e,yr(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=hn.prototype.shouldCache.call(this);if(e){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,r,n){this._renderBackground(e);for(let a=0;a<this._objects.length;a++){var i;const o=this._objects[a];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...li(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((e=>e.setCoords()))}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(re({target:this,type:Sy},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,r){const n=this.includeDefaultValues;return this._objects.filter((function(i){return!i.excludeFromExport})).map((function(i){const a=i.includeDefaultValues;i.includeDefaultValues=n;const o=i[e||"toObject"](r);return i.includeDefaultValues=a,o}))}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return re(re(re({},super.toObject(["subTargetCheck","interactive",...e])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((e=>{this._watchObject(!1,e),e.dispose()})),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const r=Zi.prototype._toSVG.call(this),n=r.indexOf("COMMON_PARTS");r[n]='for="group" ';const i=r.join("");return e?e(i):i}_toSVG(e){const r=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&r.push("		",n);for(let i=0;i<this._objects.length;i++)r.push("		",this._objects[i].toSVG(e));return r.push(`</g>
`),r}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),r].join("")}toClipPathSVG(e){const r=[],n=this._createSVGBgRect(e);n&&r.push("	",n);for(let i=0;i<this._objects.length;i++)r.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(r,{reviver:e})}static fromObject(e,r){let{type:n,objects:i=[],layoutManager:a}=e,o=ar(e,$ie);return Promise.all([rd(i,r),Sm(o,r)]).then((l=>{let[c,d]=l;const f=new this(c,re(re(re({},o),d),{},{layoutManager:new Bie}));if(a){const h=ze.getClass(a.type),m=ze.getClass(a.strategy);f.layoutManager=new h(new m)}else f.layoutManager=new sd;return f.layoutManager.subscribeTargets({type:Us,target:f,targets:f.getObjects()}),f.setCoords(),f}))}}te(Ei,"type","Group"),te(Ei,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),ze.setClass(Ei);const n8=(t,e)=>Math.min(e.width/t.width,e.height/t.height),i8=(t,e)=>Math.max(e.width/t.width,e.height/t.height),E_="\\s*,?\\s*",oh="".concat(E_,"(").concat(Pa,")"),Hie="".concat(oh).concat(oh).concat(oh).concat(E_,"([01])").concat(E_,"([01])").concat(oh).concat(oh),Wie={m:"l",M:"L"},Uie=(t,e,r,n,i,a,o,l,c,d,f)=>{const h=Ia(t),m=La(t),g=Ia(e),j=La(e),b=r*i*g-n*a*j+o,y=n*i*g+r*a*j+l;return["C",d+c*(-r*i*m-n*a*h),f+c*(-n*i*m+r*a*h),b+c*(r*i*j+n*a*g),y+c*(n*i*j-r*a*g),b,y]},uD=(t,e,r,n)=>{const i=Math.atan2(e,t),a=Math.atan2(n,r);return a>=i?a-i:2*Math.PI-(i-a)};function M_(t,e,r,n,i,a,o,l){let c;if(Ct.cachesBoundsOfCurve&&(c=[...arguments].join(),Hu.boundsOfCurveCache[c]))return Hu.boundsOfCurveCache[c];const d=Math.sqrt,f=Math.abs,h=[],m=[[0,0],[0,0]];let g=6*t-12*r+6*i,j=-3*t+9*r-9*i+3*o,b=3*r-3*t;for(let P=0;P<2;++P){if(P>0&&(g=6*e-12*n+6*a,j=-3*e+9*n-9*a+3*l,b=3*n-3*e),f(j)<1e-12){if(f(g)<1e-12)continue;const M=-b/g;0<M&&M<1&&h.push(M);continue}const C=g*g-4*b*j;if(C<0)continue;const O=d(C),k=(-g+O)/(2*j);0<k&&k<1&&h.push(k);const A=(-g-O)/(2*j);0<A&&A<1&&h.push(A)}let y=h.length;const x=y,S=s8(t,e,r,n,i,a,o,l);for(;y--;){const{x:P,y:C}=S(h[y]);m[0][y]=P,m[1][y]=C}m[0][x]=t,m[1][x]=e,m[0][x+1]=o,m[1][x+1]=l;const _=[new he(Math.min(...m[0]),Math.min(...m[1])),new he(Math.max(...m[0]),Math.max(...m[1]))];return Ct.cachesBoundsOfCurve&&(Hu.boundsOfCurveCache[c]=_),_}const qie=(t,e,r)=>{let[n,i,a,o,l,c,d,f]=r;const h=((m,g,j,b,y,x,S)=>{if(j===0||b===0)return[];let _=0,P=0,C=0;const O=Math.PI,k=S*ak,A=La(k),M=Ia(k),D=.5*(-M*m-A*g),L=.5*(-M*g+A*m),B=j**2,$=b**2,q=L**2,F=D**2,G=B*$-B*q-$*F;let E=Math.abs(j),U=Math.abs(b);if(G<0){const ce=Math.sqrt(1-G/(B*$));E*=ce,U*=ce}else C=(y===x?-1:1)*Math.sqrt(G/(B*q+$*F));const H=C*E*L/U,I=-C*U*D/E,z=M*H-A*I+.5*m,V=A*H+M*I+.5*g;let J=uD(1,0,(D-H)/E,(L-I)/U),Q=uD((D-H)/E,(L-I)/U,(-D-H)/E,(-L-I)/U);x===0&&Q>0?Q-=2*O:x===1&&Q<0&&(Q+=2*O);const se=Math.ceil(Math.abs(Q/O*2)),oe=[],K=Q/se,de=8/3*Math.sin(K/4)*Math.sin(K/4)/Math.sin(K/2);let ae=J+K;for(let ce=0;ce<se;ce++)oe[ce]=Uie(J,ae,M,A,E,U,z,V,de,_,P),_=oe[ce][5],P=oe[ce][6],J=ae,ae+=K;return oe})(d-t,f-e,i,a,l,c,o);for(let m=0,g=h.length;m<g;m++)h[m][1]+=t,h[m][2]+=e,h[m][3]+=t,h[m][4]+=e,h[m][5]+=t,h[m][6]+=e;return h},a8=t=>{let e=0,r=0,n=0,i=0;const a=[];let o,l=0,c=0;for(const d of t){const f=[...d];let h;switch(f[0]){case"l":f[1]+=e,f[2]+=r;case"L":e=f[1],r=f[2],h=["L",e,r];break;case"h":f[1]+=e;case"H":e=f[1],h=["L",e,r];break;case"v":f[1]+=r;case"V":r=f[1],h=["L",e,r];break;case"m":f[1]+=e,f[2]+=r;case"M":e=f[1],r=f[2],n=f[1],i=f[2],h=["M",e,r];break;case"c":f[1]+=e,f[2]+=r,f[3]+=e,f[4]+=r,f[5]+=e,f[6]+=r;case"C":l=f[3],c=f[4],e=f[5],r=f[6],h=["C",f[1],f[2],l,c,e,r];break;case"s":f[1]+=e,f[2]+=r,f[3]+=e,f[4]+=r;case"S":o==="C"?(l=2*e-l,c=2*r-c):(l=e,c=r),e=f[3],r=f[4],h=["C",l,c,f[1],f[2],e,r],l=h[3],c=h[4];break;case"q":f[1]+=e,f[2]+=r,f[3]+=e,f[4]+=r;case"Q":l=f[1],c=f[2],e=f[3],r=f[4],h=["Q",l,c,e,r];break;case"t":f[1]+=e,f[2]+=r;case"T":o==="Q"?(l=2*e-l,c=2*r-c):(l=e,c=r),e=f[1],r=f[2],h=["Q",l,c,e,r];break;case"a":f[6]+=e,f[7]+=r;case"A":qie(e,r,f).forEach((m=>a.push(m))),e=f[6],r=f[7];break;case"z":case"Z":e=n,r=i,h=["Z"]}h?(a.push(h),o=h[0]):o=""}return a},Ny=(t,e,r,n)=>Math.sqrt((r-t)**2+(n-e)**2),s8=(t,e,r,n,i,a,o,l)=>c=>{const d=c**3,f=(g=>3*g**2*(1-g))(c),h=(g=>3*g*(1-g)**2)(c),m=(g=>(1-g)**3)(c);return new he(o*d+i*f+r*h+t*m,l*d+a*f+n*h+e*m)},o8=t=>t**2,l8=t=>2*t*(1-t),c8=t=>(1-t)**2,Vie=(t,e,r,n,i,a,o,l)=>c=>{const d=o8(c),f=l8(c),h=c8(c),m=3*(h*(r-t)+f*(i-r)+d*(o-i)),g=3*(h*(n-e)+f*(a-n)+d*(l-a));return Math.atan2(g,m)},Gie=(t,e,r,n,i,a)=>o=>{const l=o8(o),c=l8(o),d=c8(o);return new he(i*l+r*c+t*d,a*l+n*c+e*d)},Xie=(t,e,r,n,i,a)=>o=>{const l=1-o,c=2*(l*(r-t)+o*(i-r)),d=2*(l*(n-e)+o*(a-n));return Math.atan2(d,c)},dD=(t,e,r)=>{let n=new he(e,r),i=0;for(let a=1;a<=100;a+=1){const o=t(a/100);i+=Ny(n.x,n.y,o.x,o.y),n=o}return i},Yie=(t,e)=>{let r,n=0,i=0,a={x:t.x,y:t.y},o=re({},a),l=.01,c=0;const d=t.iterator,f=t.angleFinder;for(;i<e&&l>1e-4;)o=d(n),c=n,r=Ny(a.x,a.y,o.x,o.y),r+i>e?(n-=l,l/=2):(a=o,n+=l,i+=r);return re(re({},o),{},{angle:f(c)})},Tk=t=>{let e,r,n=0,i=0,a=0,o=0,l=0;const c=[];for(const d of t){const f={x:i,y:a,command:d[0],length:0};switch(d[0]){case"M":r=f,r.x=o=i=d[1],r.y=l=a=d[2];break;case"L":r=f,r.length=Ny(i,a,d[1],d[2]),i=d[1],a=d[2];break;case"C":e=s8(i,a,d[1],d[2],d[3],d[4],d[5],d[6]),r=f,r.iterator=e,r.angleFinder=Vie(i,a,d[1],d[2],d[3],d[4],d[5],d[6]),r.length=dD(e,i,a),i=d[5],a=d[6];break;case"Q":e=Gie(i,a,d[1],d[2],d[3],d[4]),r=f,r.iterator=e,r.angleFinder=Xie(i,a,d[1],d[2],d[3],d[4]),r.length=dD(e,i,a),i=d[3],a=d[4];break;case"Z":r=f,r.destX=o,r.destY=l,r.length=Ny(i,a,o,l),i=o,a=l}n+=r.length,c.push(r)}return c.push({length:n,x:i,y:a}),c},u8=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tk(t),n=0;for(;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;const i=r[n],a=e/i.length,o=t[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return re(re({},new he(i.x,i.y).lerp(new he(i.destX,i.destY),a)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return re(re({},new he(i.x,i.y).lerp(new he(o[1],o[2]),a)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return Yie(i,e)}},Kie=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),fD=new RegExp(Hie,"g"),Jie=new RegExp(Pa,"gi"),Zie={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},d8=t=>{var e;const r=[],n=(e=t.match(Kie))!==null&&e!==void 0?e:[];for(const i of n){const a=i[0];if(a==="z"||a==="Z"){r.push([a]);continue}const o=Zie[a.toLowerCase()];let l=[];if(a==="a"||a==="A"){fD.lastIndex=0;for(let c=null;c=fD.exec(i);)l.push(...c.slice(1))}else l=i.match(Jie)||[];for(let c=0;c<l.length;c+=o){const d=new Array(o),f=Wie[a];d[0]=c>0&&f?f:a;for(let h=0;h<o;h++)d[h+1]=parseFloat(l[c+h]);r.push(d)}}return r},f8=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=new he(t[0]),n=new he(t[1]),i=1,a=0;const o=[],l=t.length,c=l>2;let d;for(c&&(i=t[2].x<n.x?-1:t[2].x===n.x?0:1,a=t[2].y<n.y?-1:t[2].y===n.y?0:1),o.push(["M",r.x-i*e,r.y-a*e]),d=1;d<l;d++){if(!r.eq(n)){const f=r.midPointFrom(n);o.push(["Q",r.x,r.y,f.x,f.y])}r=t[d],d+1<t.length&&(n=t[d+1])}return c&&(i=r.x>t[d-2].x?1:r.x===t[d-2].x?0:-1,a=r.y>t[d-2].y?1:r.y===t[d-2].y?0:-1),o.push(["L",r.x+i*e,r.y+a*e]),o},Ak=(t,e)=>t.map((r=>r.map(((n,i)=>i===0||e===void 0?n:Xt(n,e))).join(" "))).join(" ");function _y(t,e){const r=t.style;r&&e&&(typeof e=="string"?r.cssText+=";"+e:Object.entries(e).forEach((n=>{let[i,a]=n;return r.setProperty(i,a)})))}const nc=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;function h8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=e.onComplete||cc,n=new(Oa()).XMLHttpRequest,i=e.signal,a=function(){n.abort()},o=function(){i&&i.removeEventListener("abort",a),n.onerror=n.ontimeout=cc};if(i&&i.aborted)throw new ik("request");return i&&i.addEventListener("abort",a,{once:!0}),n.onreadystatechange=function(){n.readyState===4&&(o(),r(n),n.onreadystatechange=cc)},n.onerror=n.ontimeout=o,n.open("get",t,!0),n.send(),n}const Xv=(t,e)=>{let r=t._findCenterFromElement();t.transformMatrix&&((n=>{if(n.transformMatrix){const{scaleX:i,scaleY:a,angle:o,skewX:l}=vc(n.transformMatrix);n.flipX=!1,n.flipY=!1,n.set(Yn,i),n.set(Ri,a),n.angle=o,n.skewX=l,n.skewY=0}})(t),r=r.transform(t.transformMatrix)),delete t.transformMatrix,e&&(t.scaleX*=e.scaleX,t.scaleY*=e.scaleY,t.cropX=e.cropX,t.cropY=e.cropY,r.x+=e.offsetLeft,r.y+=e.offsetTop,t.width=e.width,t.height=e.height),t.setPositionByOrigin(r,ot,ot)};var Qie=Object.freeze({__proto__:null,addTransformToObject:m6,animate:Ck,animateColor:T6,applyTransformToObject:id,calcAngleBetweenVectors:wy,calcDimensionsMatrix:jm,calcPlaneChangeMatrix:Cm,calcVectorRotation:O6,cancelAnimFrame:a6,capValue:xc,composeMatrix:u6,copyCanvasElement:t=>{var e;const r=di(t);return(e=r.getContext("2d"))===null||e===void 0||e.drawImage(t,0,0),r},cos:Ia,createCanvasElement:oa,createImage:s6,createRotateMatrix:Rc,createScaleMatrix:p0,createSkewXMatrix:hk,createSkewYMatrix:pk,createTranslateMatrix:ef,createVector:xy,crossProduct:Wu,degreesToRadians:Nr,dotProduct:P6,ease:tie,enlivenObjectEnlivables:Sm,enlivenObjects:rd,findScaleToCover:i8,findScaleToFit:n8,getBoundsOfCurve:M_,getOrthonormalVector:jk,getPathSegmentsInfo:Tk,getPointOnPath:u8,getPointer:p6,getRandomInt:nc,getRegularPolygonPath:(t,e)=>{const r=2*Math.PI/t;let n=-ol;t%2==0&&(n+=r/2);const i=new Array(t+1);for(let a=0;a<t;a++){const o=a*r+n,{x:l,y:c}=new he(Ia(o),La(o)).scalarMultiply(e);i[a]=[a===0?"M":"L",l,c]}return i[t]=["Z"],i},getSmoothPathFromPoints:f8,getSvgAttributes:t=>{const e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":return e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return e.concat(["offset","stop-color","stop-opacity"])}return e},getUnitVector:y0,groupSVGElements:(t,e)=>t&&t.length===1?t[0]:new Ei(t,e),hasStyleChanged:w0,invertTransform:li,isBetweenVectors:__,isIdentityMatrix:o6,isTouchEvent:my,isTransparent:V6,joinPath:Ak,loadImage:Vh,magnitude:by,makeBoundingBoxFromPoints:ps,makePathSimpler:a8,matrixToSVG:nd,mergeClipPaths:(t,e)=>{var r;let n=t,i=e;n.inverted&&!i.inverted&&(n=e,i=t),C_(i,(r=i.group)===null||r===void 0?void 0:r.calcTransformMatrix(),n.calcTransformMatrix());const a=n.inverted&&i.inverted;return a&&(n.inverted=i.inverted=!1),new Ei([n],{clipPath:i,inverted:a})},multiplyTransformMatrices:yr,multiplyTransformMatrixArray:h0,parsePath:d8,parsePreserveAspectRatioAttribute:bk,parseUnit:Bn,pick:Ic,projectStrokeOnPoints:X6,qrDecompose:vc,radiansToDegrees:xs,removeFromArray:Zl,removeTransformFromObject:(t,e)=>{const r=li(e),n=yr(r,t.calcOwnMatrix());id(t,n)},removeTransformMatrixForSvgParsing:Xv,request:h8,requestAnimFrame:qh,resetObjectTransform:g6,rotatePoint:(t,e,r)=>t.rotate(r,e),rotateVector:wk,saveObjectTransform:vk,sendObjectToPlane:C_,sendPointToPlane:Ks,sendVectorToPlane:v6,setStyle:_y,sin:La,sizeAfterTransform:m0,string:xie,stylesFromArray:J6,stylesToArray:K6,toBlob:fk,toDataURL:dk,toFixed:Xt,transformPath:(t,e,r)=>(r&&(e=yr(e,[1,0,0,1,-r.x,-r.y])),t.map((n=>{const i=[...n];for(let a=1;a<n.length-1;a+=2){const{x:o,y:l}=An({x:n[a],y:n[a+1]},e);i[a]=o,i[a+1]=l}return i}))),transformPoint:An});class p8 extends gk{constructor(e){let{allowTouchScrolling:r=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),te(this,"upper",void 0),te(this,"container",void 0);const{el:i}=this.lower,a=this.createUpperCanvas();this.upper={el:a,ctx:a.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:r}),this.applyCanvasStyle(a,{allowTouchScrolling:r,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(n),i.parentNode&&i.parentNode.replaceChild(o,i),o.append(i,a),this.container=o}createUpperCanvas(){const{el:e}=this.lower,r=oa();return r.className=e.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=e.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const e=Dc().createElement("div");return e.setAttribute("data-fabric","wrapper"),_y(e,{position:"relative"}),FM(e),e}applyCanvasStyle(e,r){const{styles:n,allowTouchScrolling:i}=r;_y(e,re(re({},n),{},{"touch-action":i?"manipulation":Gn})),FM(e)}setDimensions(e,r){super.setDimensions(e,r);const{el:n,ctx:i}=this.upper;h6(n,i,e,r)}setCSSDimensions(e){super.setCSSDimensions(e),S_(this.upper.el,e),S_(this.container,e)}cleanupDOM(e){const r=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),r.removeChild(i),r.removeChild(n),r.parentNode&&r.parentNode.replaceChild(n,r)}dispose(){super.dispose(),Ra().dispose(this.upper.el),delete this.upper,delete this.container}}class j0 extends tf{constructor(){super(...arguments),te(this,"targets",[]),te(this,"_hoveredTargets",[]),te(this,"_currentTransform",null),te(this,"_groupSelector",null),te(this,"contextTopDirty",!1)}static getDefaults(){return re(re({},super.getDefaults()),j0.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new p8(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter((r=>!r.group&&r!==e)).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const r=this.getRetinaScaling(),n=Math.ceil((2*e+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(r,r)}isTargetTransparent(e,r,n){const i=this.targetFindTolerance,a=this.pixelFindContext;this.clearContext(a),a.save(),a.translate(-r+i,-n+i),a.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(a),e.selectionBackgroundColor=o,a.restore();const l=Math.round(i*this.getRetinaScaling());return V6(a,l,l,l)}_isSelectionKeyPressed(e){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find((n=>!!n&&e[n]===!0)):e[r])}_shouldClearSelection(e,r){const n=this.getActiveObjects(),i=this._activeObject;return!!(!r||r&&i&&n.length>1&&n.indexOf(r)===-1&&i!==r&&!this._isSelectionKeyPressed(e)||r&&!r.evented||r&&!r.selectable&&i&&i!==r)}_shouldCenterTransform(e,r,n){if(!e)return;let i;return r===f0||r===Yn||r===Ri||r===hp?i=this.centeredScaling||e.centeredScaling:r===lk&&(i=this.centeredRotation||e.centeredRotation),i?!n:n}_getOriginFromCorner(e,r){const n={x:e.originX,y:e.originY};return r&&(["ml","tl","bl"].includes(r)?n.x=Pr:["mr","tr","br"].includes(r)&&(n.x=Ht),["tl","mt","tr"].includes(r)?n.y=j_:["bl","mb","br"].includes(r)&&(n.y=ui)),n}_setupCurrentTransform(e,r,n){var i;const a=r.group?Ks(this.getScenePoint(e),void 0,r.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:l}=r.getActiveControl()||{},c=n&&l?(i=l.getActionHandler(e,r,l))===null||i===void 0?void 0:i.bind(l):b6,d=((g,j,b,y)=>{if(!j||!g)return"drag";const x=y.controls[j];return x.getActionName(b,x,y)})(n,o,e,r),f=e[this.centeredKey],h=this._shouldCenterTransform(r,d,f)?{x:ot,y:ot}:this._getOriginFromCorner(r,o),m={target:r,action:d,actionHandler:c,actionPerformed:!1,corner:o,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:a.x-r.left,offsetY:a.y-r.top,originX:h.x,originY:h.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:Nr(r.angle),width:r.width,height:r.height,shiftKey:e.shiftKey,altKey:f,original:re(re({},vk(r)),{},{originX:h.x,originY:h.y})};this._currentTransform=m,this.fire("before:transform",{e,transform:m})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:r,y:n,deltaX:i,deltaY:a}=this._groupSelector,o=new he(r,n).transform(this.viewportTransform),l=new he(r+i,n+a).transform(this.viewportTransform),c=this.selectionLineWidth/2;let d=Math.min(o.x,l.x),f=Math.min(o.y,l.y),h=Math.max(o.x,l.x),m=Math.max(o.y,l.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(d,f,h-d,m-f)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,d+=c,f+=c,h-=c,m-=c,hn.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(d,f,h-d,m-f))}findTarget(e){if(this.skipTargetFind)return;const r=this.getViewportPoint(e),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(r,my(e))||i.length>1&&this.searchPossibleTargets([n],r))return n;if(n===this.searchPossibleTargets([n],r)){if(this.preserveObjectStacking){const a=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&o&&o!==n?(this.targets=a,n):o}return n}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(e,r){let n=e.getCoords();const i=this.getZoom(),a=e.padding/i;if(a){const[o,l,c,d]=n,f=Math.atan2(l.y-o.y,l.x-o.x),h=Ia(f)*a,m=La(f)*a,g=h+m,j=h-m;n=[new he(o.x-j,o.y-g),new he(l.x+g,l.y-j),new he(c.x+j,c.y+g),new he(d.x-g,d.y+j)]}return lr.isPointInPolygon(r,n)}_checkTarget(e,r){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Ks(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,r.x,r.y)))}_searchPossibleTargets(e,r){let n=e.length;for(;n--;){const i=e[n];if(this._checkTarget(i,r)){if(Vv(i)&&i.subTargetCheck){const a=this._searchPossibleTargets(i._objects,r);a&&this.targets.push(a)}return i}}}searchPossibleTargets(e,r){const n=this._searchPossibleTargets(e,r);if(n&&Vv(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let a=i.length-1;a>0;a--){const o=i[a];if(!Vv(o)||!o.interactive)return o}return i[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let a=p6(e),o=i.width||0,l=i.height||0;o&&l||(ui in i&&j_ in i&&(l=Math.abs(i.top-i.bottom)),Pr in i&&Ht in i&&(o=Math.abs(i.right-i.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,r||(a=Ks(a,void 0,this.viewportTransform));const c=this.getRetinaScaling();c!==1&&(a.x/=c,a.y/=c);const d=o===0||l===0?new he(1,1):new he(n.width/o,n.height/l);return a.multiply(d)}_setDimensionsImpl(e,r){this._resetTransformEventData(),super._setDimensionsImpl(e,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=oa(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return Ql(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,r){let n=!1,i=!1;const a=this.getActiveObjects(),o=[],l=[];e.forEach((c=>{a.includes(c)||(n=!0,c.fire("deselected",{e:r,target:c}),l.push(c))})),a.forEach((c=>{e.includes(c)||(n=!0,c.fire("selected",{e:r,target:c}),o.push(c))})),e.length>0&&a.length>0?(i=!0,n&&this.fire("selection:updated",{e:r,selected:o,deselected:l})):a.length>0?(i=!0,this.fire("selection:created",{e:r,selected:o})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:r,deselected:l})),i&&(this._objectsToRender=void 0)}setActiveObject(e,r){const n=this.getActiveObjects(),i=this._setActiveObject(e,r);return this._fireSelectionEvents(n,r),i}_setActiveObject(e,r){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(r,e)&&this._activeObject)&&!e.onSelect({e:r})&&(this._activeObject=e,Ql(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,r){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:r})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),Ql(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const r=this.getActiveObjects(),n=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(r,e),i}endCurrentTransform(e){const r=this._currentTransform;this._finalizeCurrentTransform(e),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const r=this._currentTransform,n=r.target,i={e,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),r.actionPerformed&&(this.fire("object:modified",i),n.fire(py,i))}setViewportTransform(e){super.setViewportTransform(e);const r=this._activeObject;r&&r.setCoords()}destroy(){const e=this._activeObject;Ql(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const r=this._activeObject;r&&r._renderControls(e)}_toObject(e,r,n){const i=this._realizeGroupTransformOnObject(e),a=super._toObject(e,r,n);return e.set(i),a}_realizeGroupTransformOnObject(e){const{group:r}=e;if(r&&Ql(r)&&this._activeObject===r){const n=Ic(e,["angle","flipX","flipY",Ht,Yn,Ri,Zd,Qd,ui]);return m6(e,r.calcOwnMatrix()),n}return{}}_setSVGObject(e,r,n){const i=this._realizeGroupTransformOnObject(r);super._setSVGObject(e,r,n),r.set(i)}}te(j0,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class eae{constructor(e){te(this,"targets",[]),te(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},n=e.upperCanvasEl;n.addEventListener("click",r),this.__disposer=()=>n.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach((e=>{e.isEditing&&e.exitEditing()}))}add(e){this.targets.push(e)}remove(e){this.unregister(e),Zl(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const tae=["target","oldTarget","fireCanvas","e"],ji={passive:!1},Su=(t,e)=>{const r=t.getViewportPoint(e),n=t.getScenePoint(e);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},$o=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.addEventListener(...r)},qi=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.removeEventListener(...r)},rae={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class vp extends j0{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),te(this,"_isClick",void 0),te(this,"textEditingManager",new eae(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((r=>{this[r]=this[r].bind(this)})),this.addOrRemove($o,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,r){const n=this.upperCanvasEl,i=this._getEventPrefix();e(f6(n),"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,"".concat(i,"move"),this._onMouseMove,ji),e(n,"".concat(i,"out"),this._onMouseOut),e(n,"".concat(i,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel,{passive:!1}),e(n,"contextmenu",this._onContextMenu),e(n,"click",this._onClick),e(n,"dblclick",this._onClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,ji)}removeListeners(){this.addOrRemove(qi,"remove");const e=this._getEventPrefix(),r=Na(this.upperCanvasEl);qi(r,"".concat(e,"up"),this._onMouseUp),qi(r,"touchend",this._onTouchEnd,ji),qi(r,"".concat(e,"move"),this._onMouseMove,ji),qi(r,"touchmove",this._onMouseMove,ji),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const r=this._hoveredTarget,n=re({e},Su(this,e));this.fire("mouse:out",re(re({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",re({},n)),this._hoveredTargets.forEach((i=>{this.fire("mouse:out",re(re({},n),{},{target:i})),i&&i.fire("mouseout",re({},n))})),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",re({e},Su(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(e)){this._dragSource=r;const n={e,target:r};return this.fire("dragstart",n),r.fire("dragstart",n),void $o(this.upperCanvasEl,"drag",this._onDragProgress)}$M(e)}_renderDragEffects(e,r,n){let i=!1;const a=this._dropTarget;a&&a!==r&&a!==n&&(a.clearContextTop(),i=!0),r?.clearContextTop(),n!==r&&n?.clearContextTop();const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),r&&(o.save(),r.transform(o),r.renderDragSourceEffect(e),o.restore(),i=!0),n&&(o.save(),n.transform(o),n.renderDropTargetEffect(e),o.restore(),i=!0),o.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const r=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Gn,n=r?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:n};qi(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const r={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const r="dragover",{target:n,targets:i}=this.findDragTargets(e),a=this._dragSource,o={e,target:n,subTargets:i,dragSource:a,canDrop:!1,dropTarget:void 0};let l;this.fire(r,o),this._fireEnterLeaveEvents(n,o),n&&(n.canDrop(e)&&(l=n),n.fire(r,o));for(let c=0;c<i.length;c++){const d=i[c];d.canDrop(e)&&(l=d),d.fire(r,o)}this._renderDragEffects(e,a,l),this._dropTarget=l}_onDragEnter(e){const{target:r,targets:n}=this.findDragTargets(e),i={e,target:r,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(r,i)}_onDragLeave(e){const r={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:r,targets:n}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",re({e,target:r,subTargets:n,dragSource:this._dragSource},Su(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const r=this.findTarget(e),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:r,subTargets:n});return this.stopContextMenu&&$M(e),this._basicEventHandler("contextmenu",i),!1}_onClick(e){const r=e.detail;r>3||r<2||(this._cacheTransformEventData(e),r==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),r==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const r=e.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let r=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(r=!0),r&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,a=this._getEventPrefix(),o=Na(i);$o(o,"touchend",this._onTouchEnd,ji),r&&$o(o,"touchmove",this._onMouseMove,ji),qi(i,"".concat(a,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();qi(r,"".concat(n,"move"),this._onMouseMove,ji);const i=Na(r);$o(i,"".concat(n,"up"),this._onMouseUp),$o(i,"".concat(n,"move"),this._onMouseMove,ji)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),n=Na(this.upperCanvasEl);qi(n,"touchend",this._onTouchEnd,ji),qi(n,"touchmove",this._onMouseMove,ji),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((()=>{$o(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0}),400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const i=Na(this.upperCanvasEl);qi(i,"".concat(n,"up"),this._onMouseUp),qi(i,"".concat(n,"move"),this._onMouseMove,ji),$o(r,"".concat(n,"move"),this._onMouseMove,ji)}}_onMouseMove(e){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const r=this.getActiveObject();return!!r!=!!e||r&&e&&r!==e}__onMouseUp(e){var r;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,i=this._isClick,a=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let l,c,d=!1;if(n&&(this._finalizeCurrentTransform(e),d=n.actionPerformed),!i){const f=a===this._activeObject;this.handleSelection(e),d||(d=this._shouldRender(a)||!f&&a===this._activeObject)}if(a){const f=a.findControl(this.getViewportPoint(e),my(e)),{key:h,control:m}=f||{};if(c=h,a.selectable&&a!==this._activeObject&&a.activeOn==="up")this.setActiveObject(a,e),d=!0;else if(m){const g=m.getMouseUpHandler(e,a,m);g&&(l=this.getScenePoint(e),g.call(m,e,n,l.x,l.y))}a.isMoving=!1}if(n&&(n.target!==a||n.corner!==c)){const f=n.target&&n.target.controls[n.corner],h=f&&f.getMouseUpHandler(e,n.target,f);l=l||this.getScenePoint(e),h&&h.call(f,e,n,l.x,l.y)}this._setCursorFromEvent(e,a),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,a&&(a.__corner=void 0),d?this.requestRenderAll():i||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(e,r){const{target:n,subTargets:i=[]}=r;this.fire(e,r),n&&n.fire(e,r);for(let a=0;a<i.length;a++)i[a]!==n&&i[a].fire(e,r);return r}_handleEvent(e,r,n){const i=this._target,a=this.targets||[],o=re(re(re({e,target:i,subTargets:a},Su(this,e)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),r==="down:before"||r==="down"?n:{});this.fire("mouse:".concat(r),o),i&&i.fire("mouse".concat(r),o);for(let l=0;l<a.length;l++)a[l]!==i&&a[l].fire("mouse".concat(r),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e,pointer:r}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const r=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let r=this._target,n=!!r&&r===this._activeObject;const{button:i}=e;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(e,"down",{alreadySelected:n}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let a=this._shouldRender(r),o=!1;if(this.handleMultiSelection(e,r)?(r=this._activeObject,o=!0,a=!0):this._shouldClearSelection(e,r)&&this.discardActiveObject(e),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const l=this.getScenePoint(e);this._groupSelector={x:l.x,y:l.y,deltaY:0,deltaX:0}}if(n=!!r&&r===this._activeObject,r){r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,e);const l=r.findControl(this.getViewportPoint(e),my(e));if(r===this._activeObject&&(l||!o)){this._setupCurrentTransform(e,r,n);const c=l?l.control:void 0,d=this.getScenePoint(e),f=c&&c.getMouseDownHandler(e,r,c);f&&f.call(c,e,this._currentTransform,d.x,d.y)}}a&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:n}),a&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Ks(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const r=this._groupSelector;if(r){const n=this.getScenePoint(e);r.deltaX=n.x-r.x,r.deltaY=n.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,r){const n=this._hoveredTarget,i=this._hoveredTargets,a=this.targets,o=Math.max(i.length,a.length);this.fireSyntheticInOutEvents("mouse",{e,target:r,oldTarget:n,fireCanvas:!0});for(let l=0;l<o;l++)a[l]===r||i[l]&&i[l]===n||this.fireSyntheticInOutEvents("mouse",{e,target:a[l],oldTarget:i[l]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,r){const n=this._draggedoverTarget,i=this._hoveredTargets,a=this.targets,o=Math.max(i.length,a.length);this.fireSyntheticInOutEvents("drag",re(re({},r),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let l=0;l<o;l++)this.fireSyntheticInOutEvents("drag",re(re({},r),{},{target:a[l],oldTarget:i[l]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,r){let{target:n,oldTarget:i,fireCanvas:a,e:o}=r,l=ar(r,tae);const{targetIn:c,targetOut:d,canvasIn:f,canvasOut:h}=rae[e],m=i!==n;if(i&&m){const g=re(re({},l),{},{e:o,target:i,nextTarget:n},Su(this,o));a&&this.fire(h,g),i.fire(d,g)}if(n&&m){const g=re(re({},l),{},{e:o,target:n,previousTarget:i},Su(this,o));a&&this.fire(f,g),n.fire(c,g)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const r=this.getScenePoint(e),n=this._currentTransform,i=n.target,a=i.group?Ks(r,void 0,i.group.calcTransformMatrix()):r;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,a),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,r,n){const{action:i,actionHandler:a,target:o}=r,l=!!a&&a(e,r,n.x,n.y);l&&o.setCoords(),i==="drag"&&l&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||l}_setCursorFromEvent(e,r){if(!r)return void this.setCursor(this.defaultCursor);let n=r.hoverCursor||this.hoverCursor;const i=Ql(this._activeObject)?this._activeObject:null,a=(!i||r.group!==i)&&r.findControl(this.getViewportPoint(e));if(a){const o=a.control;this.setCursor(o.cursorStyleHandler(e,o,r))}else r.subTargetCheck&&this.targets.concat().reverse().map((o=>{n=o.hoverCursor||n})),this.setCursor(n)}handleMultiSelection(e,r){const n=this._activeObject,i=Ql(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&r&&r.selectable&&(n!==r||i)&&(i||!r.isDescendantOf(n)&&!n.isDescendantOf(r))&&!r.onSelect({e})&&!n.getActiveControl()){if(i){const a=n.getObjects();if(r===n){const o=this.getViewportPoint(e);if(!(r=this.searchPossibleTargets(a,o)||this.searchPossibleTargets(this._objects,o))||!r.selectable)return!1}r.group===n?(n.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(r),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(a,e)}else{n.isEditing&&n.exitEditing();const a=new(ze.getClass("ActiveSelection"))([],{canvas:this});a.multiSelectAdd(n,r),this._hoveredTarget=a,this._setActiveObject(a,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:n,deltaX:i,deltaY:a}=this._groupSelector,o=new he(r,n),l=o.add(new he(i,a)),c=o.min(l),d=o.max(l).subtract(c),f=this.collectObjects({left:c.x,top:c.y,width:d.x,height:d.y},{includeIntersecting:!this.selectionFullyContained}),h=o.eq(l)?f[0]?[f[0]]:[]:f.length>1?f.filter((m=>!m.onSelect({e}))).reverse():f;if(h.length===1)this.setActiveObject(h[0],e);else if(h.length>1){const m=ze.getClass("ActiveSelection");this.setActiveObject(new m(h,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const m8={x1:0,y1:0,x2:0,y2:0},nae=re(re({},m8),{},{r1:0,r2:0}),Eu=(t,e)=>isNaN(t)&&typeof e=="number"?e:t;function g8(t){return t&&/%$/.test(t)&&Number.isFinite(parseFloat(t))}function v8(t,e){const r=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(g8(t)?100:1):NaN;return xc(0,Eu(r,e),1)}const iae=/\s*;\s*/,aae=/\s*:\s*/;function sae(t,e){let r,n;const i=t.getAttribute("style");if(i){const o=i.split(iae);o[o.length-1]===""&&o.pop();for(let l=o.length;l--;){const[c,d]=o[l].split(aae).map((f=>f.trim()));c==="stop-color"?r=d:c==="stop-opacity"&&(n=d)}}const a=new kt(r||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:v8(t.getAttribute("offset"),0),color:a.toRgb(),opacity:Eu(parseFloat(n||t.getAttribute("stop-opacity")||""),1)*a.getAlpha()*e}}function oae(t,e){const r=[],n=t.getElementsByTagName("stop"),i=v8(e,1);for(let a=n.length;a--;)r.push(sae(n[a],i));return r}function y8(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function x8(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function ya(t,e){return t.getAttribute(e)}function lae(t,e){return(function(r,n){let i,{width:a,height:o,gradientUnits:l}=n;return Object.entries(r).reduce(((c,d)=>{let[f,h]=d;if(h==="Infinity")i=1;else if(h==="-Infinity")i=0;else{const m=typeof h=="string";i=m?parseFloat(h):h,m&&g8(h)&&(i*=.01,l==="pixels"&&(f!=="x1"&&f!=="x2"&&f!=="r2"||(i*=a),f!=="y1"&&f!=="y2"||(i*=o)))}return c[f]=i,c}),{})})(y8(t)==="linear"?(function(r){return{x1:ya(r,"x1")||0,y1:ya(r,"y1")||0,x2:ya(r,"x2")||"100%",y2:ya(r,"y2")||0}})(t):(function(r){return{x1:ya(r,"fx")||ya(r,"cx")||"50%",y1:ya(r,"fy")||ya(r,"cy")||"50%",r1:0,x2:ya(r,"cx")||"50%",y2:ya(r,"cy")||"50%",r2:ya(r,"r")||"50%"}})(t),re(re({},e),{},{gradientUnits:x8(t)}))}class Mu{constructor(e){const{type:r="linear",gradientUnits:n="pixels",coords:i={},colorStops:a=[],offsetX:o=0,offsetY:l=0,gradientTransform:c,id:d}=e||{};Object.assign(this,{type:r,gradientUnits:n,coords:re(re({},r==="radial"?nae:m8),i),colorStops:a,offsetX:o,offsetY:l,gradientTransform:c,id:d?"".concat(d,"_").concat(ll()):ll()})}addColorStop(e){for(const r in e){const n=new kt(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return re(re({},Ic(this,e)),{},{type:this.type,coords:re({},this.coords),colorStops:this.colorStops.map((r=>re({},r))),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():Dn.concat(),a=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map((h=>re({},h))).sort(((h,m)=>h.offset-m.offset));let l=-this.offsetX,c=-this.offsetY;var d;a==="objectBoundingBox"?(l/=e.width,c/=e.height):(l+=e.width/2,c+=e.height/2),(d=e)&&typeof d._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(l-=e.pathOffset.x,c-=e.pathOffset.y),i[4]-=l,i[5]-=c;const f=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(a,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(nd(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:h,y1:m,x2:g,y2:j}=this.coords;n.push("<linearGradient ",f,' x1="',h,'" y1="',m,'" x2="',g,'" y2="',j,`">
`)}else if(this.type==="radial"){const{x1:h,y1:m,x2:g,y2:j,r1:b,r2:y}=this.coords,x=b>y;n.push("<radialGradient ",f,' cx="',x?h:g,'" cy="',x?m:j,'" r="',x?b:y,'" fx="',x?g:h,'" fy="',x?j:m,`">
`),x&&(o.reverse(),o.forEach((_=>{_.offset=1-_.offset})));const S=Math.min(b,y);if(S>0){const _=S/Math.max(b,y);o.forEach((P=>{P.offset+=_*(1-P.offset)}))}}return o.forEach((h=>{let{color:m,offset:g,opacity:j}=h;n.push("<stop ",'offset="',100*g+"%",'" style="stop-color:',m,j!==void 0?";stop-opacity: "+j:";",`"/>
`)})),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:r,y1:n,x2:i,y2:a,r1:o,r2:l}=this.coords,c=this.type==="linear"?e.createLinearGradient(r,n,i,a):e.createRadialGradient(r,n,o,i,a,l);return this.colorStops.forEach((d=>{let{color:f,opacity:h,offset:m}=d;c.addColorStop(m,h!==void 0?new kt(f).setAlpha(h).toRgba():f)})),c}static async fromObject(e){const{colorStops:r,gradientTransform:n}=e;return new this(re(re({},e),{},{colorStops:r?r.map((i=>re({},i))):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,r,n){const i=x8(e),a=r._findCenterFromElement();return new this(re({id:e.getAttribute("id")||void 0,type:y8(e),coords:lae(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:oae(e,n.opacity),gradientUnits:i,gradientTransform:gp(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:r.width/2-a.x,offsetY:r.height/2-a.y}:{offsetX:0,offsetY:0}))}}te(Mu,"type","Gradient"),ze.setClass(Mu,"gradient"),ze.setClass(Mu,"linear"),ze.setClass(Mu,"radial");const cae=["type","source","patternTransform"];class Yh{get type(){return"pattern"}set type(e){ao("warn","Setting type has no effect",e)}constructor(e){te(this,"repeat","repeat"),te(this,"offsetX",0),te(this,"offsetY",0),te(this,"crossOrigin",""),this.id=ll(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:n}=this;return re(re({},Ic(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:n,offsetX:Xt(this.offsetX,Ct.NUM_FRACTION_DIGITS),offsetY:Xt(this.offsetY,Ct.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:r,height:n}=e;const{source:i,repeat:a,id:o}=this,l=Eu(this.offsetX/r,0),c=Eu(this.offsetY/n,0),d=a==="repeat-y"||a==="no-repeat"?1+Math.abs(l||0):Eu(i.width/r,0),f=a==="repeat-x"||a==="no-repeat"?1+Math.abs(c||0):Eu(i.height/n,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(l,'" y="').concat(c,'" width="').concat(d,'" height="').concat(f,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,r){let{type:n,source:i,patternTransform:a}=e,o=ar(e,cae);const l=await Vh(i,re(re({},r),{},{crossOrigin:o.crossOrigin}));return new this(re(re({},o),{},{patternTransform:a&&a.slice(0),source:l}))}}te(Yh,"type","Pattern"),ze.setClass(Yh),ze.setClass(Yh,"pattern");class S0{constructor(e){te(this,"color","rgb(0, 0, 0)"),te(this,"width",1),te(this,"shadow",null),te(this,"strokeLineCap","round"),te(this,"strokeLineJoin","round"),te(this,"strokeMiterLimit",10),te(this,"strokeDashArray",null),te(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}needsFullRender(){return new kt(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,r=this.shadow,n=e.contextTop,i=e.getZoom()*e.getRetinaScaling();n.shadowColor=r.color,n.shadowBlur=r.blur*i,n.shadowOffsetX=r.offsetX*i,n.shadowOffsetY=r.offsetY*i}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}const uae=["path","left","top"],dae=["d"];class Hs extends hn{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:a}=r,o=ar(r,uae);super(),Object.assign(this,Hs.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof i=="number"&&this.set(Ht,i),typeof a=="number"&&this.set(ui,a)}_setPath(e,r){this.path=a8(Array.isArray(e)?e:d8(e)),this.setBoundingBox(r)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new he(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const r=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+r,i[2]+n);break;case"M":e.moveTo(i[1]+r,i[2]+n);break;case"C":e.bezierCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n,i[5]+r,i[6]+n);break;case"Q":e.quadraticCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(re({},super.toObject(e)),{},{path:this.path.map((r=>r.slice()))})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(e);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const e=Ak(this.path,Ct.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Ct.NUM_FRACTION_DIGITS;return" translate(".concat(Xt(-this.pathOffset.x,e),", ").concat(Xt(-this.pathOffset.y,e),")")}toClipPathSVG(e){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}toSVG(e){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:r,height:n,pathOffset:i}=this._calcDimensions();this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,ot,ot)}_calcBoundsFromPath(){const e=[];let r=0,n=0,i=0,a=0;for(const o of this.path)switch(o[0]){case"L":i=o[1],a=o[2],e.push({x:r,y:n},{x:i,y:a});break;case"M":i=o[1],a=o[2],r=i,n=a;break;case"C":e.push(...M_(i,a,o[1],o[2],o[3],o[4],o[5],o[6])),i=o[5],a=o[6];break;case"Q":e.push(...M_(i,a,o[1],o[2],o[1],o[2],o[3],o[4])),i=o[3],a=o[4];break;case"Z":i=r,a=n}return ps(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return re(re({},e),{},{pathOffset:new he(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,r,n){const i=Ns(e,this.ATTRIBUTE_NAMES,n),{d:a}=i;return new this(a,re(re(re({},ar(i,dae)),r),{},{left:void 0,top:void 0}))}}te(Hs,"type","Path"),te(Hs,"cacheProperties",[...po,"path","fillRule"]),te(Hs,"ATTRIBUTE_NAMES",[...ml,"d"]),ze.setClass(Hs),ze.setSVGClass(Hs);class yp extends S0{constructor(e){super(e),te(this,"decimate",.4),te(this,"drawStraightLine",!1),te(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,r,n){const i=r.midPointFrom(n);return e.quadraticCurveTo(r.x,r.y,i.x,i.y),i}onMouseDown(e,r){let{e:n}=r;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,r){let{e:n}=r;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const i=this._points,a=i.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=yp.drawSegment(o,i[a-2],i[a-1]),o.stroke(),o.restore()}}onMouseUp(e){let{e:r}=e;return!this.canvas._isMainEvent(r)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&r.x===n.x&&r.y===n.y){const i=this.width/1e3;r.x-=i,n.x+=i}e.moveTo(r.x,r.y);for(let i=1;i<this._points.length;i++)yp.drawSegment(e,r,n),r=this._points[i],n=this._points[i+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const r=this.width/1e3;return f8(e,r)}createPath(e){const r=new Hs(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new Ai(this.shadow)),r}decimatePoints(e,r){if(e.length<=2)return e;let n,i=e[0];const a=this.canvas.getZoom(),o=Math.pow(r/a,2),l=e.length-1,c=[i];for(let d=1;d<l-1;d++)n=Math.pow(i.x-e[d].x,2)+Math.pow(i.y-e[d].y,2),n>=o&&(i=e[d],c.push(i));return c.push(e[l]),c}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if((function(n){return Ak(n)==="M 0 0 Q 0 0 0 0 L 0 0"})(e))return void this.canvas.requestRenderAll();const r=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}}const fae=["left","top","radius"],b8=["radius","startAngle","endAngle","counterClockwise"];class Sa extends hn{static getDefaults(){return re(re({},super.getDefaults()),Sa.ownDefaults)}constructor(e){super(),Object.assign(this,Sa.ownDefaults),this.setOptions(e)}_set(e,r){return super._set(e,r),e==="radius"&&this.setRadius(r),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Nr(this.startAngle),Nr(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Yn)}getRadiusY(){return this.get("radius")*this.get(Ri)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...b8,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,n=Nr(this.startAngle),i=Nr(this.endAngle),a=Ia(n)*r,o=La(n)*r,l=Ia(i)*r,c=La(i)*r,d=e>180?1:0,f=this.counterClockwise?0:1;return['<path d="M '.concat(a," ").concat(o," A ").concat(r," ").concat(r," 0 ").concat(d," ").concat(f," ").concat(l," ").concat(c,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,r,n){const i=Ns(e,this.ATTRIBUTE_NAMES,n),{left:a=0,top:o=0,radius:l=0}=i;return new this(re(re({},ar(i,fae)),{},{radius:l,left:a-l,top:o-l}))}static fromObject(e){return super._fromObject(e)}}te(Sa,"type","Circle"),te(Sa,"cacheProperties",[...po,...b8]),te(Sa,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),te(Sa,"ATTRIBUTE_NAMES",["cx","cy","r",...ml]),ze.setClass(Sa),ze.setSVGClass(Sa);class hae extends S0{constructor(e){super(e),te(this,"width",10),this.points=[]}drawDot(e){const r=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,r),n.restore()}dot(e,r){e.fillStyle=r.fill,e.beginPath(),e.arc(r.x,r.y,r.radius,0,2*Math.PI,!1),e.closePath(),e.fill()}onMouseDown(e){this.points=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)}_render(){const e=this.canvas.contextTop,r=this.points;this._saveAndTransform(e);for(let n=0;n<r.length;n++)this.dot(e,r[n]);e.restore()}onMouseMove(e){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))}onMouseUp(){const e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const r=[];for(let i=0;i<this.points.length;i++){const a=this.points[i],o=new Sa({radius:a.radius,left:a.x,top:a.y,originX:ot,originY:ot,fill:a.fill});this.shadow&&(o.shadow=new Ai(this.shadow)),r.push(o)}const n=new Ei(r,{canvas:this.canvas});this.canvas.fire("before:path:created",{path:n}),this.canvas.add(n),this.canvas.fire("path:created",{path:n}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()}addPoint(e){let{x:r,y:n}=e;const i={x:r,y:n,radius:nc(Math.max(0,this.width-20),this.width+20)/2,fill:new kt(this.color).setAlpha(nc(0,100)/100).toRgba()};return this.points.push(i),i}}class pae extends S0{constructor(e){super(e),te(this,"width",10),te(this,"density",20),te(this,"dotWidth",1),te(this,"dotWidthVariance",1),te(this,"randomOpacity",!1),te(this,"optimizeOverlapping",!0),this.sprayChunks=[],this.sprayChunk=[]}onMouseDown(e){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.renderChunck(this.sprayChunk)}onMouseMove(e){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.renderChunck(this.sprayChunk))}onMouseUp(){const e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const r=[];for(let i=0;i<this.sprayChunks.length;i++){const a=this.sprayChunks[i];for(let o=0;o<a.length;o++){const l=a[o],c=new Zi({width:l.width,height:l.width,left:l.x+1,top:l.y+1,originX:ot,originY:ot,fill:this.color});r.push(c)}}const n=new Ei(this.optimizeOverlapping?(function(i){const a={},o=[];for(let l,c=0;c<i.length;c++)l="".concat(i[c].left).concat(i[c].top),a[l]||(a[l]=!0,o.push(i[c]));return o})(r):r,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&n.set("shadow",new Ai(this.shadow)),this.canvas.fire("before:path:created",{path:n}),this.canvas.add(n),this.canvas.fire("path:created",{path:n}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()}renderChunck(e){const r=this.canvas.contextTop;r.fillStyle=this.color,this._saveAndTransform(r);for(let n=0;n<e.length;n++){const i=e[n];r.globalAlpha=i.opacity,r.fillRect(i.x,i.y,i.width,i.width)}r.restore()}_render(){const e=this.canvas.contextTop;e.fillStyle=this.color,this._saveAndTransform(e);for(let r=0;r<this.sprayChunks.length;r++)this.renderChunck(this.sprayChunks[r]);e.restore()}addSprayChunk(e){this.sprayChunk=[];const r=this.width/2;for(let n=0;n<this.density;n++)this.sprayChunk.push({x:nc(e.x-r,e.x+r),y:nc(e.y-r,e.y+r),width:this.dotWidthVariance?nc(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?nc(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}}class mae extends yp{constructor(e){super(e)}getPatternSrc(){const e=oa(),r=e.getContext("2d");return e.width=e.height=25,r&&(r.fillStyle=this.color,r.beginPath(),r.arc(10,10,10,0,2*Math.PI,!1),r.closePath(),r.fill()),e}getPattern(e){return e.createPattern(this.source||this.getPatternSrc(),"repeat")}_setBrushStyles(e){super._setBrushStyles(e);const r=this.getPattern(e);r&&(e.strokeStyle=r)}createPath(e){const r=super.createPath(e),n=r._getLeftTopCoords().scalarAdd(r.strokeWidth/2);return r.stroke=new Yh({source:this.source||this.getPatternSrc(),offsetX:-n.x,offsetY:-n.y}),r}}const gae=["x1","y1","x2","y2"],vae=["x1","y1","x2","y2"],D_=["x1","x2","y1","y2"];class Vo extends hn{constructor(){let[e,r,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Vo.ownDefaults),this.setOptions(a),this.x1=e,this.x2=n,this.y1=r,this.y2=i,this._setWidthHeight();const{left:o,top:l}=a;typeof o=="number"&&this.set(Ht,o),typeof l=="number"&&this.set(ui,l)}_setWidthHeight(){const{x1:e,y1:r,x2:n,y2:i}=this;this.width=Math.abs(n-e),this.height=Math.abs(i-r);const{left:a,top:o,width:l,height:c}=ps([{x:e,y:r},{x:n,y:i}]),d=new he(a+l/2,o+c/2);this.setPositionByOrigin(d,ot,ot)}_set(e,r){return super._set(e,r),D_.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const r=this.calcLinePoints();e.moveTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var i;ea(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new he((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(re({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:r,y1:n,y2:i,width:a,height:o}=this,l=e<=r?-1:1,c=n<=i?-1:1;return{x1:l*a/2,x2:l*-a/2,y1:c*o/2,y2:c*-o/2}}_toSVG(){const{x1:e,x2:r,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,`" />
`)]}static async fromElement(e,r,n){const i=Ns(e,this.ATTRIBUTE_NAMES,n),{x1:a=0,y1:o=0,x2:l=0,y2:c=0}=i;return new this([a,o,l,c],ar(i,gae))}static fromObject(e){let{x1:r,y1:n,x2:i,y2:a}=e,o=ar(e,vae);return this._fromObject(re(re({},o),{},{points:[r,n,i,a]}),{extraParam:"points"})}}te(Vo,"type","Line"),te(Vo,"cacheProperties",[...po,...D_]),te(Vo,"ATTRIBUTE_NAMES",ml.concat(D_)),ze.setClass(Vo),ze.setSVGClass(Vo);class Yo extends hn{static getDefaults(){return re(re({},super.getDefaults()),Yo.ownDefaults)}constructor(e){super(),Object.assign(this,Yo.ownDefaults),this.setOptions(e)}_render(e){const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,n),e.lineTo(0,-n),e.lineTo(r,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(r,",0 ").concat(-r,",").concat(e," ").concat(r),'" />']}}te(Yo,"type","Triangle"),te(Yo,"ownDefaults",{width:100,height:100}),ze.setClass(Yo),ze.setSVGClass(Yo);const w8=["rx","ry"];class ss extends hn{static getDefaults(){return re(re({},super.getDefaults()),ss.ownDefaults)}constructor(e){super(),Object.assign(this,ss.ownDefaults),this.setOptions(e)}_set(e,r){switch(super._set(e,r),e){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(Yn)}getRy(){return this.get("ry")*this.get(Ri)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...w8,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,so,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,r,n){const i=Ns(e,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function j8(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),r=[];for(let n=0;n<e.length;n+=2)r.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return r}te(ss,"type","Ellipse"),te(ss,"cacheProperties",[...po,...w8]),te(ss,"ownDefaults",{rx:0,ry:0}),te(ss,"ATTRIBUTE_NAMES",[...ml,"cx","cy","rx","ry"]),ze.setClass(ss),ze.setSVGClass(ss);const yae=["left","top"],S8={exactBoundingBox:!1};class Ki extends hn{static getDefaults(){return re(re({},super.getDefaults()),Ki.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),te(this,"strokeDiff",void 0),Object.assign(this,Ki.ownDefaults),this.setOptions(r),this.points=e;const{left:n,top:i}=r;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(Ht,n),typeof i=="number"&&this.set(ui,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return X6(this.points,e,this.isOpen())}_calcDimensions(e){e=re({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(e).map((d=>d.projectedPoint)):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new he,strokeOffset:new he,strokeDiff:new he};const n=ps(r),i=jm(re(re({},e),{},{scaleX:1,scaleY:1})),a=ps(this.points.map((d=>An(d,i,!0)))),o=new he(this.scaleX,this.scaleY);let l=n.left+n.width/2,c=n.top+n.height/2;return this.exactBoundingBox&&(l-=c*Math.tan(Nr(this.skewX)),c-=l*Math.tan(Nr(this.skewY))),re(re({},n),{},{pathOffset:new he(l,c),strokeOffset:new he(a.left,a.top).subtract(new he(n.left,n.top)).multiply(o),strokeDiff:new he(n.width,n.height).subtract(new he(a.width,a.height)).multiply(o)})}_findCenterFromElement(){const e=ps(this.points);return new he(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:r,top:n,width:i,height:a,pathOffset:o,strokeOffset:l,strokeDiff:c}=this._calcDimensions();this.set({width:i,height:a,pathOffset:o,strokeOffset:l,strokeDiff:c}),e&&this.setPositionByOrigin(new he(r+i/2,n+a/2),ot,ot)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new he(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some((l=>this.strokeUniform||this.constructor.layoutProperties.includes(l)))){var r,n;const{width:l,height:c}=this._calcDimensions(e);o=new he((r=e.width)!==null&&r!==void 0?r:l,(n=e.height)!==null&&n!==void 0?n:c)}else{var i,a;o=new he((i=e.width)!==null&&i!==void 0?i:this.width,(a=e.height)!==null&&a!==void 0?a:this.height)}return o.multiply(new he(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,r){const n=this.initialized&&this[e]!==r,i=super._set(e,r);return this.exactBoundingBox&&n&&((e===Yn||e===Ri)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(re({},super.toObject(e)),{},{points:this.points.map((r=>{let{x:n,y:i}=r;return{x:n,y:i}}))})}_toSVG(){const e=[],r=this.pathOffset.x,n=this.pathOffset.y,i=Ct.NUM_FRACTION_DIGITS;for(let a=0,o=this.points.length;a<o;a++)e.push(Xt(this.points[a].x-r,i),",",Xt(this.points[a].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-i);for(let a=0;a<r;a++){const o=this.points[a];e.lineTo(o.x-n,o.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,r,n){return new this(j8(e.getAttribute("points")),re(re({},ar(Ns(e,this.ATTRIBUTE_NAMES,n),yae)),r))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}te(Ki,"ownDefaults",S8),te(Ki,"type","Polyline"),te(Ki,"layoutProperties",[Zd,Qd,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),te(Ki,"cacheProperties",[...po,"points"]),te(Ki,"ATTRIBUTE_NAMES",[...ml]),ze.setClass(Ki),ze.setSVGClass(Ki);class Sh extends Ki{isOpen(){return!1}}te(Sh,"ownDefaults",S8),te(Sh,"type","Polygon"),ze.setClass(Sh),ze.setSVGClass(Sh);class C8 extends hn{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const r=e===void 0?this.styles:{line:this.styles[e]};for(const n in r)for(const i in r[n])for(const a in r[n][i])return!1;return!0}styleHas(e,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const n=r===void 0?this.styles:{0:this.styles[r]};for(const i in n)for(const a in n[i])if(n[i][a][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const r=this.styles;let n,i,a=0,o=!0,l=0;for(const c in r){n=0;for(const d in r[c]){const f=r[c][d]||{};a++,f[e]!==void 0?(i?f[e]!==i&&(o=!1):i=f[e],f[e]===this[e]&&delete f[e]):o=!1,Object.keys(f).length!==0?n++:delete r[c][d]}n===0&&delete r[c]}for(let c=0;c<this._textLines.length;c++)l+=this._textLines[c].length;o&&a===l&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const r=this.styles;let n,i,a;for(i in r){for(a in n=r[i],n)delete n[a][e],Object.keys(n[a]).length===0&&delete n[a];Object.keys(n).length===0&&delete r[i]}}_extendStyles(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const a=mk(re(re({},this._getStyleDeclaration(n,i)),r),(o=>o!==void 0));this._setStyleDeclaration(n,i,a)}getSelectionStyles(e,r,n){const i=[];for(let a=e;a<(r||e);a++)i.push(this.getStyleAtPosition(a,n));return i}getStyleAtPosition(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);return r?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(e,r,n){for(let i=r;i<(n||r);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,r){var n;const i=this.styles&&this.styles[e];return i&&(n=i[r])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,r){return re(re({},Ic(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,r))}_setStyleDeclaration(e,r,n){this.styles[e][r]=n}_deleteStyleDeclaration(e,r){delete this.styles[e][r]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}te(C8,"_styleProperties",Vne);const xae=/  +/g,bae=/"/g;function Aj(t,e,r,n,i){return"		".concat((function(a,o){let{left:l,top:c,width:d,height:f}=o,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ct.NUM_FRACTION_DIGITS;const m=mp(Dr,a,!1),[g,j,b,y]=[l,c,d,f].map((x=>Xt(x,h)));return"<rect ".concat(m,' x="').concat(g,'" y="').concat(j,'" width="').concat(b,'" height="').concat(y,'"></rect>')})(t,{left:e,top:r,width:n,height:i}),`
`)}const wae=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Ej;class wn extends C8{static getDefaults(){return re(re({},super.getDefaults()),wn.ownDefaults)}constructor(e,r){super(),te(this,"__charBounds",[]),Object.assign(this,wn.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=Tk(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(ls)&&this.enlargeSpaces()}enlargeSpaces(){let e,r,n,i,a,o,l;for(let c=0,d=this._textLines.length;c<d;c++)if((this.textAlign===ls||c!==d-1&&!this.isEndOfWrapping(c))&&(i=0,a=this._textLines[c],r=this.getLineWidth(c),r<this.width&&(l=this.textLines[c].match(this._reSpacesAndTabs)))){n=l.length,e=(this.width-r)/n;for(let f=0;f<=a.length;f++)o=this.__charBounds[c][f],this._reSpaceAndTab.test(a[f])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,r){const n=r?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),r=this.fontSize;return e.width+=r*e.zoomX,e.height+=r*e.zoomY,e}_render(e){const r=this.path;r&&!r.isNotVisible()&&r._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Xn?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,r,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case ot:e.textBaseline="middle";break;case"ascender":e.textBaseline=ui;break;case"descender":e.textBaseline=j_}e.font=this._getFontDeclaration(r,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let r=1,n=this._textLines.length;r<n;r++){const i=this.getLineWidth(r);i>e&&(e=i)}return e}_renderTextLine(e,r,n,i,a,o){this._renderChars(e,r,n,i,a,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=e.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let a=0,o=this._textLines.length;a<o;a++){const l=this.getHeightOfLine(a);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",a)){i+=l;continue}const c=this._textLines[a].length,d=this._getLineLeftOffset(a);let f,h,m=0,g=0,j=this.getValueOfPropertyAt(a,0,"textBackgroundColor");const b=this.getHeightOfLineImpl(a);for(let y=0;y<c;y++){const x=this.__charBounds[a][y];h=this.getValueOfPropertyAt(a,y,"textBackgroundColor"),this.path?(e.save(),e.translate(x.renderLeft,x.renderTop),e.rotate(x.angle),e.fillStyle=h,h&&e.fillRect(-x.width/2,-b*(1-this._fontSizeFraction),x.width,b),e.restore()):h!==j?(f=n+d+g,this.direction==="rtl"&&(f=this.width-f-m),e.fillStyle=j,j&&e.fillRect(f,i,m,b),g=x.left,m=x.width,j=h):m+=x.kernedWidth}h&&!this.path&&(f=n+d+g,this.direction==="rtl"&&(f=this.width-f-m),e.fillStyle=h,e.fillRect(f,i,m,b)),i+=l}e.fillStyle=r,this._removeShadow(e)}_measureChar(e,r,n,i){const a=Hu.getFontCache(r),o=this._getFontDeclaration(r),l=n+e,c=n&&o===this._getFontDeclaration(i),d=r.fontSize/this.CACHE_FONT_SIZE;let f,h,m,g;if(n&&a.has(n)&&(m=a.get(n)),a.has(e)&&(g=f=a.get(e)),c&&a.has(l)&&(h=a.get(l),g=h-m),f===void 0||m===void 0||h===void 0){const j=(function(){return Ej||(Ej=di({width:0,height:0}).getContext("2d")),Ej})();this._setTextStyles(j,r,!0),f===void 0&&(g=f=j.measureText(e).width,a.set(e,f)),m===void 0&&c&&n&&(m=j.measureText(n).width,a.set(n,m)),c&&h===void 0&&(h=j.measureText(l).width,a.set(l,h),g=h-m)}return{width:f*d,kernedWidth:g*d}}getHeightOfChar(e,r){return this.getValueOfPropertyAt(e,r,"fontSize")}measureLine(e){const r=this._measureLine(e);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(e){let r,n,i=0;const a=this.pathSide===Pr,o=this.path,l=this._textLines[e],c=l.length,d=new Array(c);this.__charBounds[e]=d;for(let f=0;f<c;f++){const h=l[f];n=this._getGraphemeBox(h,e,f,r),d[f]=n,i+=n.kernedWidth,r=h}if(d[c]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let f=0;const h=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Ht:f=a?h-i:0;break;case ot:f=(h-i)/2;break;case Pr:f=a?0:h-i}f+=this.pathStartOffset*(a?-1:1);for(let m=a?c-1:0;a?m>=0:m<c;a?m--:m++)n=d[m],f>h?f%=h:f<0&&(f+=h),this._setGraphemeOnPath(f,n),f+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,r){const n=e+r.kernedWidth/2,i=this.path,a=u8(i.path,n,i.segmentsInfo);r.renderLeft=a.x-i.pathOffset.x,r.renderTop=a.y-i.pathOffset.y,r.angle=a.angle+(this.pathSide===Pr?Math.PI:0)}_getGraphemeBox(e,r,n,i,a){const o=this.getCompleteStyleDeclaration(r,n),l=i?this.getCompleteStyleDeclaration(r,n-1):{},c=this._measureChar(e,o,i,l);let d,f=c.kernedWidth,h=c.width;this.charSpacing!==0&&(d=this._getWidthOfCharSpacing(),h+=d,f+=d);const m={width:h,left:0,height:o.fontSize,kernedWidth:f,deltaY:o.deltaY};if(n>0&&!a){const g=this.__charBounds[r][n-1];m.left=g.left+g.width+c.kernedWidth-c.width}return m}getHeightOfLineImpl(e){const r=this.__lineHeights;if(r[e])return r[e];let n=this.getHeightOfChar(e,0);for(let i=1,a=this._textLines[e].length;i<a;i++)n=Math.max(this.getHeightOfChar(e,i),n);return r[e]=n*this._fontSizeMult}getHeightOfLine(e){return this.getHeightOfLineImpl(e)*this.lineHeight}calcTextHeight(){let e=0;for(let r=0,n=this._textLines.length;r<n;r++)e+=r===n-1?this.getHeightOfLineImpl(r):this.getHeightOfLine(r);return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,r){e.save();let n=0;const i=this._getLeftOffset(),a=this._getTopOffset();for(let o=0,l=this._textLines.length;o<l;o++)this._renderTextLine(r,e,this._textLines[o],i+this._getLineLeftOffset(o),a+n+this.getHeightOfLineImpl(o),o),n+=this.getHeightOfLine(o);e.restore()}_renderTextFill(e){(this.fill||this.styleHas(Dr))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,r,n,i,a,o){const l=this.textAlign.includes(ls),c=this.path,d=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!c,f=this.direction==="ltr",h=this.direction==="ltr"?1:-1,m=r.direction;let g,j,b,y,x,S="",_=0;if(r.save(),m!==this.direction&&(r.canvas.setAttribute("dir",f?"ltr":"rtl"),r.direction=f?"ltr":"rtl",r.textAlign=f?Ht:Pr),a-=this.getHeightOfLineImpl(o)*this._fontSizeFraction,d)return this._renderChar(e,r,o,0,n.join(""),i,a),void r.restore();for(let P=0,C=n.length-1;P<=C;P++)y=P===C||this.charSpacing||c,S+=n[P],b=this.__charBounds[o][P],_===0?(i+=h*(b.kernedWidth-b.width),_+=b.width):_+=b.kernedWidth,l&&!y&&this._reSpaceAndTab.test(n[P])&&(y=!0),y||(g=g||this.getCompleteStyleDeclaration(o,P),j=this.getCompleteStyleDeclaration(o,P+1),y=w0(g,j,!1)),y&&(c?(r.save(),r.translate(b.renderLeft,b.renderTop),r.rotate(b.angle),this._renderChar(e,r,o,P,S,-_/2,0),r.restore()):(x=i,this._renderChar(e,r,o,P,S,x,a)),S="",g=j,i+=h*_,_=0);r.restore()}_applyPatternGradientTransformText(e){const r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=di({width:r,height:n}),a=i.getContext("2d");return i.width=r,i.height=n,a.beginPath(),a.moveTo(0,0),a.lineTo(r,0),a.lineTo(r,n),a.lineTo(0,n),a.closePath(),a.translate(r/2,n/2),a.fillStyle=e.toLive(a),this._applyPatternGradientTransform(a,e),a.fill(),a.createPattern(i,"no-repeat")}handleFiller(e,r,n){let i,a;return ea(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,a=-this.height/2,e.translate(i,a),e[r]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:a}):(e[r]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[r]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,r){let{stroke:n,strokeWidth:i}=r;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,r){let{fill:n}=r;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,r,n,i,a,o,l){const c=this._getStyleDeclaration(n,i),d=this.getCompleteStyleDeclaration(n,i),f=e==="fillText"&&d.fill,h=e==="strokeText"&&d.stroke&&d.strokeWidth;if(h||f){if(r.save(),r.font=this._getFontDeclaration(d),c.textBackgroundColor&&this._removeShadow(r),c.deltaY&&(l+=c.deltaY),f){const m=this._setFillStyles(r,d);r.fillText(a,o-m.offsetX,l-m.offsetY)}if(h){const m=this._setStrokeStyles(r,d);r.strokeText(a,o-m.offsetX,l-m.offsetY)}r.restore()}}setSuperscript(e,r){this._setScript(e,r,this.superscript)}setSubscript(e,r){this._setScript(e,r,this.subscript)}_setScript(e,r,n){const i=this.get2DCursorLocation(e,!0),a=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),l={fontSize:a*n.size,deltaY:o+a*n.baseline};this.setSelectionStyles(l,e,r)}_getLineLeftOffset(e){const r=this.getLineWidth(e),n=this.width-r,i=this.textAlign,a=this.direction,o=this.isEndOfWrapping(e);let l=0;return i===ls||i===Xh&&!o||i===Gh&&!o||i===yy&&!o?0:(i===ot&&(l=n/2),i===Pr&&(l=n),i===Xh&&(l=n/2),i===Gh&&(l=n),a==="rtl"&&(i===Pr||i===ls||i===Gh?l=0:i===Ht||i===yy?l=-n:i!==ot&&i!==Xh||(l=-n/2)),l)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:r}=this.measureLine(e);return this.__lineWidths[e]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,r,n){var i;return(i=this._getStyleDeclaration(e,r)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(e,r){if(!this[r]&&!this.styleHas(r))return;let n=this._getTopOffset();const i=this._getLeftOffset(),a=this.path,o=this._getWidthOfCharSpacing(),l=r==="linethrough"?.5:r==="overline"?1:0,c=this.offsets[r];for(let d=0,f=this._textLines.length;d<f;d++){const h=this.getHeightOfLine(d);if(!this[r]&&!this.styleHas(r,d)){n+=h;continue}const m=this._textLines[d],g=h/this.lineHeight,j=this._getLineLeftOffset(d);let b=0,y=0,x=this.getValueOfPropertyAt(d,0,r),S=this.getValueOfPropertyAt(d,0,Dr),_=this.getValueOfPropertyAt(d,0,yc),P=x,C=S,O=_;const k=n+g*(1-this._fontSizeFraction);let A=this.getHeightOfChar(d,0),M=this.getValueOfPropertyAt(d,0,"deltaY");for(let B=0,$=m.length;B<$;B++){const q=this.__charBounds[d][B];P=this.getValueOfPropertyAt(d,B,r),C=this.getValueOfPropertyAt(d,B,Dr),O=this.getValueOfPropertyAt(d,B,yc);const F=this.getHeightOfChar(d,B),G=this.getValueOfPropertyAt(d,B,"deltaY");if(a&&P&&C){const E=this.fontSize*O/1e3;e.save(),e.fillStyle=S,e.translate(q.renderLeft,q.renderTop),e.rotate(q.angle),e.fillRect(-q.kernedWidth/2,c*F+G-l*E,q.kernedWidth,E),e.restore()}else if((P!==x||C!==S||F!==A||O!==_||G!==M)&&y>0){const E=this.fontSize*_/1e3;let U=i+j+b;this.direction==="rtl"&&(U=this.width-U-y),x&&S&&_&&(e.fillStyle=S,e.fillRect(U,k+c*A+M-l*E,y,E)),b=q.left,y=q.width,x=P,_=O,S=C,A=F,M=G}else y+=q.kernedWidth}let D=i+j+b;this.direction==="rtl"&&(D=this.width-D-y),e.fillStyle=C;const L=this.fontSize*O/1e3;P&&C&&O&&e.fillRect(D,k+c*A+M-l*L,y-o,L),n+=h}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||wn.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[r,n,"".concat(a?this.CACHE_FONT_SIZE:i,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return b0(e)}_splitTextIntoLines(e){const r=e.split(this._reNewline),n=new Array(r.length),i=[`
`];let a=[];for(let o=0;o<r.length;o++)n[o]=this.graphemeSplit(r[o]),a=a.concat(n[o],i);return a.pop(),{_unwrappedLines:n,lines:r,graphemeText:a,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(re({},super.toObject([...N6,...e])),{},{styles:K6(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,r){const{textLayoutProperties:n}=this.constructor;super.set(e,r);let i=!1,a=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),i=i||n.includes(o),a=a||o==="path";else i=n.includes(e),a=e==="path";return a&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,r,n){const i=Ns(e,wn.ATTRIBUTE_NAMES,n),a=re(re({},r),i),{textAnchor:o=Ht,textDecoration:l="",dx:c=0,dy:d=0,top:f=0,left:h=0,fontSize:m=sk,strokeWidth:g=1}=a,j=ar(a,wae),b=new this(vy(e.textContent||"").trim(),re({left:h+c,top:f+d,underline:l.includes("underline"),overline:l.includes("overline"),linethrough:l.includes("line-through"),strokeWidth:0,fontSize:m},j)),y=b.getScaledHeight()/b.height,x=((b.height+b.strokeWidth)*b.lineHeight-b.height)*y,S=b.getScaledHeight()+x;let _=0;return o===ot&&(_=b.getScaledWidth()/2),o===Pr&&(_=b.getScaledWidth()),b.set({left:b.left-_,top:b.top-(S-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:g}),b}static fromObject(e){return this._fromObject(re(re({},e),{},{styles:J6(e.styles||{},e.text)}),{extraParam:"text"})}}te(wn,"textLayoutProperties",C6),te(wn,"cacheProperties",[...po,...N6]),te(wn,"ownDefaults",Gne),te(wn,"type","Text"),te(wn,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),te(wn,"ATTRIBUTE_NAMES",ml.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),q6(wn,[class extends w6{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),r=this.path;return r?e+r._createBaseSVGMarkup(r._toSVG(),{reviver:t,withShadow:!0,additionalTransform:nd(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:r}=t;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(bae,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const r=[],n=[];let i,a=t;this.backgroundColor&&n.push(...Aj(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,l=this._textLines.length;o<l;o++)i=this._getLineLeftOffset(o),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,e+i,a),this._setSVGTextLineText(r,o,e+i,a),a+=this.getHeightOfLine(o);return{textSpans:r,textBgRects:n}}_createTextCharSpan(t,e,r,n,i){const a=Ct.NUM_FRACTION_DIGITS,o=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(xae)),l=o?'style="'.concat(o,'"'):"",c=e.deltaY,d=c?' dy="'.concat(Xt(c,a),'" '):"",{angle:f,renderLeft:h,renderTop:m,width:g}=i;let j="";if(h!==void 0){const b=g/2;f&&(j=' rotate="'.concat(Xt(xs(f),a),'"'));const y=Rc({angle:xs(f)});y[4]=h,y[5]=m;const x=new he(-b,0).transform(y);r=x.x,n=x.y}return'<tspan x="'.concat(Xt(r,a),'" y="').concat(Xt(n,a),'" ').concat(d).concat(j).concat(l,">").concat(Y6(t),"</tspan>")}_setSVGTextLineText(t,e,r,n){const i=this.getHeightOfLine(e),a=this.textAlign.includes(ls),o=this._textLines[e];let l,c,d,f,h,m="",g=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let j=0,b=o.length-1;j<=b;j++)h=j===b||this.charSpacing||this.path,m+=o[j],d=this.__charBounds[e][j],g===0?(r+=d.kernedWidth-d.width,g+=d.width):g+=d.kernedWidth,a&&!h&&this._reSpaceAndTab.test(o[j])&&(h=!0),h||(l=l||this.getCompleteStyleDeclaration(e,j),c=this.getCompleteStyleDeclaration(e,j+1),h=w0(l,c,!0)),h&&(f=this._getStyleDeclaration(e,j),t.push(this._createTextCharSpan(m,f,r,n,d)),m="",l=c,this.direction==="rtl"?r-=g:r+=g,g=0)}_setSVGTextLineBg(t,e,r,n){const i=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight;let o,l=0,c=0,d=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let f=0;f<i.length;f++){const{left:h,width:m,kernedWidth:g}=this.__charBounds[e][f];o=this.getValueOfPropertyAt(e,f,"textBackgroundColor"),o!==d?(d&&t.push(...Aj(d,r+c,n,l,a)),c=h,l=m,d=o):l+=g}o&&t.push(...Aj(d,r+c,n,l,a))}_getSVGLineTopOffset(t){let e,r=0;for(e=0;e<t;e++)r+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," text-decoration-thickness: ").concat(Xt(this.textDecorationThickness*this.getObjectScaling().y/10,Ct.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:r,strokeWidth:n,stroke:i,fill:a,fontSize:o,fontStyle:l,fontWeight:c,deltaY:d,textDecorationThickness:f,linethrough:h,overline:m,underline:g}=t,j=this.getSvgTextDecoration({underline:g??this.underline,overline:m??this.overline,linethrough:h??this.linethrough}),b=f||this.textDecorationThickness;return[i?mp(Xn,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",l?"font-style: ".concat(l,"; "):"",c?"font-weight: ".concat(c,"; "):"",j?"text-decoration: ".concat(j,"; text-decoration-thickness: ").concat(Xt(b*this.getObjectScaling().y/10,Ct.NUM_FRACTION_DIGITS),"%; "):"",a?mp(Dr,a):"",d?"baseline-shift: ".concat(-d,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter((e=>t[e.replace("-","")])).join(" ")}}]),ze.setClass(wn),ze.setSVGClass(wn);class jae{constructor(e){te(this,"target",void 0),te(this,"__mouseDownInPlace",!1),te(this,"__dragStartFired",!1),te(this,"__isDraggingOver",!1),te(this,"__dragStartSelection",void 0),te(this,"__dragImageDisposer",void 0),te(this,"_dispose",void 0),this.target=e;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach((n=>n())),this._dispose=void 0}}isPointerOverSelection(e){const r=this.target,n=r.getSelectionStartFromPointer(e);return r.isEditing&&n>=r.selectionStart&&n<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,r){var n;let{selectionStart:i,selectionEnd:a}=r;const o=this.target,l=o.canvas,c=new he(o.flipX?-1:1,o.flipY?-1:1),d=o._getCursorBoundaries(i),f=new he(d.left+d.leftOffset,d.top+d.topOffset).multiply(c).transform(o.calcTransformMatrix()),h=l.getScenePoint(e).subtract(f),m=o.getCanvasRetinaScaling(),g=o.getBoundingRect(),j=f.subtract(new he(g.left,g.top)),b=l.viewportTransform,y=j.add(h).transform(b,!0),x=o.backgroundColor,S=Ok(o.styles);o.backgroundColor="";const _={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(_,0,i),o.setSelectionStyles(_,a,o.text.length),o.dirty=!0;const P=o.toCanvasElement({enableRetinaScaling:l.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=x,o.styles=S,o.dirty=!0,_y(P,{position:"fixed",left:"".concat(-P.width,"px"),border:Gn,width:"".concat(P.width/m,"px"),height:"".concat(P.height/m,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{P.remove()},Na(e.target||this.target.hiddenTextarea).body.appendChild(P),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(P,y.x,y.y)}onDragStart(e){this.__dragStartFired=!0;const r=this.target,n=this.isActive();if(n&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},a=r._text.slice(i.selectionStart,i.selectionEnd).join(""),o=re({text:r.text,value:a},i);e.dataTransfer.setData("text/plain",a),e.dataTransfer.setData("application/fabric",JSON.stringify({value:a,styles:r.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return r.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return r<n.selectionStart||r>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:r}=e;const n=this.targetCanDrop(r);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:r}=e,n=this.targetCanDrop(r);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var r;const{e:n}=e,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let a=(r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(a&&!i){const o=this.target,l=o.canvas;let c=o.getSelectionStartFromPointer(n);const{styles:d}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},f=a[Math.max(0,a.length-1)],h=0;if(this.__dragStartSelection){const m=this.__dragStartSelection.selectionStart,g=this.__dragStartSelection.selectionEnd;c>m&&c<=g?c=m:c>g&&(c-=g-m),o.removeChars(m,g),delete this.__dragStartSelection}o._reNewline.test(f)&&(o._reNewline.test(o._text[c])||c===o._text.length)&&(a=a.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(a,d,c),l.setActiveObject(o),o.enterEditing(n),o.selectionStart=Math.min(c+h,o._text.length),o.selectionEnd=Math.min(o.selectionStart+a.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(hy,{index:c+h,action:"drop"}),l.fire("text:changed",{target:o}),l.contextTopDirty=!0,l.requestRenderAll()}}dragEndHandler(e){let{e:r}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,a=this.target.canvas,{selectionStart:o,selectionEnd:l}=this.__dragStartSelection,c=((n=r.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||Gn;c===Gn?(i.selectionStart=o,i.selectionEnd=l,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),c==="move"&&(i.removeChars(o,l),i.selectionStart=i.selectionEnd=o,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(hy,{index:o,action:"dragend"}),a.fire("text:changed",{target:i}),a.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const hD=/[ \n\.,;!\?\-]/;class Sae extends wn{constructor(){super(...arguments),te(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:r,duration:n,delay:i,onComplete:a}=e;return Ck({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:a,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach((r=>{r&&!r.isDone()&&(e=!0,r.abort())})),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((e=>!e||e.isDone()))&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let r=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n--;for(;/\S/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findWordBoundaryRight(e){let r=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}findLineBoundaryLeft(e){let r=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findLineBoundaryRight(e){let r=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}searchWordBoundary(e,r){const n=this._text;let i=e>0&&this._reSpace.test(n[e])&&(r===-1||!ok.test(n[e-1]))?e-1:e,a=n[i];for(;i>0&&i<n.length&&!hD.test(a);)i+=r,a=n[i];return r===-1&&hD.test(a)&&i++,i}selectWord(e){var r;e=(r=e)!==null&&r!==void 0?r:this.selectionStart;const n=this.searchWordBoundary(e,-1),i=Math.max(n,this.searchWordBoundary(e,1));this.selectionStart=n,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var r;e=(r=e)!==null&&r!==void 0?r:this.selectionStart;const n=this.findLineBoundaryLeft(e),i=this.findLineBoundaryRight(e);this.selectionStart=n,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const r=this.hiddenTextarea;Na(r).activeElement!==r&&r.focus();const n=this.getSelectionStartFromPointer(e),i=this.selectionStart,a=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==a||i!==n&&a!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===a||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,r,n){const i=n.slice(0,e),a=this.graphemeSplit(i).length;if(e===r)return{selectionStart:a,selectionEnd:a};const o=n.slice(e,r);return{selectionStart:a,selectionEnd:a+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,r,n){const i=n.slice(0,e).join("").length;return e===r?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,a=n.charIndex,o=this.getValueOfPropertyAt(i,a,"fontSize")*this.lineHeight,l=r.leftOffset,c=this.getCanvasRetinaScaling(),d=this.canvas.upperCanvasEl,f=d.width/c,h=d.height/c,m=f-o,g=h-o,j=new he(r.left+l,r.top+r.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new he(d.clientWidth/f,d.clientHeight/h));return j.x<0&&(j.x=0),j.x>m&&(j.x=m),j.y<0&&(j.y=0),j.y>g&&(j.y=g),j.x+=this.canvas._offset.left,j.y+=this.canvas._offset.top,{left:"".concat(j.x,"px"),top:"".concat(j.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(py),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:a,charIndex:o}=this.get2DCursorLocation(r,!0);if(n!==a){if(this.styles[n])for(let l=i;l<this._unwrappedTextLines[n].length;l++)delete this.styles[n][l];if(this.styles[a])for(let l=o;l<this._unwrappedTextLines[a].length;l++){const c=this.styles[a][l];c&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+l-o]=c)}for(let l=n+1;l<=a;l++)delete this.styles[l];this.shiftLineStyles(a,n-a)}else if(this.styles[n]){const l=this.styles[n],c=o-i;for(let d=i;d<o;d++)delete l[d];for(const d in this.styles[n]){const f=parseInt(d,10);f>=o&&(l[f-c]=l[d],delete l[d])}}}shiftLineStyles(e,r){const n=Object.assign({},this.styles);for(const i in this.styles){const a=parseInt(i,10);a>e&&(this.styles[a+r]=n[a],n[a-r]||delete this.styles[a])}}insertNewlineStyleObject(e,r,n,i){const a={},o=this._unwrappedTextLines[e].length,l=o===r;let c=!1;n||(n=1),this.shiftLineStyles(e,n);const d=this.styles[e]?this.styles[e][r===0?r:r-1]:void 0;for(const h in this.styles[e]){const m=parseInt(h,10);m>=r&&(c=!0,a[m-r]=this.styles[e][h],l&&r===0||delete this.styles[e][h])}let f=!1;for(c&&!l&&(this.styles[e+n]=a,f=!0),(f||o>r)&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:re({},i[n-1])}:d?this.styles[e+n]={0:re({},d)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,r,n,i){this.styles||(this.styles={});const a=this.styles[e],o=a?re({},a):{};n||(n=1);for(const c in o){const d=parseInt(c,10);d>=r&&(a[d+n]=o[d],o[d-n]||delete a[d])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=re({},i[n]));return}if(!a)return;const l=a[r?r-1:1];for(;l&&n--;)this.styles[e][r+n]=re({},l)}insertNewStyleBlock(e,r,n){const i=this.get2DCursorLocation(r,!0),a=[0];let o,l=0;for(let c=0;c<e.length;c++)e[c]===`
`?(l++,a[l]=0):a[l]++;for(a[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,a[0],n),n=n&&n.slice(a[0]+1)),l&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+a[0],l),o=1;o<l;o++)a[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,a[o],n):n&&this.styles[i.lineIndex+o]&&n[0]&&(this.styles[i.lineIndex+o][0]=n[0]),n=n&&n.slice(a[o]+1);a[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,a[o],n)}removeChars(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,r),this._text.splice(e,r-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const a=this.graphemeSplit(e);this.insertNewStyleBlock(a,n,r),this._text=[...this._text.slice(0,n),...a,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,r,n){n<=e?(r===e?this._selectionDirection=Ht:this._selectionDirection===Pr&&(this._selectionDirection=Ht,this.selectionEnd=e),this.selectionStart=n):n>e&&n<r?this._selectionDirection===Pr?this.selectionEnd=n:this.selectionStart=n:(r===e?this._selectionDirection=Pr:this._selectionDirection===Ht&&(this._selectionDirection=Pr,this.selectionStart=r),this.selectionEnd=n)}}class Cae extends Sae{initHiddenTextarea(){const e=this.canvas&&Na(this.canvas.getElement())||Dc(),r=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off",name:"fabricTextarea"}).map((o=>{let[l,c]=o;return r.setAttribute(l,c)}));const{top:n,left:i,fontSize:a}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(a,";"),(this.hiddenTextareaContainer||e.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((o=>{let[l,c]=o;return r.addEventListener(l,this[c].bind(this))})),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in r)this[r[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const r=this.fromPaste,{value:n,selectionStart:i,selectionEnd:a}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(hy),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const l=this._splitTextIntoLines(n).graphemeText,c=this._text.length,d=l.length,f=this.selectionStart,h=this.selectionEnd,m=f!==h;let g,j,b,y,x=d-c;const S=this.fromStringToGraphemeSelection(i,a,n),_=f>S.selectionStart;m?(j=this._text.slice(f,h),x+=h-f):d<c&&(j=_?this._text.slice(h+x,h):this._text.slice(f,f-x));const P=l.slice(S.selectionEnd-x,S.selectionEnd);if(j&&j.length&&(P.length&&(g=this.getSelectionStyles(f,f+1,!1),g=P.map((()=>g[0]))),m?(b=f,y=h):_?(b=h-j.length,y=h):(b=h,y=h+j.length),this.removeStyleFromTo(b,y)),P.length){const{copyPasteData:C}=Ra();r&&P.join("")===C.copiedText&&!Ct.disableStyleCopyPaste&&(g=C.copiedTextStyle),this.insertNewStyleBlock(P,f,g)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:r}=e;const{selectionStart:n,selectionEnd:i}=r;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Ra();e.copiedText=this.getSelectedText(),Ct.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,r){let n,i=this._getLineLeftOffset(e);return r>0&&(n=this.__charBounds[e][r-1],i+=n.left+n.width),i}getDownCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),a=i.lineIndex;if(a===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const o=i.charIndex,l=this._getWidthBeforeCursor(a,o),c=this._getIndexOnLine(a+1,l);return this._textLines[a].slice(o).length+c+1+this.missingNewlineOffset(a)}_getSelectionForOffset(e,r){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),a=i.lineIndex;if(a===0||e.metaKey||e.keyCode===33)return-n;const o=i.charIndex,l=this._getWidthBeforeCursor(a,o),c=this._getIndexOnLine(a-1,l),d=this._textLines[a].slice(0,o),f=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+c-d.length+(1-f)}_getIndexOnLine(e,r){const n=this._textLines[e];let i,a,o=this._getLineLeftOffset(e),l=0;for(let c=0,d=n.length;c<d;c++)if(i=this.__charBounds[e][c].width,o+=i,o>r){a=!0;const f=o-i,h=o,m=Math.abs(f-r);l=Math.abs(h-r)<m?c:c-1;break}return a||(l=n.length-1),l}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,r){const n=this["get".concat(e,"CursorOffset")](r,this._selectionDirection===Pr);if(r.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=xc(0,this.selectionStart,i),this.selectionEnd=xc(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const r=this._selectionDirection===Ht?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,r,n){let i;if(e.altKey)i=this["findWordBoundary".concat(n)](this[r]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[r]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[r])}return i!==void 0&&this[r]!==i&&(this[r]=i,!0)}_moveLeft(e,r){return this._move(e,r,"Left")}_moveRight(e,r){return this._move(e,r,"Right")}moveCursorLeftWithoutShift(e){let r=!0;return this._selectionDirection=Ht,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(e){return this._selectionDirection===Pr&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ht,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,r){const n="moveCursor".concat(e).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Ht&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Pr,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let r=!0;return this._selectionDirection=Pr,this.selectionStart===this.selectionEnd?(r=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}}const pD=t=>!!t.button;class Nae extends Cae{constructor(){super(...arguments),te(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new jae(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:r,alreadySelected:n}=e;this.canvas&&this.editable&&!pD(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),n&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=n||this.isEditing)))}mouseUpHandler(e){let{e:r,transform:n}=e;const i=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const a=this.canvas._activeObject;if(a&&a!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||pD(r)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const r=this.canvas.getScenePoint(e).transform(li(this.calcTransformMatrix())).add(new he(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,a=0;for(let d=0;d<this._textLines.length&&n<=r.y;d++)n+=this.getHeightOfLine(d),a=d,d>0&&(i+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));let o=Math.abs(this._getLineLeftOffset(a));const l=this._textLines[a].length,c=this.__charBounds[a];for(let d=0;d<l;d++){const f=o+c[d].kernedWidth;if(r.x<=f){Math.abs(r.x-f)<=Math.abs(r.x-o)&&i++;break}o=f,i++}return Math.min(this.flipX?l-i:i,this._text.length)}}const uv="moveCursorUp",dv="moveCursorDown",fv="moveCursorLeft",hv="moveCursorRight",pv="exitEditing",mD=(t,e)=>{const r=e.getRetinaScaling();t.setTransform(r,0,0,r,0,0);const n=e.viewportTransform;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])},_ae=re({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:pv,27:pv,33:uv,34:dv,35:hv,36:fv,37:fv,38:uv,39:hv,40:dv},keysMapRtl:{9:pv,27:pv,33:uv,34:dv,35:fv,36:hv,37:hv,38:uv,39:fv,40:dv},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class ka extends Nae{static getDefaults(){return re(re({},super.getDefaults()),ka.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,r){super(e,re(re({},ka.ownDefaults),r)),this.initBehavior()}_set(e,r){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=r,this):(e==="canvas"&&(this.canvas instanceof vp&&this.canvas.textEditingManager.remove(this),r instanceof vp&&r.textEditingManager.add(this)),super._set(e,r))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,r){this[e]!==r&&(this._fireSelectionChanged(),this[e]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,r,n)}setSelectionStyles(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,r,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,r)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const r=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=r,n}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const r=this._getCursorBoundaries(),n=this.findAncestorsWithClipPath(),i=n.length>0;let a,o=e;if(i){a=di(e.canvas),o=a.getContext("2d"),mD(o,this.canvas);const l=this.calcTransformMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,r):this.renderCursor(o,r),i)for(const l of n){const c=l.clipPath,d=di(e.canvas),f=d.getContext("2d");if(mD(f,this.canvas),!c.absolutePositioned){const h=l.calcTransformMatrix();f.transform(h[0],h[1],h[2],h[3],h[4],h[5])}c.transform(f),c.drawObject(f,!0,{}),this.drawClipPathOnCache(o,c,d)}i&&(e.setTransform(1,0,0,1,0,0),e.drawImage(a,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let r=this;for(;r;)r.clipPath&&e.push(r),r=r.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),a=this._getCursorBoundariesOffsets(e,r);return{left:n,top:i,leftOffset:a.left,topOffset:a.top}}_getCursorBoundariesOffsets(e,r){return r?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let r=0,n=0;const{charIndex:i,lineIndex:a}=this.get2DCursorLocation(e);for(let d=0;d<a;d++)r+=this.getHeightOfLine(d);const o=this._getLineLeftOffset(a),l=this.__charBounds[a][i];l&&(n=l.left),this.charSpacing!==0&&i===this._textLines[a].length&&(n-=this._getWidthOfCharSpacing());const c={top:r,left:o+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Pr||this.textAlign===ls||this.textAlign===Gh?c.left*=-1:this.textAlign===Ht||this.textAlign===yy?c.left=o-(n>0?n:0):this.textAlign!==ot&&this.textAlign!==Xh||(c.left=o-(n>0?n:0))),c}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,r){this._renderCursor(e,r,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),i=n.lineIndex,a=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,a,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),c=this.cursorWidth/l,d=this.getValueOfPropertyAt(i,a,"deltaY"),f=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,a,"fill"),opacity:this._currentCursorOpacity,left:r.left+r.leftOffset-c/2,top:f+r.top+d,width:c,height:o}}_renderCursor(e,r,n){const{color:i,opacity:a,left:o,top:l,width:c,height:d}=this.getCursorRenderingData(n,r);e.fillStyle=i,e.globalAlpha=a,e.fillRect(o,l,c,d)}renderSelection(e,r){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,r)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const r=this.getSelectionStartFromPointer(e);this.renderCursorAt(r)}_renderSelection(e,r,n){const i=r.selectionStart,a=r.selectionEnd,o=this.textAlign.includes(ls),l=this.get2DCursorLocation(i),c=this.get2DCursorLocation(a),d=l.lineIndex,f=c.lineIndex,h=l.charIndex<0?0:l.charIndex,m=c.charIndex<0?0:c.charIndex;for(let g=d;g<=f;g++){const j=this._getLineLeftOffset(g)||0;let b=this.getHeightOfLine(g),y=0,x=0,S=0;if(g===d&&(x=this.__charBounds[d][h].left),g>=d&&g<f)S=o&&!this.isEndOfWrapping(g)?this.width:this.getLineWidth(g)||5;else if(g===f)if(m===0)S=this.__charBounds[f][m].left;else{const k=this._getWidthOfCharSpacing();S=this.__charBounds[f][m-1].left+this.__charBounds[f][m-1].width-k}y=b,(this.lineHeight<1||g===f&&this.lineHeight>1)&&(b/=this.lineHeight);let _=n.left+j+x,P=b,C=0;const O=S-x;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",P=1,C=b):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Pr||this.textAlign===ls||this.textAlign===Gh?_=this.width-_-O:this.textAlign===Ht||this.textAlign===yy?_=n.left+j-S:this.textAlign!==ot&&this.textAlign!==Xh||(_=n.left+j-S)),e.fillRect(_,n.top+n.topOffset+C,O,P),n.topOffset+=y}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,Dr)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),r=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:r}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}te(ka,"ownDefaults",_ae),te(ka,"type","IText"),ze.setClass(ka),ze.setClass(ka,"i-text");class Ko extends ka{static getDefaults(){return re(re({},super.getDefaults()),Ko.ownDefaults)}constructor(e,r){super(e,re(re({},Ko.ownDefaults),r))}static createControls(){return{controls:U6()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(ls)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let r=0,n=0,i=0;const a={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[i]===`
`&&o>0?(n=0,i++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(n++,i++),a[o]={line:r,offset:n},i+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return a}styleHas(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[r];n&&(r=n.line)}return super.styleHas(e,r)}isEmptyStyles(e){if(!this.styles)return!0;let r,n=0,i=e+1,a=!1;const o=this._styleMap[e],l=this._styleMap[e+1];o&&(e=o.line,n=o.offset),l&&(i=l.line,a=i===e,r=l.offset);const c=e===void 0?this.styles:{line:this.styles[e]};for(const d in c)for(const f in c[d]){const h=parseInt(f,10);if(h>=n&&(!a||h<r))for(const m in c[d][f])return!1}return!0}_getStyleDeclaration(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,r=n.offset+r}return super._getStyleDeclaration(e,r)}_setStyleDeclaration(e,r,n){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+r,n)}_deleteStyleDeclaration(e,r){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+r)}_getLineStyle(e){const r=this._styleMap[e];return!!this.styles[r.line]}_setLineStyle(e){const r=this._styleMap[e];super._setLineStyle(r.line)}_wrapText(e,r){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),i=[];for(let a=0;a<n.wordsData.length;a++)i.push(...this._wrapLine(a,r,n));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const r=this.splitByGrapheme,n=r?"":" ";let i=0;return{wordsData:e.map(((a,o)=>{let l=0;const c=r?this.graphemeSplit(a):this.wordSplit(a);return c.length===0?[{word:[],width:0}]:c.map((d=>{const f=r?[d]:this.graphemeSplit(d),h=this._measureWord(f,o,l);return i=Math.max(h,i),l+=f.length+n.length,{word:f,width:h}}))})),largestWordWidth:i}}_measureWord(e,r){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=0;for(let o=0,l=e.length;o<l;o++)a+=this._getGraphemeBox(e[o],r,o+i,n,!0).kernedWidth,n=e[o];return a}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,r,n){let{largestWordWidth:i,wordsData:a}=n,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const l=this._getWidthOfCharSpacing(),c=this.splitByGrapheme,d=[],f=c?"":" ";let h=0,m=[],g=0,j=0,b=!0;r-=o;const y=Math.max(r,i,this.dynamicMinWidth),x=a[e];let S;for(g=0,S=0;S<x.length;S++){const{word:_,width:P}=x[S];g+=_.length,h+=j+P-l,h>y&&!b?(d.push(m),m=[],h=P,b=!0):h+=l,b||c||m.push(f),m=m.concat(_),j=c?0:this._measureWord([f],e,g),g++,b=!1}return S&&d.push(m),i+o>this.dynamicMinWidth&&(this.dynamicMinWidth=i-l+o),d}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const r=super._splitTextIntoLines(e),n=this._wrapText(r.lines,this.width),i=new Array(n.length);for(let a=0;a<n.length;a++)i[a]=n[a].join("");return r.lines=i,r.graphemeLines=n,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const r in this._styleMap){const n=parseInt(r,10);if(this._textLines[n]){const i=this._styleMap[r].line;e.set("".concat(i),!0)}}for(const r in this.styles)e.has(r)||delete this.styles[r]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}te(Ko,"type","Textbox"),te(Ko,"textLayoutProperties",[...ka.textLayoutProperties,"width"]),te(Ko,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),ze.setClass(Ko);class R_ extends Nm{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,r){const{target:n}=e,{clipPath:i,group:a}=n;if(!i||!this.shouldPerformLayout(e))return;const{width:o,height:l}=ps(t8(n,i)),c=new he(o,l);if(i.absolutePositioned)return{center:Ks(i.getRelativeCenterPoint(),void 0,a?a.calcTransformMatrix():void 0),size:c};{const d=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:f=new he,correction:h=new he}=this.calcBoundingBox(r,e)||{};return{center:f.add(d),correction:h.subtract(d),size:c}}return{center:n.getRelativeCenterPoint().add(d),size:c}}}}te(R_,"type","clip-path"),ze.setClass(R_);class I_ extends Nm{getInitialSize(e,r){let{target:n}=e,{size:i}=r;return new he(n.width||i.x,n.height||i.y)}}te(I_,"type","fixed"),ze.setClass(I_);class Oae extends sd{subscribeTargets(e){const r=e.target;e.targets.reduce(((n,i)=>(i.parent&&n.add(i.parent),n)),new Set).forEach((n=>{n.layoutManager.subscribeTargets({target:n,targets:[r]})}))}unsubscribeTargets(e){const r=e.target,n=r.getObjects();e.targets.reduce(((i,a)=>(a.parent&&i.add(a.parent),i)),new Set).forEach((i=>{!n.some((a=>a.parent===i))&&i.layoutManager.unsubscribeTargets({target:i,targets:[r]})}))}}class Jo extends Ei{static getDefaults(){return re(re({},super.getDefaults()),Jo.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Jo.ownDefaults),this.setOptions(r);const{left:n,top:i,layoutManager:a}=r;this.groupInit(e,{left:n,top:i,layoutManager:a??new Oae})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach((i=>{const a=this._objects.findIndex((l=>l.isInFrontOf(i))),o=a===-1?this.size():a;this.insertAt(o,i)}))}canEnterGroup(e){return this.getObjects().some((r=>r.isDescendantOf(e)||e.isDescendantOf(r)))?(ao("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,r){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,r)}exitGroup(e,r){this._exitGroup(e,r),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,r){super._onAfterObjectsChange(e,r);const n=new Set;r.forEach((i=>{const{parent:a}=i;a&&n.add(a)})),e===kk?n.forEach((i=>{i._onAfterObjectsChange(jy,r)})):n.forEach((i=>{i._set("dirty",!0)}))}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,r,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=re(re({hasControls:!1},n),{},{forActiveSelection:!0});for(let a=0;a<this._objects.length;a++)this._objects[a]._renderControls(e,i);super._renderControls(e,r),e.restore()}}te(Jo,"type","ActiveSelection"),te(Jo,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),ze.setClass(Jo),ze.setClass(Jo,"activeSelection");class N8{constructor(){te(this,"resources",{})}applyFilters(e,r,n,i,a){const o=a.getContext("2d");if(!o)return;o.drawImage(r,0,0,n,i);const l={sourceWidth:n,sourceHeight:i,imageData:o.getImageData(0,0,n,i),originalEl:r,originalImageData:o.getImageData(0,0,n,i),canvasEl:a,ctx:o,filterBackend:this};e.forEach((d=>{d.applyTo(l)}));const{imageData:c}=l;return c.width===n&&c.height===i||(a.width=c.width,a.height=c.height),o.putImageData(c,0,0),l}}class xp{constructor(){let{tileSize:e=Ct.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),te(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,r){this.dispose(),this.createWebGLCanvas(e,r)}createWebGLCanvas(e,r){const n=di({width:e,height:r}),i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(e,r,n,i,a,o){const l=this.gl,c=a.getContext("2d");if(!l||!c)return;let d;o&&(d=this.getCachedTexture(o,r));const f={originalWidth:r.width||r.naturalWidth||0,originalHeight:r.height||r.naturalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:l,sourceTexture:this.createTexture(l,n,i,d?void 0:r),targetTexture:this.createTexture(l,n,i),originalTexture:d||this.createTexture(l,n,i,d?void 0:r),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},h=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,h),e.forEach((m=>{m&&m.applyTo(f)})),(function(m){const g=m.targetCanvas,j=g.width,b=g.height,y=m.destinationWidth,x=m.destinationHeight;j===y&&b===x||(g.width=y,g.height=x)})(f),this.copyGLTo2D(l,f),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(f.sourceTexture),l.deleteTexture(f.targetTexture),l.deleteFramebuffer(h),c.setTransform(1,0,0,1,0,0),f}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,r,n,i,a){const{NEAREST:o,TEXTURE_2D:l,RGBA:c,UNSIGNED_BYTE:d,CLAMP_TO_EDGE:f,TEXTURE_MAG_FILTER:h,TEXTURE_MIN_FILTER:m,TEXTURE_WRAP_S:g,TEXTURE_WRAP_T:j}=e,b=e.createTexture();return e.bindTexture(l,b),e.texParameteri(l,h,a||o),e.texParameteri(l,m,a||o),e.texParameteri(l,g,f),e.texParameteri(l,j,f),i?e.texImage2D(l,0,c,c,d,i):e.texImage2D(l,0,c,r,n,0,c,d,null),b}getCachedTexture(e,r,n){const{textureCache:i}=this;if(i[e])return i[e];{const a=this.createTexture(this.gl,r.width,r.height,r,n);return a&&(i[e]=a),a}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,r){const n=e.canvas,i=r.targetCanvas,a=i.getContext("2d");if(!a)return;a.translate(0,i.height),a.scale(1,-1);const o=n.height-i.height;a.drawImage(n,0,o,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,r){const n=r.targetCanvas.getContext("2d"),i=r.destinationWidth,a=r.destinationHeight,o=i*a*4;if(!n)return;const l=new Uint8Array(this.imageBuffer,0,o),c=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,a,e.RGBA,e.UNSIGNED_BYTE,l);const d=new ImageData(c,i,a);n.putImageData(d,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,r={renderer:"",vendor:""};if(!e)return r;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),a=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),a&&(r.vendor=a.toLowerCase())}return this.gpuInfo=r,r}}let Yv;function _8(){const{WebGLProbe:t}=Ra();return t.queryWebGL(oa()),Ct.enableGLFiltering&&t.isSupported(Ct.textureSize)?new xp({tileSize:Ct.textureSize}):new N8}function Kv(){return!Yv&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Yv=_8()),Yv}function Pae(t){Yv=t}const kae=["filters","resizeFilter","src","crossOrigin","type"],O8=["cropX","cropY"];class En extends hn{static getDefaults(){return re(re({},super.getDefaults()),En.ownDefaults)}constructor(e,r){super(),te(this,"_lastScaleX",1),te(this,"_lastScaleY",1),te(this,"_filterScalingX",1),te(this,"_filterScalingY",1),this.filters=[],Object.assign(this,En.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(ll()),this.setElement(typeof e=="string"?(this.canvas&&Na(this.canvas.getElement())||Dc()).getElementById(e):e,r)}getElement(){return this._element}setElement(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),(r=e.classList)===null||r===void 0||r.add(En.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const r=Kv(!1);r instanceof xp&&r.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((e=>{const r=this[e];r&&Ra().dispose(r),this[e]=void 0}))}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,-n),e.lineTo(r,-n),e.lineTo(r,n),e.lineTo(-r,n),e.lineTo(-r,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach((n=>{n&&r.push(n.toObject())})),re(re({},super.toObject([...O8,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],r=this._element,n=-this.width/2,i=-this.height/2;let a=[],o=[],l="",c="";if(!r)return[];if(this.hasCrop()){const d=ll();a.push('<clipPath id="imageCrop_'+d+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+d+')" '}if(this.imageSmoothing||(c=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(c).concat(l,`></image>
`)),this.stroke||this.strokeDashArray){const d=this.fill;this.fill=null,o=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=d}return a=this.paintFirst!==Dr?a.concat(o,e):a.concat(e,o),a}getSrc(e){const r=e?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:r,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Vh(e,{crossOrigin:r,signal:n}).then((i=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(i)}))}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,r=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,a=n.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>r&&a>r)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=a);const l=di(o),{width:c,height:d}=o;this._element=l,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=a,Kv().applyFilters([e],o,c,d,this._element),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter((a=>a&&!a.isNeutralState())),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,n=r.naturalWidth||r.width,i=r.naturalHeight||r.height;if(this._element===this._originalElement){const a=di({width:n,height:i});this._element=a,this._filteredEl=a}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);Kv().applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const r=this._element;if(!r)return;const n=this._filterScalingX,i=this._filterScalingY,a=this.width,o=this.height,l=Math.max(this.cropX,0),c=Math.max(this.cropY,0),d=r.naturalWidth||r.width,f=r.naturalHeight||r.height,h=l*n,m=c*i,g=Math.min(a*n,d-h),j=Math.min(o*i,f-m),b=-a/2,y=-o/2,x=Math.min(a,d/n-l),S=Math.min(o,f/i-c);r&&e.drawImage(r,h,m,g,j,b,y,x,S)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=r||n.height}parsePreserveAspectRatioAttribute(){const e=bk(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n};let a,o=this._element.width,l=this._element.height,c=1,d=1,f=0,h=0,m=0,g=0;return!e||e.alignX===Gn&&e.alignY===Gn?(c=r/o,d=n/l):(e.meetOrSlice==="meet"&&(c=d=n8(this._element,i),a=(r-o*c)/2,e.alignX==="Min"&&(f=-a),e.alignX==="Max"&&(f=a),a=(n-l*d)/2,e.alignY==="Min"&&(h=-a),e.alignY==="Max"&&(h=a)),e.meetOrSlice==="slice"&&(c=d=i8(this._element,i),a=o-r/c,e.alignX==="Mid"&&(m=a/2),e.alignX==="Max"&&(m=a),a=l-n/d,e.alignY==="Mid"&&(g=a/2),e.alignY==="Max"&&(g=a),o=r/c,l=n/d)),{width:o,height:l,scaleX:c,scaleY:d,offsetLeft:f,offsetTop:h,cropX:m,cropY:g}}static fromObject(e,r){let{filters:n,resizeFilter:i,src:a,crossOrigin:o,type:l}=e,c=ar(e,kae);return Promise.all([Vh(a,re(re({},r),{},{crossOrigin:o})),n&&rd(n,r),i&&rd([i],r),Sm(c,r)]).then((d=>{let[f,h=[],[m]=[],g={}]=d;return new this(f,re(re({},c),{},{src:a,filters:h,resizeFilter:m},g))}))}static fromURL(e){let{crossOrigin:r=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return Vh(e,{crossOrigin:r,signal:n}).then((a=>new this(a,i)))}static async fromElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=Ns(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"]||i.href,r,i).catch((a=>(ao("log","Unable to parse Image",a),null)))}}function Mj(t){if(!Jne.test(t.nodeName))return{};const e=t.getAttribute("viewBox");let r,n,i=1,a=1,o=0,l=0;const c=t.getAttribute("width"),d=t.getAttribute("height"),f=t.getAttribute("x")||0,h=t.getAttribute("y")||0,m=!(e&&KM.test(e)),g=!c||!d||c==="100%"||d==="100%";let j="",b=0,y=0;if(m&&(f||h)&&t.parentNode&&t.parentNode.nodeName!=="#document"&&(j=" translate("+Bn(f||"0")+" "+Bn(h||"0")+") ",r=(t.getAttribute("transform")||"")+j,t.setAttribute("transform",r),t.removeAttribute("x"),t.removeAttribute("y")),m&&g)return{width:0,height:0};const x={width:0,height:0};if(m)return x.width=Bn(c),x.height=Bn(d),x;const S=e.match(KM);o=-parseFloat(S[1]),l=-parseFloat(S[2]);const _=parseFloat(S[3]),P=parseFloat(S[4]);x.minX=o,x.minY=l,x.viewBoxWidth=_,x.viewBoxHeight=P,g?(x.width=_,x.height=P):(x.width=Bn(c),x.height=Bn(d),i=x.width/_,a=x.height/P);const C=bk(t.getAttribute("preserveAspectRatio")||"");if(C.alignX!==Gn&&(C.meetOrSlice==="meet"&&(a=i=i>a?a:i),C.meetOrSlice==="slice"&&(a=i=i>a?i:a),b=x.width-_*i,y=x.height-P*i,C.alignX==="Mid"&&(b/=2),C.alignY==="Mid"&&(y/=2),C.alignX==="Min"&&(b=0),C.alignY==="Min"&&(y=0)),i===1&&a===1&&o===0&&l===0&&f===0&&h===0)return x;if((f||h)&&t.parentNode.nodeName!=="#document"&&(j=" translate("+Bn(f||"0")+" "+Bn(h||"0")+") "),r=j+" matrix("+i+" 0 0 "+a+" "+(o*i+b)+" "+(l*a+y)+") ",t.nodeName==="svg"){for(n=t.ownerDocument.createElementNS(N_,"g");t.firstChild;)n.appendChild(t.firstChild);t.appendChild(n)}else n=t,n.removeAttribute("x"),n.removeAttribute("y"),r=n.getAttribute("transform")+r;return n.setAttribute("transform",r),x}te(En,"type","Image"),te(En,"cacheProperties",[...po,...O8]),te(En,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),te(En,"CSS_CANVAS","canvas-img"),te(En,"ATTRIBUTE_NAMES",[...ml,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),ze.setClass(En),ze.setSVGClass(En);const Oy=t=>t.tagName.replace("svg:",""),Tae=v0(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);function P8(t,e){let r,n,i,a,o=[];for(i=0,a=e.length;i<a;i++)r=e[i],n=t.getElementsByTagNameNS("http://www.w3.org/2000/svg",r),o=o.concat(Array.from(n));return o}const Aae=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Dj="xlink:href";function k8(t,e){var r;const n=((r=e.getAttribute(Dj))===null||r===void 0?void 0:r.slice(1))||"",i=t.getElementById(n);if(i&&i.getAttribute(Dj)&&k8(t,i),i&&(Aae.forEach((a=>{const o=i.getAttribute(a);!e.hasAttribute(a)&&o&&e.setAttribute(a,o)})),!e.children.length)){const a=i.cloneNode(!0);for(;a.firstChild;)e.appendChild(a.firstChild)}e.removeAttribute(Dj)}const Eae=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"];function T8(t){const e=t.getElementsByTagName("style"),r={};for(let n=0;n<e.length;n++){const i=(e[n].textContent||"").replace(/\/\*[\s\S]*?\*\//g,"");i.trim()!==""&&i.split("}").filter(((a,o,l)=>l.length>1&&a.trim())).forEach((a=>{if((a.match(/{/g)||[]).length>1&&a.trim().startsWith("@"))return;const o=a.split("{"),l={},c=o[1].trim().split(";").filter((function(d){return d.trim()}));for(let d=0;d<c.length;d++){const f=c[d].split(":"),h=f[0].trim(),m=f[1].trim();l[h]=m}(a=o[0].trim()).split(",").forEach((d=>{(d=d.replace(/^svg/i,"").trim())!==""&&(r[d]=re(re({},r[d]||{}),l))}))}))}return r}const gD=t=>ze.getSVGClass(Oy(t).toLowerCase());class Mae{constructor(e,r,n,i,a){this.elements=e,this.options=r,this.reviver=n,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=i,this.clipPaths=a,this.gradientDefs=(function(o){const l=P8(o,Eae),c={};let d=l.length;for(;d--;){const f=l[d];f.getAttribute("xlink:href")&&k8(o,f);const h=f.getAttribute("id");h&&(c[h]=f)}return c})(i),this.cssRules=T8(i)}parse(){return Promise.all(this.elements.map((e=>this.createObject(e))))}async createObject(e){const r=gD(e);if(r){const n=await r.fromElement(e,this.options,this.cssRules);return this.resolveGradient(n,e,Dr),this.resolveGradient(n,e,Xn),n instanceof En&&n._originalElement?Xv(n,n.parsePreserveAspectRatioAttribute()):Xv(n),await this.resolveClipPath(n,e),this.reviver&&this.reviver(e,n),n}return null}extractPropertyDefinition(e,r,n){const i=e[r],a=this.regexUrl;if(!a.test(i))return;a.lastIndex=0;const o=a.exec(i)[1];return a.lastIndex=0,n[o]}resolveGradient(e,r,n){const i=this.extractPropertyDefinition(e,n,this.gradientDefs);if(i){const a=r.getAttribute(n+"-opacity"),o=Mu.fromElement(i,e,re(re({},this.options),{},{opacity:a}));e.set(n,o)}}async resolveClipPath(e,r,n){const i=this.extractPropertyDefinition(e,"clipPath",this.clipPaths);if(i){const a=li(e.calcTransformMatrix()),o=i[0].parentElement;let l=r;for(;!n&&l.parentElement&&l.getAttribute("clip-path")!==e.clipPath;)l=l.parentElement;l.parentElement.appendChild(o);const c=gp("".concat(l.getAttribute("transform")||""," ").concat(o.getAttribute("originalTransform")||""));o.setAttribute("transform","matrix(".concat(c.join(","),")"));const d=await Promise.all(i.map((S=>gD(S).fromElement(S,this.options,this.cssRules).then((_=>(Xv(_),_.fillRule=_.clipRule,delete _.clipRule,_)))))),f=d.length===1?d[0]:new Ei(d),h=yr(a,f.calcTransformMatrix());f.clipPath&&await this.resolveClipPath(f,l,o.getAttribute("clip-path")?l:void 0);const{scaleX:m,scaleY:g,angle:j,skewX:b,translateX:y,translateY:x}=vc(h);f.set({flipX:!1,flipY:!1}),f.set({scaleX:m,scaleY:g,angle:j,skewX:b,skewY:0}),f.setPositionByOrigin(new he(y,x),ot,ot),e.clipPath=f}else delete e.clipPath}}const vD=t=>Kne.test(Oy(t)),L_=()=>({objects:[],elements:[],options:{},allElements:[]});async function Ek(t,e){let{crossOrigin:r,signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n&&n.aborted)return ao("log",new ik("parseSVGDocument")),L_();const i=t.documentElement;(function(f){const h=P8(f,["use","svg:use"]),m=["x","y","xlink:href","href","transform"];for(const g of h){const j=g.attributes,b={};for(const M of j)M.value&&(b[M.name]=M.value);const y=(b["xlink:href"]||b.href||"").slice(1);if(y==="")return;const x=f.getElementById(y);if(x===null)return;let S=x.cloneNode(!0);const _=S.attributes,P={};for(const M of _)M.value&&(P[M.name]=M.value);const{x:C=0,y:O=0,transform:k=""}=b,A="".concat(k," ").concat(P.transform||""," translate(").concat(C,", ").concat(O,")");if(Mj(S),/^svg$/i.test(S.nodeName)){const M=S.ownerDocument.createElementNS(N_,"g");Object.entries(P).forEach((D=>{let[L,B]=D;return M.setAttributeNS(N_,L,B)})),M.append(...S.childNodes),S=M}for(const M of j){if(!M)continue;const{name:D,value:L}=M;if(!m.includes(D))if(D==="style"){const B={};A_(L,B),Object.entries(P).forEach((q=>{let[F,G]=q;B[F]=G})),A_(P.style||"",B);const $=Object.entries(B).map((q=>q.join(":"))).join(";");S.setAttribute(D,$)}else!P[D]&&S.setAttribute(D,L)}S.setAttribute("transform",A),S.setAttribute("instantiated_by_use","1"),S.removeAttribute("id"),g.parentNode.replaceChild(S,g)}})(t);const a=Array.from(i.getElementsByTagName("*")),o=re(re({},Mj(i)),{},{crossOrigin:r,signal:n}),l=a.filter((f=>(Mj(f),vD(f)&&!(function(h){let m=h;for(;m&&(m=m.parentElement);)if(m&&m.nodeName&&Tae.test(Oy(m))&&!m.getAttribute("instantiated_by_use"))return!0;return!1})(f))));if(!l||l&&!l.length)return re(re({},L_()),{},{options:o,allElements:a});const c={};return a.filter((f=>Oy(f)==="clipPath")).forEach((f=>{f.setAttribute("originalTransform",f.getAttribute("transform")||"");const h=f.getAttribute("id");c[h]=Array.from(f.getElementsByTagName("*")).filter((m=>vD(m)))})),{objects:await new Mae(l,o,e,t,c).parse(),elements:l,options:o,allElements:a}}function Dae(t,e,r){return Ek(new(Oa()).DOMParser().parseFromString(t.trim(),"text/xml"),e,r)}function Rae(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(((n,i)=>{h8(t.replace(/^\n\s*/,"").trim(),{onComplete:a=>{const o=a.responseXML;o&&n(o),i()},signal:r.signal})})).then((n=>Ek(n,e,r))).catch((()=>L_()))}const A8=r6,yD=t=>function(e,r,n){const{points:i,pathOffset:a}=n;return new he(i[t]).subtract(a).transform(yr(n.getViewportTransform(),n.calcTransformMatrix()))},E8=(t,e,r,n)=>{const{target:i,pointIndex:a}=e,o=i,l=Ks(new he(r,n),void 0,o.calcOwnMatrix());return o.points[a]=l.add(o.pathOffset),o.setDimensions(),o.set("dirty",!0),!0},M8=(t,e)=>function(r,n,i,a){const o=n.target,l=new he(o.points[(t>0?t:o.points.length)-1]),c=l.subtract(o.pathOffset).transform(o.calcOwnMatrix()),d=e(r,re(re({},n),{},{pointIndex:t}),i,a),f=l.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(c);return o.left-=f.x,o.top-=f.y,d},xD=t=>pl(A8,M8(t,E8)),z_=(t,e,r)=>{const{path:n,pathOffset:i}=t,a=n[e];return new he(a[r]-i.x,a[r+1]-i.y).transform(yr(t.getViewportTransform(),t.calcTransformMatrix()))};function Iae(t,e,r){const{commandIndex:n,pointIndex:i}=this;return z_(r,n,i)}function Lae(t,e,r,n){const{target:i}=e,{commandIndex:a,pointIndex:o}=this,l=((c,d,f,h,m)=>{const{path:g,pathOffset:j}=c,b=g[(h>0?h:g.length)-1],y=new he(b[m],b[m+1]),x=y.subtract(j).transform(c.calcOwnMatrix()),S=Ks(new he(d,f),void 0,c.calcOwnMatrix());g[h][m]=S.x+j.x,g[h][m+1]=S.y+j.y,c.setDimensions();const _=y.subtract(c.pathOffset).transform(c.calcOwnMatrix()).subtract(x);return c.left-=_.x,c.top-=_.y,c.set("dirty",!0),!0})(i,r,n,a,o);return yk(this.actionName,re(re({},xk(t,e,r,n)),{},{commandIndex:a,pointIndex:o})),l}class D8 extends si{constructor(e){super(e)}render(e,r,n,i,a){const o=re(re({},i),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(e,r,n,o,a)}}class zae extends D8{constructor(e){super(e)}render(e,r,n,i,a){const{path:o}=a,{commandIndex:l,pointIndex:c,connectToCommandIndex:d,connectToPointIndex:f}=this;e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray);const[h]=o[l],m=z_(a,d,f);if(h==="Q"){const g=z_(a,l,c+2);e.moveTo(g.x,g.y),e.lineTo(r,n)}else e.moveTo(r,n);e.lineTo(m.x,m.y),e.stroke(),e.restore(),super.render(e,r,n,i,a)}}const mv=(t,e,r,n,i,a)=>new(r?zae:D8)(re(re({commandIndex:t,pointIndex:e,actionName:"modifyPath",positionHandler:Iae,actionHandler:Lae,connectToCommandIndex:i,connectToPointIndex:a},n),r?n.controlPointStyle:n.pointStyle));var Fae=Object.freeze({__proto__:null,changeWidth:P_,createObjectDefaultControls:_k,createPathControls:function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={};let n="M";return t.path.forEach(((i,a)=>{const o=i[0];switch(o!=="Z"&&(r["c_".concat(a,"_").concat(o)]=mv(a,i.length-2,!1,e)),o){case"C":r["c_".concat(a,"_C_CP_1")]=mv(a,1,!0,e,a-1,(l=>l==="C"?5:l==="Q"?3:1)(n)),r["c_".concat(a,"_C_CP_2")]=mv(a,3,!0,e,a,5);break;case"Q":r["c_".concat(a,"_Q_CP_1")]=mv(a,1,!0,e,a,3)}n=o})),r},createPolyActionHandler:xD,createPolyControls:function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={};for(let n=0;n<(typeof t=="number"?t:t.points.length);n++)r["p".concat(n)]=new si(re({actionName:A8,positionHandler:yD(n),actionHandler:xD(n)},e));return r},createPolyPositionHandler:yD,createResizeControls:W6,createTextboxDefaultControls:U6,dragHandler:b6,factoryPolyActionHandler:M8,getLocalPoint:g0,polyActionHandler:E8,renderCircleControl:A6,renderSquareControl:E6,rotationStyleHandler:M6,rotationWithSnapping:D6,scaleCursorStyleHandler:Au,scaleOrSkewActionName:jh,scaleSkewCursorStyleHandler:rc,scalingEqually:wh,scalingX:L6,scalingXOrSkewingY:k_,scalingY:z6,scalingYOrSkewingX:T_,skewCursorStyleHandler:F6,skewHandlerX:B6,skewHandlerY:H6,wrapWithFireEvent:pl,wrapWithFixedAnchor:Lc});const _m=t=>t.webgl!==void 0,$ae=(t,e)=>{const r=di({width:t,height:e}),n=oa().getContext("webgl"),i={imageBuffer:new ArrayBuffer(t*e*4)},a={destinationWidth:t,destinationHeight:e,targetCanvas:r};let o;o=Oa().performance.now(),xp.prototype.copyGLTo2D.call(i,n,a);const l=Oa().performance.now()-o;return o=Oa().performance.now(),xp.prototype.copyGLTo2DPutImageData.call(i,n,a),l>Oa().performance.now()-o},Mk="precision highp float",Bae=`
    `.concat(Mk,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),Hae=["type"],Wae=["type"],Uae=new RegExp(Mk,"g");class Lr{get type(){return this.constructor.type}constructor(){let e=ar(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Hae);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return Bae}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=Ra();i!=="highp"&&(r=r.replace(Uae,Mk.replace("highp",i)));const a=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),l=e.createProgram();if(!a||!o||!l)throw new ds("Vertex, fragment shader or program creation error");if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new ds("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new ds("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(l,a),e.attachShader(l,o),e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw new ds('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(l)));const c=this.getUniformLocations(e,l)||{};return c.uStepW=e.getUniformLocation(l,"uStepW"),c.uStepH=e.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:this.getAttributeLocations(e,l),uniformLocations:c}}getAttributeLocations(e,r){return{aPosition:e.getAttribLocation(r,"aPosition")}}getUniformLocations(e,r){const n=this.constructor.uniformLocations,i={};for(let a=0;a<n.length;a++)i[n[a]]=e.getUniformLocation(r,n[a]);return i}sendAttributeData(e,r,n){const i=r.aPosition,a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const r=e.context;if(e.passes>1){const n=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===i||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,n,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(e){e.passes--,e.pass++;const r=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=r}isNeutralState(e){return!1}applyTo(e){_m(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const r=this.getCacheKey();return e.programCache[r]||(e.programCache[r]=this.createProgram(e.context)),e.programCache[r]}applyToWebGL(e){const r=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?r.bindTexture(r.TEXTURE_2D,e.originalTexture):r.bindTexture(r.TEXTURE_2D,e.sourceTexture),r.useProgram(n.program),this.sendAttributeData(r,n.attributeLocations,e.aPosition),r.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),r.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(r,n.uniformLocations),r.viewport(0,0,e.destinationWidth,e.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,r,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,r),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,r){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:r,sourceHeight:n}=e,i=di({width:r,height:n});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return re({type:this.type},e.reduce(((r,n)=>(r[n]=this[n],r)),{}))}toJSON(){return this.toObject()}static async fromObject(e,r){return new this(ar(e,Wae))}}te(Lr,"type","BaseFilter"),te(Lr,"uniformLocations",[]);const qae={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Ch extends Lr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(qae[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:r}}=e;const n=new kt(this.color).getSource(),i=this.alpha,a=n[0]*i,o=n[1]*i,l=n[2]*i,c=1-i;for(let d=0;d<r.length;d+=4){const f=r[d],h=r[d+1],m=r[d+2];let g,j,b;switch(this.mode){case"multiply":g=f*a/255,j=h*o/255,b=m*l/255;break;case"screen":g=255-(255-f)*(255-a)/255,j=255-(255-h)*(255-o)/255,b=255-(255-m)*(255-l)/255;break;case"add":g=f+a,j=h+o,b=m+l;break;case"difference":g=Math.abs(f-a),j=Math.abs(h-o),b=Math.abs(m-l);break;case"subtract":g=f-a,j=h-o,b=m-l;break;case"darken":g=Math.min(f,a),j=Math.min(h,o),b=Math.min(m,l);break;case"lighten":g=Math.max(f,a),j=Math.max(h,o),b=Math.max(m,l);break;case"overlay":g=a<128?2*f*a/255:255-2*(255-f)*(255-a)/255,j=o<128?2*h*o/255:255-2*(255-h)*(255-o)/255,b=l<128?2*m*l/255:255-2*(255-m)*(255-l)/255;break;case"exclusion":g=a+f-2*a*f/255,j=o+h-2*o*h/255,b=l+m-2*l*m/255;break;case"tint":g=a+f*c,j=o+h*c,b=l+m*c}r[d]=g,r[d+1]=j,r[d+2]=b}}sendUniformData(e,r){const n=new kt(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(r.uColor,n)}}te(Ch,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),te(Ch,"type","BlendColor"),te(Ch,"uniformLocations",["uColor"]),ze.setClass(Ch);const Vae={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},Gae=["type","image"];class Nh extends Lr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Vae[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const r=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(e,r){return e.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const e=this.image,{width:r,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}applyTo2d(e){let{imageData:{data:r,width:n,height:i},filterBackend:{resources:a}}=e;const o=this.image;a.blendImage||(a.blendImage=oa());const l=a.blendImage,c=l.getContext("2d");l.width!==n||l.height!==i?(l.width=n,l.height=i):c.clearRect(0,0,n,i),c.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),c.drawImage(o.getElement(),0,0,n,i);const d=c.getImageData(0,0,n,i).data;for(let f=0;f<r.length;f+=4){const h=r[f],m=r[f+1],g=r[f+2],j=r[f+3],b=d[f],y=d[f+1],x=d[f+2],S=d[f+3];switch(this.mode){case"multiply":r[f]=h*b/255,r[f+1]=m*y/255,r[f+2]=g*x/255,r[f+3]=j*S/255;break;case"mask":r[f+3]=S}}}sendUniformData(e,r){const n=this.calculateMatrix();e.uniform1i(r.uImage,1),e.uniformMatrix3fv(r.uTransformMatrix,!1,n)}toObject(){return re(re({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,r){let{type:n,image:i}=e,a=ar(e,Gae);return En.fromObject(i,r).then((o=>new this(re(re({},a),{},{image:o}))))}}te(Nh,"type","BlendImage"),te(Nh,"defaults",{mode:"multiply",alpha:1}),te(Nh,"uniformLocations",["uTransformMatrix","uImage"]),ze.setClass(Nh);class _h extends Lr{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){_m(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;this.aspectRatio=n/i,this.horizontal=!0;let a=this.getBlurValue()*n;const o=new Uint8ClampedArray(r),l=15,c=4*n;for(let d=0;d<r.length;d+=4){let f=0,h=0,m=0,g=0,j=0;const b=d-d%c,y=b+c;for(let x=-14;x<l;x++){const S=x/l,_=4*Math.floor(a*S),P=1-Math.abs(S);let C=d+_;C<b?C=b:C>y&&(C=y);const O=r[C+3]*P;f+=r[C]*O,h+=r[C+1]*O,m+=r[C+2]*O,g+=O,j+=P}o[d]=f/g,o[d+1]=h/g,o[d+2]=m/g,o[d+3]=g/j}this.horizontal=!1,a=this.getBlurValue()*i;for(let d=0;d<o.length;d+=4){let f=0,h=0,m=0,g=0,j=0;const b=d%c,y=o.length-c+b;for(let x=-14;x<l;x++){const S=x/l,_=Math.floor(a*S)*c,P=1-Math.abs(S);let C=d+_;C<b?C=b:C>y&&(C=y);const O=o[C+3]*P;f+=o[C]*O,h+=o[C+1]*O,m+=o[C+2]*O,g+=O,j+=P}r[d]=f/g,r[d+1]=h/g,r[d+2]=m/g,r[d+3]=g/j}}sendUniformData(e,r){const n=this.chooseRightDelta();e.uniform2fv(r.uDelta,n)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:r,aspectRatio:n}=this;return r?n>1&&(e=1/n):n<1&&(e=n),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}te(_h,"type","Blur"),te(_h,"defaults",{blur:0}),te(_h,"uniformLocations",["uDelta"]),ze.setClass(_h);class Oh extends Lr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.round(255*this.brightness);for(let i=0;i<r.length;i+=4)r[i]+=n,r[i+1]+=n,r[i+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(e,r){e.uniform1f(r.uBrightness,this.brightness)}}te(Oh,"type","Brightness"),te(Oh,"defaults",{brightness:0}),te(Oh,"uniformLocations",["uBrightness"]),ze.setClass(Oh);const R8={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class ic extends Lr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const r=e.imageData.data,n=this.matrix,i=this.colorsOnly;for(let a=0;a<r.length;a+=4){const o=r[a],l=r[a+1],c=r[a+2];if(r[a]=o*n[0]+l*n[1]+c*n[2]+255*n[4],r[a+1]=o*n[5]+l*n[6]+c*n[7]+255*n[9],r[a+2]=o*n[10]+l*n[11]+c*n[12]+255*n[14],!i){const d=r[a+3];r[a]+=d*n[3],r[a+1]+=d*n[8],r[a+2]+=d*n[13],r[a+3]=o*n[15]+l*n[16]+c*n[17]+d*n[18]+255*n[19]}}}sendUniformData(e,r){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],a=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(r.uColorMatrix,!1,i),e.uniform4fv(r.uConstants,a)}toObject(){return re(re({},super.toObject()),{},{matrix:[...this.matrix]})}}function zc(t,e){var r;const n=(te(r=class extends ic{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),te(r,"defaults",{colorsOnly:!1,matrix:e}),r);return ze.setClass(n,t),n}te(ic,"type","ColorMatrix"),te(ic,"defaults",R8),te(ic,"uniformLocations",["uColorMatrix","uConstants"]),ze.setClass(ic);const Xae=zc("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),Yae=zc("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),Kae=zc("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),Jae=zc("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),Zae=zc("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),Qae=zc("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),ese=zc("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class F_ extends Lr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){_m(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach((r=>{r.applyTo(e)}))}toObject(){return{type:this.type,subFilters:this.subFilters.map((e=>e.toObject()))}}isNeutralState(){return!this.subFilters.some((e=>!e.isNeutralState()))}static fromObject(e,r){return Promise.all((e.subFilters||[]).map((n=>ze.getClass(n.type).fromObject(n,r)))).then((n=>new this({subFilters:n})))}}te(F_,"type","Composed"),ze.setClass(F_);class Ph extends Lr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let a=0;a<r.length;a+=4)r[a]=i*(r[a]-128)+128,r[a+1]=i*(r[a+1]-128)+128,r[a+2]=i*(r[a+2]-128)+128}sendUniformData(e,r){e.uniform1f(r.uContrast,this.contrast)}}te(Ph,"type","Contrast"),te(Ph,"defaults",{contrast:0}),te(Ph,"uniformLocations",["uContrast"]),ze.setClass(Ph);const tse={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class kh extends Lr{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return tse[this.getCacheKey()]}applyTo2d(e){const r=e.imageData,n=r.data,i=this.matrix,a=Math.round(Math.sqrt(i.length)),o=Math.floor(a/2),l=r.width,c=r.height,d=e.ctx.createImageData(l,c),f=d.data,h=this.opaque?1:0;let m,g,j,b,y,x,S,_,P,C,O,k,A;for(O=0;O<c;O++)for(C=0;C<l;C++){for(y=4*(O*l+C),m=0,g=0,j=0,b=0,A=0;A<a;A++)for(k=0;k<a;k++)S=O+A-o,x=C+k-o,S<0||S>=c||x<0||x>=l||(_=4*(S*l+x),P=i[A*a+k],m+=n[_]*P,g+=n[_+1]*P,j+=n[_+2]*P,h||(b+=n[_+3]*P));f[y]=m,f[y+1]=g,f[y+2]=j,f[y+3]=h?n[y+3]:b}e.imageData=d}sendUniformData(e,r){e.uniform1fv(r.uMatrix,this.matrix)}toObject(){return re(re({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}te(kh,"type","Convolute"),te(kh,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),te(kh,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),ze.setClass(kh);const I8="Gamma";class Th extends Lr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.gamma,i=1/n[0],a=1/n[1],o=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const l=this.rgbValues;for(let c=0;c<256;c++)l.r[c]=255*Math.pow(c/255,i),l.g[c]=255*Math.pow(c/255,a),l.b[c]=255*Math.pow(c/255,o);for(let c=0;c<r.length;c+=4)r[c]=l.r[r[c]],r[c+1]=l.g[r[c+1]],r[c+2]=l.b[r[c+2]]}sendUniformData(e,r){e.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:I8,gamma:this.gamma.concat()}}}te(Th,"type",I8),te(Th,"defaults",{gamma:[1,1,1]}),te(Th,"uniformLocations",["uGamma"]),ze.setClass(Th);const rse={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Ah extends Lr{applyTo2d(e){let{imageData:{data:r}}=e;for(let n,i=0;i<r.length;i+=4){const a=r[i],o=r[i+1],l=r[i+2];switch(this.mode){case"average":n=(a+o+l)/3;break;case"lightness":n=(Math.min(a,o,l)+Math.max(a,o,l))/2;break;case"luminosity":n=.21*a+.72*o+.07*l}r[i+2]=r[i+1]=r[i]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return rse[this.mode]}sendUniformData(e,r){e.uniform1i(r.uMode,1)}isNeutralState(){return!1}}te(Ah,"type","Grayscale"),te(Ah,"defaults",{mode:"average"}),te(Ah,"uniformLocations",["uMode"]),ze.setClass(Ah);const nse=re(re({},R8),{},{rotation:0});class Jv extends ic{calculateMatrix(){const e=this.rotation*Math.PI,r=Ia(e),n=La(e),i=1/3,a=Math.sqrt(i)*n,o=1-r;this.matrix=[r+o/3,i*o-a,i*o+a,0,0,i*o+a,r+i*o,i*o-a,0,0,i*o-a,i*o+a,r+i*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}te(Jv,"type","HueRotation"),te(Jv,"defaults",nse),ze.setClass(Jv);class Eh extends Lr{applyTo2d(e){let{imageData:{data:r}}=e;for(let n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2],this.alpha&&(r[n+3]=255-r[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,r){e.uniform1i(r.uInvert,Number(this.invert)),e.uniform1i(r.uAlpha,Number(this.alpha))}}te(Eh,"type","Invert"),te(Eh,"defaults",{alpha:!1,invert:!0}),te(Eh,"uniformLocations",["uInvert","uAlpha"]),ze.setClass(Eh);class Mh extends Lr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.noise;for(let i=0;i<r.length;i+=4){const a=(.5-Math.random())*n;r[i]+=a,r[i+1]+=a,r[i+2]+=a}}sendUniformData(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}}te(Mh,"type","Noise"),te(Mh,"defaults",{noise:0}),te(Mh,"uniformLocations",["uNoise","uSeed"]),ze.setClass(Mh);class Dh extends Lr{applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;for(let a=0;a<i;a+=this.blocksize)for(let o=0;o<n;o+=this.blocksize){const l=4*a*n+4*o,c=r[l],d=r[l+1],f=r[l+2],h=r[l+3];for(let m=a;m<Math.min(a+this.blocksize,i);m++)for(let g=o;g<Math.min(o+this.blocksize,n);g++){const j=4*m*n+4*g;r[j]=c,r[j+1]=d,r[j+2]=f,r[j+3]=h}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,r){e.uniform1f(r.uBlocksize,this.blocksize)}}te(Dh,"type","Pixelate"),te(Dh,"defaults",{blocksize:4}),te(Dh,"uniformLocations",["uBlocksize"]),ze.setClass(Dh);class Rh extends Lr{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=255*this.distance,i=new kt(this.color).getSource(),a=[i[0]-n,i[1]-n,i[2]-n],o=[i[0]+n,i[1]+n,i[2]+n];for(let l=0;l<r.length;l+=4){const c=r[l],d=r[l+1],f=r[l+2];c>a[0]&&d>a[1]&&f>a[2]&&c<o[0]&&d<o[1]&&f<o[2]&&(r[l+3]=0)}}sendUniformData(e,r){const n=new kt(this.color).getSource(),i=this.distance,a=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],o=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];e.uniform4fv(r.uLow,a),e.uniform4fv(r.uHigh,o)}}te(Rh,"type","RemoveColor"),te(Rh,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),te(Rh,"uniformLocations",["uLow","uHigh"]),ze.setClass(Rh);class Ih extends Lr{sendUniformData(e,r){e.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let a=1;a<=n;a++)i[a-1]=e(a*r);return i}generateShader(e){const r=new Array(e);for(let n=1;n<=e;n++)r[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map(((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `))).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){_m(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return r=>{if(r>=e||r<=-e)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const n=(r*=Math.PI)/e;return Math.sin(r)/r*Math.sin(n)/n}}applyTo2d(e){const r=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const a=r.width,o=r.height,l=Math.round(a*n),c=Math.round(o*i);let d;d=this.resizeType==="sliceHack"?this.sliceByTwo(e,a,o,l,c):this.resizeType==="hermite"?this.hermiteFastResize(e,a,o,l,c):this.resizeType==="bilinear"?this.bilinearFiltering(e,a,o,l,c):this.resizeType==="lanczos"?this.lanczosResize(e,a,o,l,c):new ImageData(l,c),e.imageData=d}sliceByTwo(e,r,n,i,a){const o=e.imageData,l=.5;let c=!1,d=!1,f=r*l,h=n*l;const m=e.filterBackend.resources;let g=0,j=0;const b=r;let y=0;m.sliceByTwo||(m.sliceByTwo=oa());const x=m.sliceByTwo;(x.width<1.5*r||x.height<n)&&(x.width=1.5*r,x.height=n);const S=x.getContext("2d");for(S.clearRect(0,0,1.5*r,n),S.putImageData(o,0,0),i=Math.floor(i),a=Math.floor(a);!c||!d;)r=f,n=h,i<Math.floor(f*l)?f=Math.floor(f*l):(f=i,c=!0),a<Math.floor(h*l)?h=Math.floor(h*l):(h=a,d=!0),S.drawImage(x,g,j,r,n,b,y,f,h),g=b,j=y,y+=h;return S.getImageData(g,j,i,a)}lanczosResize(e,r,n,i,a){const o=e.imageData.data,l=e.ctx.createImageData(i,a),c=l.data,d=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,h=this.rcpScaleY,m=2/this.rcpScaleX,g=2/this.rcpScaleY,j=Math.ceil(f*this.lanczosLobes/2),b=Math.ceil(h*this.lanczosLobes/2),y={},x={x:0,y:0},S={x:0,y:0};return(function _(P){let C,O,k,A,M,D,L,B,$,q,F;for(x.x=(P+.5)*f,S.x=Math.floor(x.x),C=0;C<a;C++){for(x.y=(C+.5)*h,S.y=Math.floor(x.y),M=0,D=0,L=0,B=0,$=0,O=S.x-j;O<=S.x+j;O++)if(!(O<0||O>=r)){q=Math.floor(1e3*Math.abs(O-x.x)),y[q]||(y[q]={});for(let G=S.y-b;G<=S.y+b;G++)G<0||G>=n||(F=Math.floor(1e3*Math.abs(G-x.y)),y[q][F]||(y[q][F]=d(Math.sqrt(Math.pow(q*m,2)+Math.pow(F*g,2))/1e3)),k=y[q][F],k>0&&(A=4*(G*r+O),M+=k,D+=k*o[A],L+=k*o[A+1],B+=k*o[A+2],$+=k*o[A+3]))}A=4*(C*i+P),c[A]=D/M,c[A+1]=L/M,c[A+2]=B/M,c[A+3]=$/M}return++P<i?_(P):l})(0)}bilinearFiltering(e,r,n,i,a){let o,l,c,d,f,h,m,g,j,b,y,x,S,_=0;const P=this.rcpScaleX,C=this.rcpScaleY,O=4*(r-1),k=e.imageData.data,A=e.ctx.createImageData(i,a),M=A.data;for(m=0;m<a;m++)for(g=0;g<i;g++)for(f=Math.floor(P*g),h=Math.floor(C*m),j=P*g-f,b=C*m-h,S=4*(h*r+f),y=0;y<4;y++)o=k[S+y],l=k[S+4+y],c=k[S+O+y],d=k[S+O+4+y],x=o*(1-j)*(1-b)+l*j*(1-b)+c*b*(1-j)+d*j*b,M[_++]=x;return A}hermiteFastResize(e,r,n,i,a){const o=this.rcpScaleX,l=this.rcpScaleY,c=Math.ceil(o/2),d=Math.ceil(l/2),f=e.imageData.data,h=e.ctx.createImageData(i,a),m=h.data;for(let g=0;g<a;g++)for(let j=0;j<i;j++){const b=4*(j+g*i);let y=0,x=0,S=0,_=0,P=0,C=0,O=0;const k=(g+.5)*l;for(let A=Math.floor(g*l);A<(g+1)*l;A++){const M=Math.abs(k-(A+.5))/d,D=(j+.5)*o,L=M*M;for(let B=Math.floor(j*o);B<(j+1)*o;B++){let $=Math.abs(D-(B+.5))/c;const q=Math.sqrt(L+$*$);q>1&&q<-1||(y=2*q*q*q-3*q*q+1,y>0&&($=4*(B+A*r),O+=y*f[$+3],S+=y,f[$+3]<255&&(y=y*f[$+3]/250),_+=y*f[$],P+=y*f[$+1],C+=y*f[$+2],x+=y))}}m[b]=_/x,m[b+1]=P/x,m[b+2]=C/x,m[b+3]=O/S}return h}}te(Ih,"type","Resize"),te(Ih,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),te(Ih,"uniformLocations",["uDelta","uTaps"]),ze.setClass(Ih);class Lh extends Lr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.saturation;for(let i=0;i<r.length;i+=4){const a=r[i],o=r[i+1],l=r[i+2],c=Math.max(a,o,l);r[i]+=c!==a?(c-a)*n:0,r[i+1]+=c!==o?(c-o)*n:0,r[i+2]+=c!==l?(c-l)*n:0}}sendUniformData(e,r){e.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}te(Lh,"type","Saturation"),te(Lh,"defaults",{saturation:0}),te(Lh,"uniformLocations",["uSaturation"]),ze.setClass(Lh);class zh extends Lr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.vibrance;for(let i=0;i<r.length;i+=4){const a=r[i],o=r[i+1],l=r[i+2],c=Math.max(a,o,l),d=(a+o+l)/3,f=2*Math.abs(c-d)/255*n;r[i]+=c!==a?(c-a)*f:0,r[i+1]+=c!==o?(c-o)*f:0,r[i+2]+=c!==l?(c-l)*f:0}}sendUniformData(e,r){e.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}te(zh,"type","Vibrance"),te(zh,"defaults",{vibrance:0}),te(zh,"uniformLocations",["uVibrance"]),ze.setClass(zh);var ise=Object.freeze({__proto__:null,BaseFilter:Lr,BlackWhite:ese,BlendColor:Ch,BlendImage:Nh,Blur:_h,Brightness:Oh,Brownie:Xae,ColorMatrix:ic,Composed:F_,Contrast:Ph,Convolute:kh,Gamma:Th,Grayscale:Ah,HueRotation:Jv,Invert:Eh,Kodachrome:Kae,Noise:Mh,Pixelate:Dh,Polaroid:Zae,RemoveColor:Rh,Resize:Ih,Saturation:Lh,Sepia:Qae,Technicolor:Jae,Vibrance:zh,Vintage:Yae});const $_=Object.freeze(Object.defineProperty({__proto__:null,ActiveSelection:Jo,BaseBrush:S0,BaseFabricObject:as,Canvas:vp,Canvas2dFilterBackend:N8,CanvasDOMManager:p8,Circle:Sa,CircleBrush:hae,ClipPathLayout:R_,Color:kt,Control:si,Ellipse:ss,FabricImage:En,FabricObject:hn,FabricText:wn,FitContentLayout:Cy,FixedLayout:I_,Gradient:Mu,Group:Ei,IText:ka,Image:En,InteractiveFabricObject:ad,Intersection:lr,LayoutManager:sd,LayoutStrategy:Nm,Line:Vo,Object:hn,Observable:n6,Path:Hs,Pattern:Yh,PatternBrush:mae,PencilBrush:yp,Point:he,Polygon:Sh,Polyline:Ki,Rect:Zi,Shadow:Ai,SprayBrush:pae,StaticCanvas:tf,StaticCanvasDOMManager:gk,Text:wn,Textbox:Ko,Triangle:Yo,WebGLFilterBackend:xp,cache:Hu,classRegistry:ze,config:Ct,controlsUtils:Fae,createCollectionMixin:uk,filters:ise,getCSSRules:T8,getEnv:Ra,getFabricDocument:Dc,getFabricWindow:Oa,getFilterBackend:Kv,iMatrix:Dn,initFilterBackend:_8,isPutImageFaster:$ae,isWebGLPipelineState:_m,loadSVGFromString:Dae,loadSVGFromURL:Rae,parseAttributes:Ns,parseFontDeclaration:Z6,parsePointsAttribute:j8,parseSVGDocument:Ek,parseStyleAttribute:Q6,parseTransformAttribute:gp,runningAnimations:pp,setEnv:zne,setFilterBackend:Pae,util:Qie,version:fy},Symbol.toStringTag,{value:"Module"})),ase=t=>{const e=w.useRef(null),r=w.useRef(null),n=w.useRef(null),i=w.useRef(null),a=w.useRef(!1),[o,l]=w.useState(!1),[c,d]=w.useState("front"),[f,h]=w.useState(null),[m,g]=w.useState([]);w.useEffect(()=>{if(a.current)return;const A=e.current,M=r.current;if(!A||!M)return;a.current=!0;const D=document.createElement("canvas"),L=document.createElement("canvas");return D.width=t.canvasWidth,D.height=t.canvasHeight,L.width=t.canvasWidth,L.height=t.canvasHeight,A.appendChild(D),M.appendChild(L),n.current=new vp(D,{width:t.canvasWidth,height:t.canvasHeight,backgroundColor:"rgba(0,0,0,0)",preserveObjectStacking:!0}),i.current=new vp(L,{width:t.canvasWidth,height:t.canvasHeight,backgroundColor:"rgba(0,0,0,0)",preserveObjectStacking:!0}),j(n.current,"front"),j(i.current,"back"),l(!0),()=>{n.current&&(n.current.dispose(),n.current=null),i.current&&(i.current.dispose(),i.current=null),A.innerHTML="",M.innerHTML="",a.current=!1,l(!1)}},[t.canvasWidth,t.canvasHeight]),w.useEffect(()=>{n.current&&(n.current.setDimensions({width:t.canvasWidth,height:t.canvasHeight}),n.current.renderAll()),i.current&&(i.current.setDimensions({width:t.canvasWidth,height:t.canvasHeight}),i.current.renderAll())},[t.canvasWidth,t.canvasHeight]);const j=(A,M)=>{A.on("selection:created",D=>{c===M&&h(D.selected?.[0]||null)}),A.on("selection:updated",D=>{c===M&&h(D.selected?.[0]||null)}),A.on("selection:cleared",()=>{c===M&&h(null)}),A.on("object:modified",()=>{c===M&&(b(A),t.onModified?.())}),A.on("object:added",()=>{c===M&&(b(A),t.onModified?.())}),A.on("object:removed",()=>{c===M&&(b(A),t.onModified?.())})},b=A=>{const M=A.getObjects().filter(D=>!D.name?.includes("print-area"));g(M)},y=w.useCallback(A=>{if(A!==c){if(A==="front"){n.current?.renderAll(),b(n.current);const M=n.current?.getActiveObject();h(M||null)}else{i.current?.renderAll(),b(i.current);const M=i.current?.getActiveObject();h(M||null)}d(A)}},[c]),x=c==="front"?n.current:i.current,S=w.useCallback((A,M)=>{x&&En.fromURL(A,{crossOrigin:"anonymous"}).then(D=>{const L=Math.min(t.canvasWidth/2/(D.width||1),t.canvasHeight/2/(D.height||1));D.scale(L),D.set({left:t.canvasWidth/2,top:t.canvasHeight/2,originX:"center",originY:"center"}),x.add(D),x.setActiveObject(D),x.renderAll()})},[x,t.canvasWidth,t.canvasHeight]),_=w.useCallback((A,M)=>{if(!x)return;const D=new ka(A,{left:t.canvasWidth/2,top:t.canvasHeight/2,fontSize:M?.fontSize||40,fontFamily:M?.fontFamily||"Arial",fill:M?.fill||"#000000",fontWeight:M?.fontWeight,fontStyle:M?.fontStyle,originX:"center",originY:"center"});return x.add(D),x.setActiveObject(D),x.renderAll(),D},[x,t.canvasWidth,t.canvasHeight]),P=w.useCallback(()=>{if(!x)return;const A=x.getActiveObject();A&&(x.remove(A),x.renderAll())},[x]),C=w.useCallback(()=>{if(!x)return;x.getObjects().filter(M=>!M.name?.includes("print-area")).forEach(M=>x.remove(M)),x.renderAll()},[x]),O=w.useCallback(()=>({front:n.current?.toJSON()||null,back:i.current?.toJSON()||null}),[]),k=w.useCallback((A,M)=>{A&&n.current&&n.current.loadFromJSON(A,()=>{n.current?.renderAll()}),M&&i.current&&i.current.loadFromJSON(M,()=>{i.current?.renderAll()})},[]);return{frontContainerRef:e,backContainerRef:r,isReady:o,frontCanvas:n,backCanvas:i,activeView:c,activeCanvas:x,switchView:y,addImageToCanvas:S,addTextToCanvas:_,removeSelectedObject:P,clearCanvas:C,getDesignState:O,loadDesignState:k,selectedObject:f,canvasObjects:m}},sse=w.createContext(void 0);function ose({children:t,value:e}){return s.jsx(sse.Provider,{value:e,children:t})}function lse(){const[t,e]=w.useState(!1),[r,n]=w.useState(0),[i,a]=w.useState(null),o="dpvrv7btt",l="rfm_uploads",c=w.useCallback(async f=>f.size>10*1024*1024?{valid:!1,error:"File too large. Maximum size is 10MB."}:f.type.match(/^image\/(png|jpeg|jpg|svg\+xml)$/)?new Promise(h=>{const m=new Image,g=URL.createObjectURL(f);m.onload=()=>{URL.revokeObjectURL(g),Math.min(m.width,m.height)<2e3?h({valid:!1,error:`Image resolution too low (${m.width}${m.height}px). For print quality, images must have at least 2000px on the shortest side.`}):h({valid:!0})},m.onerror=()=>{URL.revokeObjectURL(g),h({valid:!1,error:"Failed to load image. The file may be corrupted."})},m.src=g}):{valid:!1,error:"Invalid file type. Please upload PNG, JPG, or SVG."},[]);return{uploadImage:w.useCallback(async(f,h="user_uploads")=>{e(!0),n(0),a(null);try{const m=await c(f);if(!m.valid)return a(m.error||"Invalid image"),e(!1),null;const g=new Image,j=URL.createObjectURL(f);g.src=j,await g.decode();const{width:b,height:y}=g;URL.revokeObjectURL(j);const x=new FormData;x.append("file",f),x.append("upload_preset",l),x.append("folder",`rfm_images/${h}`);const S=await fetch(`https://api.cloudinary.com/v1_1/${o}/image/upload`,{method:"POST",body:x});if(!S.ok)throw new Error("Upload failed");const _=await S.json();return n(100),e(!1),{url:_.secure_url,width:b,height:y,publicId:_.public_id}}catch(m){const g=m instanceof Error?m.message:"Failed to upload image";return a(g),e(!1),null}},[c,o,l]),validateImage:c,isUploading:t,uploadProgress:r,error:i}}const Rj="http://localhost:4000/api/canvas-resources";function cse(){const[t,e]=w.useState([]),[r,n]=w.useState([]),[i,a]=w.useState(!1),[o,l]=w.useState(null),c=async f=>{a(!0),l(null);try{const h=f?`${Rj}/graphics?category=${f}`:`${Rj}/graphics`,m=await fetch(h);if(!m.ok)throw new Error("Failed to fetch graphics");const g=await m.json();return e(g),g}catch(h){const m=h.message||"Failed to load graphics";return l(m),console.error(h),[]}finally{a(!1)}},d=async()=>{a(!0),l(null);try{const f=await fetch(`${Rj}/patterns`);if(!f.ok)throw new Error("Failed to fetch patterns");const h=await f.json();return n(h),h}catch(f){const h=f.message||"Failed to load patterns";return l(h),console.error(f),[]}finally{a(!1)}};return w.useEffect(()=>{c(),d()},[]),{graphics:t,patterns:r,loading:i,error:o,fetchGraphics:c,fetchPatterns:d}}const Vi={MARGIN:100,VIEWPORT_WIDTH:1200,VIEWPORT_HEIGHT:800,DESIGN_WIDTH:240,DESIGN_HEIGHT:280,DEFAULT_ZOOM:100};function use(){const[t,e]=w.useState(.25),[r,n]=w.useState({x:0,y:0}),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[f,h]=w.useState(!1),m=w.useRef({x:0,y:0,offsetX:0,offsetY:0}),g=w.useCallback(()=>{e(F=>Math.min(4,F+.1))},[]),j=w.useCallback(()=>{e(F=>Math.max(.25,F-.1))},[]),b=w.useCallback(F=>{e(Math.max(.25,Math.min(4,F)))},[]),y=w.useCallback(F=>{e(F/100)},[]),x=w.useCallback(()=>{e(.25),n({x:0,y:0})},[]),S=w.useCallback((F,G,E)=>{const U=Vi.DESIGN_WIDTH*(Vi.DEFAULT_ZOOM/100)*E,H=Vi.DESIGN_HEIGHT*(Vi.DEFAULT_ZOOM/100)*E,I=(Vi.VIEWPORT_WIDTH-U)/2+Vi.MARGIN,z=(Vi.VIEWPORT_HEIGHT-H)/2+Vi.MARGIN,V=-(Vi.VIEWPORT_WIDTH-U)/2-Vi.MARGIN,J=-(Vi.VIEWPORT_HEIGHT-H)/2-Vi.MARGIN;return{x:Math.max(V,Math.min(I,F)),y:Math.max(J,Math.min(z,G))}},[]),_=w.useCallback((F,G)=>{a(!0),m.current={x:F,y:G,offsetX:r.x,offsetY:r.y}},[r]),P=w.useCallback((F,G)=>{if(!i)return;const E=F-m.current.x,U=G-m.current.y,H=S(m.current.offsetX+E,m.current.offsetY+U,t);n(H)},[i,t,S]),C=w.useCallback(()=>{a(!1)},[]),O=w.useCallback(F=>{const G=F.target,E=G.tagName==="INPUT"||G.tagName==="TEXTAREA"||G.isContentEditable;(F.ctrlKey||F.metaKey)&&!E&&(F.key==="="||F.key==="+"?(F.preventDefault(),g()):F.key==="-"?(F.preventDefault(),j()):F.key==="0"&&(F.preventDefault(),b(1))),F.code==="Space"&&!E&&(document.activeElement?.classList.contains("upper-canvas")||(F.preventDefault(),l(!0)))},[g,j,b]),k=w.useCallback(F=>{F.code==="Space"&&(l(!1),h(!1),a(!1))},[]),A=w.useCallback(F=>{(F.ctrlKey||F.metaKey)&&(F.preventDefault(),F.stopPropagation(),requestAnimationFrame(()=>{const G=F.deltaY>0?-.1:.1;e(E=>Math.max(.25,Math.min(4,E+G)))}))},[]),M=w.useCallback(F=>{F.target.tagName!=="CANVAS"&&(d(!0),m.current={x:F.clientX,y:F.clientY,offsetX:r.x,offsetY:r.y})},[r]),D=w.useCallback(F=>{if(c){const G=F.clientX-m.current.x,E=F.clientY-m.current.y,U=S(m.current.offsetX+G,m.current.offsetY+E,t);n(U)}},[c,t,S]),L=w.useCallback(()=>{d(!1)},[]),B=w.useCallback(F=>{o&&(F.preventDefault(),F.stopPropagation(),h(!0),m.current={x:F.clientX,y:F.clientY,offsetX:r.x,offsetY:r.y})},[o,r]),$=w.useCallback(F=>{if(!f)return;F.preventDefault();const G=F.clientX-m.current.x,E=F.clientY-m.current.y,U=S(m.current.offsetX+G,m.current.offsetY+E,t);n(U)},[f,t,S]),q=w.useCallback(()=>{h(!1)},[]);return w.useEffect(()=>{const F=document.querySelector(".canvas-area-container");if(!F)return;const G=E=>{A(E)};return F.addEventListener("wheel",G,{passive:!1}),()=>{F.removeEventListener("wheel",G)}},[A]),{canvasScale:t,panOffset:r,isPanning:i,spaceKeyPressed:o,isPanningCanvas:c,isSpacePanning:f,zoomIn:g,zoomOut:j,setZoom:b,zoomToPreset:y,resetView:x,startPan:_,updatePan:P,endPan:C,handleCanvasMouseDown:M,handleCanvasMouseMove:D,handleCanvasMouseUp:L,handleOverlayMouseDown:B,handleOverlayMouseMove:$,handleOverlayMouseUp:q,handleKeyDown:O,handleKeyUp:k,handleWheel:A}}const gv="customizable_products",vv="http://localhost:4000";function yv(t){return t&&t.replace(/ /g,"_")}function dse(t){return{id:t.id?.toString()||"",category:t.category||"",name:t.name||"",type:t.type||"",sizes:t.sizes||[],fitType:t.fitType||"",fitDescription:t.fitDescription||"",description:t.description||"",images:(t.images||[]).map(e=>({id:e.id,url:e.url,publicId:e.publicId,type:e.type,displayOrder:e.displayOrder||0})),fabricComposition:t.fabricComposition||"",fabricWeight:t.fabricWeight||"",texture:t.texture||"",baseCost:t.baseCost||0,retailPrice:t.retailPrice||0,sizePricing:t.sizePricing||{},frontPrintCost:t.frontPrintCost||void 0,backPrintCost:t.backPrintCost||void 0,differentiationType:t.differentiationType||"none",color:t.color||void 0,variant:t.variant||void 0,sizeAvailability:t.sizeAvailability||{},printMethod:t.printMethod||"",printAreas:t.printAreas||[],designRequirements:t.designRequirements||"",turnaroundTime:t.turnaroundTime||"",minOrderQuantity:t.minOrderQuantity||1,status:t.status||"active",createdAt:t.createdAt||new Date().toISOString(),updatedAt:t.updatedAt||new Date().toISOString()}}const xv=[{id:"1",category:"T-Shirt - Round Neck",name:"Classic Round Neck Tee",type:"Unisex",sizes:["XS","S","M","L","XL","2XL"],fitType:"Classic",fitDescription:"Regular fit with comfortable cut",description:"Premium quality round neck t-shirt perfect for custom printing. Made from 100% cotton for superior comfort and durability.",images:[{url:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=500",publicId:"mock-front-1",type:"front",displayOrder:0},{url:"https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=500",publicId:"mock-back-1",type:"back",displayOrder:1}],fabricComposition:"100% Cotton",fabricWeight:"180 g/m",texture:"Soft-washed",baseCost:150,retailPrice:350,color:{name:"White",hexCode:"#FFFFFF"},printMethod:"DTG (Direct to Garment)",printAreas:["Front","Back"],designRequirements:"PNG file with transparent background, 300 DPI minimum",turnaroundTime:"3-5 business days",minOrderQuantity:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",category:"Polo Shirt",name:"Premium Polo Shirt",type:"Men",sizes:["S","M","L","XL","2XL"],fitType:"Slim Fit",fitDescription:"Tailored slim fit for modern look",description:"High-quality polo shirt with collar, perfect for corporate branding and team uniforms.",images:[{url:"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=500",publicId:"mock-front-2",type:"front",displayOrder:0},{url:"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=500",publicId:"mock-back-2",type:"back",displayOrder:1}],fabricComposition:"65% Cotton, 35% Polyester",fabricWeight:"200 g/m",texture:"Pique knit",baseCost:200,retailPrice:450,color:{name:"Gray",hexCode:"#6B7280"},printMethod:"Embroidery",printAreas:["Chest","Back"],designRequirements:"Vector files (AI, EPS) preferred for embroidery",turnaroundTime:"5-7 business days",minOrderQuantity:1,status:"inactive",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];function C0(){const[t,e]=w.useState([]),[r,n]=w.useState(!0),[i,a]=w.useState(null),o=async()=>{n(!0),a(null);try{const y=await fetch(`${vv}/api/customizable-products`);if(!y.ok)throw new Error("Failed to fetch products");const S=(await y.json()).map(dse);e(S)}catch(y){console.error("Error fetching products:",y),a(y instanceof Error?y.message:"Failed to fetch products"),l()}finally{n(!1)}},l=()=>{const y=localStorage.getItem(gv);if(y)try{const S=JSON.parse(y).map(_=>{let P={..._};if(_&&Array.isArray(_.colors)){const C=_.colors[0],{colors:O,...k}=_;P={...k,color:C?{name:C.name,hexCode:C.hexCode}:void 0}}if(_.frontImage||_.backImage||_.additionalImages){const C=[];_.frontImage&&C.push({url:_.frontImage,publicId:"migrated-front",type:"front",displayOrder:0}),_.backImage&&C.push({url:_.backImage,publicId:"migrated-back",type:"back",displayOrder:1}),Array.isArray(_.additionalImages)&&_.additionalImages.forEach((D,L)=>{C.push({url:D,publicId:`migrated-additional-${L}`,type:"additional",displayOrder:L+2})});const{frontImage:O,backImage:k,additionalImages:A,...M}=P;P={...M,images:C}}return P});e(S)}catch(x){console.error("Failed to parse products:",x),e(xv),localStorage.setItem(gv,JSON.stringify(xv))}else e(xv),localStorage.setItem(gv,JSON.stringify(xv))};w.useEffect(()=>{o()},[]),w.useEffect(()=>{!r&&t.length>0&&localStorage.setItem(gv,JSON.stringify(t))},[t,r]);const c=async y=>{try{const x={name:y.name,category:y.category,gender:y.type,fitType:yv(y.fitType),description:y.description,fabricComposition:y.fabricComposition,fabricWeight:y.fabricWeight,texture:y.texture,availableSizes:y.sizes,fitDescription:y.fitDescription,sizePricing:y.sizePricing,colorName:y.color?.name,colorHex:y.color?.hexCode,variantName:y.variant?.name,variantImageUrl:y.variant?.image,variantImagePublicId:y.variant?.publicId,printMethod:yv(y.printMethod),printAreas:y.printAreas,designRequirements:y.designRequirements,baseCost:y.baseCost,retailPrice:y.retailPrice,turnaroundTime:y.turnaroundTime,minimumOrderQty:y.minOrderQuantity,frontPrintCost:y.frontPrintCost,backPrintCost:y.backPrintCost,sizeAvailability:y.sizeAvailability,differentiationType:y.differentiationType,status:y.status,images:y.images},S=await fetch(`${vv}/api/customizable-products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!S.ok)throw new Error("Failed to create product");const _=await S.json();return e(P=>[_,...P]),_}catch(x){console.error("Error adding product:",x);const S={...y,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(_=>[S,..._]),S}},d=async(y,x)=>{try{const S={id:parseInt(y)};x.name!==void 0&&(S.name=x.name),x.category!==void 0&&(S.category=x.category),x.type!==void 0&&(S.gender=x.type),x.fitType!==void 0&&(S.fitType=yv(x.fitType)),x.description!==void 0&&(S.description=x.description),x.fabricComposition!==void 0&&(S.fabricComposition=x.fabricComposition),x.fabricWeight!==void 0&&(S.fabricWeight=x.fabricWeight),x.texture!==void 0&&(S.texture=x.texture),x.sizes!==void 0&&(S.availableSizes=x.sizes),x.fitDescription!==void 0&&(S.fitDescription=x.fitDescription),x.sizePricing!==void 0&&(S.sizePricing=x.sizePricing),x.color!==void 0&&(S.colorName=x.color.name,S.colorHex=x.color.hexCode),x.variant!==void 0&&(S.variantName=x.variant.name,S.variantImageUrl=x.variant.image,S.variantImagePublicId=x.variant.publicId),x.printMethod!==void 0&&(S.printMethod=yv(x.printMethod)),x.printAreas!==void 0&&(S.printAreas=x.printAreas),x.designRequirements!==void 0&&(S.designRequirements=x.designRequirements),x.baseCost!==void 0&&(S.baseCost=x.baseCost),x.retailPrice!==void 0&&(S.retailPrice=x.retailPrice),x.turnaroundTime!==void 0&&(S.turnaroundTime=x.turnaroundTime),x.minOrderQuantity!==void 0&&(S.minimumOrderQty=x.minOrderQuantity),x.frontPrintCost!==void 0&&(S.frontPrintCost=x.frontPrintCost),x.backPrintCost!==void 0&&(S.backPrintCost=x.backPrintCost),x.sizeAvailability!==void 0&&(S.sizeAvailability=x.sizeAvailability),x.differentiationType!==void 0&&(S.differentiationType=x.differentiationType),x.status!==void 0&&(S.status=x.status),x.images!==void 0&&(S.images=x.images);const _=await fetch(`${vv}/api/customizable-products/${y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!_.ok)throw new Error("Failed to update product");const P=await _.json();e(C=>C.map(O=>O.id===y?P:O))}catch(S){console.error("Error updating product:",S),e(_=>_.map(P=>P.id===y?{...P,...x,updatedAt:new Date().toISOString()}:P))}};return{products:t,loading:r,error:i,fetchProducts:o,addProduct:c,updateProduct:d,deleteProduct:async y=>{try{if(!(await fetch(`${vv}/api/customizable-products/${y}`,{method:"DELETE"})).ok)throw new Error("Failed to delete product");e(S=>S.filter(_=>_.id!==y))}catch(x){console.error("Error deleting product:",x),e(S=>S.filter(_=>_.id!==y))}},activateProduct:async y=>{await d(y,{status:"active"})},deactivateProduct:async y=>{await d(y,{status:"inactive"})},archiveProduct:async y=>{await d(y,{status:"archived"})},restoreProduct:async y=>{await d(y,{status:"inactive"})},getProductsByStatus:y=>y==="all"?t:t.filter(x=>x.status===y)}}const Wl="http://localhost:4000";function L8(){const{isLoggedIn:t}=hi(),[e,r]=w.useState([]),[n,i]=w.useState(!1),a=w.useCallback(async()=>{if(!t){r([]);return}i(!0);try{const f=await fetch(`${Wl}/api/cart`,{credentials:"include"});if(f.ok){const m=(await f.json()).items.map(g=>({id:g.productId,name:g.productName,price:Number(g.price),image:g.image||"",category:g.category||"",quantity:g.quantity,isNew:!1}));r(m)}}catch(f){console.error("Failed to load cart:",f)}finally{i(!1)}},[t]);w.useEffect(()=>{a()},[a]);const o=w.useCallback(async(f,h,m,g,j,b=1,y,x,S)=>{if(!t){r(_=>_.find(C=>C.id===f)?_.map(C=>C.id===f?{...C,quantity:C.quantity+b}:C):[..._,{id:f,name:h,price:m,image:g,category:j,quantity:b,isNew:!1}]);return}try{(await fetch(`${Wl}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productId:f,productName:h,price:m,image:g,category:j,quantity:b,size:y,color:x,customizationData:S})})).ok&&await a()}catch(_){console.error("Failed to add to cart:",_)}},[t,a]),l=w.useCallback(async(f,h)=>{if(!t){r(m=>m.map(g=>g.id===f?{...g,quantity:h}:g));return}try{const m=await fetch(`${Wl}/api/cart`,{method:"GET",credentials:"include"});if(m.ok){const j=(await m.json()).items.find(b=>b.productId===f);j&&(await fetch(`${Wl}/api/cart/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({quantity:h})})).ok&&await a()}}catch(m){console.error("Failed to update cart:",m)}},[t,a]),c=w.useCallback(async f=>{if(!t){r(h=>h.filter(m=>m.id!==f));return}try{const h=await fetch(`${Wl}/api/cart`,{method:"GET",credentials:"include"});if(h.ok){const g=(await h.json()).items.find(j=>j.productId===f);g&&(await fetch(`${Wl}/api/cart/${g.id}`,{method:"DELETE",credentials:"include"})).ok&&await a()}}catch(h){console.error("Failed to remove from cart:",h)}},[t,a]),d=w.useCallback(async()=>{if(!t){r([]);return}try{(await fetch(`${Wl}/api/cart`,{method:"DELETE",credentials:"include"})).ok&&await a()}catch(f){console.error("Failed to clear cart:",f)}},[t,a]);return{cartItems:e,isLoading:n,addToCart:o,updateQuantity:l,removeItem:c,clearCart:d,reloadCart:a}}function fse({object:t,canvas:e,onUpdate:r}){const[n,i]=w.useState({x:0,y:0}),[a,o]=w.useState({width:0,height:0}),[l,c]=w.useState(0),[d,f]=w.useState(100),[h,m]=w.useState(!0),[g,j]=w.useState(1);w.useEffect(()=>{if(!t)return;const _=()=>{i({x:Math.round(t.left||0),y:Math.round(t.top||0)});const C=Math.round((t.width||0)*(t.scaleX||1)),O=Math.round((t.height||0)*(t.scaleY||1));o({width:C,height:O}),c(Math.round(t.angle||0)),f(Math.round((t.opacity||1)*100)),C&&O&&j(C/O)};_();const P=()=>_();return t.on("modified",P),t.on("scaling",P),t.on("rotating",P),t.on("moving",P),()=>{t.off("modified",P),t.off("scaling",P),t.off("rotating",P),t.off("moving",P)}},[t]);const b=(_,P)=>{const C=parseFloat(P)||0;_==="x"?(i(O=>({...O,x:C})),r({left:C})):(i(O=>({...O,y:C})),r({top:C}))},y=(_,P)=>{const C=parseFloat(P)||0;if(_==="width"){const O=C,k=O/(t.width||1);if(h){const A=O/g,M=A/(t.height||1);o({width:O,height:Math.round(A)}),r({scaleX:k,scaleY:M})}else o(A=>({...A,width:O})),r({scaleX:k})}else{const O=C,k=O/(t.height||1);if(h){const A=O*g,M=A/(t.width||1);o({width:Math.round(A),height:O}),r({scaleX:M,scaleY:k})}else o(A=>({...A,height:O})),r({scaleY:k})}},x=_=>{c(_),r({angle:_})},S=_=>{const P=_[0];f(P),r({opacity:P/100})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-xs font-semibold text-gray-700 mb-2 block",children:"Position"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"X"}),s.jsx(Le,{type:"number",value:n.x,onChange:_=>b("x",_.target.value),className:"h-8 text-sm"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Y"}),s.jsx(Le,{type:"number",value:n.y,onChange:_=>b("y",_.target.value),className:"h-8 text-sm"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(be,{className:"text-xs font-semibold text-gray-700",children:"Size"}),s.jsx(ee,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>m(!h),title:h?"Unlock aspect ratio":"Lock aspect ratio",children:h?s.jsx(A3,{className:"h-3 w-3"}):s.jsx(T3,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"W"}),s.jsx(Le,{type:"number",value:a.width,onChange:_=>y("width",_.target.value),className:"h-8 text-sm"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"H"}),s.jsx(Le,{type:"number",value:a.height,onChange:_=>y("height",_.target.value),className:"h-8 text-sm"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(be,{className:"text-xs font-semibold text-gray-700",children:"Rotation"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{type:"number",value:l,onChange:_=>x(parseFloat(_.target.value)||0),className:"h-7 w-16 text-xs text-center",min:"0",max:"360"}),s.jsx("span",{className:"text-xs text-gray-500",children:""})]})]}),s.jsx(el,{value:[l],onValueChange:_=>x(_[0]),min:0,max:360,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(be,{className:"text-xs font-semibold text-gray-700",children:"Opacity"}),s.jsxs("span",{className:"text-xs text-gray-600",children:[d,"%"]})]}),s.jsx(el,{value:[d],onValueChange:S,min:0,max:100,step:1,className:"w-full"})]})]})}function hse({object:t,canvas:e,onUpdate:r}){const n=()=>{e.bringObjectToFront(t),e.renderAll(),r?.()},i=()=>{e.bringObjectForward(t),e.renderAll(),r?.()},a=()=>{e.sendObjectBackwards(t),e.renderAll(),r?.()},o=()=>{e.sendObjectToBack(t),e.renderAll(),r?.()};return s.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[s.jsx(be,{className:"text-xs font-semibold text-gray-700 block",children:"Layer Order"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:n,className:"flex items-center justify-center gap-2",title:"Bring to Front",children:[s.jsx(N3,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"To Front"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:i,className:"flex items-center justify-center gap-2",title:"Bring Forward",children:[s.jsx(Wh,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Forward"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:a,className:"flex items-center justify-center gap-2",title:"Send Backward",children:[s.jsx(Bs,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Backward"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:o,className:"flex items-center justify-center gap-2",title:"Send to Back",children:[s.jsx(C3,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"To Back"})]})]})]})}function Py({className:t,...e}){return s.jsx("textarea",{"data-slot":"textarea",className:Je("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const pse=["Arial","Helvetica","Times New Roman","Georgia","Verdana","Comic Sans MS","Courier New","Impact","Trebuchet MS","Arial Black"],mse=[8,10,12,14,16,18,20,24,28,32,36,40,48,56,64,72,80,96];function gse({object:t,canvas:e,onUpdate:r}){const[n,i]=w.useState(""),[a,o]=w.useState("Arial"),[l,c]=w.useState(40),[d,f]=w.useState(!1),[h,m]=w.useState(!1),[g,j]=w.useState(!1),[b,y]=w.useState("left"),[x,S]=w.useState("#000000");w.useEffect(()=>{!t||t.type!=="i-text"||(i(t.text||""),o(t.fontFamily||"Arial"),c(t.fontSize||40),f(t.fontWeight==="bold"),m(t.fontStyle==="italic"),j(t.underline||!1),y(t.textAlign||"left"),S(t.fill||"#000000"))},[t]);const _=L=>{i(L),r({text:L})},P=L=>{o(L),r({fontFamily:L})},C=L=>{const B=parseInt(L)||40;c(B),r({fontSize:B})},O=()=>{const L=!d;f(L),r({fontWeight:L?"bold":"normal"})},k=()=>{const L=!h;m(L),r({fontStyle:L?"italic":"normal"})},A=()=>{const L=!g;j(L),r({underline:L})},M=L=>{y(L),r({textAlign:L})},D=L=>{S(L),r({fill:L})};return s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[s.jsx(be,{className:"text-xs font-semibold text-gray-700 block",children:"Text Properties"}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Content"}),s.jsx(Py,{value:n,onChange:L=>_(L.target.value),className:"text-sm resize-none",rows:3,placeholder:"Enter text..."})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Font"}),s.jsx("select",{value:a,onChange:L=>P(L.target.value),className:"w-full h-9 px-3 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:pse.map(L=>s.jsx("option",{value:L,style:{fontFamily:L},children:L},L))})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Size"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{value:l,onChange:L=>C(L.target.value),className:"flex-1 h-9 px-3 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:mse.map(L=>s.jsxs("option",{value:L,children:[L,"px"]},L))}),s.jsx(Le,{type:"number",value:l,onChange:L=>C(L.target.value),className:"w-20 h-9 text-sm",min:"8",max:"500"})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-2 block",children:"Style"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:d?"default":"outline",size:"sm",onClick:O,className:"flex-1",title:"Bold",children:s.jsx(BX,{className:"h-4 w-4"})}),s.jsx(ee,{variant:h?"default":"outline",size:"sm",onClick:k,className:"flex-1",title:"Italic",children:s.jsx(NY,{className:"h-4 w-4"})}),s.jsx(ee,{variant:g?"default":"outline",size:"sm",onClick:A,className:"flex-1",title:"Underline",children:s.jsx(mK,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-2 block",children:"Alignment"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx(ee,{variant:b==="left"?"default":"outline",size:"sm",onClick:()=>M("left"),title:"Align Left",children:s.jsx(w3,{className:"h-4 w-4"})}),s.jsx(ee,{variant:b==="center"?"default":"outline",size:"sm",onClick:()=>M("center"),title:"Align Center",children:s.jsx(b3,{className:"h-4 w-4"})}),s.jsx(ee,{variant:b==="right"?"default":"outline",size:"sm",onClick:()=>M("right"),title:"Align Right",children:s.jsx(j3,{className:"h-4 w-4"})}),s.jsx(ee,{variant:b==="justify"?"default":"outline",size:"sm",onClick:()=>M("justify"),title:"Justify",children:s.jsx(AX,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:x,onChange:L=>D(L.target.value),className:"h-9 w-16 border border-gray-300 rounded cursor-pointer"}),s.jsx(Le,{type:"text",value:x,onChange:L=>D(L.target.value),className:"flex-1 h-9 text-sm font-mono",placeholder:"#000000"})]})]})]})}function vse({object:t,canvas:e,onUpdate:r}){const[n,i]=w.useState(0),[a,o]=w.useState(0),[l,c]=w.useState(0);w.useEffect(()=>{if(!t||t.type!=="image")return;const j=t.filters||[],b=j.find(S=>S.type==="Brightness"),y=j.find(S=>S.type==="Contrast"),x=j.find(S=>S.type==="Saturation");i(b?.brightness||0),o(y?.contrast||0),c(x?.saturation||0)},[t]);const d=async(j,b)=>{if(!t)return;const x=(await f_(()=>Promise.resolve().then(()=>$_),[])).filters;let S=t.filters||[];S=S.filter(_=>_.constructor.name!==j),j==="Brightness"&&b!==0?S.push(new x.Brightness({brightness:b})):j==="Contrast"&&b!==0?S.push(new x.Contrast({contrast:b})):j==="Saturation"&&b!==0&&S.push(new x.Saturation({saturation:b})),t.filters=S,t.applyFilters(),e.renderAll()},f=j=>{const b=j[0]/100;i(b),d("Brightness",b)},h=j=>{const b=j[0]/100;o(b),d("Contrast",b)},m=j=>{const b=j[0]/100;c(b),d("Saturation",b)},g=()=>{i(0),o(0),c(0),t.filters=[],t.applyFilters(),e.renderAll()};return s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[s.jsx(be,{className:"text-xs font-semibold text-gray-700 block",children:"Image Adjustments"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(be,{className:"text-xs text-gray-600",children:"Brightness"}),s.jsx("span",{className:"text-xs text-gray-600",children:Math.round(n*100)})]}),s.jsx(el,{value:[n*100],onValueChange:f,min:-100,max:100,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(be,{className:"text-xs text-gray-600",children:"Contrast"}),s.jsx("span",{className:"text-xs text-gray-600",children:Math.round(a*100)})]}),s.jsx(el,{value:[a*100],onValueChange:h,min:-100,max:100,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(be,{className:"text-xs text-gray-600",children:"Saturation"}),s.jsx("span",{className:"text-xs text-gray-600",children:Math.round(l*100)})]}),s.jsx(el,{value:[l*100],onValueChange:m,min:-100,max:100,step:1,className:"w-full"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:g,className:"w-full",children:[s.jsx(lm,{className:"h-4 w-4 mr-2"}),"Reset Filters"]})]})}function yse({object:t,canvas:e,onUpdate:r}){const[n,i]=w.useState("#000000"),[a,o]=w.useState("#000000"),[l,c]=w.useState(0),[d,f]=w.useState(0);w.useEffect(()=>{t&&(i(t.fill||"#000000"),o(t.stroke||"#000000"),c(t.strokeWidth||0),t.type==="rect"&&f(t.rx||0))},[t]);const h=y=>{i(y),r({fill:y})},m=y=>{o(y),r({stroke:y})},g=y=>{const x=y[0];c(x),r({strokeWidth:x})},j=y=>{const x=y[0];f(x),r({rx:x,ry:x})},b=t.type==="rect";return s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[s.jsx(be,{className:"text-xs font-semibold text-gray-700 block",children:"Shape Properties"}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Fill Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:n,onChange:y=>h(y.target.value),className:"h-9 w-16 border border-gray-300 rounded cursor-pointer"}),s.jsx(Le,{type:"text",value:n,onChange:y=>h(y.target.value),className:"flex-1 h-9 text-sm font-mono",placeholder:"#000000"})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-600 mb-1 block",children:"Stroke Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:a,onChange:y=>m(y.target.value),className:"h-9 w-16 border border-gray-300 rounded cursor-pointer"}),s.jsx(Le,{type:"text",value:a,onChange:y=>m(y.target.value),className:"flex-1 h-9 text-sm font-mono",placeholder:"#000000"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(be,{className:"text-xs text-gray-600",children:"Stroke Width"}),s.jsxs("span",{className:"text-xs text-gray-600",children:[l,"px"]})]}),s.jsx(el,{value:[l],onValueChange:g,min:0,max:50,step:1,className:"w-full"})]}),b&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(be,{className:"text-xs text-gray-600",children:"Corner Radius"}),s.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(d),"px"]})]}),s.jsx(el,{value:[d],onValueChange:j,min:0,max:100,step:1,className:"w-full"})]})]})}function xse({isOpen:t,onClose:e,selectedObject:r,canvas:n,onUpdate:i,onLayerUpdate:a}){return t?s.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl",children:"Properties"}),r&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"size-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600",children:"Object Selected"})]})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:e,children:s.jsx(Tt,{className:"size-5"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:r?s.jsx(wse,{object:r,canvas:n,onUpdate:i,onLayerUpdate:a}):s.jsx(bse,{})})]})}):null}function bse(){return s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[s.jsx("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:s.jsx("svg",{className:"size-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})})}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No object selected"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Click on any text, image, or shape on the canvas to edit its properties"})]})}function wse({object:t,canvas:e,onUpdate:r,onLayerUpdate:n}){const i=o=>{const l=o.type||"object";return l==="i-text"||l==="text"?"Text":l==="image"?"Image":l==="rect"?"Rectangle":l==="circle"?"Circle":l==="polygon"?"Polygon":"Object"},a=o=>{const l=o.type||"object";return l==="i-text"||l==="text"?"":l==="image"?"":l==="rect"?"":l==="circle"?"":l==="polygon"?"":""};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-gray-200",children:[s.jsx("span",{className:"text-2xl",children:a(t)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:i(t)}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",t.type]})]})]}),e&&s.jsx(fse,{object:t,canvas:e,onUpdate:r}),e&&s.jsx(hse,{object:t,canvas:e,onUpdate:n}),e&&(t.type==="i-text"||t.type==="text")&&s.jsx(gse,{object:t,canvas:e,onUpdate:r}),e&&t.type==="image"&&s.jsx(vse,{object:t,canvas:e,onUpdate:r}),e&&(t.type==="rect"||t.type==="circle"||t.type==="polygon"||t.type==="triangle")&&s.jsx(yse,{object:t,canvas:e,onUpdate:r})]})}function jse(t){const e=Math.floor((new Date().getTime()-t.getTime())/1e3),r=[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"week",seconds:604800},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60}];for(const n of r){const i=Math.floor(e/n.seconds);if(i>=1)return`${i} ${n.label}${i!==1?"s":""} ago`}return"just now"}function Sse({design:t,onLoad:e,onDelete:r}){const n=t.frontThumbnailUrl||t.backThumbnailUrl,i=jse(new Date(t.lastSavedAt)),a={none:"No Print",front:"Front Print",back:"Back Print",both:"Both Sides"}[t.selectedPrintOption]||t.selectedPrintOption;return s.jsxs(ht,{className:"group overflow-hidden hover:shadow-lg transition-shadow border-2 hover:border-blue-400",children:[s.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[n?s.jsx("img",{src:n,alt:`${t.product.name} design`,className:"w-full h-full object-contain p-4"}):s.jsxs("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:[s.jsx(to,{className:"size-16 opacity-30"}),s.jsx("span",{className:"absolute bottom-4 text-sm",children:"No Preview"})]}),s.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[s.jsxs(ee,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>e(t),children:[s.jsx(to,{className:"size-4 mr-2"}),"Load Design"]}),s.jsx(ee,{size:"sm",variant:"destructive",onClick:o=>{o.stopPropagation(),confirm("Delete this design? This action cannot be undone.")&&r(t.id)},children:s.jsx(ho,{className:"size-4"})})]})]}),s.jsx(bt,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm truncate",children:t.product.name}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[s.jsx(lt,{variant:"secondary",className:"text-xs",children:t.selectedSize}),t.product.base_color_name&&s.jsxs(lt,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"size-2 rounded-full mr-1.5 border border-gray-300",style:{backgroundColor:t.product.base_color_hex||"#666"}}),t.product.base_color_name]}),s.jsx(lt,{variant:"outline",className:"text-xs",children:a})]}),s.jsx("p",{className:"text-xs text-gray-500",children:t.product.category}),s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 pt-1 border-t",children:[s.jsx(r_,{className:"size-3"}),s.jsxs("span",{children:["Edited ",i]})]})]})})]})}const kn={A4:{width:2480,height:3508,label:"A4 (210297mm)",physicalSize:'8.311.7"'},Letter:{width:2550,height:3300,label:'Letter (8.511")',physicalSize:'8.511"'},Legal:{width:2550,height:4200,label:'Legal (8.514")',physicalSize:'8.514"'},Square:{width:3600,height:3600,label:'Square (1212")',physicalSize:'1212"'},Custom:{width:4800,height:5400,label:'Custom (1618")',physicalSize:'1618"'}},ns=25;function Ij(t,e={}){const{format:r="png",quality:n=1,multiplier:i=2,left:a,top:o,width:l,height:c}=e;try{return a!==void 0&&o!==void 0&&l!==void 0&&c!==void 0?t.toDataURL({format:r,quality:n,multiplier:i,left:a,top:o,width:l,height:c}):t.toDataURL({format:r,quality:n,multiplier:i})}catch(d){throw console.error("Canvas export error:",d),new Error("Failed to export canvas")}}function Cse(t,e){const r=t.getWidth(),n=t.getHeight(),i=(r-e.width)/2,a=(n-e.height)/2;return{left:i,top:a,width:e.width,height:e.height}}const Fs={MAX_OBJECTS:50,MAX_CANVAS_JSON_SIZE_MB:2,MAX_IMAGE_WIDTH:4e3,MAX_IMAGE_HEIGHT:4e3,MIN_OBJECTS:1};function z8(t,e){const r=kn[e],n=(t.width||0)/2,i=(t.height||0)/2;return{left:n-r.width/2,top:i-r.height/2,right:n+r.width/2,bottom:i+r.height/2}}function Nse(t,e){const r=t.getBoundingRect();return r.left>=e.left&&r.top>=e.top&&r.left+r.width<=e.right&&r.top+r.height<=e.bottom}function F8(t,e){const r=z8(t,e);return t.getObjects().filter(i=>!i.get("name")?.includes("print-area")).map(i=>{const a=i.getBoundingRect();return{object:i,isOutsidePrintArea:!Nse(i,r),bounds:{left:a.left,top:a.top,right:a.left+a.width,bottom:a.top+a.height}}})}function _se(t,e){const r=[],n=[];if(!t)return r.push("Canvas is not initialized"),{valid:!1,errors:r,warnings:n};const i=t.getObjects().filter(f=>!f.get("name")?.includes("print-area"));i.length<Fs.MIN_OBJECTS&&n.push("Your design is empty. Add some elements before saving."),i.length>Fs.MAX_OBJECTS&&r.push(`Too many objects (${i.length}). Maximum allowed is ${Fs.MAX_OBJECTS}.`);const a=JSON.stringify(t.toJSON()),l=new Blob([a]).size/(1024*1024);l>Fs.MAX_CANVAS_JSON_SIZE_MB&&r.push(`Design data is too large (${l.toFixed(2)}MB). Maximum allowed is ${Fs.MAX_CANVAS_JSON_SIZE_MB}MB. Consider removing some elements or reducing image quality.`);const d=F8(t,e).filter(f=>f.isOutsidePrintArea);return d.length>0&&n.push(`${d.length} object${d.length>1?"s are":" is"} outside the print area and won't be printed. Consider moving them inside.`),i.forEach((f,h)=>{if(f.type==="image"){const m=f,g=m.width||0,j=m.height||0;(g>Fs.MAX_IMAGE_WIDTH||j>Fs.MAX_IMAGE_HEIGHT)&&n.push(`Image ${h+1} is very large (${g}${j}px). This may affect performance.`)}}),{valid:r.length===0,errors:r,warnings:n}}function Ose(t,e){const r=z8(t,e),i=F8(t,e).filter(o=>o.isOutsidePrintArea);let a=0;return i.forEach(({object:o,bounds:l})=>{let c=o.left||0,d=o.top||0;l.left<r.left?c+=r.left-l.left:l.right>r.right&&(c-=l.right-r.right),l.top<r.top?d+=r.top-l.top:l.bottom>r.bottom&&(d-=l.bottom-r.bottom),o.set({left:c,top:d}),o.setCoords(),a++}),t.requestRenderAll(),a}function Pse(t,e,r,n){const i=new Error(t);return i.status=e,i.statusText=r,i.data=n,i}function $8(t){return t.message.includes("Failed to fetch")||t.message.includes("Network request failed")||t.message.includes("NetworkError")||t.message.includes("ECONNREFUSED")}function B8(t){return t.message.includes("timeout")||t.message.includes("timed out")||t.message.includes("ETIMEDOUT")}function kse(t){return t===408||t===429||t===503||t===504||t>=500}function bD(t){return new Promise(e=>setTimeout(e,t))}async function Tse(t,e={},r={}){const{maxRetries:n=3,retryDelay:i=1e3,exponentialBackoff:a=!0,onRetry:o}=r;let l=null;for(let c=0;c<=n;c++)try{const d=await fetch(t,e);if(d.ok||!kse(d.status))return d;const f=await d.clone().json().catch(()=>({}));if(l=Pse(`Request failed with status ${d.status}`,d.status,d.statusText,f),c===n)throw l;const h=a?i*Math.pow(2,c):i;o&&o(c+1,l),await bD(h)}catch(d){if(l=d instanceof Error?d:new Error("Unknown error"),!(c<n&&($8(l)||B8(l))))throw l;const h=a?i*Math.pow(2,c):i;o&&o(c+1,l),await bD(h)}throw l||new Error("Request failed after all retries")}function Ase(t){if(!t)return"An unknown error occurred";if(typeof t=="string")return t;if(t instanceof Error){if($8(t))return"Unable to connect to the server. Please check your internet connection and try again.";if(B8(t))return"The request took too long. Please try again.";const e=t;if(e.status)switch(e.status){case 400:return"Invalid request. Please check your input and try again.";case 401:return"You need to log in to perform this action.";case 403:return"You don't have permission to perform this action.";case 404:return"The requested resource was not found.";case 409:return"There was a conflict with the current state. Please refresh and try again.";case 413:return"The file or data is too large. Please reduce the size and try again.";case 422:return"The data provided is invalid. Please check your input.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:case 502:case 503:case 504:return"Server error. Please try again in a few moments.";default:return`Request failed: ${t.message}`}return t.message}return"An unexpected error occurred. Please try again."}function wD(t){if(!t)return"Unknown error";if(t instanceof Error){const e=t;return[`Error: ${t.message}`,e.status?`Status: ${e.status}`:null,e.statusText?`Status Text: ${e.statusText}`:null,e.data?`Data: ${JSON.stringify(e.data)}`:null,t.stack?`Stack: ${t.stack}`:null].filter(Boolean).join(`
`)}return String(t)}function Ese({message:t="Loading...",className:e=""}){return s.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center ${e}`,children:s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl flex flex-col items-center gap-4 max-w-sm",children:[s.jsx(Wn,{className:"w-12 h-12 animate-spin text-blue-600"}),s.jsx("p",{className:"text-gray-700 font-medium",children:t})]})})}const jD={"T-Shirt":{front:Pu,back:ku},Jacket:{front:Pu,back:ku},Hoodie:{front:Pu,back:ku},Shirt:{front:Pu,back:ku},Kids:{front:Pu,back:ku}};function Mse(){const t=kr(),e=fi(),{user:r,isHydrating:n}=hi(),[i,a]=w.useState(ns);w.useEffect(()=>{!n&&!r&&ve.info("Log in to save your designs automatically",{duration:5e3})},[r,n]);const{canvasScale:o,panOffset:l,isPanning:c,spaceKeyPressed:d,isPanningCanvas:f,isSpacePanning:h,zoomIn:m,zoomOut:g,setZoom:j,zoomToPreset:b,resetView:y,handleCanvasMouseDown:x,handleCanvasMouseMove:S,handleCanvasMouseUp:_,handleOverlayMouseDown:P,handleOverlayMouseMove:C,handleOverlayMouseUp:O,handleKeyDown:k,handleKeyUp:A}=use(),[M,D]=w.useState("Letter"),[L,B]=w.useState("edit"),[$,q]=w.useState(null),F=w.useRef(!1),[G,E]=w.useState(!1),[U,H]=w.useState(!1),[I,z]=w.useState(!1),[V,J]=w.useState(!1),[Q,se]=w.useState(!1),[oe,K]=w.useState(!1),[de,ae]=w.useState(!1),[ce,xe]=w.useState(!1),[le,Te]=w.useState(new Set),[Ne,Fe]=w.useState(new Set),[Ke,Re]=w.useState(!1),[mt,ct]=w.useState(!0),[je,gt]=w.useState(null),[Qe,zt]=w.useState(""),[en,tn]=w.useState("none"),[rn,fr]=w.useState([]),[Ot,jn]=w.useState(-1),zr=w.useRef(null),[St,sr]=w.useState({type:"idle"}),qa=w.useRef(null),[gi,Va]=w.useState(!1),[In,Ps]=w.useState(!1),[nn,Sn]=w.useState(50),[bo,vi]=w.useState(""),[Ut,xr]=w.useState(""),[$e,Nt]=w.useState("front"),[wt,Mt]=w.useState([]),Ft=w.useRef(null),{uploadImage:Wt,validateImage:yt,isUploading:Fr,error:Dt}=lse(),[Kt,an]=w.useState(null),[br,gn]=w.useState(""),[Ii,wl]=w.useState("Arial"),[qm,Cb]=w.useState("Medium"),[Ga,Vm]=w.useState("#000000"),[gf,Nb]=w.useState([]),[Xa,vf]=w.useState([]),[Gm,yf]=w.useState(!1),{graphics:xf,patterns:bf,fetchGraphics:hr}=cse(),[Vc,wf]=w.useState("all"),Xm=Math.round(kn[M].width*(ns/100)),Gc=Math.round(kn[M].height*(ns/100)),ue=ase({canvasWidth:Xm,canvasHeight:Gc,onModified:()=>{Ka()}}),{addToCart:Ym}=L8(),[jl,yi]=w.useState(!1),Sl=()=>je!==null,vn=()=>{alert(" Please select a clothing variant first to start customizing"),E(!0),z(!1),J(!1),se(!1),K(!1),ae(!1);const X=document.querySelector("[data-clothing-variants-btn]");X&&(X.classList.add("glow-pulse"),setTimeout(()=>X.classList.remove("glow-pulse"),3e3))},Km=w.useCallback(()=>{ue.activeCanvas&&(zr.current&&clearTimeout(zr.current),zr.current=window.setTimeout(()=>{const X=JSON.stringify(ue.activeCanvas.toJSON());fr(me=>{const we=Ot>=0?me.slice(0,Ot+1):[];return we.push(X),we.length>50&&we.shift(),we}),jn(me=>{const we=me+1;return we>49?49:we})},300))},[ue.activeCanvas,Ot]),jf=w.useCallback(()=>{if(Ot<=0||!ue.activeCanvas)return;const X=Ot-1,me=rn[X];me&&ue.activeCanvas.loadFromJSON(me,()=>{ue.activeCanvas.renderAll(),jn(X)})},[Ot,rn,ue.activeCanvas]),Sf=w.useCallback(()=>{if(Ot>=rn.length-1||!ue.activeCanvas)return;const X=Ot+1,me=rn[X];me&&ue.activeCanvas.loadFromJSON(me,()=>{ue.activeCanvas.renderAll(),jn(X)})},[Ot,rn,ue.activeCanvas]);w.useEffect(()=>{const X=me=>{(me.ctrlKey||me.metaKey)&&me.key==="z"&&!me.shiftKey?(me.preventDefault(),jf()):(me.ctrlKey||me.metaKey)&&(me.key==="y"||me.shiftKey&&me.key==="z")&&(me.preventDefault(),Sf())};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[jf,Sf]);const Ya=w.useCallback(async()=>{if(!ue.activeCanvas||!je){console.log("Cannot save: no canvas or active variant");return}if(!r)throw console.error(" Cannot save: User not authenticated"),ve.error("Please log in to save your design"),new Error("User not authenticated");console.log(" Starting save process...",{productId:je.productId,view:$e,userId:r.id});const X=_se(ue.activeCanvas,M);if(!X.valid)throw console.error(" Validation failed:",X.errors),X.errors.forEach(me=>ve.error(me)),sr({type:"idle"}),new Error("Validation failed");X.warnings.length>0&&(console.warn(" Validation warnings:",X.warnings),X.warnings.forEach(me=>ve.warning(me)));try{sr({type:"saving",message:"Saving design..."}),console.log(" Saving design via proxy"),console.log(" Exporting canvas thumbnail...");const me=Ij(ue.activeCanvas,{format:"png",quality:.8,multiplier:.5});console.log(" Thumbnail exported"),console.log(" Uploading to Cloudinary...");const we=await(await fetch(me)).blob(),Ae=new FormData;Ae.append("image",we,"thumbnail.png"),Ae.append("userId",r.id),Ae.append("productId",je.productId),Ae.append("view",$e);const Ee=await fetch("/api/custom-design/upload-preview",{method:"POST",body:Ae,credentials:"include"});if(console.log(" Upload response status:",Ee.status),!Ee.ok){const zn=await Ee.text();throw console.error(" Upload failed:",zn),new Error(`Failed to upload thumbnail: ${Ee.status} ${zn}`)}const It=(await Ee.json()).url;console.log(" Thumbnail uploaded:",It);const ft=ue.getDesignState(),Xe=JSON.stringify(ue.activeCanvas.toJSON()),it=$e;let wr=null,Jt=null,Ln=null,da=null;try{const zn=await fetch(`/api/design/load/${je.productId}?userId=${r.id}`,{credentials:"include"});if(zn.ok){const So=await zn.json();wr=So.data?.frontCanvasJson,Jt=So.data?.backCanvasJson,Ln=So.data?.frontThumbnailUrl,da=So.data?.backThumbnailUrl,console.log(" Loaded existing design to preserve other view")}else zn.status===404?console.log(" No existing design found (this is normal for new designs)"):console.warn(" Unexpected status when loading existing design:",zn.status)}catch{console.log(" No existing design to preserve (this is normal for new designs)")}const jr=await Tse("/api/design/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:r.id,customizableProductId:parseInt(je.productId),selectedSize:Qe||"M",selectedPrintOption:it==="front"?"front":"back",printAreaPreset:M,frontCanvasJson:it==="front"?Xe:wr,backCanvasJson:it==="back"?Xe:Jt,frontThumbnailUrl:it==="front"?It:Ln,backThumbnailUrl:it==="back"?It:da})},{maxRetries:2,onRetry:zn=>{ve.info(`Save failed, retrying... (Attempt ${zn}/2)`)}});if(!jr.ok){const zn=await jr.json().catch(()=>({}));throw console.error("Save failed:",wD({status:jr.status,message:zn.message||jr.statusText})),new Error(zn.message||`Failed to save design: ${jr.statusText}`)}sr({type:"saved",message:"Auto-saved!"}),setTimeout(()=>{sr({type:"idle"})},3e3)}catch(me){console.error("Save error:",wD(me));const we=Ase(me);ve.error(we),sr({type:"save-error",message:we})}},[ue,je,$e,M,Qe,r]),Cl=w.useCallback(X=>{X!==ue.activeView&&(ue.switchView(X),Nt(X))},[ue]),wo=async()=>{console.log(" Preview button clicked"),console.log(" Canvas ref exists:",!!ue.activeCanvas),console.log(" Active variant:",je?.productName||"none");const X=ue.activeCanvas;if(!X){console.error(" Canvas not initialized"),ve.error("Canvas not ready. Please wait and try again.");return}if(!je){console.error(" No variant selected"),ve.error("Please select a product first");return}const me=X.getObjects();console.log(" Total objects on canvas:",me.length);const we=me.filter(Ae=>{const Ee=Ae.name||"";return!Ee.includes("print-area")&&!Ee.includes("boundary")});if(console.log(" Design objects (excluding markers):",we.length),we.length===0){console.error(" No design objects found"),ve.error("Please add some design elements before previewing");return}try{if(r){console.log(" User logged in, saving design to database before preview...");try{await Ya(),console.log(" Design saved to database")}catch(it){console.warn(" Save failed, but continuing to preview:",it)}}const Ae=X.toJSON(),Ee=JSON.stringify(Ae);console.log(" Canvas JSON exported, objects:",Ae.objects?.length||0);const Gt=kn[M];if(!Gt){console.error(" Invalid print area preset:",M),ve.error("Invalid print area configuration");return}const It=Cse(X,{width:Gt.width,height:Gt.height});console.log(" Print area bounds:",It);const ft=Ij(X,{format:"png",quality:1,multiplier:2,...It});console.log(" Preview image exported, length:",ft.length);const Xe={designData:Ee,variant:{id:je.id,productId:je.productId,productName:je.productName,variantName:je.variantName,size:Qe||"M",image:je.image,retailPrice:je.retailPrice,totalPrice:je.totalPrice},view:$e,printAreaSize:M,previewImage:ft,timestamp:Date.now()};console.log(" Navigation state built:",{designDataLength:Xe.designData.length,variantName:Xe.variant.productName,view:Xe.view,printAreaSize:Xe.printAreaSize,previewImageLength:Xe.previewImage.length}),console.log(" Calling navigate to /custom-design-preview"),t("/custom-design-preview",{state:Xe}),console.log(" Navigate called successfully")}catch(Ae){console.error(" Preview error:",Ae),console.error(" Error stack:",Ae.stack),ve.error("Failed to generate preview: "+Ae.message)}},Ka=w.useCallback(()=>{!ue.activeCanvas||ue.activeCanvas.getObjects().filter(me=>!me.name?.includes("print-area")).length<1||(qa.current&&window.clearTimeout(qa.current),qa.current=window.setTimeout(()=>{Ya()},2e3))},[Ya,ue.activeCanvas]),Jm=w.useCallback(()=>ue.activeCanvas?ue.activeCanvas.getObjects().filter(me=>!me.name?.includes("print-area")).length>=Fs.MAX_OBJECTS?(ve.error(`Maximum number of objects (${Fs.MAX_OBJECTS}) reached. Remove some objects to add more.`),!1):!0:!1,[ue.activeCanvas]);w.useCallback(()=>{if(!ue.activeCanvas)return;const X=Ose(ue.activeCanvas,M);X>0?(ve.success(`Moved ${X} object${X>1?"s":""} into print area`),Ka()):ve.info("All objects are already within the print area")},[ue.activeCanvas,M,Ka]);const _b=w.useCallback(async()=>{if(!r?.id||!je||!ue.isReady){console.log("loadUserDesign: Skipped - missing user, variant, or canvas");return}console.log("loadUserDesign: Attempting to load for product",je.productId),F.current=!0;try{const X=await fetch(`/api/design/load/${je.productId}?userId=${r.id}`,{credentials:"include"});if(X.status===404){console.log("No saved design found - starting fresh"),F.current=!1;return}if(!X.ok){console.warn("Failed to load design, status:",X.status),F.current=!1;return}const we=(await X.json()).data;if(!we){console.log("No design data in response"),F.current=!1;return}we.printAreaPreset&&D(we.printAreaPreset),(we.frontCanvasJson||we.backCanvasJson)&&(ue.loadDesignState(we.frontCanvasJson,we.backCanvasJson),console.log(" Design loaded from database"),ve.success("Previous design restored")),F.current=!1}catch(X){console.warn("Error loading design (will start fresh):",X),F.current=!1}},[je?.productId,ue,r?.id,D]),Xc=w.useCallback(async()=>{if(r?.id){yf(!0);try{const X=await fetch(`/api/saved-designs/all?userId=${r.id}`);if(!X.ok)throw new Error("Failed to fetch saved designs");const me=await X.json();me.success&&vf(me.data||[])}catch(X){console.error("Error fetching saved designs:",X),ve.error("Failed to load saved designs from library")}finally{yf(!1)}}},[r]),Zm=w.useCallback(async X=>{if(je?.productId!==X.customizableProductId.toString()){sessionStorage.setItem("designToLoad",JSON.stringify(X)),ve.info(`Switching to ${X.product.name}...`),t(`/custom-design?productId=${X.customizableProductId}`);return}try{F.current=!0,sr({type:"loading",message:"Loading design..."}),(X.frontCanvasJson||X.backCanvasJson)&&ue.loadDesignState(X.frontCanvasJson,X.backCanvasJson),zt(X.selectedSize),tn(X.selectedPrintOption),se(!1),sr({type:"loaded",message:"Design loaded successfully"}),ve.success("Design loaded!"),setTimeout(()=>{F.current=!1},500)}catch(me){console.error("Error loading design:",me),ve.error("Failed to load design"),sr({type:"load-error"}),F.current=!1}},[je,$e,ue,t]),Cf=w.useCallback(async X=>{if(r?.id)try{if(!(await fetch(`/api/saved-designs/${X}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.id})})).ok)throw new Error("Failed to delete design");vf(we=>we.filter(Ae=>Ae.id!==X)),ve.success("Design deleted from library")}catch(me){console.error("Error deleting design:",me),ve.error("Failed to delete design")}},[r]);w.useEffect(()=>{Q&&r?.id&&Xc()},[Q,r,Xc]);const Nl=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(X){if(X.type==="activeSelection"){const me=X._objects,we=Math.min(...me.map(Ae=>Ae.left-Ae.width/2));me.forEach(Ae=>{Ae.set({left:we+Ae.width/2})})}else X.set({left:X.width/2});ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X})}},[ue.activeCanvas]),Ob=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(!X)return;const me=ue.activeCanvas.width/2;X.type==="activeSelection"?X._objects.forEach(Ae=>{Ae.set({left:me})}):X.set({left:me}),ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X})},[ue.activeCanvas]),Nf=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(!X)return;const me=ue.activeCanvas.width;if(X.type==="activeSelection"){const we=X._objects,Ae=Math.max(...we.map(Ee=>Ee.left+Ee.width/2));we.forEach(Ee=>{Ee.set({left:me-(Ae-Ee.left)})})}else X.set({left:me-X.width/2});ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X})},[ue.activeCanvas]),Rt=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(X){if(X.type==="activeSelection"){const me=X._objects,we=Math.min(...me.map(Ae=>Ae.top-Ae.height/2));me.forEach(Ae=>{Ae.set({top:we+Ae.height/2})})}else X.set({top:X.height/2});ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X})}},[ue.activeCanvas]),Qm=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(!X)return;const me=ue.activeCanvas.height/2;X.type==="activeSelection"?X._objects.forEach(Ae=>{Ae.set({top:me})}):X.set({top:me}),ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X})},[ue.activeCanvas]),eg=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(!X)return;const me=ue.activeCanvas.height;if(X.type==="activeSelection"){const we=X._objects,Ae=Math.max(...we.map(Ee=>Ee.top+Ee.height/2));we.forEach(Ee=>{Ee.set({top:me-(Ae-Ee.top)})})}else X.set({top:me-X.height/2});ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X})},[ue.activeCanvas]),_f=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(!X||X.type!=="activeSelection")return;const me=X._objects;if(me.length<3)return;const we=[...me].sort((ft,Xe)=>ft.left-Xe.left),Ae=we[0].left,It=(we[we.length-1].left-Ae)/(we.length-1);we.forEach((ft,Xe)=>{ft.set({left:Ae+It*Xe})}),ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X})},[ue.activeCanvas]),tg=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(!X||X.type!=="activeSelection")return;const me=X._objects;if(me.length<3)return;const we=[...me].sort((ft,Xe)=>ft.top-Xe.top),Ae=we[0].top,It=(we[we.length-1].top-Ae)/(we.length-1);we.forEach((ft,Xe)=>{ft.set({top:Ae+It*Xe})}),ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X})},[ue.activeCanvas]),Of=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(!X||X.type!=="activeSelection"){console.log("Select multiple objects to group");return}const me=X,we=me._objects;if(we.length<2){ve.error("Select at least 2 objects to group");return}me.toGroup(),ue.activeCanvas.renderAll();const Ae=ue.activeCanvas.getActiveObject();Ae&&ue.activeCanvas.fire("object:modified",{target:Ae}),console.log(`Grouped ${we.length} objects`),ve.success("Objects grouped")},[ue.activeCanvas]),Pf=w.useCallback(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas.getActiveObject();if(!X||X.type!=="group"){console.log("Select a group to ungroup");return}const me=X,we=me._objects.slice();me.toActiveSelection(),ue.activeCanvas.renderAll();const Ae=ue.activeCanvas.getActiveObject();Ae&&ue.activeCanvas.fire("object:modified",{target:Ae}),console.log(`Ungrouped ${we.length} objects`),ve.success("Group ungrouped")},[ue.activeCanvas]),kf=w.useCallback(X=>{if(!ue.activeCanvas)return;const we=!(X.customProps?.locked||!1);X.customProps||(X.customProps={}),X.customProps.locked=we,X.set({selectable:!we,evented:!we,hasControls:!we,hasBorders:!we,lockMovementX:we,lockMovementY:we,lockRotation:we,lockScalingX:we,lockScalingY:we}),we&&ue.activeCanvas.getActiveObject()===X&&ue.activeCanvas.discardActiveObject(),ue.activeCanvas.renderAll(),ue.activeCanvas.fire("object:modified",{target:X}),ve.success(we?"Object locked":"Object unlocked")},[ue]),_l=w.useCallback(async()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas;if(!gi){X.overlayImage=void 0,X.renderAll();return}const me=X.getWidth(),we=X.getHeight();if(!me||!we)return;const Gt=nn/100*300*(ns/100),It=document.createElement("canvas");It.width=me,It.height=we;const ft=It.getContext("2d",{alpha:!0});if(ft){ft.clearRect(0,0,me,we),ft.strokeStyle="#b0b0b0",ft.lineWidth=1,ft.beginPath();for(let Xe=0;Xe<=me;Xe+=Gt)ft.moveTo(Math.round(Xe)+.5,0),ft.lineTo(Math.round(Xe)+.5,we);ft.stroke(),ft.beginPath();for(let Xe=0;Xe<=we;Xe+=Gt)ft.moveTo(0,Math.round(Xe)+.5),ft.lineTo(me,Math.round(Xe)+.5);ft.stroke();try{const{Image:Xe}=await f_(async()=>{const{Image:Jt}=await Promise.resolve().then(()=>$_);return{Image:Jt}},void 0),it=It.toDataURL("image/png"),wr=await Xe.fromURL(it);wr.set({opacity:.4,selectable:!1,evented:!1,left:0,top:0,originX:"left",originY:"top"}),X.overlayImage=wr,X.requestRenderAll()}catch(Xe){console.error("Error rendering grid:",Xe)}}},[ue,gi,nn]),Li=w.useCallback(X=>Math.round(X/nn)*nn,[nn]);w.useEffect(()=>{const X=me=>{(me.ctrlKey||me.metaKey)&&me.key==="g"&&!me.shiftKey?(me.preventDefault(),Of()):(me.ctrlKey||me.metaKey)&&me.shiftKey&&me.key==="g"&&(me.preventDefault(),Pf())};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[Of,Pf]),w.useEffect(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas,me=()=>{if(F.current){console.log("Skipping auto-save during design load");return}Km(),Ka()};return X.on("object:added",me),X.on("object:modified",me),X.on("object:removed",me),X.on("text:changed",me),()=>{X.off("object:added",me),X.off("object:modified",me),X.off("object:removed",me),X.off("text:changed",me)}},[ue.activeCanvas,Km,Ka]),w.useEffect(()=>{ue.activeCanvas&&_l()},[ue.activeCanvas,gi,nn,_l]),w.useEffect(()=>{if(!ue.activeCanvas)return;const X=ue.activeCanvas,me=we=>{if(!In||!we.target)return;const Ae=we.target;Ae.set({left:Li(Ae.left||0),top:Li(Ae.top||0)})};return In&&X.on("object:moving",me),()=>{X.off("object:moving",me)}},[ue.activeCanvas,In,Li]),w.useEffect(()=>{ue.selectedObject&&xe(!0)},[ue.selectedObject]),w.useEffect(()=>(window.addEventListener("keydown",k),window.addEventListener("keyup",A),document.addEventListener("touchmove",X=>{X.touches.length>1&&X.preventDefault()},{passive:!1}),()=>{window.removeEventListener("keydown",k),window.removeEventListener("keyup",A)}),[k,A]),w.useEffect(()=>{const X=me=>{ue.activeCanvas&&je&&St.type!=="saving"&&Ya(),(St.type==="saving"||St.type==="save-error")&&(me.preventDefault(),me.returnValue="")};return window.addEventListener("beforeunload",X),()=>{window.removeEventListener("beforeunload",X)}},[ue.activeCanvas,je,Ya,St.type]),w.useEffect(()=>{if(console.log("Load effect triggered:",{hasVariant:!!je,isReady:ue.isReady,productId:je?.productId,isHydrating:n,hasUser:!!r}),n){console.log("Skipped loadUserDesign - auth still hydrating");return}F.current||je&&ue.isReady&&r&&(console.log("Calling loadUserDesign..."),_b())},[je?.productId,ue.isReady,n,r?.id]),w.useEffect(()=>{const{type:X,message:me}=St;switch(X){case"loaded":ve.success(me||"Design loaded successfully"),setTimeout(()=>sr({type:"idle"}),100);break;case"saved":ve.success("Design saved"),setTimeout(()=>sr({type:"idle"}),3e3);break;case"save-error":ve.error(me||"Could not save your design. Changes are backed up locally."),setTimeout(()=>sr({type:"idle"}),5e3);break;case"load-error":ve.error(me||"Could not load design"),setTimeout(()=>sr({type:"idle"}),3e3);break}},[St]),w.useEffect(()=>{H(!0)},[]),w.useEffect(()=>{B("layers")},[]),w.useEffect(()=>{const X=e.state;if(!X?.returnFromPreview||!X.designData||!X.variant)return;console.log(" Returning from preview, restoring design state"),gt({id:X.variant.id,productId:X.variant.productId,productName:X.variant.productName,variantName:X.variant.variantName,size:X.variant.size,printOption:X.view==="front"?"front":"back",image:X.variant.image,frontImage:X.variant.frontImage||X.variant.image,backImage:X.variant.backImage||X.variant.image,retailPrice:X.variant.retailPrice,totalPrice:X.variant.totalPrice}),zt(X.variant.size),X.view&&Nt(X.view),X.printAreaSize&&["A4","Letter","Legal","Square","Custom"].includes(X.printAreaSize)&&D(X.printAreaSize);const me=()=>{if(!ue.activeCanvas||!X.designData){console.log("Canvas not ready, retrying..."),setTimeout(me,100);return}try{F.current=!0;const we=JSON.parse(X.designData);ue.activeCanvas.loadFromJSON(we,()=>{ue.activeCanvas?.renderAll(),console.log(" Canvas restored from preview state"),F.current=!1})}catch(we){console.error("Failed to restore canvas from preview:",we),F.current=!1}};setTimeout(me,200)},[e.state,ue.activeCanvas]);const Cn=e.state?.category||"T-Shirt - Round Neck",zi=e.state?.productName||"",{products:Zn,loading:Ja,error:ua}=C0();w.useEffect(()=>{(async()=>{if(!(n||!r||Ja||!Zn||Zn.length===0)&&!je){if(e.state?.category||e.state?.productName||e.state?.returnFromPreview){console.log(" Skipping auto-load - user navigated here intentionally");return}try{const me=await fetch(`/api/design/load/last-used?userId=${r.id}`,{credentials:"include"});if(me.ok){const we=await me.json(),Ae=we.data?.customizableProductId;if(Ae){console.log(" Loading last-used variant from page refresh:",Ae);const Ee=Zn.find(Gt=>parseInt(Gt.id)===Ae);if(Ee){console.log(" Product found:",Ee.name,"Category:",Ee.category);const Gt=Ee.images?.find(jr=>jr.type==="front"),It=Ee.images?.find(jr=>jr.type==="back"),ft=Gt?.url||It?.url||Ee.images?.[0]?.url||"/placeholder-product.png",Xe=Ee.images?.find(jr=>jr.type==="front")?.url||ft,it=Ee.images?.find(jr=>jr.type==="back")?.url||ft,wr={id:Ee.id.toString(),productId:Ee.id.toString(),productName:Ee.name,variantName:Ee.variant?.name||Ee.color?.name||Ee.name,baseProduct:Ee.name,image:ft,frontImage:Xe,backImage:it,size:we.data.selectedSize||"M",color:Ee.color?.name||"Default",colorCode:Ee.color?.hexCode||"#FFFFFF",price:Ee.retailPrice||0,retailPrice:Ee.retailPrice||0,totalPrice:Ee.retailPrice||0,category:Ee.category||"T-Shirt",printOption:we.data.selectedPrintOption||"none",isAvailable:!0};gt(wr),zt(we.data.selectedSize||"M");const Jt=["A4","Letter","Legal","Square","Custom"],Ln=we.data.printAreaPreset,da=Jt.includes(Ln)?Ln:"Letter";D(da),vi(Ee.name),xr(Ee.category||"T-Shirt"),console.log(" Variant restored from page refresh:",wr.productName,"Print Area:",da)}else console.warn(" Product not found in allProducts. ID:",Ae)}}}catch(me){console.error("Failed to load last-used variant:",me)}}})()},[n,r,Ja,Zn,je,e.state,Cn]);const rg=w.useMemo(()=>!Zn||Zn.length===0?[]:Zn.filter(X=>X.category===Cn),[Zn,Cn]),Tf=w.useMemo(()=>rg.map(X=>{const we=X.images?.find(Ae=>Ae.type==="front")?.url||X.images?.[0]?.url||"https://images.unsplash.com/photo-1620799139834-6b8f844fbe61?w=500";return{id:X.id,name:X.name,color:X.color?.name||X.variant?.name||"Unknown",sizes:X.sizes||["S","M","L","XL"],image:we,noPrint:!0,frontPrint:X.printAreas?.includes("Front")||!0,backPrint:X.printAreas?.includes("Back")||!0,category:X.category,subcategory:"",fitType:X.fitType,fitDescription:X.fitDescription,colorHex:X.color?.hexCode,variantName:X.variant?.name,differentiationType:X.differentiationType,retailPrice:X.retailPrice,frontPrintCost:X.frontPrintCost,backPrintCost:X.backPrintCost}}),[rg]);w.useEffect(()=>{zi&&vi(zi),xr(Cn)},[zi,Cn]);const Ol=X=>{if(!Qe){alert(" Please select a size first");return}let me=X.retailPrice||350;en==="front"?me+=X.frontPrintCost||100:en==="back"&&(me+=X.backPrintCost||100);const we=X.variantName||X.color||"Default",Ae=X.images?.find(ft=>ft.type==="front")?.url||jD[X.category]?.front||Pu,Ee=X.images?.find(ft=>ft.type==="back")?.url||jD[X.category]?.back||ku,It={id:`variant-${Date.now()}`,productId:X.id,productName:X.name,variantName:we,size:Qe,printOption:en,image:X.image,frontImage:Ae,backImage:Ee,retailPrice:X.retailPrice||350,totalPrice:me};gt(It),Qe?zt(Qe):X.sizes&&X.sizes.length>0?zt(X.sizes[0]):zt("M"),E(!1),H(!0)},Pb=async()=>{if(!je){ve.error("Please select a product variant first");return}if(!Qe){ve.error("Please select a size");return}if(!ue.activeCanvas){ve.error("Canvas not initialized");return}yi(!0);try{const X=Ij(ue.activeCanvas,{format:"png",quality:.9,multiplier:1}),me=await(await fetch(X)).blob(),we=new FormData;we.append("image",me,"custom-design.png");const Ae=await fetch("/api/custom-design/upload-preview",{method:"POST",body:we,credentials:"include"});if(!Ae.ok)throw new Error("Failed to upload design thumbnail");const Gt=(await Ae.json())?.url||"",ft={design:ue.activeCanvas.toJSON(),thumbnail:Gt,printOption:je.printOption,printAreaSize:M,side:$e},Xe=je.retailPrice||350,it=je.printOption==="front"||je.printOption==="back"?50:0,wr=Xe+it;await Ym(je.productId,`${je.productName} - ${je.variantName} (${Qe})`,wr,Gt||je.image,Ut||"Custom Design",1,Qe,je.variantName,ft),ve.success("Added to cart successfully!")}catch(X){console.error("Add to cart error:",X),ve.error("Failed to add to cart. Please try again.")}finally{yi(!1)}},Af=Tf,Yc=X=>`${X} Variants`,ng=[{id:"back",icon:fo,label:"Back"},{id:"upload",icon:cp,label:"Upload Image"},{id:"text",icon:hK,label:"Add Text"},{id:"library",icon:ev,label:"My Library"},{id:"graphics",icon:Uh,label:"Graphics"},{id:"patterns",icon:Fu,label:"Patterns/Textures"}],kb=X=>{X==="back"?t("/"):X==="upload"?(z(!I),J(!1),se(!1),K(!1),ae(!1),E(!1),xe(!1),q("upload")):X==="text"?(J(!V),z(!1),se(!1),K(!1),ae(!1),E(!1),xe(!1),q("text")):X==="library"?(se(!Q),z(!1),J(!1),K(!1),ae(!1),E(!1),xe(!1),q("library")):X==="graphics"?(K(!oe),z(!1),J(!1),se(!1),ae(!1),E(!1),xe(!1),q("graphics")):X==="patterns"?(ae(!de),z(!1),J(!1),se(!1),K(!1),E(!1),xe(!1),q("patterns")):q(X)},Pl=async X=>{const me=X.target.files?.[0];if(!me)return;if(!Sl()){vn(),Ft.current&&(Ft.current.value="");return}if(!Jm()){Ft.current&&(Ft.current.value="");return}an(null);const we=await yt(me);if(!we.valid){an(we.error||"Invalid image"),Ft.current&&(Ft.current.value="");return}we.warning&&an(we.warning);const Ae=await Wt(me);Ae&&(Nb(Ee=>[{...Ae,timestamp:Date.now()},...Ee].slice(0,6)),ue.addImageToCanvas(Ae.url),Ft.current&&(Ft.current.value=""))},kl=X=>{if(!Sl()){vn();return}ue.addImageToCanvas(X,{fit:!0,center:!0})},jo=X=>{if(!Sl()){vn();return}ue.addImageToCanvas(X,{fit:!0,center:!0}),K(!1)},Kc=async X=>{if(!Sl()){vn();return}const me=ue.activeCanvas;if(!me)return;const we=me.getActiveObject();if(!we){alert("Please select an object first to apply the pattern");return}const{Image:Ae,Pattern:Ee}=await f_(async()=>{const{Image:ft,Pattern:Xe}=await Promise.resolve().then(()=>$_);return{Image:ft,Pattern:Xe}},void 0),Gt=await Ae.fromURL(X,{crossOrigin:"anonymous"}),It=new Ee({source:Gt.getElement(),repeat:"repeat"});we.set("fill",It),me.renderAll(),ae(!1)},Tb=()=>{if(!br.trim())return;if(!Sl()){vn();return}if(!Jm())return;const X={Small:24,Medium:40,Large:60,"X-Large":80};ue.addTextToCanvas(br,{fontSize:X[qm],fontFamily:Ii,fill:Ga}),gn("")},Ab=X=>{const me=ue.activeCanvas,we=ue.selectedObject;!me||!we||(we.set(X),me.renderAll())};return s.jsxs(ose,{value:{fabricCanvas:ue.activeCanvas,selectedObject:ue.selectedObject,canvasObjects:ue.canvasObjects,zoom:o,addImageToCanvas:ue.addImageToCanvas,addTextToCanvas:ue.addTextToCanvas,removeSelectedObject:ue.removeSelectedObject,removeObject:ue.removeSelectedObject,clearCanvas:ue.clearCanvas,getCanvasJSON:ue.getDesignState,loadCanvasFromJSON:X=>ue.loadDesignState(X,null),setZoom:j,resetView:y,exportHighDPI:async()=>null},children:[St.type==="loading"&&s.jsx(Ese,{message:St.message||"Loading your design..."}),s.jsxs("div",{className:"h-screen flex bg-gray-100 overflow-hidden fixed inset-0",children:[s.jsx("div",{className:"bg-white border-r w-20 flex flex-col items-center py-6 gap-4 z-10",children:ng.map(X=>{const me=X.icon;return s.jsxs("button",{onClick:()=>kb(X.id),className:`w-full flex flex-col items-center justify-center gap-1.5 py-2 px-1 transition-colors group ${$===X.id?"text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(me,{className:"size-5"}),s.jsx("span",{className:`text-[10px] text-center leading-tight ${$===X.id?"":"text-gray-500"}`,children:X.label})]},X.id)})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b px-4 py-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>{E(!G),G||(z(!1),J(!1),se(!1),K(!1),ae(!1))},"data-clothing-variants-btn":!0,className:`${G?"bg-gray-800 text-white hover:bg-gray-700 hover:text-white":"hover:bg-gray-100 hover:text-gray-900"}`,children:"Clothing Variants"}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>H(!U),className:`flex items-center gap-2 ${U?"bg-gray-800 text-white hover:bg-gray-700 hover:text-white":"hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx(gr,{className:"size-4"}),"Variant Details"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{xe(!ce),ce||(z(!1),J(!1),se(!1),K(!1),ae(!1))},className:`${ce?"bg-gray-800 text-white hover:bg-gray-700 hover:text-white":"hover:bg-gray-100 hover:text-gray-900"}`,children:["Properties",ue.selectedObject&&s.jsx("span",{className:"ml-2 size-2 rounded-full bg-green-500"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ee,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:wo,disabled:!je||!ue.activeCanvas,title:"Preview your design",children:[s.jsx(to,{className:"size-4 mr-1.5"}),"Preview"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>B(L==="layers"?"":"layers"),className:`relative ${L==="layers"?"bg-gray-800 text-white hover:bg-gray-700 hover:text-white":"hover:bg-gray-100 hover:text-gray-900"}`,children:["Layers",wt.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs size-5 rounded-full flex items-center justify-center",children:wt.length})]})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[U&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r w-[320px] overflow-y-auto z-20 shadow-lg",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Variant Details"}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8",onClick:()=>H(!1),children:s.jsx(Tt,{className:"size-4"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:je?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"space-y-3",children:s.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg border overflow-hidden",children:s.jsx("img",{src:je.image,alt:je.productName,className:"w-full h-full object-contain"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:je.productName}),s.jsx("div",{className:"text-sm text-gray-600",children:je.variantName}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(gr,{className:"size-4"}),s.jsx("span",{children:"Your Brand Store"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(Zu,{className:"size-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-700",children:"In stock"})]}),s.jsxs("div",{className:"space-y-3 border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Size"}),s.jsx("span",{className:"font-medium",children:je.size})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Print Option"}),s.jsx("span",{className:"font-medium",children:je.printOption==="none"?"No Print":je.printOption==="front"?"Front Only":"Back Only"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Retail Price"}),s.jsxs("span",{className:"font-medium",children:["",je.retailPrice.toFixed(2)]})]})]}),s.jsxs(wM,{open:Ke,onOpenChange:Re,children:[s.jsx(jM,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",className:"w-full justify-between p-0 h-auto hover:bg-transparent",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Total Price: ",je.totalPrice.toFixed(2)]}),Ke?s.jsx(Wh,{className:"size-4 text-gray-500"}):s.jsx(Bs,{className:"size-4 text-gray-500"})]})}),s.jsx(SM,{className:"pt-4 space-y-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Retail Price"}),s.jsxs("span",{children:["",je.retailPrice.toFixed(2)]})]}),je.printOption==="front"&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Front print"}),s.jsx("span",{children:"Included"})]}),je.printOption==="back"&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Back print"}),s.jsx("span",{children:"Included"})]}),s.jsxs("div",{className:"pt-2 border-t flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total"}),s.jsxs("span",{className:"text-sm font-medium",children:["",je.totalPrice.toFixed(2)]})]})]})})]}),s.jsxs(wM,{open:mt,onOpenChange:ct,className:"border-t pt-6",children:[s.jsx(jM,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",className:"w-full justify-between p-0 h-auto hover:bg-transparent mb-4",children:[s.jsx("span",{className:"text-sm font-medium",children:"Print area"}),mt?s.jsx(Wh,{className:"size-4 text-gray-500"}):s.jsx(Bs,{className:"size-4 text-gray-500"})]})}),s.jsxs(SM,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"variantPrintAreaSize",className:"text-sm text-gray-600",children:"Print Area Size"}),s.jsxs(Gr,{value:M,onValueChange:X=>D(X),children:[s.jsx(Yr,{id:"variantPrintAreaSize",className:"w-full",children:s.jsx(Xr,{})}),s.jsx(Kr,{children:Object.keys(kn).map(X=>s.jsx(We,{value:X,children:kn[X].label},X))})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Print Size"}),s.jsxs("span",{children:[kn[M].width,"  ",kn[M].height," px"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"DPI"}),s.jsx("span",{children:"300"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Physical Size"}),s.jsx("span",{children:kn[M].physicalSize})]})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 text-center px-4",children:[s.jsx(gr,{className:"size-16 text-gray-400"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"No Variant Selected"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Choose a product variant to start customizing your design"})]}),s.jsxs(ee,{size:"lg",className:"mt-4",onClick:()=>{H(!1),E(!0)},children:[s.jsx(gr,{className:"size-4 mr-2"}),"Select Product Variant"]})]})})]})}),G&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl",children:Yc(Cn)}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"size-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600",children:Ja?"Loading...":`${Tf.length} Available`})]})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>E(!1),children:s.jsx(Tt,{className:"size-5"})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5",children:[s.jsx("style",{children:`
                    .variants-scroll::-webkit-scrollbar {
                      width: 8px;
                    }
                    .variants-scroll::-webkit-scrollbar-track {
                      background: #f1f1f1;
                      border-radius: 4px;
                    }
                    .variants-scroll::-webkit-scrollbar-thumb {
                      background: #888;
                      border-radius: 4px;
                    }
                    .variants-scroll::-webkit-scrollbar-thumb:hover {
                      background: #555;
                    }
                  `}),s.jsx("div",{className:"variants-scroll h-full overflow-y-auto space-y-4",children:Ja?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-800 mb-4"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading variants..."})]}):ua?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[s.jsx(Tu,{className:"size-16 text-red-400 mb-4"}),s.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Failed to load products"}),s.jsx("p",{className:"text-xs text-gray-500",children:ua})]}):Af.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[s.jsx(gr,{className:"size-16 text-gray-300 mb-4"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No variants found"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["No products available for ",Cn]})]}):Af.map(X=>{const me=Ne.has(X.id),we=X.retailPrice||350,Ae=X.frontPrintCost||100,Ee=X.backPrintCost||100,Gt=we,It=we+Ae,ft=we+Ee;return s.jsx("div",{className:"w-full bg-white border-2 border-gray-200 rounded-xl hover:border-gray-400 hover:shadow-lg transition-all",children:s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-32 h-32 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden",children:s.jsx("img",{src:X.image,alt:X.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-2.5",children:[s.jsx("h3",{className:"text-base hover:text-gray-900 transition-colors",children:X.name}),X.category&&s.jsxs("div",{className:"text-xs text-gray-600",children:["Category: ",s.jsx("span",{className:"font-medium",children:X.category})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Select Size:",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:X.sizes.map(Xe=>{const it=Qe===Xe;return s.jsx("button",{onClick:()=>zt(Xe),className:`px-2 py-0.5 text-xs border rounded transition-all ${it?"bg-gray-800 text-white border-gray-800 font-medium":"bg-gray-100 border-gray-300 hover:border-gray-800 hover:bg-gray-200"}`,children:Xe},Xe)})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Print Option:"}),s.jsx("div",{className:"flex gap-1.5",children:["none","front","back"].map(Xe=>{const it=en===Xe,wr=Xe.charAt(0).toUpperCase()+Xe.slice(1);return s.jsx("button",{onClick:()=>tn(Xe),className:`px-3 py-1 text-xs border rounded transition-all ${it?"bg-gray-800 text-white border-gray-800 font-medium":"bg-gray-100 border-gray-300 hover:border-gray-800 hover:bg-gray-200"}`,children:wr},Xe)})})]})]})]}),s.jsxs("div",{className:"space-y-2 pl-1",children:[X.differentiationType==="color"&&X.colorHex?s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 rounded-md border-2 border-gray-300 shadow-sm flex-shrink-0",style:{backgroundColor:X.colorHex}}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Color"}),s.jsx("span",{className:"text-sm text-gray-800",children:X.color})]})]}):X.differentiationType==="variant"&&X.variantName?s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Variant: "}),s.jsx("span",{className:"text-gray-800 font-medium",children:X.variantName})]}):null,(X.fitType||X.fitDescription)&&s.jsxs("div",{className:"text-xs",children:[X.fitType&&s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"text-gray-500",children:"Fit: "}),X.fitType,X.fitDescription&&" | "]}),X.fitDescription&&s.jsx("span",{className:"text-gray-500",children:X.fitDescription})]})]}),s.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[s.jsxs("button",{onClick:()=>{Fe(Xe=>{const it=new Set(Xe);return me?it.delete(X.id):it.add(X.id),it})},className:"w-full flex items-center justify-between py-2 px-2 hover:bg-gray-50 rounded transition-colors",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Pricing Options"}),s.jsx(Bs,{className:`size-4 text-gray-500 transition-transform ${me?"rotate-180":""}`})]}),me&&s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-gray-50 border border-gray-200 rounded",children:[s.jsx("span",{className:"text-xs text-gray-700",children:"No Print"}),s.jsxs("span",{className:"text-xs font-medium",children:["",Gt.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-gray-50 border border-gray-200 rounded",children:[s.jsx("span",{className:"text-xs text-gray-700",children:"Front Print"}),s.jsxs("span",{className:"text-xs font-medium",children:["",It.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-gray-50 border border-gray-200 rounded",children:[s.jsx("span",{className:"text-xs text-gray-700",children:"Back Print"}),s.jsxs("span",{className:"text-xs font-medium",children:["",ft.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2",children:[s.jsx(ee,{size:"sm",className:"bg-gray-800 hover:bg-gray-700 text-white text-xs h-8",onClick:()=>Ol(X),children:"Add to Customize"}),s.jsx("button",{onClick:()=>t(`/custom-product/${X.id}`),className:"text-xs text-gray-600 hover:text-gray-900 hover:underline",children:"More details "})]})]})},X.id)})})]})]})}),I&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl",children:"Upload Image"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"size-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600",children:"Available"})]})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>z(!1),children:s.jsx(Tt,{className:"size-5"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:s.jsxs("div",{className:"h-full space-y-4",children:[s.jsx("input",{ref:Ft,type:"file",accept:"image/png,image/jpeg,image/jpg,image/svg+xml",onChange:Pl,className:"hidden"}),s.jsxs("div",{onClick:()=>Ft.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer",children:[s.jsx(cp,{className:"size-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-sm mb-1 font-medium",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG or SVG (max. 10MB)"}),Fr&&s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Uploading..."})]}),Kt&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Tu,{className:"size-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-medium text-red-800 mb-1",children:"Upload Blocked"}),s.jsx("p",{className:"text-xs text-red-700",children:Kt})]})]}),Dt&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Tu,{className:"size-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-medium text-red-800 mb-1",children:"Upload Failed"}),s.jsx("p",{className:"text-xs text-red-700",children:Dt})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs font-medium text-blue-900 mb-2",children:"Best Practices"}),s.jsxs("ul",{className:"space-y-1.5 text-xs text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),s.jsx("span",{children:"Use images with at least 2000px on the shortest side"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),s.jsx("span",{children:"PNG format with transparent background works best"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),s.jsx("span",{children:"High resolution ensures sharp prints (300 DPI recommended)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Recent Uploads"}),gf.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm",children:[s.jsx(Uh,{className:"size-12 mx-auto mb-2 opacity-30"}),s.jsx("p",{children:"No uploads yet"})]}):s.jsx("div",{className:"grid grid-cols-2 gap-3",children:gf.slice(0,6).map((X,me)=>s.jsx("div",{onClick:()=>kl(X.url),className:"aspect-square bg-gray-100 rounded-lg border-2 border-gray-200 p-2 hover:border-blue-500 transition-colors cursor-pointer",children:s.jsx("img",{src:X.url,alt:"Recent upload",className:"size-full object-contain rounded"})},X.timestamp+me))})]})]})})]})}),V&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl",children:"Add Text"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"size-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600",children:"Available"})]})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>J(!1),children:s.jsx(Tt,{className:"size-5"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:s.jsxs("div",{className:"h-full space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Text Content"}),s.jsx(Le,{placeholder:"Enter your text here...",className:"mt-1",value:br,onChange:X=>gn(X.target.value)})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-500 mb-2 block",children:"Font Styles"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Arial","Helvetica","Times New Roman","Georgia","Verdana","Comic Sans MS"].map(X=>s.jsx("button",{onClick:()=>wl(X),className:`p-3 border-2 rounded-lg transition-colors text-left text-sm ${Ii===X?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,style:{fontFamily:X},children:X},X))})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-500 mb-2 block",children:"Text Size"}),s.jsx("div",{className:"flex gap-2",children:["Small","Medium","Large","X-Large"].map(X=>s.jsx("button",{onClick:()=>Cb(X),className:`flex-1 p-2 border-2 rounded-lg transition-colors text-xs ${qm===X?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,children:X},X))})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs text-gray-500 mb-2 block",children:"Colors"}),s.jsx("div",{className:"grid grid-cols-6 gap-2",children:["#000000","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#808080","#800000","#008000","#000080"].map(X=>s.jsx("button",{onClick:()=>Vm(X),className:`aspect-square rounded-lg border-2 transition-colors ${Ga===X?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:X}},X))})]}),s.jsx(ee,{className:"w-full bg-gray-800 hover:bg-gray-700",onClick:Tb,children:"Add Text to Design"})]})})]})}),Q&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[580px] overflow-hidden z-20 shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl",children:"My Library"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:`size-2 rounded-full ${Xa.length>0?"bg-green-500":"bg-gray-400"}`}),s.jsxs("span",{className:"text-gray-600",children:[Xa.length," Saved"]})]})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>se(!1),children:s.jsx(Tt,{className:"size-5"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:s.jsxs("div",{className:"h-full space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:" Saved Designs"}),Xa.length>0&&s.jsxs("span",{className:"text-xs text-gray-500",children:[Xa.length," design",Xa.length!==1?"s":""]})]}),Gm?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):Xa.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(ev,{className:"size-16 mx-auto mb-3 opacity-30 text-gray-400"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No saved designs yet"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Preview your design and click "Save to Library" to save it here'})]}):s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Xa.map(X=>s.jsx(Sse,{design:X,onLoad:Zm,onDelete:Cf},X.id))})]}),s.jsx("div",{className:"border-t border-gray-200"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:" Templates"}),s.jsx(lt,{variant:"secondary",className:"text-xs",children:"Coming Soon"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(X=>s.jsxs("div",{className:"aspect-square bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 overflow-hidden relative group cursor-not-allowed",children:[s.jsxs("div",{className:"size-full flex flex-col items-center justify-center p-4 opacity-40",children:[s.jsx(gr,{className:"size-12 text-gray-400 mb-2"}),s.jsxs("p",{className:"text-xs text-gray-600 text-center",children:["Template ",X]})]}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(lt,{variant:"secondary",className:"text-xs",children:"Available Soon"})})]},X))}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:" Templates Coming in Phase 4"}),s.jsx("p",{className:"text-xs",children:"Pre-designed templates will help you create amazing designs faster!"})]})]})]})})]})}),oe&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl",children:"Graphics"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"size-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-gray-600",children:[xf.length," Available"]})]})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>K(!1),children:s.jsx(Tt,{className:"size-5"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:s.jsxs("div",{className:"h-full space-y-4",children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","icon","logo","illustration","template"].map(X=>s.jsx(ee,{variant:Vc===X?"default":"outline",size:"sm",onClick:()=>{wf(X),hr(X==="all"?void 0:X)},className:"capitalize shrink-0",children:X},X))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:Vc==="all"?"All Graphics":`${Vc.charAt(0).toUpperCase()+Vc.slice(1)}s`}),xf.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx(Uh,{className:"size-16 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No graphics available"})]}):s.jsx("div",{className:"grid grid-cols-2 gap-3",children:xf.map(X=>s.jsx("div",{className:"aspect-square bg-gray-50 rounded-lg border-2 border-gray-200 overflow-hidden hover:border-blue-400 transition-colors cursor-pointer p-2",onClick:()=>jo(X.cloudinary_url),children:s.jsx("img",{src:X.thumbnail_url,alt:X.name,className:"size-full object-contain"})},X.id))})]})]})})]})}),de&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-white border-r border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl",children:"Patterns & Textures"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"size-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-gray-600",children:[bf.length," Available"]})]})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>ae(!1),children:s.jsx(Tt,{className:"size-5"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:s.jsxs("div",{className:"h-full space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"How to use patterns:"}),s.jsx("p",{className:"text-xs",children:"1. Select an object on the canvas"}),s.jsx("p",{className:"text-xs",children:"2. Click a pattern to apply it as fill"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Available Patterns"}),bf.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx(Fu,{className:"size-16 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No patterns available"})]}):s.jsx("div",{className:"grid grid-cols-2 gap-3",children:bf.map(X=>s.jsx("div",{className:"aspect-square bg-gray-50 rounded-lg border-2 border-gray-200 overflow-hidden hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>Kc(X.cloudinary_url),children:s.jsx("img",{src:X.thumbnail_url,alt:X.name,className:"size-full object-cover"})},X.id))})]})]})})]})}),L==="layers"&&s.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-white border-l border-gray-300 w-[480px] overflow-hidden z-20 shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ev,{className:"size-5 text-gray-700"}),s.jsx("h2",{className:"text-xl",children:"Layers"})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-200",onClick:()=>B("edit"),children:s.jsx(Tt,{className:"size-5"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"size-2 rounded-full bg-blue-500"}),s.jsxs("span",{className:"text-gray-600",children:[ue.canvasObjects.length," ",ue.canvasObjects.length===1?"object":"objects"]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ue.canvasObjects.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[s.jsx(ev,{className:"size-16 text-gray-300 mb-4"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No objects yet"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Add text, images, or graphics to see them listed here"})]}):s.jsx("div",{className:"space-y-2",children:[...ue.canvasObjects].reverse().map((X,me)=>{const we=ue.selectedObject===X,Ae=le.has(X),Ee=X.type||"object",Gt=ue.canvasObjects.length-1-me,It=()=>Ee==="i-text"||Ee==="text"?"":Ee==="image"?"":Ee==="rect"?"":Ee==="circle"?"":Ee==="polygon"?"":"",ft=()=>{if(Ee==="i-text"||Ee==="text"){const it=X.text||"";return it.length>25?it.substring(0,25)+"...":it||"Empty Text"}return Ee==="image"?"Image":Ee==="rect"?"Rectangle":Ee==="circle"?"Circle":Ee==="polygon"?"Polygon":"Object"},Xe=(it,wr)=>{if(wr.stopPropagation(),!ue.activeCanvas)return;const Jt=ue.activeCanvas;it==="front"?Jt.bringObjectToFront(X):it==="forward"?Jt.bringObjectForward(X):it==="backward"?Jt.sendObjectBackwards(X):it==="back"&&Jt.sendObjectToBack(X),Jt.renderAll(),Te(da=>{const jr=new Set(da);return jr.delete(X),jr});const Ln=wr.currentTarget;Ln.classList.add("bg-blue-500","text-white"),setTimeout(()=>{Ln.classList.remove("bg-blue-500","text-white")},200)};return s.jsxs("div",{className:`border rounded-lg overflow-hidden transition-all ${we?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${X.customProps?.locked?"opacity-60 bg-gray-50":""}`,children:[s.jsxs("div",{className:`flex items-center gap-2 p-2.5 transition-colors ${X.customProps?.locked?"bg-gray-100":"bg-white hover:bg-gray-50"}`,children:[s.jsx("button",{onClick:it=>{it.stopPropagation();const wr=new Set(le);Ae?wr.delete(X):wr.add(X),Te(wr)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:Ae?"Collapse":"Expand controls",children:s.jsx(Bs,{className:`h-4 w-4 text-gray-500 transition-transform ${Ae?"rotate-180":""}`})}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer",onClick:()=>{ue.activeCanvas?.setActiveObject(X),ue.activeCanvas?.renderAll(),xe(!0)},children:[s.jsx("span",{className:"text-lg",children:It()}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("h4",{className:"text-xs font-medium truncate",children:ft()})})]}),s.jsx("button",{onClick:it=>{it.stopPropagation(),kf(X)},className:`p-1 hover:bg-gray-200 rounded transition-colors ${X.customProps?.locked?"text-red-600":"text-gray-400"}`,title:X.customProps?.locked?"Unlock object":"Lock object",children:X.customProps?.locked?s.jsx(A3,{className:"h-4 w-4"}):s.jsx(T3,{className:"h-4 w-4"})}),s.jsxs("div",{className:`text-[10px] px-1.5 py-0.5 rounded ${we?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:["#",me+1]})]}),Ae&&s.jsx("div",{className:"px-2.5 pb-2.5 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-4 gap-1.5 pt-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 px-1 text-[10px] flex flex-col items-center justify-center gap-0.5 hover:bg-blue-100 transition-colors",onClick:it=>Xe("front",it),title:"Bring to Front",children:[s.jsx(N3,{className:"h-3 w-3"}),s.jsx("span",{children:"Front"})]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 px-1 text-[10px] flex flex-col items-center justify-center gap-0.5 hover:bg-blue-100 transition-colors",onClick:it=>Xe("forward",it),title:"Bring Forward",children:[s.jsx(Wh,{className:"h-3 w-3"}),s.jsx("span",{children:"Forward"})]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 px-1 text-[10px] flex flex-col items-center justify-center gap-0.5 hover:bg-blue-100 transition-colors",onClick:it=>Xe("backward",it),title:"Send Backward",children:[s.jsx(Bs,{className:"h-3 w-3"}),s.jsx("span",{children:"Backward"})]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 px-1 text-[10px] flex flex-col items-center justify-center gap-0.5 hover:bg-blue-100 transition-colors",onClick:it=>Xe("back",it),title:"Send to Back",children:[s.jsx(C3,{className:"h-3 w-3"}),s.jsx("span",{children:"Back"})]})]})})]},Gt)})})})]})}),s.jsx(xse,{isOpen:ce,onClose:()=>xe(!1),selectedObject:ue.selectedObject,canvas:ue.activeCanvas,onUpdate:Ab,onLayerUpdate:()=>{}}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col bg-gray-50 relative canvas-area-container",style:{cursor:f?"grabbing":"default"},onMouseDown:x,onMouseMove:S,onMouseUp:_,onMouseLeave:_,children:[d&&s.jsx("div",{className:"absolute inset-0 z-50",style:{cursor:h?"grabbing":"grab"},onMouseDown:P,onMouseMove:C,onMouseUp:O,onMouseLeave:O}),s.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden p-4",children:s.jsx("div",{className:`canvas-transform-wrapper ${c?"":"zoom-transition"}`,style:{transform:`translate(${l.x}px, ${l.y}px) scale(${o})`,transformOrigin:"center center"},children:s.jsxs("div",{className:"relative rounded bg-white shadow-lg design-area-box",style:{width:`${Math.round(kn[M].width*(ns/100))}px`,height:`${Math.round(kn[M].height*(ns/100))}px`,outline:`${2/o}px dashed #2563eb`,outlineOffset:`${-2/o}px`},children:[s.jsxs("div",{className:"absolute -top-6 left-0 text-xs bg-blue-600 text-white px-2 py-0.5 rounded",style:{pointerEvents:"none",transform:`scale(${1/o})`,transformOrigin:"left bottom"},children:["Design Area - ",kn[M].label]}),je&&s.jsxs(s.Fragment,{children:[je.frontImage&&s.jsx("img",{src:je.frontImage,alt:"Front mockup",className:"absolute inset-0 w-full h-full object-contain pointer-events-none",style:{display:ue.activeView==="front"?"block":"none",zIndex:0}}),je.backImage&&s.jsx("img",{src:je.backImage,alt:"Back mockup",className:"absolute inset-0 w-full h-full object-contain pointer-events-none",style:{display:ue.activeView==="back"?"block":"none",zIndex:0}})]}),s.jsx("div",{ref:ue.frontContainerRef,className:"absolute inset-0",style:{width:`${Math.round(kn[M].width*(ns/100))}px`,height:`${Math.round(kn[M].height*(ns/100))}px`,display:ue.activeView==="front"?"block":"none",zIndex:1}}),s.jsx("div",{ref:ue.backContainerRef,className:"absolute inset-0",style:{width:`${Math.round(kn[M].width*(ns/100))}px`,height:`${Math.round(kn[M].height*(ns/100))}px`,display:ue.activeView==="back"?"block":"none",zIndex:1}})]})})}),s.jsxs("div",{className:"py-4 flex items-center justify-center gap-3",children:[s.jsx("button",{onClick:()=>Cl("front"),className:`px-6 py-2.5 rounded-full transition-all shadow-md ${$e==="front"?"bg-gray-800 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:"Front side"}),s.jsx("button",{onClick:()=>Cl("back"),className:`px-6 py-2.5 rounded-full transition-all shadow-md ${$e==="back"?"bg-gray-800 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:"Back side"})]})]})]}),s.jsxs("div",{className:"bg-white border-t px-6 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:jf,disabled:Ot<=0,title:"Undo (Ctrl+Z)",children:s.jsx(vK,{className:"size-4"})}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Sf,disabled:Ot>=rn.length-1,title:"Redo (Ctrl+Y)",children:s.jsx(qY,{className:"size-4"})}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),s.jsxs(ee,{variant:"default",size:"sm",className:"h-8 px-3 bg-blue-600 hover:bg-blue-700",onClick:wo,disabled:!je||!ue.activeCanvas,title:"Preview your design",children:[s.jsx(to,{className:"size-4 mr-1.5"}),"Preview"]}),(St.type==="saving"||St.type==="saved"||St.type==="save-error")&&s.jsxs("div",{className:`flex items-center gap-1.5 text-xs px-2 py-1 rounded ${St.type==="saving"?"bg-blue-50 text-blue-700":St.type==="saved"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[St.type==="saving"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"size-3 border-2 border-blue-700 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Auto-saving..."})]}),St.type==="saved"&&s.jsxs(s.Fragment,{children:[s.jsx(Zu,{className:"size-3"}),s.jsx("span",{children:"Auto-saved"})]}),St.type==="save-error"&&s.jsxs(s.Fragment,{children:[s.jsx(Tu,{className:"size-3"}),s.jsx("span",{children:"Failed"})]})]}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Nl,disabled:!ue.selectedObject,title:"Align Left",children:s.jsx(w3,{className:"size-4"})}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Ob,disabled:!ue.selectedObject,title:"Align Center",children:s.jsx(b3,{className:"size-4"})}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Nf,disabled:!ue.selectedObject,title:"Align Right",children:s.jsx(j3,{className:"size-4"})}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Rt,disabled:!ue.selectedObject,title:"Align Top",children:s.jsx(lj,{className:"size-4",style:{transform:"rotate(90deg)"}})}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:Qm,disabled:!ue.selectedObject,title:"Align Middle",children:s.jsx(lj,{className:"size-4"})}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:eg,disabled:!ue.selectedObject,title:"Align Bottom",children:s.jsx(lj,{className:"size-4",style:{transform:"rotate(-90deg)"}})}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:_f,disabled:!ue.selectedObject||ue.activeCanvas?.getActiveObject()?.type!=="activeSelection",title:"Distribute Horizontally",children:s.jsx(kX,{className:"size-4"})}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:tg,disabled:!ue.selectedObject||ue.activeCanvas?.getActiveObject()?.type!=="activeSelection",title:"Distribute Vertically",children:s.jsx(IX,{className:"size-4"})}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),s.jsx(ee,{variant:gi?"default":"outline",size:"icon",className:"size-8",onClick:()=>Va(!gi),title:"Toggle Grid",children:s.jsx(Fu,{className:"size-4"})}),s.jsx(ee,{variant:In?"default":"outline",size:"icon",className:"size-8",onClick:()=>Ps(!In),disabled:!gi,title:"Snap to Grid",children:s.jsx(RY,{className:"size-4"})}),s.jsxs(Gr,{value:nn.toString(),onValueChange:X=>Sn(Number(X)),children:[s.jsx(Yr,{className:"h-8 w-[80px] text-xs",children:s.jsx(Xr,{})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"25",children:'0.25"'}),s.jsx(We,{value:"50",children:'0.5"'}),s.jsx(We,{value:"100",children:'1"'}),s.jsx(We,{value:"150",children:'1.5"'})]})]}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:g,title:"Zoom Out (Ctrl+-)",children:s.jsx(AK,{className:"size-4"})}),s.jsxs("span",{className:"text-sm min-w-[50px] text-center",children:[Math.round(o*100),"%"]}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8",onClick:m,title:"Zoom In (Ctrl++)",children:s.jsx(kK,{className:"size-4"})}),s.jsx(ee,{variant:"outline",size:"icon",className:"size-8 ml-1",onClick:y,title:"Reset View (Ctrl+0)",children:s.jsx(jP,{className:"size-4"})}),s.jsxs("select",{value:Math.round(o*100),onChange:X=>b(Number(X.target.value)),className:"zoom-preset-select ml-2",children:[s.jsx("option",{value:25,children:"25%"}),s.jsx("option",{value:50,children:"50%"}),s.jsx("option",{value:75,children:"75%"}),s.jsx("option",{value:100,children:"100%"}),s.jsx("option",{value:150,children:"150%"}),s.jsx("option",{value:200,children:"200%"}),s.jsx("option",{value:300,children:"300%"}),s.jsx("option",{value:400,children:"400%"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[je&&s.jsxs(Gr,{value:Qe,onValueChange:zt,children:[s.jsx(Yr,{className:"h-9 w-[100px]",children:s.jsx(Xr,{placeholder:"Size"})}),s.jsx(Kr,{children:je.size?s.jsx(We,{value:je.size,children:je.size}):s.jsxs(s.Fragment,{children:[s.jsx(We,{value:"S",children:"S"}),s.jsx(We,{value:"M",children:"M"}),s.jsx(We,{value:"L",children:"L"}),s.jsx(We,{value:"XL",children:"XL"}),s.jsx(We,{value:"2XL",children:"2XL"})]})})]}),s.jsx(ee,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:Pb,disabled:!je||!Qe||jl,children:jl?s.jsxs(s.Fragment,{children:[s.jsx(Wn,{className:"size-4 mr-2 animate-spin"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(il,{className:"size-4 mr-2"}),"Add to Cart"]})})]})]})]})]})]})}function Dse({id:t,name:e,price:r,image:n,category:i,isNew:a}){const o=kr(),[l,c]=w.useState(!1),[d,f]=w.useState(!1),{requireAuth:h}=hi(),m=()=>{h(()=>{o("/custom-design",{state:{category:i||e,productName:e,productId:t}})})},g=()=>{h(()=>{c(!l)})};return s.jsxs("div",{className:"group relative overflow-hidden rounded-lg bg-white",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[s.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100",children:[s.jsx(ki,{src:n,alt:e,className:"size-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[a&&s.jsx(lt,{className:"bg-black text-white hover:bg-black/90",children:"New"}),i&&s.jsx(lt,{variant:"secondary",className:"bg-white/90 text-black",children:i})]}),s.jsx("button",{onClick:g,className:"absolute top-3 right-3 flex size-9 items-center justify-center rounded-full bg-white/90 backdrop-blur transition-all hover:bg-white",children:s.jsx(Qu,{className:`size-4 transition-colors ${l?"fill-red-500 text-red-500":"text-gray-700"}`})}),s.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-4 transition-all duration-300 ${d?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:s.jsxs(ee,{onClick:m,className:"w-full bg-black text-white hover:bg-black/90",children:[s.jsx(fc,{className:"mr-2 size-4"}),"Customize Now"]})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"mb-1 line-clamp-1",children:e}),s.jsxs("p",{className:"text-gray-600",children:["",r.toFixed(2)]})]})]})}var Lj={},zj={},lh={},Fj={},SD;function Rse(){return SD||(SD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(Fj)),Fj}var $j,CD;function Ise(){if(CD)return $j;CD=1;var t="Expected a function",e=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof Xo=="object"&&Xo&&Xo.Object===Object&&Xo,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),h=Object.prototype,m=h.toString,g=Math.max,j=Math.min,b=function(){return f.Date.now()};function y(C,O,k){var A,M,D,L,B,$,q=0,F=!1,G=!1,E=!0;if(typeof C!="function")throw new TypeError(t);O=P(O)||0,x(k)&&(F=!!k.leading,G="maxWait"in k,D=G?g(P(k.maxWait)||0,O):D,E="trailing"in k?!!k.trailing:E);function U(K){var de=A,ae=M;return A=M=void 0,q=K,L=C.apply(ae,de),L}function H(K){return q=K,B=setTimeout(V,O),F?U(K):L}function I(K){var de=K-$,ae=K-q,ce=O-de;return G?j(ce,D-ae):ce}function z(K){var de=K-$,ae=K-q;return $===void 0||de>=O||de<0||G&&ae>=D}function V(){var K=b();if(z(K))return J(K);B=setTimeout(V,I(K))}function J(K){return B=void 0,E&&A?U(K):(A=M=void 0,L)}function Q(){B!==void 0&&clearTimeout(B),q=0,A=$=M=B=void 0}function se(){return B===void 0?L:J(b())}function oe(){var K=b(),de=z(K);if(A=arguments,M=this,$=K,de){if(B===void 0)return H($);if(G)return B=setTimeout(V,O),U($)}return B===void 0&&(B=setTimeout(V,O)),L}return oe.cancel=Q,oe.flush=se,oe}function x(C){var O=typeof C;return!!C&&(O=="object"||O=="function")}function S(C){return!!C&&typeof C=="object"}function _(C){return typeof C=="symbol"||S(C)&&m.call(C)==r}function P(C){if(typeof C=="number")return C;if(_(C))return e;if(x(C)){var O=typeof C.valueOf=="function"?C.valueOf():C;C=x(O)?O+"":O}if(typeof C!="string")return C===0?C:+C;C=C.replace(n,"");var k=a.test(C);return k||o.test(C)?l(C.slice(2),k?2:8):i.test(C)?e:+C}return $j=y,$j}var Bj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var ND;function N0(){return ND||(ND=1,(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,n(l)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(Bj)),Bj.exports}var De={},Hj={},_D;function H8(){return _D||(_D=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r($a());function r(i){return i&&i.__esModule?i:{default:i}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=n})(Hj)),Hj}var OD;function Om(){if(OD)return De;OD=1,Object.defineProperty(De,"__esModule",{value:!0}),De.checkSpecKeys=De.checkNavigable=De.changeSlide=De.canUseDOM=De.canGoNext=void 0,De.clamp=d,De.extractObject=void 0,De.filterSettings=U,De.validSettings=De.swipeStart=De.swipeMove=De.swipeEnd=De.slidesOnRight=De.slidesOnLeft=De.slideHandler=De.siblingDirection=De.safePreventDefault=De.lazyStartIndex=De.lazySlidesOnRight=De.lazySlidesOnLeft=De.lazyEndIndex=De.keyHandler=De.initializedState=De.getWidth=De.getTrackLeft=De.getTrackCSS=De.getTrackAnimateCSS=De.getTotalSlides=De.getSwipeDirection=De.getSlideCount=De.getRequiredLazySlides=De.getPreClones=De.getPostClones=De.getOnDemandLazySlides=De.getNavigableIndexes=De.getHeight=void 0;var t=r($a()),e=r(H8());function r(H){return H&&H.__esModule?H:{default:H}}function n(H){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},n(H)}function i(H,I){var z=Object.keys(H);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(H);I&&(V=V.filter(function(J){return Object.getOwnPropertyDescriptor(H,J).enumerable})),z.push.apply(z,V)}return z}function a(H){for(var I=1;I<arguments.length;I++){var z=arguments[I]!=null?arguments[I]:{};I%2?i(Object(z),!0).forEach(function(V){o(H,V,z[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(z)):i(Object(z)).forEach(function(V){Object.defineProperty(H,V,Object.getOwnPropertyDescriptor(z,V))})}return H}function o(H,I,z){return(I=l(I))in H?Object.defineProperty(H,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):H[I]=z,H}function l(H){var I=c(H,"string");return n(I)=="symbol"?I:I+""}function c(H,I){if(n(H)!="object"||!H)return H;var z=H[Symbol.toPrimitive];if(z!==void 0){var V=z.call(H,I);if(n(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(H)}function d(H,I,z){return Math.max(I,Math.min(H,z))}var f=De.safePreventDefault=function(I){var z=["onTouchStart","onTouchMove","onWheel"];z.includes(I._reactName)||I.preventDefault()},h=De.getOnDemandLazySlides=function(I){for(var z=[],V=m(I),J=g(I),Q=V;Q<J;Q++)I.lazyLoadedList.indexOf(Q)<0&&z.push(Q);return z};De.getRequiredLazySlides=function(I){for(var z=[],V=m(I),J=g(I),Q=V;Q<J;Q++)z.push(Q);return z};var m=De.lazyStartIndex=function(I){return I.currentSlide-j(I)},g=De.lazyEndIndex=function(I){return I.currentSlide+b(I)},j=De.lazySlidesOnLeft=function(I){return I.centerMode?Math.floor(I.slidesToShow/2)+(parseInt(I.centerPadding)>0?1:0):0},b=De.lazySlidesOnRight=function(I){return I.centerMode?Math.floor((I.slidesToShow-1)/2)+1+(parseInt(I.centerPadding)>0?1:0):I.slidesToShow},y=De.getWidth=function(I){return I&&I.offsetWidth||0},x=De.getHeight=function(I){return I&&I.offsetHeight||0},S=De.getSwipeDirection=function(I){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V,J,Q,se;return V=I.startX-I.curX,J=I.startY-I.curY,Q=Math.atan2(J,V),se=Math.round(Q*180/Math.PI),se<0&&(se=360-Math.abs(se)),se<=45&&se>=0||se<=360&&se>=315?"left":se>=135&&se<=225?"right":z===!0?se>=35&&se<=135?"up":"down":"vertical"},_=De.canGoNext=function(I){var z=!0;return I.infinite||(I.centerMode&&I.currentSlide>=I.slideCount-1||I.slideCount<=I.slidesToShow||I.currentSlide>=I.slideCount-I.slidesToShow)&&(z=!1),z};De.extractObject=function(I,z){var V={};return z.forEach(function(J){return V[J]=I[J]}),V},De.initializedState=function(I){var z=t.default.Children.count(I.children),V=I.listRef,J=Math.ceil(y(V)),Q=I.trackRef&&I.trackRef.node,se=Math.ceil(y(Q)),oe;if(I.vertical)oe=J;else{var K=I.centerMode&&parseInt(I.centerPadding)*2;typeof I.centerPadding=="string"&&I.centerPadding.slice(-1)==="%"&&(K*=J/100),oe=Math.ceil((J-K)/I.slidesToShow)}var de=V&&x(V.querySelector('[data-index="0"]')),ae=de*I.slidesToShow,ce=I.currentSlide===void 0?I.initialSlide:I.currentSlide;I.rtl&&I.currentSlide===void 0&&(ce=z-1-I.initialSlide);var xe=I.lazyLoadedList||[],le=h(a(a({},I),{},{currentSlide:ce,lazyLoadedList:xe}));xe=xe.concat(le);var Te={slideCount:z,slideWidth:oe,listWidth:J,trackWidth:se,currentSlide:ce,slideHeight:de,listHeight:ae,lazyLoadedList:xe};return I.autoplaying===null&&I.autoplay&&(Te.autoplaying="playing"),Te},De.slideHandler=function(I){var z=I.waitForAnimate,V=I.animating,J=I.fade,Q=I.infinite,se=I.index,oe=I.slideCount,K=I.lazyLoad,de=I.currentSlide,ae=I.centerMode,ce=I.slidesToScroll,xe=I.slidesToShow,le=I.useCSS,Te=I.lazyLoadedList;if(z&&V)return{};var Ne=se,Fe,Ke,Re,mt={},ct={},je=Q?se:d(se,0,oe-1);if(J){if(!Q&&(se<0||se>=oe))return{};se<0?Ne=se+oe:se>=oe&&(Ne=se-oe),K&&Te.indexOf(Ne)<0&&(Te=Te.concat(Ne)),mt={animating:!0,currentSlide:Ne,lazyLoadedList:Te,targetSlide:Ne},ct={animating:!1,targetSlide:Ne}}else Fe=Ne,Ne<0?(Fe=Ne+oe,Q?oe%ce!==0&&(Fe=oe-oe%ce):Fe=0):!_(I)&&Ne>de?Ne=Fe=de:ae&&Ne>=oe?(Ne=Q?oe:oe-1,Fe=Q?0:oe-1):Ne>=oe&&(Fe=Ne-oe,Q?oe%ce!==0&&(Fe=0):Fe=oe-xe),!Q&&Ne+xe>=oe&&(Fe=oe-xe),Ke=D(a(a({},I),{},{slideIndex:Ne})),Re=D(a(a({},I),{},{slideIndex:Fe})),Q||(Ke===Re&&(Ne=Fe),Ke=Re),K&&(Te=Te.concat(h(a(a({},I),{},{currentSlide:Ne})))),le?(mt={animating:!0,currentSlide:Fe,trackStyle:M(a(a({},I),{},{left:Ke})),lazyLoadedList:Te,targetSlide:je},ct={animating:!1,currentSlide:Fe,trackStyle:A(a(a({},I),{},{left:Re})),swipeLeft:null,targetSlide:je}):mt={currentSlide:Fe,trackStyle:A(a(a({},I),{},{left:Re})),lazyLoadedList:Te,targetSlide:je};return{state:mt,nextState:ct}},De.changeSlide=function(I,z){var V,J,Q,se,oe,K=I.slidesToScroll,de=I.slidesToShow,ae=I.slideCount,ce=I.currentSlide,xe=I.targetSlide,le=I.lazyLoad,Te=I.infinite;if(se=ae%K!==0,V=se?0:(ae-ce)%K,z.message==="previous")Q=V===0?K:de-V,oe=ce-Q,le&&!Te&&(J=ce-Q,oe=J===-1?ae-1:J),Te||(oe=xe-K);else if(z.message==="next")Q=V===0?K:V,oe=ce+Q,le&&!Te&&(oe=(ce+K)%ae+V),Te||(oe=xe+K);else if(z.message==="dots")oe=z.index*z.slidesToScroll;else if(z.message==="children"){if(oe=z.index,Te){var Ne=q(a(a({},I),{},{targetSlide:oe}));oe>z.currentSlide&&Ne==="left"?oe=oe-ae:oe<z.currentSlide&&Ne==="right"&&(oe=oe+ae)}}else z.message==="index"&&(oe=Number(z.index));return oe},De.keyHandler=function(I,z,V){return I.target.tagName.match("TEXTAREA|INPUT|SELECT")||!z?"":I.keyCode===37?V?"next":"previous":I.keyCode===39?V?"previous":"next":""},De.swipeStart=function(I,z,V){return I.target.tagName==="IMG"&&f(I),!z||!V&&I.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:I.touches?I.touches[0].pageX:I.clientX,startY:I.touches?I.touches[0].pageY:I.clientY,curX:I.touches?I.touches[0].pageX:I.clientX,curY:I.touches?I.touches[0].pageY:I.clientY}}},De.swipeMove=function(I,z){var V=z.scrolling,J=z.animating,Q=z.vertical,se=z.swipeToSlide,oe=z.verticalSwiping,K=z.rtl,de=z.currentSlide,ae=z.edgeFriction,ce=z.edgeDragged,xe=z.onEdge,le=z.swiped,Te=z.swiping,Ne=z.slideCount,Fe=z.slidesToScroll,Ke=z.infinite,Re=z.touchObject,mt=z.swipeEvent,ct=z.listHeight,je=z.listWidth;if(!V){if(J)return f(I);Q&&se&&oe&&f(I);var gt,Qe={},zt=D(z);Re.curX=I.touches?I.touches[0].pageX:I.clientX,Re.curY=I.touches?I.touches[0].pageY:I.clientY,Re.swipeLength=Math.round(Math.sqrt(Math.pow(Re.curX-Re.startX,2)));var en=Math.round(Math.sqrt(Math.pow(Re.curY-Re.startY,2)));if(!oe&&!Te&&en>10)return{scrolling:!0};oe&&(Re.swipeLength=en);var tn=(K?-1:1)*(Re.curX>Re.startX?1:-1);oe&&(tn=Re.curY>Re.startY?1:-1);var rn=Math.ceil(Ne/Fe),fr=S(z.touchObject,oe),Ot=Re.swipeLength;return Ke||(de===0&&(fr==="right"||fr==="down")||de+1>=rn&&(fr==="left"||fr==="up")||!_(z)&&(fr==="left"||fr==="up"))&&(Ot=Re.swipeLength*ae,ce===!1&&xe&&(xe(fr),Qe.edgeDragged=!0)),!le&&mt&&(mt(fr),Qe.swiped=!0),Q?gt=zt+Ot*(ct/je)*tn:K?gt=zt-Ot*tn:gt=zt+Ot*tn,oe&&(gt=zt+Ot*tn),Qe=a(a({},Qe),{},{touchObject:Re,swipeLeft:gt,trackStyle:A(a(a({},z),{},{left:gt}))}),Math.abs(Re.curX-Re.startX)<Math.abs(Re.curY-Re.startY)*.8||Re.swipeLength>10&&(Qe.swiping=!0,f(I)),Qe}},De.swipeEnd=function(I,z){var V=z.dragging,J=z.swipe,Q=z.touchObject,se=z.listWidth,oe=z.touchThreshold,K=z.verticalSwiping,de=z.listHeight,ae=z.swipeToSlide,ce=z.scrolling,xe=z.onSwipe,le=z.targetSlide,Te=z.currentSlide,Ne=z.infinite;if(!V)return J&&f(I),{};var Fe=K?de/oe:se/oe,Ke=S(Q,K),Re={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(ce||!Q.swipeLength)return Re;if(Q.swipeLength>Fe){f(I),xe&&xe(Ke);var mt,ct,je=Ne?Te:le;switch(Ke){case"left":case"up":ct=je+O(z),mt=ae?C(z,ct):ct,Re.currentDirection=0;break;case"right":case"down":ct=je-O(z),mt=ae?C(z,ct):ct,Re.currentDirection=1;break;default:mt=je}Re.triggerSlideHandler=mt}else{var gt=D(z);Re.trackStyle=M(a(a({},z),{},{left:gt}))}return Re};var P=De.getNavigableIndexes=function(I){for(var z=I.infinite?I.slideCount*2:I.slideCount,V=I.infinite?I.slidesToShow*-1:0,J=I.infinite?I.slidesToShow*-1:0,Q=[];V<z;)Q.push(V),V=J+I.slidesToScroll,J+=Math.min(I.slidesToScroll,I.slidesToShow);return Q},C=De.checkNavigable=function(I,z){var V=P(I),J=0;if(z>V[V.length-1])z=V[V.length-1];else for(var Q in V){if(z<V[Q]){z=J;break}J=V[Q]}return z},O=De.getSlideCount=function(I){var z=I.centerMode?I.slideWidth*Math.floor(I.slidesToShow/2):0;if(I.swipeToSlide){var V,J=I.listRef,Q=J.querySelectorAll&&J.querySelectorAll(".slick-slide")||[];if(Array.from(Q).every(function(K){if(I.vertical){if(K.offsetTop+x(K)/2>I.swipeLeft*-1)return V=K,!1}else if(K.offsetLeft-z+y(K)/2>I.swipeLeft*-1)return V=K,!1;return!0}),!V)return 0;var se=I.rtl===!0?I.slideCount-I.currentSlide:I.currentSlide,oe=Math.abs(V.dataset.index-se)||1;return oe}else return I.slidesToScroll},k=De.checkSpecKeys=function(I,z){return z.reduce(function(V,J){return V&&I.hasOwnProperty(J)},!0)?null:console.error("Keys Missing:",I)},A=De.getTrackCSS=function(I){k(I,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var z,V;if(!I.vertical)z=$(I)*I.slideWidth;else{var J=I.unslick?I.slideCount:I.slideCount+2*I.slidesToShow;V=J*I.slideHeight}var Q={opacity:1,transition:"",WebkitTransition:""};if(I.useTransform){var se=I.vertical?"translate3d(0px, "+I.left+"px, 0px)":"translate3d("+I.left+"px, 0px, 0px)",oe=I.vertical?"translate3d(0px, "+I.left+"px, 0px)":"translate3d("+I.left+"px, 0px, 0px)",K=I.vertical?"translateY("+I.left+"px)":"translateX("+I.left+"px)";Q=a(a({},Q),{},{WebkitTransform:se,transform:oe,msTransform:K})}else I.vertical?Q.top=I.left:Q.left=I.left;return I.fade&&(Q={opacity:1}),z&&(Q.width=z),V&&(Q.height=V),window&&!window.addEventListener&&window.attachEvent&&(I.vertical?Q.marginTop=I.left+"px":Q.marginLeft=I.left+"px"),Q},M=De.getTrackAnimateCSS=function(I){k(I,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var z=A(I);return I.useTransform?(z.WebkitTransition="-webkit-transform "+I.speed+"ms "+I.cssEase,z.transition="transform "+I.speed+"ms "+I.cssEase):I.vertical?z.transition="top "+I.speed+"ms "+I.cssEase:z.transition="left "+I.speed+"ms "+I.cssEase,z},D=De.getTrackLeft=function(I){if(I.unslick)return 0;k(I,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var z=I.slideIndex,V=I.trackRef,J=I.infinite,Q=I.centerMode,se=I.slideCount,oe=I.slidesToShow,K=I.slidesToScroll,de=I.slideWidth,ae=I.listWidth,ce=I.variableWidth,xe=I.slideHeight,le=I.fade,Te=I.vertical,Ne=0,Fe,Ke,Re=0;if(le||I.slideCount===1)return 0;var mt=0;if(J?(mt=-L(I),se%K!==0&&z+K>se&&(mt=-(z>se?oe-(z-se):se%K)),Q&&(mt+=parseInt(oe/2))):(se%K!==0&&z+K>se&&(mt=oe-se%K),Q&&(mt=parseInt(oe/2))),Ne=mt*de,Re=mt*xe,Te?Fe=z*xe*-1+Re:Fe=z*de*-1+Ne,ce===!0){var ct,je=V&&V.node;if(ct=z+L(I),Ke=je&&je.childNodes[ct],Fe=Ke?Ke.offsetLeft*-1:0,Q===!0){ct=J?z+L(I):z,Ke=je&&je.children[ct],Fe=0;for(var gt=0;gt<ct;gt++)Fe-=je&&je.children[gt]&&je.children[gt].offsetWidth;Fe-=parseInt(I.centerPadding),Fe+=Ke&&(ae-Ke.offsetWidth)/2}}return Fe},L=De.getPreClones=function(I){return I.unslick||!I.infinite?0:I.variableWidth?I.slideCount:I.slidesToShow+(I.centerMode?1:0)},B=De.getPostClones=function(I){return I.unslick||!I.infinite?0:I.variableWidth?I.slideCount:I.slidesToShow+(I.centerMode?1:0)},$=De.getTotalSlides=function(I){return I.slideCount===1?1:L(I)+I.slideCount+B(I)},q=De.siblingDirection=function(I){return I.targetSlide>I.currentSlide?I.targetSlide>I.currentSlide+F(I)?"left":"right":I.targetSlide<I.currentSlide-G(I)?"right":"left"},F=De.slidesOnRight=function(I){var z=I.slidesToShow,V=I.centerMode,J=I.rtl,Q=I.centerPadding;if(V){var se=(z-1)/2+1;return parseInt(Q)>0&&(se+=1),J&&z%2===0&&(se+=1),se}return J?0:z-1},G=De.slidesOnLeft=function(I){var z=I.slidesToShow,V=I.centerMode,J=I.rtl,Q=I.centerPadding;if(V){var se=(z-1)/2+1;return parseInt(Q)>0&&(se+=1),!J&&z%2===0&&(se+=1),se}return J?z-1:0};De.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var E=De.validSettings=Object.keys(e.default);function U(H){return E.reduce(function(I,z){return H.hasOwnProperty(z)&&(I[z]=H[z]),I},{})}return De}var ch={},PD;function Lse(){if(PD)return ch;PD=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.Track=void 0;var t=n($a()),e=n(N0()),r=Om();function n(M){return M&&M.__esModule?M:{default:M}}function i(M){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},i(M)}function a(){return a=Object.assign?Object.assign.bind():function(M){for(var D=1;D<arguments.length;D++){var L=arguments[D];for(var B in L)({}).hasOwnProperty.call(L,B)&&(M[B]=L[B])}return M},a.apply(null,arguments)}function o(M,D){if(!(M instanceof D))throw new TypeError("Cannot call a class as a function")}function l(M,D){for(var L=0;L<D.length;L++){var B=D[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(M,_(B.key),B)}}function c(M,D,L){return D&&l(M.prototype,D),Object.defineProperty(M,"prototype",{writable:!1}),M}function d(M,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(D&&D.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),D&&f(M,D)}function f(M,D){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,B){return L.__proto__=B,L},f(M,D)}function h(M){var D=j();return function(){var L,B=b(M);if(D){var $=b(this).constructor;L=Reflect.construct(B,arguments,$)}else L=B.apply(this,arguments);return m(this,L)}}function m(M,D){if(D&&(i(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(M)}function g(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function j(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!M})()}function b(M){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},b(M)}function y(M,D){var L=Object.keys(M);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(M);D&&(B=B.filter(function($){return Object.getOwnPropertyDescriptor(M,$).enumerable})),L.push.apply(L,B)}return L}function x(M){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{};D%2?y(Object(L),!0).forEach(function(B){S(M,B,L[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(L)):y(Object(L)).forEach(function(B){Object.defineProperty(M,B,Object.getOwnPropertyDescriptor(L,B))})}return M}function S(M,D,L){return(D=_(D))in M?Object.defineProperty(M,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):M[D]=L,M}function _(M){var D=P(M,"string");return i(D)=="symbol"?D:D+""}function P(M,D){if(i(M)!="object"||!M)return M;var L=M[Symbol.toPrimitive];if(L!==void 0){var B=L.call(M,D);if(i(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(M)}var C=function(D){var L,B,$,q,F;D.rtl?F=D.slideCount-1-D.index:F=D.index,$=F<0||F>=D.slideCount,D.centerMode?(q=Math.floor(D.slidesToShow/2),B=(F-D.currentSlide)%D.slideCount===0,F>D.currentSlide-q-1&&F<=D.currentSlide+q&&(L=!0)):L=D.currentSlide<=F&&F<D.currentSlide+D.slidesToShow;var G;D.targetSlide<0?G=D.targetSlide+D.slideCount:D.targetSlide>=D.slideCount?G=D.targetSlide-D.slideCount:G=D.targetSlide;var E=F===G;return{"slick-slide":!0,"slick-active":L,"slick-center":B,"slick-cloned":$,"slick-current":E}},O=function(D){var L={};return(D.variableWidth===void 0||D.variableWidth===!1)&&(L.width=D.slideWidth),D.fade&&(L.position="relative",D.vertical?L.top=-D.index*parseInt(D.slideHeight):L.left=-D.index*parseInt(D.slideWidth),L.opacity=D.currentSlide===D.index?1:0,L.zIndex=D.currentSlide===D.index?999:998,D.useCSS&&(L.transition="opacity "+D.speed+"ms "+D.cssEase+", visibility "+D.speed+"ms "+D.cssEase)),L},k=function(D,L){return D.key||L},A=function(D){var L,B=[],$=[],q=[],F=t.default.Children.count(D.children),G=(0,r.lazyStartIndex)(D),E=(0,r.lazyEndIndex)(D);return t.default.Children.forEach(D.children,function(U,H){var I,z={message:"children",index:H,slidesToScroll:D.slidesToScroll,currentSlide:D.currentSlide};!D.lazyLoad||D.lazyLoad&&D.lazyLoadedList.indexOf(H)>=0?I=U:I=t.default.createElement("div",null);var V=O(x(x({},D),{},{index:H})),J=I.props.className||"",Q=C(x(x({},D),{},{index:H}));if(B.push(t.default.cloneElement(I,{key:"original"+k(I,H),"data-index":H,className:(0,e.default)(Q,J),tabIndex:"-1","aria-hidden":!Q["slick-active"],style:x(x({outline:"none"},I.props.style||{}),V),onClick:function(K){I.props&&I.props.onClick&&I.props.onClick(K),D.focusOnSelect&&D.focusOnSelect(z)}})),D.infinite&&F>1&&D.fade===!1&&!D.unslick){var se=F-H;se<=(0,r.getPreClones)(D)&&(L=-se,L>=G&&(I=U),Q=C(x(x({},D),{},{index:L})),$.push(t.default.cloneElement(I,{key:"precloned"+k(I,L),"data-index":L,tabIndex:"-1",className:(0,e.default)(Q,J),"aria-hidden":!Q["slick-active"],style:x(x({},I.props.style||{}),V),onClick:function(K){I.props&&I.props.onClick&&I.props.onClick(K),D.focusOnSelect&&D.focusOnSelect(z)}}))),H<(0,r.getPostClones)(D)&&(L=F+H,L<E&&(I=U),Q=C(x(x({},D),{},{index:L})),q.push(t.default.cloneElement(I,{key:"postcloned"+k(I,L),"data-index":L,tabIndex:"-1",className:(0,e.default)(Q,J),"aria-hidden":!Q["slick-active"],style:x(x({},I.props.style||{}),V),onClick:function(K){I.props&&I.props.onClick&&I.props.onClick(K),D.focusOnSelect&&D.focusOnSelect(z)}})))}}),D.rtl?$.concat(B,q).reverse():$.concat(B,q)};return ch.Track=(function(M){d(L,M);var D=h(L);function L(){var B;o(this,L);for(var $=arguments.length,q=new Array($),F=0;F<$;F++)q[F]=arguments[F];return B=D.call.apply(D,[this].concat(q)),S(g(B),"node",null),S(g(B),"handleRef",function(G){B.node=G}),B}return c(L,[{key:"render",value:function(){var $=A(this.props),q=this.props,F=q.onMouseEnter,G=q.onMouseOver,E=q.onMouseLeave,U={onMouseEnter:F,onMouseOver:G,onMouseLeave:E};return t.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},U),$)}}]),L})(t.default.PureComponent),ch}var uh={},kD;function zse(){if(kD)return uh;kD=1;function t(C){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(C)}Object.defineProperty(uh,"__esModule",{value:!0}),uh.Dots=void 0;var e=i($a()),r=i(N0()),n=Om();function i(C){return C&&C.__esModule?C:{default:C}}function a(C,O){var k=Object.keys(C);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);O&&(A=A.filter(function(M){return Object.getOwnPropertyDescriptor(C,M).enumerable})),k.push.apply(k,A)}return k}function o(C){for(var O=1;O<arguments.length;O++){var k=arguments[O]!=null?arguments[O]:{};O%2?a(Object(k),!0).forEach(function(A){l(C,A,k[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(k)):a(Object(k)).forEach(function(A){Object.defineProperty(C,A,Object.getOwnPropertyDescriptor(k,A))})}return C}function l(C,O,k){return(O=h(O))in C?Object.defineProperty(C,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[O]=k,C}function c(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function d(C,O){for(var k=0;k<O.length;k++){var A=O[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,h(A.key),A)}}function f(C,O,k){return O&&d(C.prototype,O),Object.defineProperty(C,"prototype",{writable:!1}),C}function h(C){var O=m(C,"string");return t(O)=="symbol"?O:O+""}function m(C,O){if(t(C)!="object"||!C)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var A=k.call(C,O);if(t(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}function g(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),O&&j(C,O)}function j(C,O){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,A){return k.__proto__=A,k},j(C,O)}function b(C){var O=S();return function(){var k,A=_(C);if(O){var M=_(this).constructor;k=Reflect.construct(A,arguments,M)}else k=A.apply(this,arguments);return y(this,k)}}function y(C,O){if(O&&(t(O)=="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(C)}function x(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function S(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!C})()}function _(C){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},_(C)}var P=function(O){var k;return O.infinite?k=Math.ceil(O.slideCount/O.slidesToScroll):k=Math.ceil((O.slideCount-O.slidesToShow)/O.slidesToScroll)+1,k};return uh.Dots=(function(C){g(k,C);var O=b(k);function k(){return c(this,k),O.apply(this,arguments)}return f(k,[{key:"clickHandler",value:function(M,D){D.preventDefault(),this.props.clickHandler(M)}},{key:"render",value:function(){for(var M=this.props,D=M.onMouseEnter,L=M.onMouseOver,B=M.onMouseLeave,$=M.infinite,q=M.slidesToScroll,F=M.slidesToShow,G=M.slideCount,E=M.currentSlide,U=P({slideCount:G,slidesToScroll:q,slidesToShow:F,infinite:$}),H={onMouseEnter:D,onMouseOver:L,onMouseLeave:B},I=[],z=0;z<U;z++){var V=(z+1)*q-1,J=$?V:(0,n.clamp)(V,0,G-1),Q=J-(q-1),se=$?Q:(0,n.clamp)(Q,0,G-1),oe=(0,r.default)({"slick-active":$?E>=se&&E<=J:E===se}),K={message:"dots",index:z,slidesToScroll:q,currentSlide:E},de=this.clickHandler.bind(this,K);I=I.concat(e.default.createElement("li",{key:z,className:oe},e.default.cloneElement(this.props.customPaging(z),{onClick:de})))}return e.default.cloneElement(this.props.appendDots(I),o({className:this.props.dotsClass},H))}}]),k})(e.default.PureComponent),uh}var Ul={},TD;function Fse(){if(TD)return Ul;TD=1;function t(C){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(C)}Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.PrevArrow=Ul.NextArrow=void 0;var e=i($a()),r=i(N0()),n=Om();function i(C){return C&&C.__esModule?C:{default:C}}function a(){return a=Object.assign?Object.assign.bind():function(C){for(var O=1;O<arguments.length;O++){var k=arguments[O];for(var A in k)({}).hasOwnProperty.call(k,A)&&(C[A]=k[A])}return C},a.apply(null,arguments)}function o(C,O){var k=Object.keys(C);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);O&&(A=A.filter(function(M){return Object.getOwnPropertyDescriptor(C,M).enumerable})),k.push.apply(k,A)}return k}function l(C){for(var O=1;O<arguments.length;O++){var k=arguments[O]!=null?arguments[O]:{};O%2?o(Object(k),!0).forEach(function(A){c(C,A,k[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(k)):o(Object(k)).forEach(function(A){Object.defineProperty(C,A,Object.getOwnPropertyDescriptor(k,A))})}return C}function c(C,O,k){return(O=m(O))in C?Object.defineProperty(C,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[O]=k,C}function d(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function f(C,O){for(var k=0;k<O.length;k++){var A=O[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,m(A.key),A)}}function h(C,O,k){return O&&f(C.prototype,O),Object.defineProperty(C,"prototype",{writable:!1}),C}function m(C){var O=g(C,"string");return t(O)=="symbol"?O:O+""}function g(C,O){if(t(C)!="object"||!C)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var A=k.call(C,O);if(t(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}function j(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),O&&b(C,O)}function b(C,O){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,A){return k.__proto__=A,k},b(C,O)}function y(C){var O=_();return function(){var k,A=P(C);if(O){var M=P(this).constructor;k=Reflect.construct(A,arguments,M)}else k=A.apply(this,arguments);return x(this,k)}}function x(C,O){if(O&&(t(O)=="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(C)}function S(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function _(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!C})()}function P(C){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},P(C)}return Ul.PrevArrow=(function(C){j(k,C);var O=y(k);function k(){return d(this,k),O.apply(this,arguments)}return h(k,[{key:"clickHandler",value:function(M,D){D&&D.preventDefault(),this.props.clickHandler(M,D)}},{key:"render",value:function(){var M={"slick-arrow":!0,"slick-prev":!0},D=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(M["slick-disabled"]=!0,D=null);var L={key:"0","data-role":"none",className:(0,r.default)(M),style:{display:"block"},onClick:D},B={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},$;return this.props.prevArrow?$=e.default.cloneElement(this.props.prevArrow,l(l({},L),B)):$=e.default.createElement("button",a({key:"0",type:"button"},L)," ","Previous"),$}}]),k})(e.default.PureComponent),Ul.NextArrow=(function(C){j(k,C);var O=y(k);function k(){return d(this,k),O.apply(this,arguments)}return h(k,[{key:"clickHandler",value:function(M,D){D&&D.preventDefault(),this.props.clickHandler(M,D)}},{key:"render",value:function(){var M={"slick-arrow":!0,"slick-next":!0},D=this.clickHandler.bind(this,{message:"next"});(0,n.canGoNext)(this.props)||(M["slick-disabled"]=!0,D=null);var L={key:"1","data-role":"none",className:(0,r.default)(M),style:{display:"block"},onClick:D},B={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},$;return this.props.nextArrow?$=e.default.cloneElement(this.props.nextArrow,l(l({},L),B)):$=e.default.createElement("button",a({key:"1",type:"button"},L)," ","Next"),$}}]),k})(e.default.PureComponent),Ul}var W8=(function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];r.call(n,o[1],o[0])}},e})()})(),B_=typeof window<"u"&&typeof document<"u"&&window.document===document,ky=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),$se=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ky):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),Bse=2;function Hse(t,e){var r=!1,n=!1,i=0;function a(){r&&(r=!1,t()),n&&l()}function o(){$se(a)}function l(){var c=Date.now();if(r){if(c-i<Bse)return;n=!0}else r=!0,n=!1,setTimeout(o,e);i=c}return l}var Wse=20,Use=["top","right","bottom","left","width","height","size","weight"],qse=typeof MutationObserver<"u",Vse=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Hse(this.refresh.bind(this),Wse)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!B_||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),qse?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!B_||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=Use.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),U8=(function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),od=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ky}),q8=_0(0,0,0,0);function Ty(t){return parseFloat(t)||0}function AD(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var a=t["border-"+i+"-width"];return n+Ty(a)},0)}function Gse(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var a=i[n],o=t["padding-"+a];r[a]=Ty(o)}return r}function Xse(t){var e=t.getBBox();return _0(0,0,e.width,e.height)}function Yse(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return q8;var n=od(t).getComputedStyle(t),i=Gse(n),a=i.left+i.right,o=i.top+i.bottom,l=Ty(n.width),c=Ty(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+a)!==e&&(l-=AD(n,"left","right")+a),Math.round(c+o)!==r&&(c-=AD(n,"top","bottom")+o)),!Jse(t)){var d=Math.round(l+a)-e,f=Math.round(c+o)-r;Math.abs(d)!==1&&(l-=d),Math.abs(f)!==1&&(c-=f)}return _0(i.left,i.top,l,c)}var Kse=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof od(t).SVGGraphicsElement}:function(t){return t instanceof od(t).SVGElement&&typeof t.getBBox=="function"}})();function Jse(t){return t===od(t).document.documentElement}function Zse(t){return B_?Kse(t)?Xse(t):Yse(t):q8}function Qse(t){var e=t.x,r=t.y,n=t.width,i=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return U8(o,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),o}function _0(t,e,r,n){return{x:t,y:e,width:r,height:n}}var eoe=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_0(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Zse(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),toe=(function(){function t(e,r){var n=Qse(r);U8(this,{target:e,contentRect:n})}return t})(),roe=(function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new W8,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof od(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new eoe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof od(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new toe(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),V8=typeof WeakMap<"u"?new WeakMap:new W8,G8=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Vse.getInstance(),n=new roe(e,r,this);V8.set(this,n)}return t})();["observe","unobserve","disconnect"].forEach(function(t){G8.prototype[t]=function(){var e;return(e=V8.get(this))[t].apply(e,arguments)}});var noe=(function(){return typeof ky.ResizeObserver<"u"?ky.ResizeObserver:G8})();const ioe=Object.freeze(Object.defineProperty({__proto__:null,default:noe},Symbol.toStringTag,{value:"Module"})),aoe=y7(ioe);var ED;function soe(){if(ED)return lh;ED=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.InnerSlider=void 0;var t=d($a()),e=d(Rse()),r=d(Ise()),n=d(N0()),i=Om(),a=Lse(),o=zse(),l=Fse(),c=d(aoe);function d($){return $&&$.__esModule?$:{default:$}}function f($){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},f($)}function h(){return h=Object.assign?Object.assign.bind():function($){for(var q=1;q<arguments.length;q++){var F=arguments[q];for(var G in F)({}).hasOwnProperty.call(F,G)&&($[G]=F[G])}return $},h.apply(null,arguments)}function m($,q){if($==null)return{};var F,G,E=g($,q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols($);for(G=0;G<U.length;G++)F=U[G],q.includes(F)||{}.propertyIsEnumerable.call($,F)&&(E[F]=$[F])}return E}function g($,q){if($==null)return{};var F={};for(var G in $)if({}.hasOwnProperty.call($,G)){if(q.includes(G))continue;F[G]=$[G]}return F}function j($,q){var F=Object.keys($);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols($);q&&(G=G.filter(function(E){return Object.getOwnPropertyDescriptor($,E).enumerable})),F.push.apply(F,G)}return F}function b($){for(var q=1;q<arguments.length;q++){var F=arguments[q]!=null?arguments[q]:{};q%2?j(Object(F),!0).forEach(function(G){D($,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(F)):j(Object(F)).forEach(function(G){Object.defineProperty($,G,Object.getOwnPropertyDescriptor(F,G))})}return $}function y($,q){if(!($ instanceof q))throw new TypeError("Cannot call a class as a function")}function x($,q){for(var F=0;F<q.length;F++){var G=q[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty($,L(G.key),G)}}function S($,q,F){return q&&x($.prototype,q),Object.defineProperty($,"prototype",{writable:!1}),$}function _($,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(q&&q.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),q&&P($,q)}function P($,q){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,G){return F.__proto__=G,F},P($,q)}function C($){var q=A();return function(){var F,G=M($);if(q){var E=M(this).constructor;F=Reflect.construct(G,arguments,E)}else F=G.apply(this,arguments);return O(this,F)}}function O($,q){if(q&&(f(q)=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k($)}function k($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function A(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!$})()}function M($){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},M($)}function D($,q,F){return(q=L(q))in $?Object.defineProperty($,q,{value:F,enumerable:!0,configurable:!0,writable:!0}):$[q]=F,$}function L($){var q=B($,"string");return f(q)=="symbol"?q:q+""}function B($,q){if(f($)!="object"||!$)return $;var F=$[Symbol.toPrimitive];if(F!==void 0){var G=F.call($,q);if(f(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)($)}return lh.InnerSlider=(function($){_(F,$);var q=C(F);function F(G){var E;y(this,F),E=q.call(this,G),D(k(E),"listRefHandler",function(H){return E.list=H}),D(k(E),"trackRefHandler",function(H){return E.track=H}),D(k(E),"adaptHeight",function(){if(E.props.adaptiveHeight&&E.list){var H=E.list.querySelector('[data-index="'.concat(E.state.currentSlide,'"]'));E.list.style.height=(0,i.getHeight)(H)+"px"}}),D(k(E),"componentDidMount",function(){if(E.props.onInit&&E.props.onInit(),E.props.lazyLoad){var H=(0,i.getOnDemandLazySlides)(b(b({},E.props),E.state));H.length>0&&(E.setState(function(z){return{lazyLoadedList:z.lazyLoadedList.concat(H)}}),E.props.onLazyLoad&&E.props.onLazyLoad(H))}var I=b({listRef:E.list,trackRef:E.track},E.props);E.updateState(I,!0,function(){E.adaptHeight(),E.props.autoplay&&E.autoPlay("update")}),E.props.lazyLoad==="progressive"&&(E.lazyLoadTimer=setInterval(E.progressiveLazyLoad,1e3)),E.ro=new c.default(function(){E.state.animating?(E.onWindowResized(!1),E.callbackTimers.push(setTimeout(function(){return E.onWindowResized()},E.props.speed))):E.onWindowResized()}),E.ro.observe(E.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(z){z.onfocus=E.props.pauseOnFocus?E.onSlideFocus:null,z.onblur=E.props.pauseOnFocus?E.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",E.onWindowResized):window.attachEvent("onresize",E.onWindowResized)}),D(k(E),"componentWillUnmount",function(){E.animationEndCallback&&clearTimeout(E.animationEndCallback),E.lazyLoadTimer&&clearInterval(E.lazyLoadTimer),E.callbackTimers.length&&(E.callbackTimers.forEach(function(H){return clearTimeout(H)}),E.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",E.onWindowResized):window.detachEvent("onresize",E.onWindowResized),E.autoplayTimer&&clearInterval(E.autoplayTimer),E.ro.disconnect()}),D(k(E),"componentDidUpdate",function(H){if(E.checkImagesLoad(),E.props.onReInit&&E.props.onReInit(),E.props.lazyLoad){var I=(0,i.getOnDemandLazySlides)(b(b({},E.props),E.state));I.length>0&&(E.setState(function(J){return{lazyLoadedList:J.lazyLoadedList.concat(I)}}),E.props.onLazyLoad&&E.props.onLazyLoad(I))}E.adaptHeight();var z=b(b({listRef:E.list,trackRef:E.track},E.props),E.state),V=E.didPropsChange(H);V&&E.updateState(z,V,function(){E.state.currentSlide>=t.default.Children.count(E.props.children)&&E.changeSlide({message:"index",index:t.default.Children.count(E.props.children)-E.props.slidesToShow,currentSlide:E.state.currentSlide}),E.props.autoplay?E.autoPlay("update"):E.pause("paused")})}),D(k(E),"onWindowResized",function(H){E.debouncedResize&&E.debouncedResize.cancel(),E.debouncedResize=(0,r.default)(function(){return E.resizeWindow(H)},50),E.debouncedResize()}),D(k(E),"resizeWindow",function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,I=!!(E.track&&E.track.node);if(I){var z=b(b({listRef:E.list,trackRef:E.track},E.props),E.state);E.updateState(z,H,function(){E.props.autoplay?E.autoPlay("update"):E.pause("paused")}),E.setState({animating:!1}),clearTimeout(E.animationEndCallback),delete E.animationEndCallback}}),D(k(E),"updateState",function(H,I,z){var V=(0,i.initializedState)(H);H=b(b(b({},H),V),{},{slideIndex:V.currentSlide});var J=(0,i.getTrackLeft)(H);H=b(b({},H),{},{left:J});var Q=(0,i.getTrackCSS)(H);(I||t.default.Children.count(E.props.children)!==t.default.Children.count(H.children))&&(V.trackStyle=Q),E.setState(V,z)}),D(k(E),"ssrInit",function(){if(E.props.variableWidth){var H=0,I=0,z=[],V=(0,i.getPreClones)(b(b(b({},E.props),E.state),{},{slideCount:E.props.children.length})),J=(0,i.getPostClones)(b(b(b({},E.props),E.state),{},{slideCount:E.props.children.length}));E.props.children.forEach(function(Ke){z.push(Ke.props.style.width),H+=Ke.props.style.width});for(var Q=0;Q<V;Q++)I+=z[z.length-1-Q],H+=z[z.length-1-Q];for(var se=0;se<J;se++)H+=z[se];for(var oe=0;oe<E.state.currentSlide;oe++)I+=z[oe];var K={width:H+"px",left:-I+"px"};if(E.props.centerMode){var de="".concat(z[E.state.currentSlide],"px");K.left="calc(".concat(K.left," + (100% - ").concat(de,") / 2 ) ")}return{trackStyle:K}}var ae=t.default.Children.count(E.props.children),ce=b(b(b({},E.props),E.state),{},{slideCount:ae}),xe=(0,i.getPreClones)(ce)+(0,i.getPostClones)(ce)+ae,le=100/E.props.slidesToShow*xe,Te=100/xe,Ne=-Te*((0,i.getPreClones)(ce)+E.state.currentSlide)*le/100;E.props.centerMode&&(Ne+=(100-Te*le/100)/2);var Fe={width:le+"%",left:Ne+"%"};return{slideWidth:Te+"%",trackStyle:Fe}}),D(k(E),"checkImagesLoad",function(){var H=E.list&&E.list.querySelectorAll&&E.list.querySelectorAll(".slick-slide img")||[],I=H.length,z=0;Array.prototype.forEach.call(H,function(V){var J=function(){return++z&&z>=I&&E.onWindowResized()};if(!V.onclick)V.onclick=function(){return V.parentNode.focus()};else{var Q=V.onclick;V.onclick=function(se){Q(se),V.parentNode.focus()}}V.onload||(E.props.lazyLoad?V.onload=function(){E.adaptHeight(),E.callbackTimers.push(setTimeout(E.onWindowResized,E.props.speed))}:(V.onload=J,V.onerror=function(){J(),E.props.onLazyLoadError&&E.props.onLazyLoadError()}))})}),D(k(E),"progressiveLazyLoad",function(){for(var H=[],I=b(b({},E.props),E.state),z=E.state.currentSlide;z<E.state.slideCount+(0,i.getPostClones)(I);z++)if(E.state.lazyLoadedList.indexOf(z)<0){H.push(z);break}for(var V=E.state.currentSlide-1;V>=-(0,i.getPreClones)(I);V--)if(E.state.lazyLoadedList.indexOf(V)<0){H.push(V);break}H.length>0?(E.setState(function(J){return{lazyLoadedList:J.lazyLoadedList.concat(H)}}),E.props.onLazyLoad&&E.props.onLazyLoad(H)):E.lazyLoadTimer&&(clearInterval(E.lazyLoadTimer),delete E.lazyLoadTimer)}),D(k(E),"slideHandler",function(H){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=E.props,V=z.asNavFor,J=z.beforeChange,Q=z.onLazyLoad,se=z.speed,oe=z.afterChange,K=E.state.currentSlide,de=(0,i.slideHandler)(b(b(b({index:H},E.props),E.state),{},{trackRef:E.track,useCSS:E.props.useCSS&&!I})),ae=de.state,ce=de.nextState;if(ae){J&&J(K,ae.currentSlide);var xe=ae.lazyLoadedList.filter(function(le){return E.state.lazyLoadedList.indexOf(le)<0});Q&&xe.length>0&&Q(xe),!E.props.waitForAnimate&&E.animationEndCallback&&(clearTimeout(E.animationEndCallback),oe&&oe(K),delete E.animationEndCallback),E.setState(ae,function(){V&&E.asNavForIndex!==H&&(E.asNavForIndex=H,V.innerSlider.slideHandler(H)),ce&&(E.animationEndCallback=setTimeout(function(){var le=ce.animating,Te=m(ce,["animating"]);E.setState(Te,function(){E.callbackTimers.push(setTimeout(function(){return E.setState({animating:le})},10)),oe&&oe(ae.currentSlide),delete E.animationEndCallback})},se))})}}),D(k(E),"changeSlide",function(H){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=b(b({},E.props),E.state),V=(0,i.changeSlide)(z,H);if(!(V!==0&&!V)&&(I===!0?E.slideHandler(V,I):E.slideHandler(V),E.props.autoplay&&E.autoPlay("update"),E.props.focusOnSelect)){var J=E.list.querySelectorAll(".slick-current");J[0]&&J[0].focus()}}),D(k(E),"clickHandler",function(H){E.clickable===!1&&(H.stopPropagation(),H.preventDefault()),E.clickable=!0}),D(k(E),"keyHandler",function(H){var I=(0,i.keyHandler)(H,E.props.accessibility,E.props.rtl);I!==""&&E.changeSlide({message:I})}),D(k(E),"selectHandler",function(H){E.changeSlide(H)}),D(k(E),"disableBodyScroll",function(){var H=function(z){z=z||window.event,z.preventDefault&&z.preventDefault(),z.returnValue=!1};window.ontouchmove=H}),D(k(E),"enableBodyScroll",function(){window.ontouchmove=null}),D(k(E),"swipeStart",function(H){E.props.verticalSwiping&&E.disableBodyScroll();var I=(0,i.swipeStart)(H,E.props.swipe,E.props.draggable);I!==""&&E.setState(I)}),D(k(E),"swipeMove",function(H){var I=(0,i.swipeMove)(H,b(b(b({},E.props),E.state),{},{trackRef:E.track,listRef:E.list,slideIndex:E.state.currentSlide}));I&&(I.swiping&&(E.clickable=!1),E.setState(I))}),D(k(E),"swipeEnd",function(H){var I=(0,i.swipeEnd)(H,b(b(b({},E.props),E.state),{},{trackRef:E.track,listRef:E.list,slideIndex:E.state.currentSlide}));if(I){var z=I.triggerSlideHandler;delete I.triggerSlideHandler,E.setState(I),z!==void 0&&(E.slideHandler(z),E.props.verticalSwiping&&E.enableBodyScroll())}}),D(k(E),"touchEnd",function(H){E.swipeEnd(H),E.clickable=!0}),D(k(E),"slickPrev",function(){E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"previous"})},0))}),D(k(E),"slickNext",function(){E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"next"})},0))}),D(k(E),"slickGoTo",function(H){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H=Number(H),isNaN(H))return"";E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"index",index:H,currentSlide:E.state.currentSlide},I)},0))}),D(k(E),"play",function(){var H;if(E.props.rtl)H=E.state.currentSlide-E.props.slidesToScroll;else if((0,i.canGoNext)(b(b({},E.props),E.state)))H=E.state.currentSlide+E.props.slidesToScroll;else return!1;E.slideHandler(H)}),D(k(E),"autoPlay",function(H){E.autoplayTimer&&clearInterval(E.autoplayTimer);var I=E.state.autoplaying;if(H==="update"){if(I==="hovered"||I==="focused"||I==="paused")return}else if(H==="leave"){if(I==="paused"||I==="focused")return}else if(H==="blur"&&(I==="paused"||I==="hovered"))return;E.autoplayTimer=setInterval(E.play,E.props.autoplaySpeed+50),E.setState({autoplaying:"playing"})}),D(k(E),"pause",function(H){E.autoplayTimer&&(clearInterval(E.autoplayTimer),E.autoplayTimer=null);var I=E.state.autoplaying;H==="paused"?E.setState({autoplaying:"paused"}):H==="focused"?(I==="hovered"||I==="playing")&&E.setState({autoplaying:"focused"}):I==="playing"&&E.setState({autoplaying:"hovered"})}),D(k(E),"onDotsOver",function(){return E.props.autoplay&&E.pause("hovered")}),D(k(E),"onDotsLeave",function(){return E.props.autoplay&&E.state.autoplaying==="hovered"&&E.autoPlay("leave")}),D(k(E),"onTrackOver",function(){return E.props.autoplay&&E.pause("hovered")}),D(k(E),"onTrackLeave",function(){return E.props.autoplay&&E.state.autoplaying==="hovered"&&E.autoPlay("leave")}),D(k(E),"onSlideFocus",function(){return E.props.autoplay&&E.pause("focused")}),D(k(E),"onSlideBlur",function(){return E.props.autoplay&&E.state.autoplaying==="focused"&&E.autoPlay("blur")}),D(k(E),"render",function(){var H=(0,n.default)("slick-slider",E.props.className,{"slick-vertical":E.props.vertical,"slick-initialized":!0}),I=b(b({},E.props),E.state),z=(0,i.extractObject)(I,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),V=E.props.pauseOnHover;z=b(b({},z),{},{onMouseEnter:V?E.onTrackOver:null,onMouseLeave:V?E.onTrackLeave:null,onMouseOver:V?E.onTrackOver:null,focusOnSelect:E.props.focusOnSelect&&E.clickable?E.selectHandler:null});var J;if(E.props.dots===!0&&E.state.slideCount>=E.props.slidesToShow){var Q=(0,i.extractObject)(I,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),se=E.props.pauseOnDotsHover;Q=b(b({},Q),{},{clickHandler:E.changeSlide,onMouseEnter:se?E.onDotsLeave:null,onMouseOver:se?E.onDotsOver:null,onMouseLeave:se?E.onDotsLeave:null}),J=t.default.createElement(o.Dots,Q)}var oe,K,de=(0,i.extractObject)(I,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);de.clickHandler=E.changeSlide,E.props.arrows&&(oe=t.default.createElement(l.PrevArrow,de),K=t.default.createElement(l.NextArrow,de));var ae=null;E.props.vertical&&(ae={height:E.state.listHeight});var ce=null;E.props.vertical===!1?E.props.centerMode===!0&&(ce={padding:"0px "+E.props.centerPadding}):E.props.centerMode===!0&&(ce={padding:E.props.centerPadding+" 0px"});var xe=b(b({},ae),ce),le=E.props.touchMove,Te={className:"slick-list",style:xe,onClick:E.clickHandler,onMouseDown:le?E.swipeStart:null,onMouseMove:E.state.dragging&&le?E.swipeMove:null,onMouseUp:le?E.swipeEnd:null,onMouseLeave:E.state.dragging&&le?E.swipeEnd:null,onTouchStart:le?E.swipeStart:null,onTouchMove:E.state.dragging&&le?E.swipeMove:null,onTouchEnd:le?E.touchEnd:null,onTouchCancel:E.state.dragging&&le?E.swipeEnd:null,onKeyDown:E.props.accessibility?E.keyHandler:null},Ne={className:H,dir:"ltr",style:E.props.style};return E.props.unslick&&(Te={className:"slick-list"},Ne={className:H,style:E.props.style}),t.default.createElement("div",Ne,E.props.unslick?"":oe,t.default.createElement("div",h({ref:E.listRefHandler},Te),t.default.createElement(a.Track,h({ref:E.trackRefHandler},z),E.props.children)),E.props.unslick?"":K,E.props.unslick?"":J)}),E.list=null,E.track=null,E.state=b(b({},e.default),{},{currentSlide:E.props.initialSlide,targetSlide:E.props.initialSlide?E.props.initialSlide:0,slideCount:t.default.Children.count(E.props.children)}),E.callbackTimers=[],E.clickable=!0,E.debouncedResize=null;var U=E.ssrInit();return E.state=b(b({},E.state),U),E}return S(F,[{key:"didPropsChange",value:function(E){for(var U=!1,H=0,I=Object.keys(this.props);H<I.length;H++){var z=I[H];if(!E.hasOwnProperty(z)){U=!0;break}if(!(f(E[z])==="object"||typeof E[z]=="function"||isNaN(E[z]))&&E[z]!==this.props[z]){U=!0;break}}return U||t.default.Children.count(this.props.children)!==t.default.Children.count(E.children)}}]),F})(t.default.Component),lh}var Wj,MD;function ooe(){if(MD)return Wj;MD=1;var t=function(e){return e.replace(/[A-Z]/g,function(r){return"-"+r.toLowerCase()}).toLowerCase()};return Wj=t,Wj}var Uj,DD;function loe(){if(DD)return Uj;DD=1;var t=ooe(),e=function(i){var a=/[height|width]$/;return a.test(i)},r=function(i){var a="",o=Object.keys(i);return o.forEach(function(l,c){var d=i[l];l=t(l),e(l)&&typeof d=="number"&&(d=d+"px"),d===!0?a+=l:d===!1?a+="not "+l:a+="("+l+": "+d+")",c<o.length-1&&(a+=" and ")}),a},n=function(i){var a="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(o,l){a+=r(o),l<i.length-1&&(a+=", ")}),a):r(i)};return Uj=n,Uj}var RD;function coe(){return RD||(RD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o($a()),r=soe(),n=o(loe()),i=o(H8()),a=Om();function o(A){return A&&A.__esModule?A:{default:A}}function l(A){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},l(A)}function c(){return c=Object.assign?Object.assign.bind():function(A){for(var M=1;M<arguments.length;M++){var D=arguments[M];for(var L in D)({}).hasOwnProperty.call(D,L)&&(A[L]=D[L])}return A},c.apply(null,arguments)}function d(A,M){var D=Object.keys(A);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(A);M&&(L=L.filter(function(B){return Object.getOwnPropertyDescriptor(A,B).enumerable})),D.push.apply(D,L)}return D}function f(A){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?d(Object(D),!0).forEach(function(L){C(A,L,D[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(D)):d(Object(D)).forEach(function(L){Object.defineProperty(A,L,Object.getOwnPropertyDescriptor(D,L))})}return A}function h(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function m(A,M){for(var D=0;D<M.length;D++){var L=M[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,O(L.key),L)}}function g(A,M,D){return M&&m(A.prototype,M),Object.defineProperty(A,"prototype",{writable:!1}),A}function j(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(M&&M.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),M&&b(A,M)}function b(A,M){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,L){return D.__proto__=L,D},b(A,M)}function y(A){var M=_();return function(){var D,L=P(A);if(M){var B=P(this).constructor;D=Reflect.construct(L,arguments,B)}else D=L.apply(this,arguments);return x(this,D)}}function x(A,M){if(M&&(l(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(A)}function S(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function _(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!A})()}function P(A){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},P(A)}function C(A,M,D){return(M=O(M))in A?Object.defineProperty(A,M,{value:D,enumerable:!0,configurable:!0,writable:!0}):A[M]=D,A}function O(A){var M=k(A,"string");return l(M)=="symbol"?M:M+""}function k(A,M){if(l(A)!="object"||!A)return A;var D=A[Symbol.toPrimitive];if(D!==void 0){var L=D.call(A,M);if(l(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(A)}t.default=(function(A){j(D,A);var M=y(D);function D(L){var B;return h(this,D),B=M.call(this,L),C(S(B),"innerSliderRefHandler",function($){return B.innerSlider=$}),C(S(B),"slickPrev",function(){return B.innerSlider.slickPrev()}),C(S(B),"slickNext",function(){return B.innerSlider.slickNext()}),C(S(B),"slickGoTo",function($){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return B.innerSlider.slickGoTo($,q)}),C(S(B),"slickPause",function(){return B.innerSlider.pause("paused")}),C(S(B),"slickPlay",function(){return B.innerSlider.autoPlay("play")}),B.state={breakpoint:null},B._responsiveMediaHandlers=[],B}return g(D,[{key:"media",value:function(B,$){var q=window.matchMedia(B),F=function(E){var U=E.matches;U&&$()};q.addListener(F),this._responsiveMediaHandlers.push({mql:q,query:B,listener:F})}},{key:"componentDidMount",value:function(){var B=this;if(this.props.responsive){var $=this.props.responsive.map(function(F){return F.breakpoint});$.sort(function(F,G){return F-G}),$.forEach(function(F,G){var E;G===0?E=(0,n.default)({minWidth:0,maxWidth:F}):E=(0,n.default)({minWidth:$[G-1]+1,maxWidth:F}),(0,a.canUseDOM)()&&B.media(E,function(){B.setState({breakpoint:F})})});var q=(0,n.default)({minWidth:$.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(q,function(){B.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(B){B.mql.removeListener(B.listener)})}},{key:"render",value:function(){var B=this,$,q;this.state.breakpoint?(q=this.props.responsive.filter(function(Q){return Q.breakpoint===B.state.breakpoint}),$=q[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),q[0].settings)):$=f(f({},i.default),this.props),$.centerMode&&($.slidesToScroll>1,$.slidesToScroll=1),$.fade&&($.slidesToShow>1,$.slidesToScroll>1,$.slidesToShow=1,$.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(Q){return typeof Q=="string"?!!Q.trim():!!Q}),$.variableWidth&&($.rows>1||$.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),$.variableWidth=!1);for(var G=[],E=null,U=0;U<F.length;U+=$.rows*$.slidesPerRow){for(var H=[],I=U;I<U+$.rows*$.slidesPerRow;I+=$.slidesPerRow){for(var z=[],V=I;V<I+$.slidesPerRow&&($.variableWidth&&F[V].props.style&&(E=F[V].props.style.width),!(V>=F.length));V+=1)z.push(e.default.cloneElement(F[V],{key:100*U+10*I+V,tabIndex:-1,style:{width:"".concat(100/$.slidesPerRow,"%"),display:"inline-block"}}));H.push(e.default.createElement("div",{key:10*U+I},z))}$.variableWidth?G.push(e.default.createElement("div",{key:U,style:{width:E}},H)):G.push(e.default.createElement("div",{key:U},H))}if($==="unslick"){var J="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:J},F)}else G.length<=$.slidesToShow&&($.unslick=!0);return e.default.createElement(r.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)($)),G)}}]),D})(e.default.Component)})(zj)),zj}var ID;function uoe(){return ID||(ID=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(coe());function r(n){return n&&n.__esModule?n:{default:n}}t.default=e.default})(Lj)),Lj}var doe=uoe();const foe=Lt(doe);function hoe(t){if(!t||t.length===0)return null;let e=t.find(r=>r.color?.name?.toLowerCase()==="white");if(!e){const r=["cream","ivory","beige","light gray","off-white","pearl","off white"];e=t.find(n=>{const i=n.color?.name?.toLowerCase()||"";return r.some(a=>i.includes(a))})}return e||(e=t.find(r=>r.color?.name?.toLowerCase()==="black")),e||t[0]}function poe(){const{products:t,loading:e,error:r}=C0(),n=w.useMemo(()=>{if(!t||t.length===0)return[];const o=t.reduce((l,c)=>{const d=c.category||"Uncategorized";return l[d]||(l[d]=[]),l[d].push(c),l},{});return Object.entries(o).map(([l,c])=>{const d=hoe(c);if(!d)return null;const h=d.images?.find(m=>m.type==="front")?.url||d.images?.[0]?.url||"https://images.unsplash.com/photo-1620799139834-6b8f844fbe61?w=500";return{id:d.id,name:d.category,price:d.retailPrice||0,image:h,category:d.category,isNew:!1}}).filter(l=>l!==null)},[t]);if(e)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading customizable products..."})]})});if(r)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-red-600 mb-4",children:["Failed to load products: ",r]}),s.jsx(ee,{onClick:()=>window.location.reload(),children:"Retry"})]})});const i=()=>{const o=document.getElementById("products-section");if(o){const d=o.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:d,behavior:"smooth"})}},a={dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,pauseOnHover:!0,arrows:!0,responsive:[{breakpoint:1280,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!0,centerPadding:"40px",arrows:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!1,centerPadding:"0px",arrows:!1}}]};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("section",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:s.jsx("div",{className:"container mx-auto px-4 py-20 md:px-6",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6",children:[s.jsx(GE,{className:"size-4"}),s.jsx("span",{className:"text-sm",children:"Express Your Creativity"})]}),s.jsx("h1",{className:"mb-6",children:"Customize Your Own Clothing"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Turn your ideas into reality. Choose from our premium collection of blank apparel and design something uniquely yours with our intuitive design studio. Whether it's a personal statement or a brand identity, your creativity has no limits."}),s.jsx("div",{className:"flex items-center justify-center gap-4",children:s.jsxs(ee,{size:"lg",className:"bg-white text-black hover:bg-gray-100",onClick:i,children:[s.jsx(fc,{className:"mr-2 size-5"}),"Choose to Design"]})})]})})}),s.jsx("section",{className:"bg-white border-b py-12",children:s.jsx("div",{className:"container mx-auto px-4 md:px-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"inline-flex items-center justify-center size-12 rounded-full bg-black text-white mb-4",children:s.jsx(fc,{className:"size-6"})}),s.jsx("h3",{className:"mb-2",children:"Easy Design Tools"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Intuitive drag-and-drop interface with powerful editing capabilities"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"inline-flex items-center justify-center size-12 rounded-full bg-black text-white mb-4",children:s.jsx(GE,{className:"size-6"})}),s.jsx("h3",{className:"mb-2",children:"Premium Quality"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"High-quality fabrics and professional printing on every item"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"inline-flex items-center justify-center size-12 rounded-full bg-black text-white mb-4",children:s.jsx("svg",{className:"size-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"mb-2",children:"Fast Delivery"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Quick turnaround time from design to doorstep"})]})]})})}),s.jsx("section",{className:"bg-white border-b",id:"products-section",children:s.jsx("div",{className:"container mx-auto px-4 py-8 md:px-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"mb-2",children:"Select Your Canvas"}),s.jsx("p",{className:"text-gray-600",children:"Choose the perfect base for your custom design"})]})})})}),s.jsx("section",{className:"container mx-auto px-4 py-12 md:px-6",children:n.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"No customizable products available at the moment."})}):s.jsx("div",{className:"custom-products-carousel",children:s.jsx(foe,{...a,children:n.map(o=>s.jsx("div",{className:"px-3",children:s.jsx(Dse,{...o})},o.id))})})}),s.jsx("section",{className:"bg-gray-100 border-t py-16",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[s.jsx("h2",{className:"mb-4",children:"Need Help Getting Started?"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Our design team is here to help you bring your vision to life. Browse our templates or start from scratch."}),s.jsx("div",{className:"flex items-center justify-center gap-4",children:s.jsx(ee,{children:"Contact Support"})})]})})]})}const moe="http://localhost:4000";function goe(t){const[e,r]=w.useState(null),[n,i]=w.useState(!0),[a,o]=w.useState(null);return w.useEffect(()=>{if(!t){i(!1),o("No product ID provided");return}(async()=>{i(!0),o(null);try{const c=await fetch(`${moe}/api/customizable-products/${t}`);if(!c.ok)throw c.status===404?new Error("Product not found"):new Error("Failed to fetch product");const d=await c.json();r(d)}catch(c){console.error("Error fetching product:",c),o(c instanceof Error?c.message:"Failed to load product"),r(null)}finally{i(!1)}})()},[t]),{product:e,loading:n,error:a}}function voe({images:t,productName:e}){const[r,n]=w.useState(0);if(!t||t.length===0)return s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-gray-400",children:"No image available"})});const i=t[r];return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200",children:s.jsx("img",{src:i.url,alt:`${e} - ${i.type}`,className:"w-full h-full object-contain"})}),t.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map((a,o)=>s.jsx("button",{onClick:()=>n(o),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${r===o?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("img",{src:a.url,alt:`${e} thumbnail ${o+1}`,className:"w-full h-full object-contain"})},a.id||o))}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:[i.type," View"]})})]})}function yoe({sizes:t,selectedSize:e,onSizeSelect:r,sizeAvailability:n={},sizePricing:i={}}){return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Size"}),e&&i[e]&&s.jsxs("span",{className:"text-xs text-orange-600",children:["+",i[e]," extra"]})]}),s.jsx("div",{className:"grid grid-cols-6 gap-2",children:t.map(a=>{const o=n[a]!==!1,l=e===a;return s.jsx(ee,{variant:l?"default":"outline",size:"sm",disabled:!o,onClick:()=>r(a),className:`${l?"bg-gray-800 hover:bg-gray-700 text-white":"hover:bg-gray-100"} ${o?"":"opacity-40 cursor-not-allowed"}`,children:a},a)})}),!e&&s.jsx("p",{className:"text-xs text-gray-500",children:"Please select a size"})]})}function xoe({basePrice:t,frontPrintCost:e,backPrintCost:r,selectedOption:n,onOptionSelect:i}){const a=[{id:"none",label:"No Print",price:t},{id:"front",label:"Front Print",price:t+e},{id:"back",label:"Back Print",price:t+r}];return s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Print Option"}),s.jsx("div",{className:"space-y-2",children:a.map(o=>{const l=n===o.id;return s.jsx("button",{onClick:()=>i(o.id),className:`w-full p-4 border-2 rounded-lg text-left transition-all ${l?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`size-5 rounded-full border-2 flex items-center justify-center ${l?"border-blue-500":"border-gray-300"}`,children:l&&s.jsx("div",{className:"size-2.5 rounded-full bg-blue-500"})}),s.jsx("span",{className:"font-medium",children:o.label})]}),s.jsxs("span",{className:"text-lg font-semibold",children:["",o.price.toFixed(2)]})]})},o.id)})})]})}function boe({quantity:t,onQuantityChange:e,minQuantity:r=1,maxQuantity:n=999}){const i=()=>{t>r&&e(t-1)},a=()=>{t<n&&e(t+1)},o=l=>{const c=parseInt(l.target.value)||r,d=Math.max(r,Math.min(n,c));e(d)};return s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Quantity"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ee,{variant:"outline",size:"icon",onClick:i,disabled:t<=r,className:"size-10",children:s.jsx(M3,{className:"size-4"})}),s.jsx("input",{type:"number",value:t,onChange:o,min:r,max:n,className:"w-20 h-10 text-center border-2 border-gray-200 rounded-lg font-medium focus:outline-none focus:border-blue-500"}),s.jsx(ee,{variant:"outline",size:"icon",onClick:a,disabled:t>=n,className:"size-10",children:s.jsx(nl,{className:"size-4"})})]}),r>1&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Minimum order: ",r," piece(s)"]})]})}function woe(){const{id:t}=dm(),e=kr(),{product:r,loading:n,error:i}=goe(t||""),{products:a}=C0(),[o,l]=w.useState(""),[c,d]=w.useState("none"),[f,h]=w.useState(1),m=w.useMemo(()=>{if(!r)return 0;let y=r.retailPrice;if(o&&r.sizePricing){const x=r.sizePricing[o]||0;y+=x}return c==="front"&&r.frontPrintCost?y+=r.frontPrintCost:c==="back"&&r.backPrintCost&&(y+=r.backPrintCost),y*f},[r,o,c,f]),g=w.useMemo(()=>!r||!a.length?[]:a.filter(y=>y.category===r.category&&y.id!==r.id).slice(0,4),[r,a]);if(n)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wn,{className:"size-12 animate-spin text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading product details..."})]})});if(i||!r)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(ht,{className:"max-w-md mx-4",children:s.jsxs(bt,{className:"pt-6 text-center",children:[s.jsx(Tu,{className:"size-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl mb-2",children:"Product Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:i||"The product you are looking for does not exist or has been removed."}),s.jsx(ee,{onClick:()=>e("/custom-products"),className:"bg-gray-800 hover:bg-gray-900",children:"Browse All Products"})]})})});const j=()=>{e("/custom-design",{state:{selectedProduct:r,selectedSize:o,printOption:c}})},b=()=>{alert("Add to cart functionality coming soon!")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs(ee,{variant:"ghost",onClick:()=>e(-1),className:"gap-2",children:[s.jsx(fo,{className:"size-4"}),"Back"]})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("button",{onClick:()=>e("/"),className:"hover:text-gray-900 transition-colors",children:s.jsx($x,{className:"size-4"})}),s.jsx(ry,{className:"size-4"}),s.jsx("button",{onClick:()=>e("/custom-products"),className:"hover:text-gray-900 transition-colors",children:"Custom Products"}),s.jsx(ry,{className:"size-4"}),s.jsx("span",{className:"text-gray-900",children:r.name})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[s.jsx("div",{children:s.jsx(voe,{images:r.images,productName:r.name})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(lt,{variant:"secondary",children:r.category}),s.jsx(lt,{variant:"outline",children:r.type})]}),s.jsx("h1",{className:"text-3xl mb-2",children:r.name})]}),r.description&&s.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description}),(r.fitType||r.fitDescription)&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:["Fit: ",r.fitType||"Standard"]}),r.fitDescription&&s.jsx("p",{className:"text-sm text-blue-800",children:r.fitDescription})]}),r.differentiationType==="color"&&r.color&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium mb-3",children:["Color: ",r.color.name]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-16 rounded-lg border-2 border-gray-300 shadow-sm",style:{backgroundColor:r.color.hexCode||"#cccccc"},title:r.color.name}),s.jsx("span",{className:"text-sm text-gray-600",children:r.color.name})]})]}),r.differentiationType==="variant"&&r.variant&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Variant"}),s.jsx(lt,{variant:"outline",className:"text-base px-4 py-2",children:r.variant.name})]}),s.jsx(yoe,{sizes:r.sizes,selectedSize:o,onSizeSelect:l,sizeAvailability:r.sizeAvailability,sizePricing:r.sizePricing}),s.jsx(xoe,{basePrice:r.retailPrice,frontPrintCost:r.frontPrintCost||0,backPrintCost:r.backPrintCost||0,selectedOption:c,onOptionSelect:d}),s.jsx(boe,{quantity:f,onQuantityChange:h,minQuantity:r.minOrderQuantity,maxQuantity:100}),s.jsxs("div",{className:"border-t pt-6 space-y-4",children:[s.jsx("div",{className:"flex items-baseline justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Price"}),s.jsxs("div",{className:"text-3xl font-medium",children:["PHP ",m.toFixed(2)]}),f>1&&s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["PHP ",(m/f).toFixed(2)," each"]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ee,{className:"flex-1 h-12 bg-gray-800 hover:bg-gray-900",onClick:j,disabled:!o,children:[s.jsx(fc,{className:"size-4 mr-2"}),"Start Customizing"]}),s.jsxs(ee,{variant:"outline",className:"flex-1 h-12",onClick:b,disabled:!o,children:[s.jsx(il,{className:"size-4 mr-2"}),"Add to Cart"]})]}),!o&&s.jsx("p",{className:"text-sm text-amber-600 text-center",children:"Please select a size to continue"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Product Specifications"})}),s.jsxs(bt,{className:"space-y-3",children:[r.fabricComposition&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Material"}),s.jsx("div",{className:"font-medium",children:r.fabricComposition})]}),r.fabricWeight&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Fabric Weight"}),s.jsx("div",{className:"font-medium",children:r.fabricWeight})]}),r.texture&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Texture"}),s.jsx("div",{className:"font-medium",children:r.texture})]}),r.sizes.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Available Sizes"}),s.jsx("div",{className:"font-medium",children:r.sizes.join(", ")})]})]})]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Customization Details"})}),s.jsxs(bt,{className:"space-y-3",children:[r.printMethod&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Print Method"}),s.jsx("div",{className:"font-medium",children:r.printMethod})]}),r.printAreas&&r.printAreas.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Available Print Areas"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.printAreas.map((y,x)=>s.jsx("li",{className:"text-sm",children:y},x))})]}),r.designRequirements&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Design Requirements"}),s.jsx("div",{className:"text-sm",children:r.designRequirements})]})]})]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Production & Delivery"})}),s.jsxs(bt,{className:"space-y-3",children:[r.turnaroundTime&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Turnaround Time"}),s.jsx("div",{className:"font-medium",children:r.turnaroundTime})]}),r.minOrderQuantity&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Minimum Order Quantity"}),s.jsxs("div",{className:"font-medium",children:[r.minOrderQuantity," piece(s)"]})]})]})]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Pricing Breakdown"})}),s.jsxs(bt,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Base Price"}),s.jsxs("span",{className:"font-medium",children:["PHP ",r.retailPrice.toFixed(2)]})]}),r.frontPrintCost!=null&&r.frontPrintCost>0&&s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Front Print"}),s.jsxs("span",{className:"font-medium",children:["+ PHP ",r.frontPrintCost.toFixed(2)]})]}),r.backPrintCost!=null&&r.backPrintCost>0&&s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Back Print"}),s.jsxs("span",{className:"font-medium",children:["+ PHP ",r.backPrintCost.toFixed(2)]})]}),r.sizePricing&&Object.keys(r.sizePricing).length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Size Surcharges"}),Object.entries(r.sizePricing).map(([y,x])=>s.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:y}),s.jsxs("span",{children:["+ PHP ",x.toFixed(2)]})]},y))]})]})]})]}),g.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl mb-6",children:"Related Products"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map(y=>s.jsx(ht,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e(`/custom-product/${y.id}`),children:s.jsxs(bt,{className:"p-0",children:[s.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden rounded-t-lg",children:y.images[0]&&s.jsx("img",{src:y.images[0].url,alt:y.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-4",children:[s.jsx(lt,{variant:"secondary",className:"mb-2",children:y.category}),s.jsx("h3",{className:"font-medium mb-2 line-clamp-2",children:y.name}),s.jsxs("p",{className:"text-lg font-medium",children:["PHP ",y.retailPrice.toFixed(2)]})]})]})},y.id))})]})]})]})}function joe(){const t=kr(),e=fi();w.useRef(null);const{user:r}=hi(),[n,i]=w.useState(null),[a,o]=w.useState(!0),[l,c]=w.useState(!1),[d,f]=w.useState(""),[h,m]=w.useState(!1);w.useEffect(()=>{const x=e.state;if(console.log(" Preview page loaded, checking state:",{hasState:!!x,hasDesignData:!!x?.designData,hasVariant:!!x?.variant,designDataLength:x?.designData?.length||0,variantName:x?.variant?.productName||"none"}),!x||!x.designData||!x.variant){console.error(" Missing required state data, redirecting back"),ve.error("Failed to load preview. Please try again."),t("/custom-design",{replace:!0});return}console.log(" State valid, loading preview"),i(x),o(!1)},[e.state,t]);const g=()=>{if(n)try{const x=document.createElement("a");x.download=`${n.variant.productName}-design.png`,x.href=n.previewImage,document.body.appendChild(x),x.click(),document.body.removeChild(x),ve.success("Design downloaded")}catch(x){console.error("Download error:",x),ve.error("Failed to download design")}},j=()=>{if(n)try{const x=JSON.parse(localStorage.getItem("cart")||"[]"),S={id:`custom-${Date.now()}`,type:"custom",productId:n.variant.productId,productName:n.variant.productName,variantName:n.variant.variantName,size:n.variant.size,image:n.variant.image,price:n.variant.totalPrice,quantity:1,customization:{designData:n.designData,view:n.view,printAreaSize:n.printAreaSize,previewImage:n.previewImage},timestamp:n.timestamp};x.push(S),localStorage.setItem("cart",JSON.stringify(x)),ve.success("Added to cart"),t("/")}catch(x){console.error("Add to cart error:",x),ve.error("Failed to add to cart")}},b=()=>{if(!n){t("/custom-design");return}t("/custom-design",{state:{returnFromPreview:!0,designData:n.designData,variant:n.variant,view:n.view,printAreaSize:n.printAreaSize,previewImage:n.previewImage}})},y=async()=>{if(!r){ve.error("Please log in to save designs");return}if(!n){ve.error("No design to save");return}if(!d.trim()){ve.error("Please enter a design name");return}m(!0);try{const x=await fetch("/api/saved-designs/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:r.id,customizableProductId:parseInt(n.variant.productId),designName:d.trim(),selectedSize:n.variant.size,selectedPrintOption:n.view==="front"?"front":"back",printAreaPreset:n.printAreaSize,frontCanvasJson:n.view==="front"?n.designData:null,backCanvasJson:n.view==="back"?n.designData:null,frontThumbnailUrl:n.view==="front"?n.previewImage:null,backThumbnailUrl:n.view==="back"?n.previewImage:null})});if(!x.ok){const _=await x.json().catch(()=>({}));throw new Error(_.message||"Failed to save design")}const S=await x.json();if(S.success)ve.success("Design saved to My Library!"),c(!1),f("");else throw new Error(S.message||"Failed to save design")}catch(x){console.error("Save to library error:",x),ve.error(x instanceof Error?x.message:"Failed to save design to library")}finally{m(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"size-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading preview..."})]})}):n?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b px-6 py-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:b,children:s.jsx(fo,{className:"size-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl",children:"Preview Your Design"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Review before adding to cart"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:g,children:[s.jsx(P3,{className:"size-4 mr-2"}),"Download"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(UE,{className:"size-4 mr-2"}),"Edit Design"]})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-8",children:[s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden relative",children:[s.jsx("img",{src:n.variant.image,alt:n.variant.productName,className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsx("img",{src:n.previewImage,alt:"Design",className:"max-w-[60%] max-h-[60%] object-contain",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[n.view==="front"?"Front":"Back"," View  ",n.printAreaSize," Print Area"]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl mb-4",children:n.variant.productName}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Variant:"}),s.jsx("span",{className:"font-medium",children:n.variant.variantName})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Size:"}),s.jsx("span",{className:"font-medium",children:n.variant.size})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Print Side:"}),s.jsx("span",{className:"font-medium capitalize",children:n.view})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Print Area:"}),s.jsx("span",{className:"font-medium",children:n.printAreaSize})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg mb-4",children:"Price Summary"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Base Price:"}),s.jsxs("span",{children:["PHP ",n.variant.retailPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Customization:"}),s.jsxs("span",{children:["PHP ",(n.variant.totalPrice-n.variant.retailPrice).toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-medium",children:"Total:"}),s.jsxs("span",{className:"text-2xl font-bold",children:["PHP ",n.variant.totalPrice.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6 space-y-3",children:[s.jsxs(ee,{className:"w-full h-12 text-base bg-green-600 hover:bg-green-700",onClick:()=>c(!0),children:[s.jsx(qE,{className:"size-5 mr-2"}),"Save to My Library"]}),s.jsxs(ee,{className:"w-full h-12 text-base bg-blue-600 hover:bg-blue-700",onClick:j,children:[s.jsx(il,{className:"size-5 mr-2"}),"Add to Cart"]}),s.jsxs(ee,{variant:"outline",className:"w-full h-12 text-base",onClick:b,children:[s.jsx(UE,{className:"size-5 mr-2"}),"Continue Editing"]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[" ",s.jsx("strong",{children:"Tip:"})," Save your design to My Library before adding to cart. You can reuse saved designs anytime!"]})})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Save to My Library"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition",children:s.jsx(Tt,{className:"size-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Design Name"}),s.jsx("input",{type:"text",value:d,onChange:x=>f(x.target.value),placeholder:"e.g., My Awesome T-Shirt",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&!h&&y()}}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Give your design a memorable name"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ee,{variant:"outline",className:"flex-1",onClick:()=>c(!1),disabled:h,children:"Cancel"}),s.jsx(ee,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:y,disabled:h||!d.trim(),children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"size-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(qE,{className:"size-4 mr-2"}),"Save"]})})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tu,{className:"size-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl mb-2",children:"No Design Data"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please create a design first"}),s.jsx(ee,{onClick:()=>t("/custom-design"),children:"Go to Designer"})]})})}var qj="rovingFocusGroup.onEntryFocus",Soe={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[H_,X8,Coe]=e0(Pm),[Noe,rf]=Rn(Pm,[Coe]),[_oe,Ooe]=Noe(Pm),Y8=w.forwardRef((t,e)=>s.jsx(H_.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(H_.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Poe,{...t,ref:e})})}));Y8.displayName=Pm;var Poe=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=t,m=w.useRef(null),g=ut(e,m),j=Vd(a),[b,y]=sa({prop:o,defaultProp:l??null,onChange:c,caller:Pm}),[x,S]=w.useState(!1),_=Ea(d),P=X8(r),C=w.useRef(!1),[O,k]=w.useState(0);return w.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(qj,_),()=>A.removeEventListener(qj,_)},[_]),s.jsx(_oe,{scope:r,orientation:n,dir:j,loop:i,currentTabStopId:b,onItemFocus:w.useCallback(A=>y(A),[y]),onItemShiftTab:w.useCallback(()=>S(!0),[]),onFocusableItemAdd:w.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:w.useCallback(()=>k(A=>A-1),[]),children:s.jsx(Ze.div,{tabIndex:x||O===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Me(t.onMouseDown,()=>{C.current=!0}),onFocus:Me(t.onFocus,A=>{const M=!C.current;if(A.target===A.currentTarget&&M&&!x){const D=new CustomEvent(qj,Soe);if(A.currentTarget.dispatchEvent(D),!D.defaultPrevented){const L=P().filter(G=>G.focusable),B=L.find(G=>G.active),$=L.find(G=>G.id===b),F=[B,$,...L].filter(Boolean).map(G=>G.ref.current);Z8(F,f)}}C.current=!1}),onBlur:Me(t.onBlur,()=>S(!1))})})}),K8="RovingFocusGroupItem",J8=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=na(),d=a||c,f=Ooe(K8,r),h=f.currentTabStopId===d,m=X8(r),{onFocusableItemAdd:g,onFocusableItemRemove:j,currentTabStopId:b}=f;return w.useEffect(()=>{if(n)return g(),()=>j()},[n,g,j]),s.jsx(H_.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:s.jsx(Ze.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Me(t.onMouseDown,y=>{n?f.onItemFocus(d):y.preventDefault()}),onFocus:Me(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Me(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=Aoe(y,f.orientation,f.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let _=m().filter(P=>P.focusable).map(P=>P.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const P=_.indexOf(y.currentTarget);_=f.loop?Eoe(_,P+1):_.slice(P+1)}setTimeout(()=>Z8(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:b!=null}):o})})});J8.displayName=K8;var koe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Toe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Aoe(t,e,r){const n=Toe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return koe[n]}function Z8(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Eoe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Dk=Y8,Rk=J8,O0="Tabs",[Moe]=Rn(O0,[rf]),Q8=rf(),[Doe,Ik]=Moe(O0),eH=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=Vd(l),[h,m]=sa({prop:n,onChange:i,defaultProp:a??"",caller:O0});return s.jsx(Doe,{scope:r,baseId:na(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:c,children:s.jsx(Ze.div,{dir:f,"data-orientation":o,...d,ref:e})})});eH.displayName=O0;var tH="TabsList",rH=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=Ik(tH,r),o=Q8(r);return s.jsx(Dk,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Ze.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});rH.displayName=tH;var nH="TabsTrigger",iH=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=Ik(nH,r),l=Q8(r),c=oH(o.baseId,n),d=lH(o.baseId,n),f=n===o.value;return s.jsx(Rk,{asChild:!0,...l,focusable:!i,active:f,children:s.jsx(Ze.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Me(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Me(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Me(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!i&&h&&o.onValueChange(n)})})})});iH.displayName=nH;var aH="TabsContent",sH=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,l=Ik(aH,r),c=oH(l.baseId,n),d=lH(l.baseId,n),f=n===l.value,h=w.useRef(f);return w.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(pi,{present:i||f,children:({present:m})=>s.jsx(Ze.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});sH.displayName=aH;function oH(t,e){return`${t}-trigger-${e}`}function lH(t,e){return`${t}-content-${e}`}var Roe=eH,Ioe=rH,Loe=iH,zoe=sH;function Lk({className:t,...e}){return s.jsx(Roe,{"data-slot":"tabs",className:Je("flex flex-col gap-2",t),...e})}function zk({className:t,...e}){return s.jsx(Ioe,{"data-slot":"tabs-list",className:Je("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function ld({className:t,...e}){return s.jsx(Loe,{"data-slot":"tabs-trigger",className:Je("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function cd({className:t,...e}){return s.jsx(zoe,{"data-slot":"tabs-content",className:Je("flex-1 outline-none",t),...e})}function Foe(t){const[e,r]=w.useState(null),[n,i]=w.useState(!0),[a,o]=w.useState(null);return w.useEffect(()=>{if(!t){i(!1);return}(async()=>{try{i(!0),o(null);const d=await fetch(`http://localhost:4000/api/catalog-products/${t}`);if(!d.ok)throw d.status===404?new Error("Product not found"):new Error("Failed to fetch product");const f=await d.json(),h=[...f.product_images].sort((g,j)=>g.display_order-j.display_order),m={id:f.product_id.toString(),name:f.product_name,price:typeof f.base_price=="string"?parseFloat(f.base_price):f.base_price,image:h[0]?.image_url||"",backImage:h[1]?.image_url,additionalImages:h.slice(2).map(g=>g.image_url),category:f.category,gender:f.gender,material:f.material,sizes:f.sizes,stockQuantity:f.stock_quantity,description:`Premium ${f.category} made from ${f.material}. Available in multiple sizes for ${f.gender==="Unisex"?"everyone":f.gender.toLowerCase()}.`};r(m)}catch(c){o(c instanceof Error?c.message:"An error occurred"),r(null)}finally{i(!1)}})()},[t]),{product:e,loading:n,error:a}}function $oe({onAddToCart:t,onToggleFavorite:e,favorites:r}){const{id:n}=dm(),i=kr(),{requireAuth:a}=hi(),[o,l]=w.useState(0),[c,d]=w.useState(""),[f,h]=w.useState(1),{product:m,loading:g,error:j}=Foe(n);if(g)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-600",children:"Loading product..."})})});if(j||!m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"mb-4",children:j||"Product not found"}),s.jsx(ee,{onClick:()=>i("/"),className:"transition-transform active:scale-95",children:"Return to Home"})]})});const b=[m.image,m.backImage,...m.additionalImages].filter(Boolean),y=b[o]||m.image,x=r.some(O=>O.id===m.id),S=()=>{if(!c){ve.error("Please select a size");return}if(f<1){ve.error("Quantity must be at least 1");return}if(m.stockQuantity>0&&f>m.stockQuantity){ve.error(`Only ${m.stockQuantity} items available in stock`);return}a(()=>{t(m.id,f,c),ve.success(`${f} ${f>1?"items":"item"} added to cart!`)})},_=()=>{a(()=>{e(m.id),ve.success(x?"Removed from favorites":"Added to favorites")})},P=()=>{if(!c){ve.error("Please select a size");return}if(f<1){ve.error("Quantity must be at least 1");return}if(m.stockQuantity>0&&f>m.stockQuantity){ve.error(`Only ${m.stockQuantity} items available in stock`);return}a(()=>{t(m.id,f,c),ve.success("Proceeding to checkout..."),setTimeout(()=>i("/checkout"),500)})},C=m.price;return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("div",{className:"border-b bg-white sticky top-0 z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsxs(ee,{variant:"ghost",onClick:()=>i(-1),className:"transition-transform active:scale-95 -ml-2",children:[s.jsx(XX,{className:"size-4 mr-1"}),"Back"]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"aspect-square bg-gray-50 rounded-lg overflow-hidden border border-gray-200",children:s.jsx(ki,{src:y,alt:m.name,className:"size-full object-cover"})}),b.length>1&&s.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${Math.min(b.length,4)}, minmax(0, 1fr))`},children:b.map((O,k)=>s.jsx("button",{onClick:()=>l(k),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all active:scale-95 ${o===k?"border-black shadow-md":"border-gray-200 hover:border-gray-300"}`,children:s.jsx(ki,{src:O,alt:`View ${k+1}`,className:"size-full object-cover"})},k))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(lt,{variant:"secondary",className:"mb-3",children:m.category}),s.jsx("h1",{className:"mb-2",children:m.name}),s.jsx("p",{className:"text-gray-600",children:m.gender})]}),s.jsx(cr,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"size-10 rounded-lg bg-gray-100 flex items-center justify-center shrink-0",children:s.jsx(SP,{className:"size-5 text-gray-700"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Gender"}),s.jsx("p",{className:"font-medium",children:m.gender})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"size-10 rounded-lg bg-gray-100 flex items-center justify-center shrink-0",children:s.jsx(D3,{className:"size-5 text-gray-700"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Material"}),s.jsx("p",{className:"font-medium text-sm",children:m.material})]})]})]}),s.jsx(cr,{}),m.stockQuantity>0&&s.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("span",{className:"font-medium",children:"In Stock: "}),m.stockQuantity," items available"]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("p",{className:"font-medium",children:"Select Size"}),c&&s.jsxs("span",{className:"text-sm text-gray-600",children:["Selected: ",s.jsx("span",{className:"font-medium",children:c})]})]}),s.jsx("div",{className:"grid grid-cols-6 gap-2",children:m.sizes.map(O=>s.jsx("button",{onClick:()=>d(O),className:`py-2.5 px-2 border-2 rounded-lg transition-all active:scale-95 text-sm ${c===O?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"}`,children:O},O))})]}),s.jsx(cr,{}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Quantity"}),s.jsxs("div",{className:"flex items-center gap-2 border-2 border-gray-300 rounded-lg w-32",children:[s.jsx("button",{onClick:()=>h(Math.max(1,f-1)),className:"px-4 py-3 hover:bg-gray-100 transition-colors active:scale-95",disabled:f<=1,children:""}),s.jsx("input",{type:"number",value:f,onChange:O=>{const k=parseInt(O.target.value)||1;h(Math.max(1,k))},className:"flex-1 text-center font-medium outline-none",min:1}),s.jsx("button",{onClick:()=>h(f+1),className:"px-4 py-3 hover:bg-gray-100 transition-colors active:scale-95",children:"+"})]})]}),s.jsx(cr,{}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Price"}),s.jsxs("p",{className:"text-3xl font-bold",children:["",C.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",(C*f).toFixed(2)]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ee,{onClick:P,className:"w-full h-12 bg-black text-white hover:bg-black/90 transition-transform active:scale-95",children:[s.jsx(il,{className:"size-4 mr-2"}),"Buy Now"]}),s.jsxs(ee,{onClick:S,variant:"outline",className:"w-full h-12 transition-transform active:scale-95",children:[s.jsx(il,{className:"size-4 mr-2"}),"Add to Cart"]}),s.jsxs(ee,{variant:"outline",onClick:_,className:"w-full h-12 transition-transform active:scale-95",children:[s.jsx(Qu,{className:`size-4 mr-2 ${x?"fill-red-500 text-red-500":""}`}),x?"Remove from Favorites":"Add to Favorites"]})]})]})]}),s.jsx("div",{className:"mt-12",children:s.jsxs(Lk,{defaultValue:"description",className:"w-full",children:[s.jsxs(zk,{className:"w-full justify-start border-b rounded-none h-auto p-0 bg-transparent",children:[s.jsx(ld,{value:"description",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-black data-[state=active]:bg-transparent px-6 py-3",children:"Description"}),s.jsx(ld,{value:"specifications",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-black data-[state=active]:bg-transparent px-6 py-3",children:"Specifications"})]}),s.jsx(cd,{value:"description",className:"mt-8",children:s.jsx("div",{className:"max-w-3xl",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:m.description})})}),s.jsx(cd,{value:"specifications",className:"mt-8",children:s.jsx("div",{className:"max-w-3xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Category"}),s.jsx("p",{className:"font-medium",children:m.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Gender"}),s.jsx("p",{className:"font-medium",children:m.gender})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Material"}),s.jsx("p",{className:"font-medium",children:m.material})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Available Sizes"}),s.jsx("p",{className:"font-medium",children:m.sizes.join(", ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Stock Quantity"}),s.jsxs("p",{className:"font-medium",children:[m.stockQuantity," ",m.stockQuantity===1?"item":"items"]})]})]})]})})})]})})]})]})}function ud({...t}){return s.jsx(DP,{"data-slot":"dialog",...t})}function Boe({...t}){return s.jsx(RP,{"data-slot":"dialog-portal",...t})}const cH=w.forwardRef(({className:t,...e},r)=>s.jsx(vm,{ref:r,"data-slot":"dialog-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));cH.displayName=vm.displayName;function dd({className:t,children:e,...r}){return s.jsxs(Boe,{"data-slot":"dialog-portal",children:[s.jsx(cH,{}),s.jsxs(IP,{"data-slot":"dialog-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,s.jsxs(Yx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(Tt,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fd({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-header",className:Je("flex flex-col gap-2 text-center sm:text-left",t),...e})}function LD({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-footer",className:Je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function hd({className:t,...e}){return s.jsx(LP,{"data-slot":"dialog-title",className:Je("text-lg leading-none font-semibold",t),...e})}function bp({className:t,...e}){return s.jsx(zP,{"data-slot":"dialog-description",className:Je("text-muted-foreground text-sm",t),...e})}function Hoe({isOpen:t,onClose:e,amount:r,paymentType:n,orderId:i,customerInfo:a,orderItems:o,total:l,onPaymentSubmitted:c}){const[d,f]=w.useState(!1),[h,m]=w.useState(""),[g,j]=w.useState(""),[b,y]=w.useState(!1),x="/gcash-qr-code.png",S=async C=>{try{await navigator.clipboard.writeText(C),f(!0),setTimeout(()=>f(!1),2e3)}catch(O){console.error("Failed to copy:",O)}},_=async()=>{if(!h.trim()){j("Reference number is required");return}j(""),y(!0);try{const C="http://localhost:4000",O=o.map(M=>({...M,subtotal:M.unitPrice*M.quantity})),k=await fetch(`${C}/api/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:i,amount:r,paymentType:n,referenceNumber:h.trim(),total:l||r,customerInfo:a,orderItems:O})});if(!k.ok){const M=await k.json().catch(()=>({}));throw new Error(M.error||`Payment submission failed: ${k.statusText}`)}const A=await k.json();ve.success("Payment submitted successfully! Waiting for verification."),c&&c(i),e()}catch(C){console.error("Payment submission error:",C),j(C.message||"Failed to submit payment. Please try again."),ve.error(C.message||"Failed to submit payment. Please try again.")}finally{y(!1)}},P=C=>{m(C.target.value),g&&C.target.value.trim()&&j("")};return s.jsx(ud,{open:t,onOpenChange:e,children:s.jsxs(dd,{className:"sm:max-w-md max-h-[85vh] flex flex-col p-0 gap-0","aria-describedby":"gcash-payment-description",children:[s.jsxs(fd,{className:"px-6 pt-6 pb-4 flex-shrink-0 border-b",children:[s.jsx(hd,{className:"text-lg font-bold",children:"GCash Payment"}),s.jsx(bp,{id:"gcash-payment-description",className:"text-xs",children:"Scan the QR code to complete your payment"})]}),s.jsxs("div",{className:"px-6 space-y-4 overflow-y-auto flex-1 min-h-0 py-4 pb-6 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",style:{maxHeight:"calc(85vh - 180px)"},children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Order ID:"}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("span",{className:"font-semibold text-sm text-gray-900",children:i}),s.jsx("button",{onClick:()=>S(i),className:"p-1 hover:bg-white/50 rounded transition-colors",title:"Copy Order ID",children:d?s.jsx(Zu,{className:"w-3.5 h-3.5 text-green-600"}):s.jsx(_3,{className:"w-3.5 h-3.5 text-gray-600"})})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Amount:"}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",r.toFixed(2)]})]}),n==="partial"&&s.jsx(lt,{className:"mt-2 text-xs bg-orange-100 text-orange-700 border-orange-200",children:"Partial Payment"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"border-2 border-gray-300 rounded-lg p-3 bg-white shadow-md",children:s.jsx("img",{src:x,alt:"GCash QR Code",className:"w-48 h-48 object-contain mx-auto",onError:C=>{C.target.src="https://via.placeholder.com/192x192?text=GCash+QR+Code"}})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Scan with GCash app"})]}),o.length>0&&o.length<=3&&s.jsxs("div",{className:"border-t pt-3 pb-2",children:[s.jsxs("h3",{className:"font-semibold mb-2 text-sm text-gray-900",children:["Items (",o.length,"):"]}),s.jsx("div",{className:"space-y-1",children:o.slice(0,3).map((C,O)=>s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsxs("span",{className:"text-gray-600 truncate flex-1",children:[C.productName," ",s.jsxs("span",{className:"text-gray-400",children:["",C.quantity]})]}),s.jsxs("span",{className:"font-medium text-gray-900 ml-2",children:["",(C.unitPrice*C.quantity).toFixed(2)]})]},O))})]}),s.jsxs("div",{className:"border-t pt-3 pb-2",children:[s.jsxs(be,{htmlFor:"reference-number",className:"text-sm font-semibold text-gray-900 mb-2 block",children:["Reference Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Le,{id:"reference-number",type:"text",placeholder:"Enter GCash reference number",value:h,onChange:P,required:!0,className:`h-9 text-sm ${g?"border-red-500 focus-visible:border-red-500":""}`}),g&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:g})]})]}),s.jsxs("div",{className:"px-6 pb-6 pt-4 border-t bg-white flex gap-2 flex-shrink-0",children:[s.jsx(ee,{variant:"outline",onClick:e,className:"flex-1 h-10 text-sm font-medium",children:"Cancel"}),s.jsx(ee,{onClick:_,disabled:b,className:"flex-1 h-10 text-sm font-medium bg-green-600 hover:bg-green-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Submitting...":"Submit Payment"})]})]})})}var Fk="Radio",[Woe,uH]=Rn(Fk),[Uoe,qoe]=Woe(Fk),dH=w.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:c,form:d,...f}=t,[h,m]=w.useState(null),g=ut(e,y=>m(y)),j=w.useRef(!1),b=h?d||!!h.closest("form"):!0;return s.jsxs(Uoe,{scope:r,checked:i,disabled:o,children:[s.jsx(Ze.button,{type:"button",role:"radio","aria-checked":i,"data-state":mH(i),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:g,onClick:Me(t.onClick,y=>{i||c?.(),b&&(j.current=y.isPropagationStopped(),j.current||y.stopPropagation())})}),b&&s.jsx(pH,{control:h,bubbles:!j.current,name:n,value:l,checked:i,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});dH.displayName=Fk;var fH="RadioIndicator",hH=w.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=qoe(fH,r);return s.jsx(pi,{present:n||a.checked,children:s.jsx(Ze.span,{"data-state":mH(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});hH.displayName=fH;var Voe="RadioBubbleInput",pH=w.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=w.useRef(null),l=ut(o,a),c=ym(r),d=xm(e);return w.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&g){const j=new Event("click",{bubbles:n});g.call(f,r),f.dispatchEvent(j)}},[c,r,n]),s.jsx(Ze.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pH.displayName=Voe;function mH(t){return t?"checked":"unchecked"}var Goe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],P0="RadioGroup",[Xoe]=Rn(P0,[rf,uH]),gH=rf(),vH=uH(),[Yoe,Koe]=Xoe(P0),yH=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:h,...m}=t,g=gH(r),j=Vd(d),[b,y]=sa({prop:a,defaultProp:i??null,onChange:h,caller:P0});return s.jsx(Yoe,{scope:r,name:n,required:o,disabled:l,value:b,onValueChange:y,children:s.jsx(Dk,{asChild:!0,...g,orientation:c,dir:j,loop:f,children:s.jsx(Ze.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:j,...m,ref:e})})})});yH.displayName=P0;var xH="RadioGroupItem",bH=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=Koe(xH,r),o=a.disabled||n,l=gH(r),c=vH(r),d=w.useRef(null),f=ut(e,d),h=a.value===i.value,m=w.useRef(!1);return w.useEffect(()=>{const g=b=>{Goe.includes(b.key)&&(m.current=!0)},j=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",j)}},[]),s.jsx(Rk,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(dH,{disabled:o,required:a.required,checked:h,...c,...i,name:a.name,ref:f,onCheck:()=>a.onValueChange(i.value),onKeyDown:Me(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Me(i.onFocus,()=>{m.current&&d.current?.click()})})})});bH.displayName=xH;var Joe="RadioGroupIndicator",wH=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=vH(r);return s.jsx(hH,{...i,...n,ref:e})});wH.displayName=Joe;var Zoe=yH,Qoe=bH,ele=wH;function jH({className:t,...e}){return s.jsx(Zoe,{"data-slot":"radio-group",className:Je("grid gap-3",t),...e})}function Kh({className:t,...e}){return s.jsx(Qoe,{"data-slot":"radio-group-item",className:Je("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(ele,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(sY,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function tle({cartItems:t,onClearCart:e}){const r=kr(),[n,i]=w.useState("full"),[a,o]=w.useState(0),[l,c]=w.useState(!1),[d,f]=w.useState(!1),[h,m]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",zip:""}),g=(t||[]).reduce((O,k)=>O+k.price*k.quantity,0),j=g>1e3?0:50,b=g*.1,y=g+j+b,x=n==="full"?y:a,S=n==="partial"?y-a:0,_=y*.5,P=O=>{const{id:k,value:A}=O.target;m(M=>({...M,[k]:A}))},C=async O=>{O.preventDefault(),f(!0);try{if(!h.firstName||!h.lastName||!h.email||!h.phone){ve.error("Please fill in all required fields"),f(!1);return}if(n==="partial"){if(!a||a<_){ve.error(`Partial payment must be at least ${_.toFixed(2)} (50% of total)`),f(!1);return}if(a>=y){ve.error("Partial payment amount cannot exceed total amount. Please select Full Payment."),f(!1);return}}f(!1),c(!0)}catch(k){console.error("Payment error:",k),f(!1),ve.error(k.message||"Payment failed. Please try again.")}};return!t||t.length===0?s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("h2",{className:"mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Add some items to your cart to checkout"}),s.jsx(ee,{onClick:()=>r("/"),children:"Continue Shopping"})]}):s.jsxs("div",{className:"container mx-auto px-4 py-8 md:px-6",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>r("/"),className:"mb-6",children:[s.jsx(fo,{className:"mr-2 size-4"}),"Back to Shop"]}),s.jsx("h1",{className:"mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("form",{onSubmit:C,className:"space-y-8",children:[s.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Qi,{className:"size-5"}),s.jsx("h3",{children:"Shipping Information"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"firstName",children:"First Name"}),s.jsx(Le,{id:"firstName",required:!0,placeholder:"John",onChange:P})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"lastName",children:"Last Name"}),s.jsx(Le,{id:"lastName",required:!0,placeholder:"Doe",onChange:P})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(be,{htmlFor:"email",children:"Email"}),s.jsx(Le,{id:"email",type:"email",required:!0,placeholder:"john@example.com",onChange:P})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(be,{htmlFor:"address",children:"Street Address"}),s.jsx(Le,{id:"address",required:!0,placeholder:"123 Main St",onChange:P})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"city",children:"City"}),s.jsx(Le,{id:"city",required:!0,placeholder:"New York",onChange:P})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"zip",children:"ZIP Code"}),s.jsx(Le,{id:"zip",required:!0,placeholder:"10001",onChange:P})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(be,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Le,{id:"phone",type:"tel",required:!0,placeholder:"+1 (555) 000-0000",onChange:P})]})]})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(O3,{className:"size-5"}),s.jsx("h3",{children:"Payment Type"})]}),s.jsxs(jH,{value:n,onValueChange:O=>{i(O),o(O==="full"?0:_)},className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-gray-50",children:[s.jsx(Kh,{value:"full",id:"full"}),s.jsx(be,{htmlFor:"full",className:"flex-1 cursor-pointer",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Full Payment"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Pay the full amount: ",y.toFixed(2)]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-gray-50",children:[s.jsx(Kh,{value:"partial",id:"partial"}),s.jsx(be,{htmlFor:"partial",className:"flex-1 cursor-pointer",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Partial Payment / Downpayment"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Minimum 50%: ",_.toFixed(2)]})]})})]})]}),n==="partial"&&s.jsx("div",{className:"mt-6 space-y-4",children:s.jsxs("div",{children:[s.jsx(be,{htmlFor:"partialAmount",children:"Payment Amount"}),s.jsx(Le,{id:"partialAmount",type:"number",min:_,max:y,step:"0.01",value:a||"",onChange:O=>{const k=parseFloat(O.target.value)||0;k>=_&&k<=y?o(k):k>y?o(y):o(k)},placeholder:`Minimum: ${_.toFixed(2)}`,className:"mt-2"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ",_.toFixed(2)," (50% of total)"]}),a>0&&s.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Amount to Pay:"}),s.jsxs("span",{className:"font-semibold",children:["",a.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[s.jsx("span",{className:"text-gray-600",children:"Remaining Balance:"}),s.jsxs("span",{className:"font-semibold text-orange-600",children:["",S.toFixed(2)]})]})]})]})})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(VE,{className:"size-5"}),s.jsx("h3",{children:"Payment Method"})]}),s.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-4 bg-gray-50",children:[s.jsx("div",{className:"flex items-center justify-center size-10 rounded-full bg-blue-100",children:s.jsx(VE,{className:"size-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{className:"text-lg font-medium cursor-pointer",children:"GCash"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Pay via GCash QR code"})]}),s.jsx(lt,{className:"bg-green-100 text-green-700",children:"Selected"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[s.jsx(Bx,{className:"size-4 text-green-600"}),s.jsx("span",{children:"Your payment information is secure and encrypted"})]}),s.jsx(ee,{type:"submit",size:"lg",className:"w-full bg-black text-white hover:bg-black/90 h-14",disabled:d,children:d?"Processing...":`Place Order - ${x.toFixed(2)}`})]}),s.jsx(Hoe,{isOpen:l,onClose:()=>c(!1),amount:x,paymentType:n,orderId:`ORD-${Date.now().toString().slice(-8)}`,customerInfo:{name:`${h.firstName} ${h.lastName}`,email:h.email,phone:h.phone,address:`${h.address}, ${h.city} ${h.zip}`},orderItems:(t||[]).map(O=>({productId:parseInt(O.id)||0,productName:O.name,quantity:O.quantity,unitPrice:O.price,subtotal:O.price*O.quantity,size:O.size,color:O.color,customizationData:O.customizationData})),total:y,onPaymentSubmitted:O=>{const k={id:O,date:new Date().toISOString(),items:t||[],subtotal:g,shipping:j,tax:b,total:y,paymentType:n,paymentAmount:x,remainingBalance:S,status:"payment_pending",paymentMethod:"gcash",customerInfo:{firstName:h.firstName,lastName:h.lastName,email:h.email,phone:h.phone,address:h.address,city:h.city,zip:h.zip}},A=JSON.parse(localStorage.getItem("orders")||"[]");A.push(k),localStorage.setItem("orders",JSON.stringify(A)),e(),r(`/order-confirmation/${O}`)}})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white border rounded-lg p-6 sticky top-4",children:[s.jsx("h3",{className:"mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-4 mb-6",children:(t||[]).map(O=>s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:O.image,alt:O.name,className:"size-16 object-cover rounded"}),s.jsx(lt,{className:"absolute -top-2 -right-2 size-6 flex items-center justify-center p-0",children:O.quantity})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm truncate",children:O.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["",O.price]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-sm",children:["",(O.price*O.quantity).toFixed(2)]})})]},O.id))}),s.jsx(cr,{className:"my-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsxs("span",{children:["",g.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping"}),s.jsx("span",{children:j===0?"FREE":`${j.toFixed(2)}`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Tax (10%)"}),s.jsxs("span",{children:["",b.toFixed(2)]})]}),s.jsx(cr,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",y.toFixed(2)]})]}),n==="partial"&&s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Amount"}),s.jsxs("span",{className:"font-semibold",children:["",x.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Remaining Balance"}),s.jsxs("span",{className:"font-semibold text-orange-600",children:["",S.toFixed(2)]})]})]})]}),j>0&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-900",children:["Add ",(1e3-g).toFixed(2)," more for FREE shipping!"]})]})})]})]})}const rle="http://localhost:4000";function nle(){const{orderId:t}=dm(),e=kr(),[r,n]=w.useState(null),[i,a]=w.useState(!0),[o,l]=w.useState(null),c=w.useCallback(async()=>{try{if(a(!0),l(null),t){const f=await fetch(`${rle}/api/orders/${t}`,{credentials:"include"});if(f.ok){const h=await f.json();console.log("API Order response:",h);const m=h.payment||(h.payments&&h.payments.length>0?h.payments[0]:null),g={id:h.id,date:h.orderDate||new Date().toISOString(),items:h.items?.map(j=>({id:j.id,name:j.name,price:j.unitPrice,quantity:j.quantity,image:""}))||[],subtotal:h.total,shipping:0,tax:0,total:h.total,status:h.status||"payment_pending",paymentMethod:m?.method||"gcash",paymentType:m?.status==="paid"?"full":"partial",paymentAmount:m?.amountPaid||0,remainingBalance:h.balanceRemaining||0,paymentStatus:m?.status||"pending",shippingDetails:h.shipping||null};n(g),l(null),a(!1)}else if(f.status===404){n(null),l("Order not found. This order may have been deleted or does not exist."),a(!1);try{const m=JSON.parse(localStorage.getItem("orders")||"[]").filter(g=>g.id!==t);localStorage.setItem("orders",JSON.stringify(m))}catch{}}else{const h=await f.json().catch(()=>({error:"Failed to load order"}));n(null),l(h.error||"Failed to load order")}}else n(null),l("Invalid order ID")}catch(f){console.error("Error loading order:",f),n(null),l("Failed to load order. Please try again later.")}finally{a(!1)}},[t]);if(w.useEffect(()=>{t?c():(a(!1),l("Invalid order ID"))},[t,c]),i)return s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading order..."})]});if(o||!r)return s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center size-16 rounded-full bg-red-100 mb-4",children:s.jsx(gr,{className:"size-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),s.jsx("p",{className:"text-gray-600 mb-2",children:o||"We couldn't find this order"}),t&&s.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Order ID: ",t]}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(ee,{onClick:()=>e("/"),children:"Go to Home"}),s.jsx(ee,{variant:"outline",onClick:()=>e("/track-order"),children:"Track Another Order"})]})]});const d=new Date(r.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"container mx-auto px-4 py-8 md:px-6 max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center size-16 rounded-full bg-green-100 mb-4",children:s.jsx(Wo,{className:"size-8 text-green-600"})}),s.jsx("h1",{className:"mb-2",children:r.status==="payment_pending"?"Order Placed!":"Order Confirmed!"}),s.jsx("p",{className:"text-gray-600",children:r.status==="payment_pending"&&r.paymentMethod==="gcash"?"Your order has been placed. Payment is pending admin approval.":"Thank you for your purchase. Your order has been received and is being processed."})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),s.jsx("p",{className:"font-mono",children:r.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Date"}),s.jsx("p",{children:d})]})]}),s.jsx(cr,{className:"my-6"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{children:"Order Status"}),s.jsx(lt,{className:"bg-blue-100 text-blue-900 hover:bg-blue-100",children:r.status==="payment_pending"||r.paymentStatus==="pending"?"Order Placed":r.status==="pending"?"Processing":["designing","ripping","heatpress","assembly","qa","packing","done"].includes(r.status)?r.status==="done"?"To Ship":"In Production":r.status==="shipping"?"Shipping":r.status==="delivered"?"Delivered":"Order Placed"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"size-10 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Wo,{className:"size-5 text-green-600"})}),s.jsxs("p",{className:"text-xs text-center",children:["Order",s.jsx("br",{}),"Placed"]})]}),s.jsx("div",{className:`flex-1 h-0.5 ${["pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"].includes(r.status)?"bg-green-300":"bg-gray-200"}`}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${["pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"].includes(r.status)?"bg-green-100":"bg-gray-100"}`,children:["pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"].includes(r.status)?s.jsx(Wo,{className:"size-5 text-green-600"}):s.jsx(gr,{className:"size-5 text-gray-400"})}),s.jsx("p",{className:"text-xs text-center",children:"Processing"})]}),s.jsx("div",{className:`flex-1 h-0.5 ${["done","shipping","delivered"].includes(r.status)?"bg-green-300":"bg-gray-200"}`}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${["done","shipping","delivered"].includes(r.status)?"bg-green-100":"bg-gray-100"}`,children:["done","shipping","delivered"].includes(r.status)?s.jsx(Wo,{className:"size-5 text-green-600"}):s.jsx(gr,{className:"size-5 text-gray-400"})}),s.jsx("p",{className:"text-xs text-center",children:"To Ship"})]}),s.jsx("div",{className:`flex-1 h-0.5 ${["shipping","delivered"].includes(r.status)?"bg-green-300":"bg-gray-200"}`}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${["shipping","delivered"].includes(r.status)?"bg-green-100":"bg-gray-100"}`,children:["shipping","delivered"].includes(r.status)?s.jsx(Wo,{className:"size-5 text-green-600"}):s.jsx(Qi,{className:"size-5 text-gray-400"})}),s.jsx("p",{className:"text-xs text-center",children:"Shipping"})]}),s.jsx("div",{className:`flex-1 h-0.5 ${r.status==="delivered"?"bg-green-300":"bg-gray-200"}`}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${r.status==="delivered"?"bg-green-100":"bg-gray-100"}`,children:r.status==="delivered"?s.jsx(Wo,{className:"size-5 text-green-600"}):s.jsx($x,{className:"size-5 text-gray-400"})}),s.jsx("p",{className:"text-xs text-center",children:"Delivered"})]})]})]}),s.jsx(cr,{className:"my-6"}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4",children:"Items Ordered"}),s.jsx("div",{className:"space-y-4",children:r.items.map(f=>s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("img",{src:f.image,alt:f.name,className:"size-20 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{children:f.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",f.quantity]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{children:["",(f.price*f.quantity).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["",f.price," each"]})]})]},f.id))})]}),s.jsx(cr,{className:"my-6"}),r.paymentMethod&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"mb-4",children:"Payment Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Method"}),s.jsx(lt,{variant:"secondary",className:"capitalize",children:r.paymentMethod==="gcash"?"GCash":r.paymentMethod})]}),r.paymentType&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Type"}),s.jsx(lt,{variant:r.paymentType==="full"?"default":"secondary",children:r.paymentType==="full"?"Full Payment":"Partial Payment"})]}),r.paymentAmount!==void 0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Amount Paid"}),s.jsxs("span",{className:"font-semibold",children:["",r.paymentAmount.toFixed(2)]})]}),r.paymentType==="partial"&&r.remainingBalance!==void 0&&r.remainingBalance>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Remaining Balance"}),s.jsxs("span",{className:"font-semibold text-orange-600",children:["",r.remainingBalance.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-2 pt-2 border-t",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Status"}),s.jsx(lt,{variant:r.paymentStatus==="pending"?"secondary":"default",className:r.paymentStatus==="pending"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700",children:r.paymentStatus==="pending"?"Pending Approval":"Approved"})]})]})]}),s.jsx(cr,{className:"my-6"})]}),(r.status==="shipping"||r.status==="delivered")&&r.shippingDetails&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6","data-shipping-details":!0,children:[s.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[s.jsx(Qi,{className:"size-5"}),"Shipping Details"]}),s.jsxs("div",{className:"space-y-3 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.shippingDetails.trackingNumber&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tracking Number"}),s.jsx("span",{className:"text-sm font-mono font-semibold text-blue-900",children:r.shippingDetails.trackingNumber})]}),r.shippingDetails.carrier&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Carrier"}),s.jsx(lt,{variant:"secondary",className:"capitalize",children:r.shippingDetails.carrier})]}),r.shippingDetails.shippedDate&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Shipped Date"}),s.jsx("span",{className:"text-sm text-gray-900",children:new Date(r.shippingDetails.shippedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),r.shippingDetails.estimatedDelivery&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Delivery"}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:new Date(r.shippingDetails.estimatedDelivery).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),s.jsx(cr,{className:"my-6"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsxs("span",{children:["",r.subtotal.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping"}),s.jsx("span",{children:r.shipping===0?"FREE":`${r.shipping.toFixed(2)}`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Tax"}),s.jsxs("span",{children:["",r.tax.toFixed(2)]})]}),s.jsx(cr,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",r.total.toFixed(2)]})]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.status==="shipping"||r.status==="delivered"?s.jsxs(ee,{variant:"outline",className:"flex-1",onClick:()=>{const f=document.querySelector("[data-shipping-details]");f&&f.scrollIntoView({behavior:"smooth",block:"start"})},children:[s.jsx(Qi,{className:"size-4 mr-2"}),"Shipping Details"]}):r.paymentStatus==="paid"||r.status!=="payment_pending"?s.jsx(ee,{variant:"outline",className:"flex-1",onClick:()=>e(`/order-tracking/${r.id}`),children:"Track Order"}):s.jsx(ee,{variant:"outline",className:"flex-1",disabled:!0,title:"Track order will be available after payment approval",children:"Track Order (Pending Approval)"}),s.jsx(ee,{className:"flex-1 bg-black text-white hover:bg-black/90",onClick:()=>e("/"),children:"Continue Shopping"})]}),s.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg text-center text-sm text-blue-900",children:" A confirmation email has been sent to your email address"})]})}const zD="http://localhost:4000";function FD(){const t=kr(),{orderId:e}=dm(),{user:r,isHydrating:n}=hi(),[i,a]=w.useState([]),[o,l]=w.useState(!0),c=w.useCallback(async()=>{try{if(l(!0),e)try{const y=await fetch(`${zD}/api/orders/${e}`,{credentials:"include"});if(y.ok){const x=await y.json();a([x]),l(!1);return}else if(y.status===404){console.log("Order not found in database:",e),a([]),l(!1);try{const S=JSON.parse(localStorage.getItem("orders")||"[]").filter(_=>_.id!==e);localStorage.setItem("orders",JSON.stringify(S))}catch{}return}}catch(y){console.error("Error fetching single order:",y),a([]),l(!1);return}if(r?.email){const y=r.email.trim().toLowerCase();console.log("Loading orders for email:",y);const x=await fetch(`${zD}/api/orders?customerEmail=${encodeURIComponent(y)}`,{credentials:"include"});if(x.ok){const S=await x.json();console.log("Orders fetched from API:",S),a(Array.isArray(S)?S:[]),l(!1);return}else{console.error("Failed to fetch orders:",x.status),a([]),l(!1);return}}const g=JSON.parse(localStorage.getItem("orders")||"[]");let j=g;if(r?.email){const y=r.email.trim().toLowerCase();j=g.filter(x=>(x.customerInfo?.email||"").trim().toLowerCase()===y)}const b=j.map(y=>({id:y.id,orderId:0,customer:{name:y.customerInfo?.name||`${y.customerInfo?.firstName||""} ${y.customerInfo?.lastName||""}`.trim(),email:y.customerInfo?.email||"",phone:y.customerInfo?.phone||"",address:y.customerInfo?.address||""},items:y.items?.map((x,S)=>({id:x.id||S.toString(),productId:parseInt(x.id)||0,name:x.name,quantity:x.quantity,unitPrice:x.price,subtotal:x.price*x.quantity}))||[],total:y.total||0,balanceRemaining:y.remainingBalance||0,status:y.status||"payment_pending",orderDate:y.date||new Date().toISOString(),estimatedCompletion:null,notes:null,payment:null,shipping:null}));a(b)}catch(g){console.error("Error loading orders:",g),ve.error("Failed to load orders");const j=JSON.parse(localStorage.getItem("orders")||"[]");let b=j;if(r?.email){const x=r.email.trim().toLowerCase();b=j.filter(S=>(S.customerInfo?.email||"").trim().toLowerCase()===x)}const y=b.map(x=>({id:x.id,orderId:0,customer:{name:x.customerInfo?.name||`${x.customerInfo?.firstName||""} ${x.customerInfo?.lastName||""}`.trim(),email:x.customerInfo?.email||"",phone:x.customerInfo?.phone||"",address:x.customerInfo?.address||""},items:x.items?.map((S,_)=>({id:S.id||_.toString(),productId:parseInt(S.id)||0,name:S.name,quantity:S.quantity,unitPrice:S.price,subtotal:S.price*S.quantity}))||[],total:x.total||0,balanceRemaining:x.remainingBalance||0,status:x.status||"payment_pending",orderDate:x.date||new Date().toISOString(),estimatedCompletion:null,notes:null,payment:null,shipping:null}));a(y)}finally{l(!1)}},[e,r?.email]);w.useEffect(()=>{n||c()},[n,c]);const d=e?i.filter(g=>g.id===e):i,f=g=>({payment_pending:"Payment Pending",pending:"Pending",designing:"Designing",ripping:"Ripping",heatpress:"Heat Press",assembly:"Assembly",qa:"QA",packing:"Packing",done:"To Ship",shipping:"Shipping",delivered:"Delivered",cancelled:"Cancelled"})[g]||g.charAt(0).toUpperCase()+g.slice(1).replace(/_/g," "),h=g=>{switch(g){case"payment_pending":return"bg-yellow-100 text-yellow-900";case"pending":return"bg-yellow-100 text-yellow-900";case"designing":case"ripping":case"heatpress":return"bg-blue-100 text-blue-900";case"assembly":return"bg-red-100 text-red-900";case"qa":return"bg-orange-100 text-orange-900";case"packing":return"bg-green-100 text-green-900";case"done":return"bg-green-100 text-green-900";case"shipping":return"bg-blue-100 text-blue-900";case"delivered":return"bg-green-100 text-green-900";case"cancelled":return"bg-red-100 text-red-900";default:return"bg-gray-100 text-gray-900"}},m=g=>{const j=["payment_pending","pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"],b=j.indexOf(g);return{currentStep:b>=0?b:0,totalSteps:j.length-1,isComplete:g==="delivered",isCancelled:g==="cancelled"}};return o?s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]}):d.length===0?s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx(gr,{className:"size-16 mx-auto mb-4 text-gray-400"}),s.jsx("h2",{className:"mb-4",children:e?"Order Not Found":"No Orders Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e?"We couldn't find order "+e:"You haven't placed any orders yet"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[e&&s.jsx(ee,{variant:"outline",onClick:()=>t("/order-tracking"),children:"View All Orders"}),s.jsx(ee,{onClick:()=>t("/"),children:e?"Go Home":"Start Shopping"})]})]}):s.jsxs("div",{className:"container mx-auto px-4 py-8 md:px-6 max-w-5xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{children:"Order Tracking"}),e&&s.jsx(ee,{variant:"outline",onClick:()=>t("/order-tracking"),children:"View All Orders"})]}),s.jsx("div",{className:"space-y-6",children:d.map(g=>{const j=g.status==="payment_pending"||g.payment?.status==="pending",b=g.orderDate?new Date(g.orderDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",y=m(g.status),x=[{label:"Pending",status:"pending",icon:r_,color:"yellow"},{label:"Designing",status:"designing",icon:fc,color:"cyan"},{label:"Ripping",status:"ripping",icon:KY,color:"blue"},{label:"Heat Press",status:"heatpress",icon:OK,color:"purple"},{label:"Assembly",status:"assembly",icon:CK,color:"red"},{label:"QA",status:"qa",icon:Ca,color:"orange"},{label:"Packing",status:"packing",icon:WX,color:"green"},{label:"To Ship",status:"done",icon:gr,color:"green"},{label:"Shipping",status:"shipping",icon:Qi,color:"blue"},{label:"Delivered",status:"delivered",icon:$x,color:"green"}];return s.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[j&&s.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(r_,{className:"size-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Payment Pending Approval"}),s.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Your order tracking will be available once your payment has been approved by our admin."})]})]})}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h3",{className:"text-lg",children:["Order ",g.id]}),s.jsx(lt,{className:h(g.status),children:f(g.status)})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",b]}),g.payment&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Payment: ",g.payment.status==="pending"?"Pending Approval":"Approved","  Ref: ",g.payment.referenceNumber||"N/A"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsxs("p",{className:"text-xl",children:["",g.total.toFixed(2)]}),g.balanceRemaining>0&&s.jsxs("p",{className:"text-xs text-orange-600",children:["Balance: ",g.balanceRemaining.toFixed(2)]})]})]}),!y.isCancelled&&!j&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Production Progress"}),s.jsx(lt,{className:h(g.status),children:f(g.status)})]}),s.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-4",children:x.map((S,_)=>{const P=["payment_pending","pending","designing","ripping","heatpress","assembly","qa","packing","done","shipping","delivered"],C=P.indexOf(g.status),O=P.indexOf(S.status),k=C===O,A=C>O,M=S.icon,D={yellow:{bg:"bg-yellow-100",icon:"text-yellow-600",text:"text-yellow-600",border:"border-yellow-300"},cyan:{bg:"bg-cyan-100",icon:"text-cyan-600",text:"text-cyan-600",border:"border-cyan-300"},blue:{bg:"bg-blue-100",icon:"text-blue-600",text:"text-blue-600",border:"border-blue-300"},purple:{bg:"bg-purple-100",icon:"text-purple-600",text:"text-purple-600",border:"border-purple-300"},red:{bg:"bg-red-100",icon:"text-red-600",text:"text-red-600",border:"border-red-300"},orange:{bg:"bg-orange-100",icon:"text-orange-600",text:"text-orange-600",border:"border-orange-300"},teal:{bg:"bg-teal-100",icon:"text-teal-600",text:"text-teal-600",border:"border-teal-300"},green:{bg:"bg-green-100",icon:"text-green-600",text:"text-green-600",border:"border-green-300"}},L=D[S.color]||D.blue;return s.jsxs("div",{className:"flex items-center flex-shrink-0",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:`size-12 rounded-full flex items-center justify-center border-2 transition-all ${A?`bg-green-100 border-green-300 ${L.icon}`:k?`${L.bg} ${L.border} ${L.icon} shadow-lg scale-110`:"bg-gray-100 border-gray-200 text-gray-400"}`,children:A?s.jsx(Wo,{className:"size-6 text-green-600"}):k?s.jsx(M,{className:`size-6 ${L.icon} animate-pulse`}):s.jsx(M,{className:"size-5 text-gray-400"})}),s.jsx("p",{className:`text-xs text-center whitespace-nowrap font-medium ${k?`${L.text} font-semibold`:A?"text-green-600":"text-gray-500"}`,children:S.label})]}),_<x.length-1&&s.jsx("div",{className:`flex-1 h-1 mx-3 min-w-[50px] rounded-full transition-all ${A?"bg-green-300":"bg-gray-200"}`})]},S.label)})})]}),s.jsx(cr,{className:"my-6"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-sm mb-4",children:[g.items.length," item(s)"]}),s.jsx("div",{className:"space-y-2",children:g.items.map(S=>s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:S.name}),s.jsxs("p",{className:"text-gray-600",children:["Qty: ",S.quantity,"  ",S.unitPrice.toFixed(2)]})]}),s.jsxs("p",{className:"font-semibold",children:["",S.subtotal.toFixed(2)]})]},S.id))})]}),g.trackingEvents&&g.trackingEvents.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Qi,{className:"size-5"}),"Tracking History"]}),s.jsx("div",{className:"space-y-4",children:g.trackingEvents.map((S,_)=>s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${_===0?"bg-green-100":"bg-gray-100"}`,children:_===0?s.jsx(Qi,{className:"size-5 text-green-600"}):s.jsx(gr,{className:"size-5 text-gray-400"})}),_<g.trackingEvents.length-1&&s.jsx("div",{className:"w-0.5 h-full bg-gray-200 my-2"})]}),s.jsx("div",{className:"flex-1 pb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`font-medium ${_===0?"text-green-700":"text-gray-900"}`,children:S.message}),S.location&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:S.location})]}),s.jsx("div",{className:"text-right ml-4",children:s.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})})]})})]},S.id))})]}),(g.status==="shipping"||g.status==="delivered")&&g.shipping&&s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Qi,{className:"size-5 text-indigo-600"}),s.jsx("h4",{className:"font-semibold text-indigo-900",children:"Shipping Information"})]}),g.shipping.trackingNumber&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tracking Number: "}),s.jsx("span",{className:"text-sm font-mono font-semibold text-indigo-900",children:g.shipping.trackingNumber})]}),g.shipping.carrier&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Carrier: "}),s.jsx("span",{className:"text-sm font-medium text-indigo-900",children:g.shipping.carrier})]}),g.shipping.shippedDate&&s.jsxs("div",{className:"text-xs text-gray-600",children:["Shipped: ",new Date(g.shipping.shippedDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ee,{variant:"outline",onClick:()=>t(`/order-confirmation/${g.id}`),className:"flex-1",children:"View Details"}),(g.status==="shipping"||g.status==="delivered")&&g.shipping&&s.jsxs(ee,{variant:"default",className:"flex-1 bg-blue-700 hover:bg-blue-800",onClick:()=>t(`/shipping-details/${g.id}`),children:[s.jsx(Qi,{className:"size-4 mr-2"}),"Shipping Details"]}),g.status==="done"&&s.jsxs(ee,{variant:"secondary",className:"flex-1",disabled:!0,children:[s.jsx(gr,{className:"size-4 mr-2"}),"Ready to Ship"]})]})]},g.id)})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx(ee,{size:"lg",className:"bg-black text-white hover:bg-black/90",onClick:()=>t("/"),children:"Continue Shopping"})})]})}const ile="http://localhost:4000";function ale(){const t=kr(),[e,r]=w.useState(""),[n,i]=w.useState(!1),a=async o=>{if(o.preventDefault(),!e.trim()){ve.error("Please enter an order ID");return}i(!0);try{const l=await fetch(`${ile}/api/orders/${e.trim()}`,{credentials:"include"});if(l.ok){const c=await l.json();t(`/order-tracking/${c.id||e.trim()}`)}else JSON.parse(localStorage.getItem("orders")||"[]").find(f=>f.id===e.trim())?t(`/order-tracking/${e.trim()}`):ve.error("Order not found. Please check your order ID and try again.")}catch(l){console.error("Error searching for order:",l),JSON.parse(localStorage.getItem("orders")||"[]").find(f=>f.id===e.trim())?t(`/order-tracking/${e.trim()}`):ve.error("Order not found. Please check your order ID and try again.")}finally{i(!1)}};return s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>t("/"),className:"mb-6",children:[s.jsx(fo,{className:"mr-2 size-4"}),"Back to Home"]}),s.jsxs(ht,{children:[s.jsxs(vr,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 size-16 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(gr,{className:"size-8 text-blue-600"})}),s.jsx(Mr,{className:"text-2xl",children:"Track Your Order"}),s.jsx(tc,{children:"Enter your order ID to view the current status and tracking information"})]}),s.jsxs(bt,{children:[s.jsx("form",{onSubmit:a,className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"orderId",children:"Order ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Le,{id:"orderId",type:"text",placeholder:"e.g., ORD-12345678",value:e,onChange:o=>r(o.target.value),className:"flex-1",required:!0}),s.jsx(ee,{type:"submit",disabled:n,className:"bg-black text-white hover:bg-black/90",children:n?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):s.jsx(Ca,{className:"size-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"You can find your order ID in your confirmation email or order confirmation page"})]})}),s.jsxs("div",{className:"mt-8 pt-6 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Order Status Guide"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-2 rounded-full bg-cyan-500"}),s.jsx("span",{children:"Designing - Your design is being created"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-2 rounded-full bg-blue-500"}),s.jsx("span",{children:"Ripping - Design is being prepared for printing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-2 rounded-full bg-purple-500"}),s.jsx("span",{children:"Heat Press - Design is being applied to the product"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-2 rounded-full bg-pink-500"}),s.jsx("span",{children:"Assembly - Product is being assembled"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-2 rounded-full bg-orange-500"}),s.jsx("span",{children:"QA - Quality assurance check in progress"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-2 rounded-full bg-indigo-500"}),s.jsx("span",{children:"Packing - Order is being packed for shipment"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-2 rounded-full bg-green-500"}),s.jsx("span",{children:"Done - Order is complete and ready"})]})]})]})]})]})]})}function sle(t){const e=ole(t),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(cle);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function ole(t){const e=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=dle(i),l=ule(a,i.props);return i.type!==w.Fragment&&(l.ref=n?js(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lle=Symbol("radix.slottable");function cle(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lle}function ule(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function dle(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var W_=["Enter"," "],fle=["ArrowDown","PageUp","Home"],SH=["ArrowUp","PageDown","End"],hle=[...fle,...SH],ple={ltr:[...W_,"ArrowRight"],rtl:[...W_,"ArrowLeft"]},mle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},km="Menu",[wp,gle,vle]=e0(km),[Fc,CH]=Rn(km,[vle,Kd,rf]),k0=Kd(),NH=rf(),[yle,$c]=Fc(km),[xle,Tm]=Fc(km),_H=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,l=k0(e),[c,d]=w.useState(null),f=w.useRef(!1),h=Ea(a),m=Vd(i);return w.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),s.jsx(ek,{...l,children:s.jsx(yle,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(xle,{scope:e,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:n})})})};_H.displayName=km;var ble="MenuAnchor",$k=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=k0(r);return s.jsx(o0,{...i,...n,ref:e})});$k.displayName=ble;var Bk="MenuPortal",[wle,OH]=Fc(Bk,{forceMount:void 0}),PH=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=$c(Bk,e);return s.jsx(wle,{scope:e,forceMount:r,children:s.jsx(pi,{present:r||a.open,children:s.jsx(mm,{asChild:!0,container:i,children:n})})})};PH.displayName=Bk;var ia="MenuContent",[jle,Hk]=Fc(ia),kH=w.forwardRef((t,e)=>{const r=OH(ia,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=$c(ia,t.__scopeMenu),o=Tm(ia,t.__scopeMenu);return s.jsx(wp.Provider,{scope:t.__scopeMenu,children:s.jsx(pi,{present:n||a.open,children:s.jsx(wp.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(Sle,{...i,ref:e}):s.jsx(Cle,{...i,ref:e})})})})}),Sle=w.forwardRef((t,e)=>{const r=$c(ia,t.__scopeMenu),n=w.useRef(null),i=ut(e,n);return w.useEffect(()=>{const a=n.current;if(a)return Gx(a)},[]),s.jsx(Wk,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Me(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Cle=w.forwardRef((t,e)=>{const r=$c(ia,t.__scopeMenu);return s.jsx(Wk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Nle=sle("MenuContent.ScrollLock"),Wk=w.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:j,...b}=t,y=$c(ia,r),x=Tm(ia,r),S=k0(r),_=NH(r),P=gle(r),[C,O]=w.useState(null),k=w.useRef(null),A=ut(e,k,y.onContentChange),M=w.useRef(0),D=w.useRef(""),L=w.useRef(0),B=w.useRef(null),$=w.useRef("right"),q=w.useRef(0),F=j?gm:w.Fragment,G=j?{as:Nle,allowPinchZoom:!0}:void 0,E=H=>{const I=D.current+H,z=P().filter(K=>!K.disabled),V=document.activeElement,J=z.find(K=>K.ref.current===V)?.textValue,Q=z.map(K=>K.textValue),se=Lle(Q,I,J),oe=z.find(K=>K.textValue===se)?.ref.current;(function K(de){D.current=de,window.clearTimeout(M.current),de!==""&&(M.current=window.setTimeout(()=>K(""),1e3))})(I),oe&&setTimeout(()=>oe.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),qx();const U=w.useCallback(H=>$.current===B.current?.side&&Fle(H,B.current?.area),[]);return s.jsx(jle,{scope:r,searchRef:D,onItemEnter:w.useCallback(H=>{U(H)&&H.preventDefault()},[U]),onItemLeave:w.useCallback(H=>{U(H)||(k.current?.focus(),O(null))},[U]),onTriggerLeave:w.useCallback(H=>{U(H)&&H.preventDefault()},[U]),pointerGraceTimerRef:L,onPointerGraceIntentChange:w.useCallback(H=>{B.current=H},[]),children:s.jsx(F,{...G,children:s.jsx(pm,{asChild:!0,trapped:i,onMountAutoFocus:Me(a,H=>{H.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(hm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:s.jsx(Dk,{asChild:!0,..._,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:O,onEntryFocus:Me(c,H=>{x.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(tk,{role:"menu","aria-orientation":"vertical","data-state":qH(y.open),"data-radix-menu-content":"",dir:x.dir,...S,...b,ref:A,style:{outline:"none",...b.style},onKeyDown:Me(b.onKeyDown,H=>{const z=H.target.closest("[data-radix-menu-content]")===H.currentTarget,V=H.ctrlKey||H.altKey||H.metaKey,J=H.key.length===1;z&&(H.key==="Tab"&&H.preventDefault(),!V&&J&&E(H.key));const Q=k.current;if(H.target!==Q||!hle.includes(H.key))return;H.preventDefault();const oe=P().filter(K=>!K.disabled).map(K=>K.ref.current);SH.includes(H.key)&&oe.reverse(),Rle(oe)}),onBlur:Me(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(M.current),D.current="")}),onPointerMove:Me(t.onPointerMove,jp(H=>{const I=H.target,z=q.current!==H.clientX;if(H.currentTarget.contains(I)&&z){const V=H.clientX>q.current?"right":"left";$.current=V,q.current=H.clientX}}))})})})})})})});kH.displayName=ia;var _le="MenuGroup",Uk=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Ze.div,{role:"group",...n,ref:e})});Uk.displayName=_le;var Ole="MenuLabel",TH=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Ze.div,{...n,ref:e})});TH.displayName=Ole;var Ay="MenuItem",$D="menu.itemSelect",T0=w.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=w.useRef(null),o=Tm(Ay,t.__scopeMenu),l=Hk(Ay,t.__scopeMenu),c=ut(e,a),d=w.useRef(!1),f=()=>{const h=a.current;if(!r&&h){const m=new CustomEvent($D,{bubbles:!0,cancelable:!0});h.addEventListener($D,g=>n?.(g),{once:!0}),Z3(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(AH,{...i,ref:c,disabled:r,onClick:Me(t.onClick,f),onPointerDown:h=>{t.onPointerDown?.(h),d.current=!0},onPointerUp:Me(t.onPointerUp,h=>{d.current||h.currentTarget?.click()}),onKeyDown:Me(t.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||W_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});T0.displayName=Ay;var AH=w.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=Hk(Ay,r),l=NH(r),c=w.useRef(null),d=ut(e,c),[f,h]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const j=c.current;j&&g((j.textContent??"").trim())},[a.children]),s.jsx(wp.ItemSlot,{scope:r,disabled:n,textValue:i??m,children:s.jsx(Rk,{asChild:!0,...l,focusable:!n,children:s.jsx(Ze.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Me(t.onPointerMove,jp(j=>{n?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(t.onPointerLeave,jp(j=>o.onItemLeave(j))),onFocus:Me(t.onFocus,()=>h(!0)),onBlur:Me(t.onBlur,()=>h(!1))})})})}),Ple="MenuCheckboxItem",EH=w.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return s.jsx(LH,{scope:t.__scopeMenu,checked:r,children:s.jsx(T0,{role:"menuitemcheckbox","aria-checked":Ey(r)?"mixed":r,...i,ref:e,"data-state":Vk(r),onSelect:Me(i.onSelect,()=>n?.(Ey(r)?!0:!r),{checkForDefaultPrevented:!1})})})});EH.displayName=Ple;var MH="MenuRadioGroup",[kle,Tle]=Fc(MH,{value:void 0,onValueChange:()=>{}}),DH=w.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Ea(n);return s.jsx(kle,{scope:t.__scopeMenu,value:r,onValueChange:a,children:s.jsx(Uk,{...i,ref:e})})});DH.displayName=MH;var RH="MenuRadioItem",IH=w.forwardRef((t,e)=>{const{value:r,...n}=t,i=Tle(RH,t.__scopeMenu),a=r===i.value;return s.jsx(LH,{scope:t.__scopeMenu,checked:a,children:s.jsx(T0,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":Vk(a),onSelect:Me(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});IH.displayName=RH;var qk="MenuItemIndicator",[LH,Ale]=Fc(qk,{checked:!1}),zH=w.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=Ale(qk,r);return s.jsx(pi,{present:n||Ey(a.checked)||a.checked===!0,children:s.jsx(Ze.span,{...i,ref:e,"data-state":Vk(a.checked)})})});zH.displayName=qk;var Ele="MenuSeparator",FH=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Ze.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});FH.displayName=Ele;var Mle="MenuArrow",$H=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=k0(r);return s.jsx(rk,{...i,...n,ref:e})});$H.displayName=Mle;var Dle="MenuSub",[ake,BH]=Fc(Dle),Fh="MenuSubTrigger",HH=w.forwardRef((t,e)=>{const r=$c(Fh,t.__scopeMenu),n=Tm(Fh,t.__scopeMenu),i=BH(Fh,t.__scopeMenu),a=Hk(Fh,t.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},f=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx($k,{asChild:!0,...d,children:s.jsx(AH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":qH(r.open),...t,ref:js(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Me(t.onPointerMove,jp(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Me(t.onPointerLeave,jp(h=>{f();const m=r.content?.getBoundingClientRect();if(m){const g=r.content?.dataset.side,j=g==="right",b=j?-5:5,y=m[j?"left":"right"],x=m[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:y,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Me(t.onKeyDown,h=>{const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||ple[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});HH.displayName=Fh;var WH="MenuSubContent",UH=w.forwardRef((t,e)=>{const r=OH(ia,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=$c(ia,t.__scopeMenu),o=Tm(ia,t.__scopeMenu),l=BH(WH,t.__scopeMenu),c=w.useRef(null),d=ut(e,c);return s.jsx(wp.Provider,{scope:t.__scopeMenu,children:s.jsx(pi,{present:n||a.open,children:s.jsx(wp.Slot,{scope:t.__scopeMenu,children:s.jsx(Wk,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&c.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Me(t.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Me(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Me(t.onKeyDown,f=>{const h=f.currentTarget.contains(f.target),m=mle[o.dir].includes(f.key);h&&m&&(a.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});UH.displayName=WH;function qH(t){return t?"open":"closed"}function Ey(t){return t==="indeterminate"}function Vk(t){return Ey(t)?"indeterminate":t?"checked":"unchecked"}function Rle(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Ile(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Lle(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=Ile(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function zle(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,f=l.y,h=c.x,m=c.y;f>n!=m>n&&r<(h-d)*(n-f)/(m-f)+d&&(i=!i)}return i}function Fle(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return zle(r,e)}function jp(t){return e=>e.pointerType==="mouse"?t(e):void 0}var $le=_H,Ble=$k,Hle=PH,Wle=kH,Ule=Uk,qle=TH,Vle=T0,Gle=EH,Xle=DH,Yle=IH,Kle=zH,Jle=FH,Zle=$H,Qle=HH,ece=UH,A0="DropdownMenu",[tce]=Rn(A0,[CH]),Kn=CH(),[rce,VH]=tce(A0),GH=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Kn(e),d=w.useRef(null),[f,h]=sa({prop:i,defaultProp:a??!1,onChange:o,caller:A0});return s.jsx(rce,{scope:e,triggerId:na(),triggerRef:d,contentId:na(),open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx($le,{...c,open:f,onOpenChange:h,dir:n,modal:l,children:r})})};GH.displayName=A0;var XH="DropdownMenuTrigger",YH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=VH(XH,r),o=Kn(r);return s.jsx(Ble,{asChild:!0,...o,children:s.jsx(Ze.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:js(e,a.triggerRef),onPointerDown:Me(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Me(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});YH.displayName=XH;var nce="DropdownMenuPortal",KH=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Kn(e);return s.jsx(Hle,{...n,...r})};KH.displayName=nce;var JH="DropdownMenuContent",ZH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=VH(JH,r),a=Kn(r),o=w.useRef(!1);return s.jsx(Wle,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Me(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Me(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZH.displayName=JH;var ice="DropdownMenuGroup",ace=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Ule,{...i,...n,ref:e})});ace.displayName=ice;var sce="DropdownMenuLabel",QH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(qle,{...i,...n,ref:e})});QH.displayName=sce;var oce="DropdownMenuItem",eW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Vle,{...i,...n,ref:e})});eW.displayName=oce;var lce="DropdownMenuCheckboxItem",cce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Gle,{...i,...n,ref:e})});cce.displayName=lce;var uce="DropdownMenuRadioGroup",dce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Xle,{...i,...n,ref:e})});dce.displayName=uce;var fce="DropdownMenuRadioItem",hce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Yle,{...i,...n,ref:e})});hce.displayName=fce;var pce="DropdownMenuItemIndicator",mce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Kle,{...i,...n,ref:e})});mce.displayName=pce;var gce="DropdownMenuSeparator",tW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Jle,{...i,...n,ref:e})});tW.displayName=gce;var vce="DropdownMenuArrow",yce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Zle,{...i,...n,ref:e})});yce.displayName=vce;var xce="DropdownMenuSubTrigger",bce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(Qle,{...i,...n,ref:e})});bce.displayName=xce;var wce="DropdownMenuSubContent",jce=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Kn(r);return s.jsx(ece,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jce.displayName=wce;var Sce=GH,Cce=YH,Nce=KH,_ce=ZH,Oce=QH,Pce=eW,kce=tW;function Gk({...t}){return s.jsx(Sce,{"data-slot":"dropdown-menu",...t})}function Xk({...t}){return s.jsx(Cce,{"data-slot":"dropdown-menu-trigger",...t})}function Yk({className:t,sideOffset:e=4,...r}){return s.jsx(Nce,{children:s.jsx(_ce,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function Zo({className:t,inset:e,variant:r="default",...n}){return s.jsx(Pce,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:Je("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function rW({className:t,inset:e,...r}){return s.jsx(Oce,{"data-slot":"dropdown-menu-label","data-inset":e,className:Je("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function Jh({className:t,...e}){return s.jsx(kce,{"data-slot":"dropdown-menu-separator",className:Je("bg-border -mx-1 my-1 h-px",t),...e})}function pn({children:t}){const e=fi(),r=kr(),{user:n,logout:i}=hi(),a=c=>e.pathname===c,o=()=>{i(),ve.success("Logged out successfully"),r("/")},l=[{path:"/admin/payment-verification",icon:Bx,label:"Payment Verification"},{path:"/admin/orders",icon:il,label:"Orders"},{path:"/admin/products",icon:gr,label:"Products"},{path:"/admin/customizable-products",icon:D3,label:"Customizable Products"},{path:"/admin/canvas-resources",icon:fc,label:"Canvas Resources"},{path:"/admin/employees",icon:SP,label:"Employees"},{path:"/admin/inventory",icon:jK,label:"Inventory"},{path:"/admin/cash-flow",icon:Fx,label:"Cash Flow"},{path:"/admin/reports",icon:gY,label:"Reports"}];return s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-800",children:s.jsxs(Or,{to:"/admin/payment-verification",className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex size-10 items-center justify-center rounded-md bg-orange-500",children:s.jsx("span",{className:"text-white font-bold",children:"R"})}),s.jsx("span",{className:"font-semibold",children:"RFM Admin"})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-1",children:l.map(c=>{const d=c.icon,f=a(c.path);return s.jsxs(Or,{to:c.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${f?"bg-orange-500 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[s.jsx(d,{className:"size-5"}),s.jsx("span",{className:"text-sm",children:c.label})]},c.path)})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-end px-6",children:s.jsxs(Gk,{children:[s.jsx(Xk,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center justify-center size-8 rounded-full bg-orange-500 text-white",children:s.jsx("span",{className:"text-sm font-medium",children:n?.name?.charAt(0).toUpperCase()||"A"})}),s.jsx("span",{className:"text-sm font-medium",children:"ADMIN USER"}),s.jsx(Bs,{className:"size-4"})]})}),s.jsxs(Yk,{align:"end",className:"w-56",children:[s.jsx(rW,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:n?.name||"Admin"}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n?.email||"admin@rfm.com"})]})}),s.jsx(Jh,{}),s.jsx(Zo,{onClick:()=>r("/"),children:"Go to Store"}),s.jsx(Jh,{}),s.jsxs(Zo,{onClick:o,children:[s.jsx(E3,{className:"mr-2 size-4"}),"Logout"]})]})]})}),s.jsx("main",{className:"flex-1 overflow-auto w-full",children:t})]})]})}const Vj="http://localhost:4000";function Tce(){const{user:t}=hi(),[e,r]=w.useState([]),[n,i]=w.useState(!0),[a,o]=w.useState(null),[l,c]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0);const y=await fetch(`${Vj}/api/payments?status=pending`,{credentials:"include"});if(!y.ok)throw new Error("Failed to load payments");const x=await y.json();r(x)}catch(y){console.error("Error loading payments:",y),ve.error("Failed to load payments")}finally{i(!1)}},m=async y=>{if(!t){ve.error("You must be logged in to approve payments");return}f(y);try{const x=await fetch(`${Vj}/api/payments/${y}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({verifiedBy:t.id})});if(!x.ok){const S=await x.json();throw new Error(S.error||"Failed to approve payment")}ve.success("Payment approved",{description:"The order has been approved and will proceed to production."}),await h()}catch(x){console.error("Error approving payment:",x),ve.error(x.message||"Failed to approve payment")}finally{f(null)}},g=async y=>{if(!t){ve.error("You must be logged in to reject payments");return}f(y);try{const x=await fetch(`${Vj}/api/payments/${y}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({verifiedBy:t.id})});if(!x.ok){const S=await x.json();throw new Error(S.error||"Failed to reject payment")}ve.error("Payment rejected",{description:"The customer will be notified about the rejection."}),await h()}catch(x){console.error("Error rejecting payment:",x),ve.error(x.message||"Failed to reject payment")}finally{f(null)}},j=y=>(typeof y=="string"?new Date(y):y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=e.filter(y=>y.paymentStatus==="pending");return n?s.jsx(pn,{children:s.jsx("div",{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Wn,{className:"size-8 animate-spin text-gray-400"})})})}):s.jsxs(pn,{children:[s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Payment Verification"}),s.jsx("p",{className:"text-gray-600",children:"Review and approve orders awaiting payment verification"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(y=>s.jsxs(ht,{className:"border-2",children:[s.jsxs(vr,{className:"pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded text-sm font-medium",children:y.orderId})}),s.jsx(lt,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:"Pending"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:j(y.submittedAt)})]}),s.jsxs(bt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Customer"}),s.jsx("p",{className:"font-medium",children:y.customer.name}),s.jsx("p",{className:"text-sm text-gray-600",children:y.customer.email}),s.jsx("p",{className:"text-sm text-gray-600",children:y.customer.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Summary"}),s.jsx("p",{className:"text-sm",children:y.orderSummary.items}),s.jsxs("p",{className:"font-bold mt-1",children:["Total: ",y.orderSummary.total.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Details"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O3,{className:"size-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium capitalize",children:y.paymentMethod})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Type:"}),s.jsx(lt,{variant:y.paymentType==="full"?"default":"secondary",children:y.paymentType==="full"?"Full Payment":"Partial Payment"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),s.jsxs("span",{className:"font-semibold",children:["",y.amountPaid.toFixed(2)]})]}),y.paymentType==="partial"&&y.remainingBalance>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Remaining:"}),s.jsxs("span",{className:"font-semibold text-orange-600",children:["",y.remainingBalance.toFixed(2)]})]}),y.referenceNumber&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Reference:"}),s.jsx("span",{className:"font-mono text-xs",children:y.referenceNumber})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs(ee,{variant:"outline",className:"w-full mb-2 text-blue-600 border-blue-600 hover:bg-blue-50",size:"sm",onClick:()=>{o(y),c(!0)},children:[s.jsx(to,{className:"size-4 mr-1"}),"View Receipt"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ee,{onClick:()=>m(y.id),disabled:d===y.id,className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[d===y.id?s.jsx(Wn,{className:"size-4 mr-1 animate-spin"}):s.jsx(Zu,{className:"size-4 mr-1"}),"Approve"]}),s.jsxs(ee,{onClick:()=>g(y.id),disabled:d===y.id,variant:"destructive",size:"sm",children:[d===y.id?s.jsx(Wn,{className:"size-4 mr-1 animate-spin"}):s.jsx(Tt,{className:"size-4 mr-1"}),"Reject"]})]})]})]})]},y.id))}),b.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bx,{className:"size-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"All caught up!"}),s.jsx("p",{className:"text-gray-600",children:"No pending payment verifications at the moment."})]})]}),s.jsx(ud,{open:l,onOpenChange:c,children:s.jsxs(dd,{className:"sm:max-w-2xl",children:[s.jsx(fd,{children:s.jsxs(hd,{children:["Payment Receipt - ",a?.orderId]})}),a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Customer:"}),s.jsx("span",{className:"font-medium",children:a.customer.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Payment Type:"}),s.jsx(lt,{variant:a.paymentType==="full"?"default":"secondary",children:a.paymentType==="full"?"Full Payment":"Partial Payment"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Amount Paid:"}),s.jsxs("span",{className:"font-semibold",children:["",a.amountPaid.toFixed(2)]})]}),a.paymentType==="partial"&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Remaining Balance:"}),s.jsxs("span",{className:"font-semibold text-orange-600",children:["",a.remainingBalance.toFixed(2)]})]}),a.referenceNumber&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Reference Number:"}),s.jsx("span",{className:"font-mono text-sm",children:a.referenceNumber})]})]}),a.receiptUrl?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("img",{src:a.receiptUrl,alt:"Payment Receipt",className:"w-full h-auto"})}):s.jsx("div",{className:"border rounded-lg p-8 text-center text-gray-500",children:"No receipt image available"})]})]})})]})}function Ace(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return w.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const E0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nf(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Kk(t){return"nodeType"in t}function Jn(t){var e,r;return t?nf(t)?t:Kk(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function Jk(t){const{Document:e}=Jn(t);return t instanceof e}function Am(t){return nf(t)?!1:t instanceof Jn(t).HTMLElement}function nW(t){return t instanceof Jn(t).SVGElement}function af(t){return t?nf(t)?t.document:Kk(t)?Jk(t)?t:Am(t)||nW(t)?t.ownerDocument:document:document:document}const za=E0?w.useLayoutEffect:w.useEffect;function M0(t){const e=w.useRef(t);return za(()=>{e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function Ece(){const t=w.useRef(null),e=w.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=w.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Sp(t,e){e===void 0&&(e=[t]);const r=w.useRef(t);return za(()=>{r.current!==t&&(r.current=t)},e),r}function Em(t,e){const r=w.useRef();return w.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function My(t){const e=M0(t),r=w.useRef(null),n=w.useCallback(i=>{i!==r.current&&e?.(i,r.current),r.current=i},[]);return[r,n]}function Dy(t){const e=w.useRef();return w.useEffect(()=>{e.current=t},[t]),e.current}let Gj={};function Mm(t,e){return w.useMemo(()=>{if(e)return e;const r=Gj[t]==null?0:Gj[t]+1;return Gj[t]=r,t+"-"+r},[t,e])}function iW(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,o)=>{const l=Object.entries(o);for(const[c,d]of l){const f=a[c];f!=null&&(a[c]=f+t*d)}return a},{...e})}}const qu=iW(1),Cp=iW(-1);function Mce(t){return"clientX"in t&&"clientY"in t}function D0(t){if(!t)return!1;const{KeyboardEvent:e}=Jn(t.target);return e&&t instanceof e}function Dce(t){if(!t)return!1;const{TouchEvent:e}=Jn(t.target);return e&&t instanceof e}function Ry(t){if(Dce(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return Mce(t)?{x:t.clientX,y:t.clientY}:null}const cl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[cl.Translate.toString(t),cl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),BD="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Rce(t){return t.matches(BD)?t:t.querySelector(BD)}const Ice={display:"none"};function Lce(t){let{id:e,value:r}=t;return Y.createElement("div",{id:e,style:Ice},r)}function zce(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Y.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function Fce(){const[t,e]=w.useState("");return{announce:w.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const aW=w.createContext(null);function $ce(t){const e=w.useContext(aW);w.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Bce(){const[t]=w.useState(()=>new Set),e=w.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[w.useCallback(n=>{let{type:i,event:a}=n;t.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,a)})},[t]),e]}const Hce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Wce={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Uce(t){let{announcements:e=Wce,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=Hce}=t;const{announce:a,announcement:o}=Fce(),l=Mm("DndLiveRegion"),[c,d]=w.useState(!1);if(w.useEffect(()=>{d(!0)},[]),$ce(w.useMemo(()=>({onDragStart(h){let{active:m}=h;a(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;e.onDragMove&&a(e.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;a(e.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;a(e.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;a(e.onDragCancel({active:m,over:g}))}}),[a,e])),!c)return null;const f=Y.createElement(Y.Fragment,null,Y.createElement(Lce,{id:n,value:i.draggable}),Y.createElement(zce,{id:l,announcement:o}));return r?cs.createPortal(f,r):f}var Vr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Vr||(Vr={}));function Iy(){}function HD(t,e){return w.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function qce(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return w.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Fa=Object.freeze({x:0,y:0});function Vce(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gce(t,e){const r=Ry(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function Xce(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function Yce(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function WD(t){let{left:e,top:r,height:n,width:i}=t;return[{x:e,y:r},{x:e+i,y:r},{x:e,y:r+n},{x:e+i,y:r+n}]}function sW(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}const oW=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=WD(e),a=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const d=WD(c),f=i.reduce((m,g,j)=>m+Vce(d[j],g),0),h=Number((f/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:h}})}}return a.sort(Xce)};function Kce(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),o=i-n,l=a-r;if(n<i&&r<a){const c=e.width*e.height,d=t.width*t.height,f=o*l,h=f/(c+d-f);return Number(h.toFixed(4))}return 0}const Jce=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const a of n){const{id:o}=a,l=r.get(o);if(l){const c=Kce(l,e);c>0&&i.push({id:o,data:{droppableContainer:a,value:c}})}}return i.sort(Yce)};function Zce(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function lW(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Fa}function Qce(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...r})}}const eue=Qce(1);function cW(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function tue(t,e,r){const n=cW(e);if(!n)return t;const{scaleX:i,scaleY:a,x:o,y:l}=n,c=t.left-o-(1-i)*parseFloat(r),d=t.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),f=i?t.width/i:t.width,h=a?t.height/a:t.height;return{width:f,height:h,top:d,right:c+f,bottom:d+h,left:c}}const rue={ignoreTransform:!1};function sf(t,e){e===void 0&&(e=rue);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=Jn(t).getComputedStyle(t);d&&(r=tue(r,d,f))}const{top:n,left:i,width:a,height:o,bottom:l,right:c}=r;return{top:n,left:i,width:a,height:o,bottom:l,right:c}}function UD(t){return sf(t,{ignoreTransform:!0})}function nue(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function iue(t,e){return e===void 0&&(e=Jn(t).getComputedStyle(t)),e.position==="fixed"}function aue(t,e){e===void 0&&(e=Jn(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?r.test(a):!1})}function R0(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(Jk(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Am(i)||nW(i)||r.includes(i))return r;const a=Jn(t).getComputedStyle(i);return i!==t&&aue(i,a)&&r.push(i),iue(i,a)?r:n(i.parentNode)}return t?n(t):r}function uW(t){const[e]=R0(t,1);return e??null}function Xj(t){return!E0||!t?null:nf(t)?t:Kk(t)?Jk(t)||t===af(t).scrollingElement?window:Am(t)?t:null:null}function dW(t){return nf(t)?t.scrollX:t.scrollLeft}function fW(t){return nf(t)?t.scrollY:t.scrollTop}function U_(t){return{x:dW(t),y:fW(t)}}var dn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(dn||(dn={}));function hW(t){return!E0||!t?!1:t===document.scrollingElement}function pW(t){const e={x:0,y:0},r=hW(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,o=t.scrollTop>=n.y,l=t.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:o,isRight:l,maxScroll:n,minScroll:e}}const sue={x:.2,y:.2};function oue(t,e,r,n,i){let{top:a,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),i===void 0&&(i=sue);const{isTop:d,isBottom:f,isLeft:h,isRight:m}=pW(t),g={x:0,y:0},j={x:0,y:0},b={height:e.height*i.y,width:e.width*i.x};return!d&&a<=e.top+b.height?(g.y=dn.Backward,j.y=n*Math.abs((e.top+b.height-a)/b.height)):!f&&c>=e.bottom-b.height&&(g.y=dn.Forward,j.y=n*Math.abs((e.bottom-b.height-c)/b.height)),!m&&l>=e.right-b.width?(g.x=dn.Forward,j.x=n*Math.abs((e.right-b.width-l)/b.width)):!h&&o<=e.left+b.width&&(g.x=dn.Backward,j.x=n*Math.abs((e.left+b.width-o)/b.width)),{direction:g,speed:j}}function lue(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function mW(t){return t.reduce((e,r)=>qu(e,U_(r)),Fa)}function cue(t){return t.reduce((e,r)=>e+dW(r),0)}function uue(t){return t.reduce((e,r)=>e+fW(r),0)}function gW(t,e){if(e===void 0&&(e=sf),!t)return;const{top:r,left:n,bottom:i,right:a}=e(t);uW(t)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const due=[["x",["left","right"],cue],["y",["top","bottom"],uue]];class Zk{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=R0(r),i=mW(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,o,l]of due)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(n),f=i[a]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Zh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function fue(t){const{EventTarget:e}=Jn(t);return t instanceof e?t:af(t)}function Yj(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Ji;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ji||(Ji={}));function qD(t){t.preventDefault()}function hue(t){t.stopPropagation()}var jt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(jt||(jt={}));const vW={start:[jt.Space,jt.Enter],cancel:[jt.Esc],end:[jt.Space,jt.Enter,jt.Tab]},pue=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case jt.Right:return{...r,x:r.x+25};case jt.Left:return{...r,x:r.x-25};case jt.Down:return{...r,y:r.y+25};case jt.Up:return{...r,y:r.y-25}}};class Qk{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Zh(af(r)),this.windowListeners=new Zh(Jn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ji.Resize,this.handleCancel),this.windowListeners.add(Ji.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ji.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&gW(n),r(Fa)}handleKeyDown(e){if(D0(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=vW,coordinateGetter:o=pue,scrollBehavior:l="smooth"}=i,{code:c}=e;if(a.end.includes(c)){this.handleEnd(e);return}if(a.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=n.current,f=d?{x:d.left,y:d.top}:Fa;this.referenceCoordinates||(this.referenceCoordinates=f);const h=o(e,{active:r,context:n.current,currentCoordinates:f});if(h){const m=Cp(h,f),g={x:0,y:0},{scrollableAncestors:j}=n.current;for(const b of j){const y=e.code,{isTop:x,isRight:S,isLeft:_,isBottom:P,maxScroll:C,minScroll:O}=pW(b),k=lue(b),A={x:Math.min(y===jt.Right?k.right-k.width/2:k.right,Math.max(y===jt.Right?k.left:k.left+k.width/2,h.x)),y:Math.min(y===jt.Down?k.bottom-k.height/2:k.bottom,Math.max(y===jt.Down?k.top:k.top+k.height/2,h.y))},M=y===jt.Right&&!S||y===jt.Left&&!_,D=y===jt.Down&&!P||y===jt.Up&&!x;if(M&&A.x!==h.x){const L=b.scrollLeft+m.x,B=y===jt.Right&&L<=C.x||y===jt.Left&&L>=O.x;if(B&&!m.y){b.scrollTo({left:L,behavior:l});return}B?g.x=b.scrollLeft-L:g.x=y===jt.Right?b.scrollLeft-C.x:b.scrollLeft-O.x,g.x&&b.scrollBy({left:-g.x,behavior:l});break}else if(D&&A.y!==h.y){const L=b.scrollTop+m.y,B=y===jt.Down&&L<=C.y||y===jt.Up&&L>=O.y;if(B&&!m.x){b.scrollTo({top:L,behavior:l});return}B?g.y=b.scrollTop-L:g.y=y===jt.Down?b.scrollTop-C.y:b.scrollTop-O.y,g.y&&b.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(e,qu(Cp(h,this.referenceCoordinates),g))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Qk.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=vW,onActivation:i}=e,{active:a}=r;const{code:o}=t.nativeEvent;if(n.start.includes(o)){const l=a.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function VD(t){return!!(t&&"distance"in t)}function GD(t){return!!(t&&"delay"in t)}class e2{constructor(e,r,n){var i;n===void 0&&(n=fue(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:a}=e,{target:o}=a;this.props=e,this.events=r,this.document=af(o),this.documentListeners=new Zh(this.document),this.listeners=new Zh(n),this.windowListeners=new Zh(Jn(o)),this.initialCoordinates=(i=Ry(a))!=null?i:Fa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ji.Resize,this.handleCancel),this.windowListeners.add(Ji.DragStart,qD),this.windowListeners.add(Ji.VisibilityChange,this.handleCancel),this.windowListeners.add(Ji.ContextMenu,qD),this.documentListeners.add(Ji.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(GD(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(VD(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ji.Click,hue,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ji.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!i)return;const c=(r=Ry(e))!=null?r:Fa,d=Cp(i,c);if(!n&&l){if(VD(l)){if(l.tolerance!=null&&Yj(d,l.tolerance))return this.handleCancel();if(Yj(d,l.distance))return this.handleStart()}if(GD(l)&&Yj(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===jt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const mue={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class t2 extends e2{constructor(e){const{event:r}=e,n=af(r.target);super(e,mue,n)}}t2.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const gue={move:{name:"mousemove"},end:{name:"mouseup"}};var q_;(function(t){t[t.RightClick=2]="RightClick"})(q_||(q_={}));class vue extends e2{constructor(e){super(e,gue,af(e.event.target))}}vue.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===q_.RightClick?!1:(n?.({event:r}),!0)}}];const Kj={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class yue extends e2{constructor(e){super(e,Kj)}static setup(){return window.addEventListener(Kj.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Kj.move.name,e)};function e(){}}}yue.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var Qh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Qh||(Qh={}));var Ly;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ly||(Ly={}));function xue(t){let{acceleration:e,activator:r=Qh.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:o=5,order:l=Ly.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:h,threshold:m}=t;const g=wue({delta:h,disabled:!a}),[j,b]=Ece(),y=w.useRef({x:0,y:0}),x=w.useRef({x:0,y:0}),S=w.useMemo(()=>{switch(r){case Qh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Qh.DraggableRect:return i}},[r,i,c]),_=w.useRef(null),P=w.useCallback(()=>{const O=_.current;if(!O)return;const k=y.current.x*x.current.x,A=y.current.y*x.current.y;O.scrollBy(k,A)},[]),C=w.useMemo(()=>l===Ly.TreeOrder?[...d].reverse():d,[l,d]);w.useEffect(()=>{if(!a||!d.length||!S){b();return}for(const O of C){if(n?.(O)===!1)continue;const k=d.indexOf(O),A=f[k];if(!A)continue;const{direction:M,speed:D}=oue(O,A,S,e,m);for(const L of["x","y"])g[L][M[L]]||(D[L]=0,M[L]=0);if(D.x>0||D.y>0){b(),_.current=O,j(P,o),y.current=D,x.current=M;return}}y.current={x:0,y:0},x.current={x:0,y:0},b()},[e,P,n,b,a,o,JSON.stringify(S),JSON.stringify(g),j,d,C,f,JSON.stringify(m)])}const bue={x:{[dn.Backward]:!1,[dn.Forward]:!1},y:{[dn.Backward]:!1,[dn.Forward]:!1}};function wue(t){let{delta:e,disabled:r}=t;const n=Dy(e);return Em(i=>{if(r||!n||!i)return bue;const a={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[dn.Backward]:i.x[dn.Backward]||a.x===-1,[dn.Forward]:i.x[dn.Forward]||a.x===1},y:{[dn.Backward]:i.y[dn.Backward]||a.y===-1,[dn.Forward]:i.y[dn.Forward]||a.y===1}}},[r,e,n])}function jue(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return Em(i=>{var a;return e==null?null:(a=n??i)!=null?a:null},[n,e])}function Sue(t,e){return w.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,n)}));return[...r,...a]},[]),[t,e])}var Np;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Np||(Np={}));var V_;(function(t){t.Optimized="optimized"})(V_||(V_={}));const XD=new Map;function Cue(t,e){let{dragging:r,dependencies:n,config:i}=e;const[a,o]=w.useState(null),{frequency:l,measure:c,strategy:d}=i,f=w.useRef(t),h=y(),m=Sp(h),g=w.useCallback(function(x){x===void 0&&(x=[]),!m.current&&o(S=>S===null?x:S.concat(x.filter(_=>!S.includes(_))))},[m]),j=w.useRef(null),b=Em(x=>{if(h&&!r)return XD;if(!x||x===XD||f.current!==t||a!=null){const S=new Map;for(let _ of t){if(!_)continue;if(a&&a.length>0&&!a.includes(_.id)&&_.rect.current){S.set(_.id,_.rect.current);continue}const P=_.node.current,C=P?new Zk(c(P),P):null;_.rect.current=C,C&&S.set(_.id,C)}return S}return x},[t,a,r,h,c]);return w.useEffect(()=>{f.current=t},[t]),w.useEffect(()=>{h||g()},[r,h]),w.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),w.useEffect(()=>{h||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{g(),j.current=null},l))},[l,h,g,...n]),{droppableRects:b,measureDroppableContainers:g,measuringScheduled:a!=null};function y(){switch(d){case Np.Always:return!1;case Np.BeforeDragging:return r;default:return!r}}}function r2(t,e){return Em(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function Nue(t,e){return r2(t,e)}function _ue(t){let{callback:e,disabled:r}=t;const n=M0(e),i=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return w.useEffect(()=>()=>i?.disconnect(),[i]),i}function I0(t){let{callback:e,disabled:r}=t;const n=M0(e),i=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return w.useEffect(()=>()=>i?.disconnect(),[i]),i}function Oue(t){return new Zk(sf(t),t)}function YD(t,e,r){e===void 0&&(e=Oue);const[n,i]=w.useState(null);function a(){i(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??r)!=null?d:null}const f=e(t);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const o=_ue({callback(c){if(t)for(const d of c){const{type:f,target:h}=d;if(f==="childList"&&h instanceof HTMLElement&&h.contains(t)){a();break}}}}),l=I0({callback:a});return za(()=>{a(),t?(l?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),o?.disconnect())},[t]),n}function Pue(t){const e=r2(t);return lW(t,e)}const KD=[];function kue(t){const e=w.useRef(t),r=Em(n=>t?n&&n!==KD&&t&&e.current&&t.parentNode===e.current.parentNode?n:R0(t):KD,[t]);return w.useEffect(()=>{e.current=t},[t]),r}function Tue(t){const[e,r]=w.useState(null),n=w.useRef(t),i=w.useCallback(a=>{const o=Xj(a.target);o&&r(l=>l?(l.set(o,U_(o)),new Map(l)):null)},[]);return w.useEffect(()=>{const a=n.current;if(t!==a){o(a);const l=t.map(c=>{const d=Xj(c);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,U_(d)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=t}return()=>{o(t),o(a)};function o(l){l.forEach(c=>{const d=Xj(c);d?.removeEventListener("scroll",i)})}},[i,t]),w.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,o)=>qu(a,o),Fa):mW(t):Fa,[t,e])}function JD(t,e){e===void 0&&(e=[]);const r=w.useRef(null);return w.useEffect(()=>{r.current=null},e),w.useEffect(()=>{const n=t!==Fa;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?Cp(t,r.current):Fa}function Aue(t){w.useEffect(()=>{if(!E0)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function Eue(t,e){return w.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=o=>{a(o,e)},r},{}),[t,e])}function yW(t){return w.useMemo(()=>t?nue(t):null,[t])}const ZD=[];function Mue(t,e){e===void 0&&(e=sf);const[r]=t,n=yW(r?Jn(r):null),[i,a]=w.useState(ZD);function o(){a(()=>t.length?t.map(c=>hW(c)?n:new Zk(e(c),c)):ZD)}const l=I0({callback:o});return za(()=>{l?.disconnect(),o(),t.forEach(c=>l?.observe(c))},[t]),i}function xW(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Am(e)?e:t}function Due(t){let{measure:e}=t;const[r,n]=w.useState(null),i=w.useCallback(d=>{for(const{target:f}of d)if(Am(f)){n(h=>{const m=e(f);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),a=I0({callback:i}),o=w.useCallback(d=>{const f=xW(d);a?.disconnect(),f&&a?.observe(f),n(f?e(f):null)},[e,a]),[l,c]=My(o);return w.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const Rue=[{sensor:t2,options:{}},{sensor:Qk,options:{}}],Iue={current:{}},Zv={draggable:{measure:UD},droppable:{measure:UD,strategy:Np.WhileDragging,frequency:V_.Optimized},dragOverlay:{measure:sf}};class ep extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const Lue={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ep,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Iy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zv,measureDroppableContainers:Iy,windowRect:null,measuringScheduled:!1},bW={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Iy,draggableNodes:new Map,over:null,measureDroppableContainers:Iy},Dm=w.createContext(bW),wW=w.createContext(Lue);function zue(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ep}}}function Fue(t,e){switch(e.type){case Vr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Vr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Vr.DragEnd:case Vr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vr.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new ep(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case Vr.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,a=t.droppable.containers.get(r);if(!a||n!==a.key)return t;const o=new ep(t.droppable.containers);return o.set(r,{...a,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Vr.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const a=new ep(t.droppable.containers);return a.delete(r),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function $ue(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=w.useContext(Dm),a=Dy(n),o=Dy(r?.id);return w.useEffect(()=>{if(!e&&!n&&a&&o!=null){if(!D0(a)||document.activeElement===a.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const h=Rce(f);if(h){h.focus();break}}})}},[n,e,i,o,a]),null}function jW(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,a)=>a({transform:i,...n}),r):r}function Bue(t){return w.useMemo(()=>({draggable:{...Zv.draggable,...t?.draggable},droppable:{...Zv.droppable,...t?.droppable},dragOverlay:{...Zv.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Hue(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const a=w.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;za(()=>{if(!o&&!l||!e){a.current=!1;return}if(a.current||!n)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const f=r(d),h=lW(f,n);if(o||(h.x=0),l||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=uW(d);m&&m.scrollBy({top:h.y,left:h.x})}},[e,o,l,n,r])}const L0=w.createContext({...Fa,scaleX:1,scaleY:1});var Uo;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Uo||(Uo={}));const Wue=w.memo(function(e){var r,n,i,a;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:f=Rue,collisionDetection:h=Jce,measuring:m,modifiers:g,...j}=e;const b=w.useReducer(Fue,void 0,zue),[y,x]=b,[S,_]=Bce(),[P,C]=w.useState(Uo.Uninitialized),O=P===Uo.Initialized,{draggable:{active:k,nodes:A,translate:M},droppable:{containers:D}}=y,L=k!=null?A.get(k):null,B=w.useRef({initial:null,translated:null}),$=w.useMemo(()=>{var Ut;return k!=null?{id:k,data:(Ut=L?.data)!=null?Ut:Iue,rect:B}:null},[k,L]),q=w.useRef(null),[F,G]=w.useState(null),[E,U]=w.useState(null),H=Sp(j,Object.values(j)),I=Mm("DndDescribedBy",o),z=w.useMemo(()=>D.getEnabled(),[D]),V=Bue(m),{droppableRects:J,measureDroppableContainers:Q,measuringScheduled:se}=Cue(z,{dragging:O,dependencies:[M.x,M.y],config:V.droppable}),oe=jue(A,k),K=w.useMemo(()=>E?Ry(E):null,[E]),de=vi(),ae=Nue(oe,V.draggable.measure);Hue({activeNode:k!=null?A.get(k):null,config:de.layoutShiftCompensation,initialRect:ae,measure:V.draggable.measure});const ce=YD(oe,V.draggable.measure,ae),xe=YD(oe?oe.parentElement:null),le=w.useRef({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Te=D.getNodeFor((r=le.current.over)==null?void 0:r.id),Ne=Due({measure:V.dragOverlay.measure}),Fe=(n=Ne.nodeRef.current)!=null?n:oe,Ke=O?(i=Ne.rect)!=null?i:ce:null,Re=!!(Ne.nodeRef.current&&Ne.rect),mt=Pue(Re?null:ce),ct=yW(Fe?Jn(Fe):null),je=kue(O?Te??oe:null),gt=Mue(je),Qe=jW(g,{transform:{x:M.x-mt.x,y:M.y-mt.y,scaleX:1,scaleY:1},activatorEvent:E,active:$,activeNodeRect:ce,containerNodeRect:xe,draggingNodeRect:Ke,over:le.current.over,overlayNodeRect:Ne.rect,scrollableAncestors:je,scrollableAncestorRects:gt,windowRect:ct}),zt=K?qu(K,M):null,en=Tue(je),tn=JD(en),rn=JD(en,[ce]),fr=qu(Qe,tn),Ot=Ke?eue(Ke,Qe):null,jn=$&&Ot?h({active:$,collisionRect:Ot,droppableRects:J,droppableContainers:z,pointerCoordinates:zt}):null,zr=sW(jn,"id"),[St,sr]=w.useState(null),qa=Re?Qe:qu(Qe,rn),gi=Zce(qa,(a=St?.rect)!=null?a:null,ce),Va=w.useRef(null),In=w.useCallback((Ut,xr)=>{let{sensor:$e,options:Nt}=xr;if(q.current==null)return;const wt=A.get(q.current);if(!wt)return;const Mt=Ut.nativeEvent,Ft=new $e({active:q.current,activeNode:wt,event:Mt,options:Nt,context:le,onAbort(yt){if(!A.get(yt))return;const{onDragAbort:Dt}=H.current,Kt={id:yt};Dt?.(Kt),S({type:"onDragAbort",event:Kt})},onPending(yt,Fr,Dt,Kt){if(!A.get(yt))return;const{onDragPending:br}=H.current,gn={id:yt,constraint:Fr,initialCoordinates:Dt,offset:Kt};br?.(gn),S({type:"onDragPending",event:gn})},onStart(yt){const Fr=q.current;if(Fr==null)return;const Dt=A.get(Fr);if(!Dt)return;const{onDragStart:Kt}=H.current,an={activatorEvent:Mt,active:{id:Fr,data:Dt.data,rect:B}};cs.unstable_batchedUpdates(()=>{Kt?.(an),C(Uo.Initializing),x({type:Vr.DragStart,initialCoordinates:yt,active:Fr}),S({type:"onDragStart",event:an}),G(Va.current),U(Mt)})},onMove(yt){x({type:Vr.DragMove,coordinates:yt})},onEnd:Wt(Vr.DragEnd),onCancel:Wt(Vr.DragCancel)});Va.current=Ft;function Wt(yt){return async function(){const{active:Dt,collisions:Kt,over:an,scrollAdjustedTranslate:br}=le.current;let gn=null;if(Dt&&br){const{cancelDrop:Ii}=H.current;gn={activatorEvent:Mt,active:Dt,collisions:Kt,delta:br,over:an},yt===Vr.DragEnd&&typeof Ii=="function"&&await Promise.resolve(Ii(gn))&&(yt=Vr.DragCancel)}q.current=null,cs.unstable_batchedUpdates(()=>{x({type:yt}),C(Uo.Uninitialized),sr(null),G(null),U(null),Va.current=null;const Ii=yt===Vr.DragEnd?"onDragEnd":"onDragCancel";if(gn){const wl=H.current[Ii];wl?.(gn),S({type:Ii,event:gn})}})}}},[A]),Ps=w.useCallback((Ut,xr)=>($e,Nt)=>{const wt=$e.nativeEvent,Mt=A.get(Nt);if(q.current!==null||!Mt||wt.dndKit||wt.defaultPrevented)return;const Ft={active:Mt};Ut($e,xr.options,Ft)===!0&&(wt.dndKit={capturedBy:xr.sensor},q.current=Nt,In($e,xr))},[A,In]),nn=Sue(f,Ps);Aue(f),za(()=>{ce&&P===Uo.Initializing&&C(Uo.Initialized)},[ce,P]),w.useEffect(()=>{const{onDragMove:Ut}=H.current,{active:xr,activatorEvent:$e,collisions:Nt,over:wt}=le.current;if(!xr||!$e)return;const Mt={active:xr,activatorEvent:$e,collisions:Nt,delta:{x:fr.x,y:fr.y},over:wt};cs.unstable_batchedUpdates(()=>{Ut?.(Mt),S({type:"onDragMove",event:Mt})})},[fr.x,fr.y]),w.useEffect(()=>{const{active:Ut,activatorEvent:xr,collisions:$e,droppableContainers:Nt,scrollAdjustedTranslate:wt}=le.current;if(!Ut||q.current==null||!xr||!wt)return;const{onDragOver:Mt}=H.current,Ft=Nt.get(zr),Wt=Ft&&Ft.rect.current?{id:Ft.id,rect:Ft.rect.current,data:Ft.data,disabled:Ft.disabled}:null,yt={active:Ut,activatorEvent:xr,collisions:$e,delta:{x:wt.x,y:wt.y},over:Wt};cs.unstable_batchedUpdates(()=>{sr(Wt),Mt?.(yt),S({type:"onDragOver",event:yt})})},[zr]),za(()=>{le.current={activatorEvent:E,active:$,activeNode:oe,collisionRect:Ot,collisions:jn,droppableRects:J,draggableNodes:A,draggingNode:Fe,draggingNodeRect:Ke,droppableContainers:D,over:St,scrollableAncestors:je,scrollAdjustedTranslate:fr},B.current={initial:Ke,translated:Ot}},[$,oe,jn,Ot,A,Fe,Ke,J,D,St,je,fr]),xue({...de,delta:M,draggingRect:Ot,pointerCoordinates:zt,scrollableAncestors:je,scrollableAncestorRects:gt});const Sn=w.useMemo(()=>({active:$,activeNode:oe,activeNodeRect:ce,activatorEvent:E,collisions:jn,containerNodeRect:xe,dragOverlay:Ne,draggableNodes:A,droppableContainers:D,droppableRects:J,over:St,measureDroppableContainers:Q,scrollableAncestors:je,scrollableAncestorRects:gt,measuringConfiguration:V,measuringScheduled:se,windowRect:ct}),[$,oe,ce,E,jn,xe,Ne,A,D,J,St,Q,je,gt,V,se,ct]),bo=w.useMemo(()=>({activatorEvent:E,activators:nn,active:$,activeNodeRect:ce,ariaDescribedById:{draggable:I},dispatch:x,draggableNodes:A,over:St,measureDroppableContainers:Q}),[E,nn,$,ce,x,I,A,St,Q]);return Y.createElement(aW.Provider,{value:_},Y.createElement(Dm.Provider,{value:bo},Y.createElement(wW.Provider,{value:Sn},Y.createElement(L0.Provider,{value:gi},d)),Y.createElement($ue,{disabled:l?.restoreFocus===!1})),Y.createElement(Uce,{...l,hiddenTextDescribedById:I}));function vi(){const Ut=F?.autoScrollEnabled===!1,xr=typeof c=="object"?c.enabled===!1:c===!1,$e=O&&!Ut&&!xr;return typeof c=="object"?{...c,enabled:$e}:{enabled:$e}}}),Uue=w.createContext(null),QD="button",que="Draggable";function Vue(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const a=Mm(que),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:h,over:m}=w.useContext(Dm),{role:g=QD,roleDescription:j="draggable",tabIndex:b=0}=i??{},y=c?.id===e,x=w.useContext(y?L0:Uue),[S,_]=My(),[P,C]=My(),O=Eue(o,e),k=Sp(r);za(()=>(h.set(e,{id:e,key:a,node:S,activatorNode:P,data:k}),()=>{const M=h.get(e);M&&M.key===a&&h.delete(e)}),[h,e]);const A=w.useMemo(()=>({role:g,tabIndex:b,"aria-disabled":n,"aria-pressed":y&&g===QD?!0:void 0,"aria-roledescription":j,"aria-describedby":f.draggable}),[n,g,b,y,j,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:A,isDragging:y,listeners:n?void 0:O,node:S,over:m,setNodeRef:_,setActivatorNodeRef:C,transform:x}}function SW(){return w.useContext(wW)}const Gue="Droppable",Xue={timeout:25};function CW(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const a=Mm(Gue),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=w.useContext(Dm),f=w.useRef({disabled:r}),h=w.useRef(!1),m=w.useRef(null),g=w.useRef(null),{disabled:j,updateMeasurementsFor:b,timeout:y}={...Xue,...i},x=Sp(b??n),S=w.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),g.current=null},y)},[y]),_=I0({callback:S,disabled:j||!o}),P=w.useCallback((A,M)=>{_&&(M&&(_.unobserve(M),h.current=!1),A&&_.observe(A))},[_]),[C,O]=My(P),k=Sp(e);return w.useEffect(()=>{!_||!C.current||(_.disconnect(),h.current=!1,_.observe(C.current))},[C,_]),w.useEffect(()=>(l({type:Vr.RegisterDroppable,element:{id:n,key:a,disabled:r,node:C,rect:m,data:k}}),()=>l({type:Vr.UnregisterDroppable,key:a,id:n})),[n]),w.useEffect(()=>{r!==f.current.disabled&&(l({type:Vr.SetDroppableDisabled,id:n,key:a,disabled:r}),f.current.disabled=r)},[n,a,r,l]),{active:o,rect:m,isOver:c?.id===n,node:C,over:c,setNodeRef:O}}function Yue(t){let{animation:e,children:r}=t;const[n,i]=w.useState(null),[a,o]=w.useState(null),l=Dy(r);return!r&&!n&&l&&i(l),za(()=>{if(!a)return;const c=n?.key,d=n?.props.id;if(c==null||d==null){i(null);return}Promise.resolve(e(d,a)).then(()=>{i(null)})},[e,n,a]),Y.createElement(Y.Fragment,null,r,n?w.cloneElement(n,{ref:o}):null)}const Kue={x:0,y:0,scaleX:1,scaleY:1};function Jue(t){let{children:e}=t;return Y.createElement(Dm.Provider,{value:bW},Y.createElement(L0.Provider,{value:Kue},e))}const Zue={position:"fixed",touchAction:"none"},Que=t=>D0(t)?"transform 250ms ease":void 0,ede=w.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:a,className:o,rect:l,style:c,transform:d,transition:f=Que}=t;if(!l)return null;const h=i?d:{...d,scaleX:1,scaleY:1},m={...Zue,width:l.width,height:l.height,top:l.top,left:l.left,transform:cl.Transform.toString(h),transformOrigin:i&&n?Gce(n,l):void 0,transition:typeof f=="function"?f(n):f,...c};return Y.createElement(r,{className:o,style:m,ref:e},a)}),tde=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:a,className:o}=t;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(i[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(i))r.node.style.setProperty(c,d);o!=null&&o.active&&r.node.classList.remove(o.active)}},rde=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:cl.Transform.toString(e)},{transform:cl.Transform.toString(r)}]},nde={duration:250,easing:"ease",keyframes:rde,sideEffects:tde({styles:{active:{opacity:"0"}}})};function ide(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return M0((a,o)=>{if(e===null)return;const l=r.get(a);if(!l)return;const c=l.node.current;if(!c)return;const d=xW(o);if(!d)return;const{transform:f}=Jn(o).getComputedStyle(o),h=cW(f);if(!h)return;const m=typeof e=="function"?e:ade(e);return gW(c,i.draggable.measure),m({active:{id:a,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:i.dragOverlay.measure(d)},droppableContainers:n,measuringConfiguration:i,transform:h})})}function ade(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...nde,...t};return a=>{let{active:o,dragOverlay:l,transform:c,...d}=a;if(!e)return;const f={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-f.x,y:c.y-f.y,...h},g=i({...d,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[j]=g,b=g[g.length-1];if(JSON.stringify(j)===JSON.stringify(b))return;const y=n?.({active:o,dragOverlay:l,...d}),x=l.node.animate(g,{duration:e,easing:r,fill:"forwards"});return new Promise(S=>{x.onfinish=()=>{y?.(),S()}})}}let eR=0;function sde(t){return w.useMemo(()=>{if(t!=null)return eR++,eR},[t])}const ode=Y.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:a,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=t;const{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:g,draggableNodes:j,droppableContainers:b,dragOverlay:y,over:x,measuringConfiguration:S,scrollableAncestors:_,scrollableAncestorRects:P,windowRect:C}=SW(),O=w.useContext(L0),k=sde(h?.id),A=jW(o,{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:g,draggingNodeRect:y.rect,over:x,overlayNodeRect:y.rect,scrollableAncestors:_,scrollableAncestorRects:P,transform:O,windowRect:C}),M=r2(m),D=ide({config:n,draggableNodes:j,droppableContainers:b,measuringConfiguration:S}),L=M?y.setRef:void 0;return Y.createElement(Jue,null,Y.createElement(Yue,{animation:D},h&&k?Y.createElement(ede,{key:k,id:h.id,ref:L,as:l,activatorEvent:f,adjustScale:e,className:c,transition:a,rect:M,style:{zIndex:d,...i},transform:A},r):null))});function NW(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function lde(t,e){return t.reduce((r,n,i)=>{const a=e.get(n);return a&&(r[i]=a),r},Array(t.length))}function bv(t){return t!==null&&t>=0}function cde(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function ude(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const _W=t=>{let{rects:e,activeIndex:r,overIndex:n,index:i}=t;const a=NW(e,n,r),o=e[i],l=a[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},wv={scaleX:1,scaleY:1},dde=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:i,rects:a,overIndex:o}=t;const l=(e=a[r])!=null?e:n;if(!l)return null;if(i===r){const d=a[o];return d?{x:0,y:r<o?d.top+d.height-(l.top+l.height):d.top-l.top,...wv}:null}const c=fde(a,i,r);return i>r&&i<=o?{x:0,y:-l.height-c,...wv}:i<r&&i>=o?{x:0,y:l.height+c,...wv}:{x:0,y:0,...wv}};function fde(t,e,r){const n=t[e],i=t[e-1],a=t[e+1];return n?r<e?i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const OW="Sortable",PW=Y.createContext({activeIndex:-1,containerId:OW,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_W,disabled:{draggable:!1,droppable:!1}});function hde(t){let{children:e,id:r,items:n,strategy:i=_W,disabled:a=!1}=t;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:f}=SW(),h=Mm(OW,r),m=l.rect!==null,g=w.useMemo(()=>n.map(O=>typeof O=="object"&&"id"in O?O.id:O),[n]),j=o!=null,b=o?g.indexOf(o.id):-1,y=d?g.indexOf(d.id):-1,x=w.useRef(g),S=!cde(g,x.current),_=y!==-1&&b===-1||S,P=ude(a);za(()=>{S&&j&&f(g)},[S,g,j,f]),w.useEffect(()=>{x.current=g},[g]);const C=w.useMemo(()=>({activeIndex:b,containerId:h,disabled:P,disableTransforms:_,items:g,overIndex:y,useDragOverlay:m,sortedRects:lde(g,c),strategy:i}),[b,h,P.draggable,P.droppable,_,g,y,c,m,i]);return Y.createElement(PW.Provider,{value:C},e)}const pde=t=>{let{id:e,items:r,activeIndex:n,overIndex:i}=t;return NW(r,n,i).indexOf(e)},mde=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:i,items:a,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=t;return!d||!n||l!==a&&i===o?!1:r?!0:o!==i&&e===c},gde={duration:200,easing:"ease"},kW="transform",vde=cl.Transition.toString({property:kW,duration:0,easing:"linear"}),yde={roleDescription:"sortable"};function xde(t){let{disabled:e,index:r,node:n,rect:i}=t;const[a,o]=w.useState(null),l=w.useRef(r);return za(()=>{if(!e&&r!==l.current&&n.current){const c=i.current;if(c){const d=sf(n.current,{ignoreTransform:!0}),f={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(f.x||f.y)&&o(f)}}r!==l.current&&(l.current=r)},[e,r,n,i]),w.useEffect(()=>{a&&o(null)},[a]),a}function bde(t){let{animateLayoutChanges:e=mde,attributes:r,disabled:n,data:i,getNewIndex:a=pde,id:o,strategy:l,resizeObserverConfig:c,transition:d=gde}=t;const{items:f,containerId:h,activeIndex:m,disabled:g,disableTransforms:j,sortedRects:b,overIndex:y,useDragOverlay:x,strategy:S}=w.useContext(PW),_=wde(n,g),P=f.indexOf(o),C=w.useMemo(()=>({sortable:{containerId:h,index:P,items:f},...i}),[h,i,P,f]),O=w.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:k,node:A,isOver:M,setNodeRef:D}=CW({id:o,data:C,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...c}}),{active:L,activatorEvent:B,activeNodeRect:$,attributes:q,setNodeRef:F,listeners:G,isDragging:E,over:U,setActivatorNodeRef:H,transform:I}=Vue({id:o,data:C,attributes:{...yde,...r},disabled:_.draggable}),z=Ace(D,F),V=!!L,J=V&&!j&&bv(m)&&bv(y),Q=!x&&E,se=Q&&J?I:null,K=J?se??(l??S)({rects:b,activeNodeRect:$,activeIndex:m,overIndex:y,index:P}):null,de=bv(m)&&bv(y)?a({id:o,items:f,activeIndex:m,overIndex:y}):P,ae=L?.id,ce=w.useRef({activeId:ae,items:f,newIndex:de,containerId:h}),xe=f!==ce.current.items,le=e({active:L,containerId:h,isDragging:E,isSorting:V,id:o,index:P,items:f,newIndex:ce.current.newIndex,previousItems:ce.current.items,previousContainerId:ce.current.containerId,transition:d,wasDragging:ce.current.activeId!=null}),Te=xde({disabled:!le,index:P,node:A,rect:k});return w.useEffect(()=>{V&&ce.current.newIndex!==de&&(ce.current.newIndex=de),h!==ce.current.containerId&&(ce.current.containerId=h),f!==ce.current.items&&(ce.current.items=f)},[V,de,h,f]),w.useEffect(()=>{if(ae===ce.current.activeId)return;if(ae!=null&&ce.current.activeId==null){ce.current.activeId=ae;return}const Fe=setTimeout(()=>{ce.current.activeId=ae},50);return()=>clearTimeout(Fe)},[ae]),{active:L,activeIndex:m,attributes:q,data:C,rect:k,index:P,newIndex:de,items:f,isOver:M,isSorting:V,isDragging:E,listeners:G,node:A,overIndex:y,over:U,setNodeRef:z,setActivatorNodeRef:H,setDroppableNodeRef:D,setDraggableNodeRef:F,transform:Te??K,transition:Ne()};function Ne(){if(Te||xe&&ce.current.newIndex===P)return vde;if(!(Q&&!D0(B)||!d)&&(V||le))return cl.Transition.toString({...d,property:kW})}}function wde(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t?.draggable)!=null?r:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function zy(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const jde=[jt.Down,jt.Right,jt.Up,jt.Left],Sde=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:l}}=e;if(jde.includes(t.code)){if(t.preventDefault(),!r||!n)return;const c=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=i.get(h.id);if(m)switch(t.code){case jt.Down:n.top<m.top&&c.push(h);break;case jt.Up:n.top>m.top&&c.push(h);break;case jt.Left:n.left>m.left&&c.push(h);break;case jt.Right:n.left<m.left&&c.push(h);break}});const d=oW({collisionRect:n,droppableRects:i,droppableContainers:c});let f=sW(d,"id");if(f===o?.id&&d.length>1&&(f=d[1].id),f!=null){const h=a.get(r.id),m=a.get(f),g=m?i.get(m.id):null,j=m?.node.current;if(j&&g&&h&&m){const y=R0(j).some((O,k)=>l[k]!==O),x=TW(h,m),S=Cde(h,m),_=y||!x?{x:0,y:0}:{x:S?n.width-g.width:0,y:S?n.height-g.height:0},P={x:g.left,y:g.top};return _.x&&_.y?P:Cp(P,_)}}}};function TW(t,e){return!zy(t)||!zy(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Cde(t,e){return!zy(t)||!zy(e)||!TW(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Jj="http://localhost:4000",jv=[{id:"pending",label:"Pending",color:"bg-yellow-500"},{id:"designing",label:"Designing",color:"bg-cyan-500"},{id:"ripping",label:"Ripping",color:"bg-blue-500"},{id:"heatpress",label:"Heat Press",color:"bg-purple-500"},{id:"assembly",label:"Assembly",color:"bg-red-600"},{id:"qa",label:"QA",color:"bg-orange-500"},{id:"packing",label:"Packing",color:"bg-green-500"},{id:"done",label:"Done",color:"bg-green-600"}],Sv=[{id:"done",label:"To Ship",color:"bg-green-600"},{id:"shipping",label:"Shipping",color:"bg-purple-800"},{id:"delivered",label:"Delivered",color:"bg-teal-800"}];function Nde({id:t,children:e}){const{setNodeRef:r,isOver:n}=CW({id:t});return s.jsx("div",{ref:r,className:`bg-white border border-t-0 rounded-b-lg min-h-[500px] p-3 space-y-3 ${n?"bg-blue-50 border-blue-300":""}`,children:e})}function _de({order:t,onSetShipping:e}){if(kr(),!t||!t.id)return null;const{attributes:r,listeners:n,setNodeRef:i,transform:a,transition:o,isDragging:l}=bde({id:t.id}),c={transform:cl.Transform.toString(a),transition:o,opacity:l?.5:1},d=n?{...n,onPointerDown:f=>{if(f.button!==0){f.preventDefault(),f.stopPropagation();return}n.onPointerDown&&n.onPointerDown(f)}}:void 0;return s.jsx("div",{ref:i,style:c,children:s.jsxs(ht,{className:"border shadow-sm hover:shadow-md transition-shadow cursor-move",...r,...d||n,children:[s.jsxs(vr,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-bold",children:t.id||"N/A"}),t.items?.some(f=>f.customizationData)&&s.jsxs(lt,{variant:"secondary",className:"text-xs",children:[s.jsx(fc,{className:"size-3 mr-1"}),"Custom"]})]}),s.jsx("p",{className:"text-sm font-medium mt-2",children:t.customer?.name||"Unknown"})]}),s.jsx(bt,{className:"pt-0",children:s.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bP,{className:"size-3"}),s.jsx("span",{className:"truncate",children:t.customer?.email||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wP,{className:"size-3"}),s.jsx("span",{children:t.customer?.phone||"N/A"})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("p",{className:"font-bold text-sm text-black",children:["",(t.total||0).toFixed(2)]}),(t.balanceRemaining||0)>0&&s.jsxs("p",{className:"text-xs text-orange-600",children:["Balance: ",(t.balanceRemaining||0).toFixed(2)]})]}),e&&s.jsx("div",{className:"pt-2 mt-2 border-t",children:s.jsxs(ee,{size:"sm",className:"w-full",onClick:f=>{f.stopPropagation(),e(t.id)},children:[s.jsx(Qi,{className:"size-3 mr-2"}),"Set Shipping"]})})]})})]})})}function Ode(){const t=kr(),[e,r]=w.useState([]),[n,i]=w.useState(!0),[a,o]=w.useState(null),[l,c]=w.useState("all"),[d,f]=w.useState(!1),[h,m]=w.useState(!1),g=w.useRef(null),[j,b]=w.useState(!1),[y,x]=w.useState(!0),[S,_]=w.useState("production"),P=qce(HD(t2,{activationConstraint:{distance:8}}),HD(Qk,{coordinateGetter:Sde}));w.useEffect(()=>{k()},[]),w.useEffect(()=>{const B=g.current;if(!B)return;const $=()=>{b(B.scrollLeft>0),x(B.scrollLeft<B.scrollWidth-B.clientWidth-10)};return $(),B.addEventListener("scroll",$),window.addEventListener("resize",$),()=>{B.removeEventListener("scroll",$),window.removeEventListener("resize",$)}},[e,n]);const C=()=>{g.current?.scrollBy({left:-400,behavior:"smooth"})},O=()=>{g.current?.scrollBy({left:400,behavior:"smooth"})},k=async()=>{try{i(!0);const B=await fetch(`${Jj}/api/orders`,{credentials:"include"});if(!B.ok){const q=await B.json().catch(()=>({}));throw new Error(q.error||"Failed to load orders")}const $=await B.json();Array.isArray($)?r($):(console.error("Invalid orders data format:",$),r([]),ve.error("Invalid orders data received"))}catch(B){console.error("Error loading orders:",B),ve.error(B.message||"Failed to load orders"),r([])}finally{i(!1)}},A=B=>Array.isArray(e)?e.filter($=>$&&$.status===B):[],M=async()=>{f(!0);try{const B=await fetch(`${Jj}/api/orders/clear-all`,{method:"DELETE",credentials:"include"});if(!B.ok){const q=await B.json();throw new Error(q.error||"Failed to clear orders")}const $=await B.json();ve.success(`Cleared ${$.ordersDeleted} orders successfully`),m(!1),await k()}catch(B){console.error("Error clearing orders:",B),ve.error(B.message||"Failed to clear orders")}finally{f(!1)}},D=B=>{o(B.active.id)},L=async B=>{const{active:$,over:q}=B;if(o(null),!q||!$)return;const F=$.id;if(!F)return;let G;const U=(S==="production"?jv:Sv).find(V=>V.id===q.id);if(U)G=U.id;else{const V=e.find(J=>J&&J.id===q.id);if(!V||!V.status)return;G=V.status}const H=e.find(V=>V&&V.id===F);if(!H||!H.orderId||H.status===G)return;const I=[...e],z=e.map(V=>V&&V.id===F?{...V,status:G}:V);r(z);try{const V=await fetch(`${Jj}/api/orders/${H.orderId}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:G})});if(!V.ok){const Q=await V.json().catch(()=>({}));throw new Error(Q.error||"Failed to update order status")}const J=S==="production"?jv:Sv;ve.success(`Order ${F} moved to ${J.find(Q=>Q.id===G)?.label||G}`)}catch(V){console.error("Error updating order status:",V),ve.error(V.message||"Failed to update order status"),r(I)}};return s.jsx(pn,{children:s.jsxs("div",{className:"p-4 md:p-8 w-full overflow-hidden flex flex-col h-full",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4 flex-shrink-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Orders"}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("button",{onClick:()=>_("production"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${S==="production"?"bg-blue-100 text-blue-900 font-semibold":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(gr,{className:"size-5"}),s.jsx("span",{className:"text-lg",children:"Production Board"})]}),s.jsxs("button",{onClick:()=>_("shipping"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${S==="shipping"?"bg-blue-100 text-blue-900 font-semibold":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(Qi,{className:"size-5"}),s.jsx("span",{className:"text-lg",children:"Shipping Board"})]})]}),s.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Order Management"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"destructive",size:"sm",className:"flex-shrink-0",onClick:()=>m(!0),disabled:d||e.length===0,children:[s.jsx(ho,{className:"size-4 mr-2"}),d?"Clearing...":"Clear All Orders"]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-shrink-0",children:[s.jsx(to,{className:"size-4 mr-2"}),"All View"]})]})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Clear All Orders?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"This will permanently delete all orders, order items, and payments. This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(ee,{variant:"outline",onClick:()=>m(!1),disabled:d,children:"Cancel"}),s.jsx(ee,{variant:"destructive",onClick:M,disabled:d,children:d?"Clearing...":"Clear All"})]})]})}),n?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):s.jsxs(Wue,{sensors:P,collisionDetection:oW,onDragStart:D,onDragEnd:L,children:[s.jsxs("div",{className:"relative w-full flex-1 min-h-0",children:[j&&s.jsx("button",{onClick:C,className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 bg-white border border-gray-300 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-all hover:scale-110","aria-label":"Scroll left",children:s.jsx(fo,{className:"size-5 text-gray-700"})}),y&&s.jsx("button",{onClick:O,className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 bg-white border border-gray-300 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-all hover:scale-110","aria-label":"Scroll right",children:s.jsx(Yl,{className:"size-5 text-gray-700"})}),s.jsx("div",{ref:g,className:"w-full h-full overflow-x-auto overflow-y-auto pb-4 -mx-4 px-4 md:-mx-8 md:px-8 scroll-smooth",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6",scrollBehavior:"smooth"},children:s.jsx("div",{className:"flex gap-4 min-w-max",children:(S==="production"?jv:Sv).map(B=>{const $=A(B.id);return s.jsxs("div",{className:"flex-shrink-0 w-80",children:[s.jsxs("div",{className:`${B.color} text-white px-4 py-2 rounded-t-lg flex items-center justify-between`,children:[s.jsx("span",{className:"font-medium whitespace-nowrap",children:B.label}),s.jsx("span",{className:"bg-white/30 px-2 py-1 rounded text-sm ml-2",children:$.length})]}),s.jsx(Nde,{id:B.id,children:s.jsx(hde,{items:$.map(q=>q.id),strategy:dde,children:$.length>0?$.map(q=>s.jsx(_de,{order:q,onSetShipping:S==="shipping"&&B.id==="done"?()=>t(`/shipping-details/${q.id}`):void 0},q.id)):s.jsx("div",{className:"text-center py-12 text-gray-400",children:s.jsx("p",{className:"text-sm",children:"No orders"})})})})]},B.id)})})}),s.jsx("div",{className:"flex justify-center gap-2 mt-4",children:(S==="production"?jv:Sv).map((B,$)=>{const q=A(B.id);return s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${q.length>0?B.color:"bg-gray-200"}`,style:{width:`${Math.max(8,Math.min(q.length*2,40))}px`},title:`${B.label}: ${q.length} orders`},B.id)})})]}),s.jsx(ode,{children:a?(()=>{const B=e.find($=>$&&$.id===a);return B?s.jsxs(ht,{className:"border shadow-lg w-80",children:[s.jsxs(vr,{className:"pb-3",children:[s.jsx("span",{className:"font-bold",children:B.id||"N/A"}),s.jsx("p",{className:"text-sm font-medium mt-2",children:B.customer?.name||"Unknown"})]}),s.jsx(bt,{className:"pt-0",children:s.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bP,{className:"size-3"}),s.jsx("span",{children:B.customer?.email||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wP,{className:"size-3"}),s.jsx("span",{children:B.customer?.phone||"N/A"})]}),s.jsx("div",{className:"pt-2 border-t",children:s.jsxs("p",{className:"font-bold text-sm text-black",children:["",B.total?.toFixed(2)||"0.00"]})})]})})]}):null})():null})]})]})})}var z0="Checkbox",[Pde]=Rn(z0),[kde,n2]=Pde(z0);function Tde(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:h}=t,[m,g]=sa({prop:r,defaultProp:i??!1,onChange:c,caller:z0}),[j,b]=w.useState(null),[y,x]=w.useState(null),S=w.useRef(!1),_=j?!!o||!!j.closest("form"):!0,P={checked:m,disabled:a,setChecked:g,control:j,setControl:b,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:S,required:d,defaultChecked:tl(i)?!1:i,isFormControl:_,bubbleInput:y,setBubbleInput:x};return s.jsx(kde,{scope:e,...P,children:Ade(h)?h(P):n})}var AW="CheckboxTrigger",EW=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:j}=n2(AW,t),b=ut(i,f),y=w.useRef(c);return w.useEffect(()=>{const x=a?.form;if(x){const S=()=>h(y.current);return x.addEventListener("reset",S),()=>x.removeEventListener("reset",S)}},[a,h]),s.jsx(Ze.button,{type:"button",role:"checkbox","aria-checked":tl(c)?"mixed":c,"aria-required":d,"data-state":zW(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:b,onKeyDown:Me(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Me(r,x=>{h(S=>tl(S)?!0:!S),j&&g&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});EW.displayName=AW;var MW=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:f,...h}=t;return s.jsx(Tde,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(EW,{...h,ref:e,__scopeCheckbox:r}),m&&s.jsx(LW,{__scopeCheckbox:r})]})})});MW.displayName=z0;var DW="CheckboxIndicator",RW=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=n2(DW,r);return s.jsx(pi,{present:n||tl(a.checked)||a.checked===!0,children:s.jsx(Ze.span,{"data-state":zW(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});RW.displayName=DW;var IW="CheckboxBubbleInput",LW=w.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:f,form:h,bubbleInput:m,setBubbleInput:g}=n2(IW,t),j=ut(r,g),b=ym(a),y=xm(n);w.useEffect(()=>{const S=m;if(!S)return;const _=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(_,"checked").set,O=!i.current;if(b!==a&&C){const k=new Event("click",{bubbles:O});S.indeterminate=tl(a),C.call(S,tl(a)?!1:a),S.dispatchEvent(k)}},[m,b,a,i]);const x=w.useRef(tl(a)?!1:a);return s.jsx(Ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:d,value:f,form:h,...e,tabIndex:-1,ref:j,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});LW.displayName=IW;function Ade(t){return typeof t=="function"}function tl(t){return t==="indeterminate"}function zW(t){return tl(t)?"indeterminate":t?"checked":"unchecked"}function Ws({className:t,...e}){return s.jsx(MW,{"data-slot":"checkbox",className:Je("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(RW,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Zu,{className:"size-3.5"})})})}var F0="Switch",[Ede]=Rn(F0),[Mde,Dde]=Ede(F0),FW=w.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...h}=t,[m,g]=w.useState(null),j=ut(e,_=>g(_)),b=w.useRef(!1),y=m?f||!!m.closest("form"):!0,[x,S]=sa({prop:i,defaultProp:a??!1,onChange:d,caller:F0});return s.jsxs(Mde,{scope:r,checked:x,disabled:l,children:[s.jsx(Ze.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":WW(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:j,onClick:Me(t.onClick,_=>{S(P=>!P),y&&(b.current=_.isPropagationStopped(),b.current||_.stopPropagation())})}),y&&s.jsx(HW,{control:m,bubbles:!b.current,name:n,value:c,checked:x,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});FW.displayName=F0;var $W="SwitchThumb",BW=w.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Dde($W,r);return s.jsx(Ze.span,{"data-state":WW(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});BW.displayName=$W;var Rde="SwitchBubbleInput",HW=w.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=w.useRef(null),l=ut(o,a),c=ym(r),d=xm(e);return w.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&g){const j=new Event("click",{bubbles:n});g.call(f,r),f.dispatchEvent(j)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});HW.displayName=Rde;function WW(t){return t?"checked":"unchecked"}var Ide=FW,Lde=BW;function i2({className:t,...e}){return s.jsx(Ide,{"data-slot":"switch",className:Je("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(Lde,{"data-slot":"switch-thumb",className:Je("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Vu({label:t,required:e,value:r,onChange:n,folder:i,imageType:a="additional",displayOrder:o=1,productCode:l,description:c,maxSizeMB:d=10}){const[f,h]=w.useState(null),[m,g]=w.useState(r?.preview||null);w.useEffect(()=>{r?.preview&&g(r.preview)},[r]);const j=y=>{const x=y.target.files?.[0];if(!x)return;if(h(null),!x.type.startsWith("image/")){h("Please select an image file");return}if(x.size>d*1024*1024){h(`Image size must be less than ${d}MB`);return}const S=new FileReader;S.onloadend=()=>{const _=S.result;g(_);const P=Date.now(),C=l?`${l}_${a}_${o}_${P}`:void 0;n({file:x,preview:_,type:a,displayOrder:o,folder:i,customPublicId:C})},S.readAsDataURL(x)},b=()=>{g(null),n(null),h(null)};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium",children:[t," ",e&&s.jsx("span",{className:"text-red-500",children:"*"})]}),c&&s.jsx("p",{className:"text-xs text-gray-500",children:c}),m?s.jsxs("div",{className:"relative border rounded-lg p-4",children:[s.jsx("img",{src:m,alt:t,className:"w-full h-48 object-contain rounded"}),s.jsx(ee,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:b,children:s.jsx(Tt,{className:"size-4"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" Ready to upload on save"})]}):s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:`upload-${a}-${o}`}),s.jsxs("label",{htmlFor:`upload-${a}-${o}`,className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx(cp,{className:"size-8 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),s.jsxs("span",{className:"text-xs text-gray-400",children:["JPG, PNG, SVG (max ",d,"MB)"]})]})]}),f&&s.jsx("p",{className:"text-xs text-red-500",children:f})]})}function zde({label:t,required:e,value:r,onChange:n,productCode:i,description:a,maxSizeMB:o=10}){const[l,c]=w.useState(null),[d,f]=w.useState(r?.preview||null);w.useEffect(()=>{r?.preview&&f(r.preview)},[r]);const h=g=>{const j=g.target.files?.[0];if(!j)return;if(c(null),!j.type.startsWith("image/")){c("Please select an image file");return}if(j.size>o*1024*1024){c(`Image size must be less than ${o}MB`);return}const b=new FileReader;b.onloadend=()=>{const y=b.result;f(y);const x=Date.now(),S=i?`${i}_variant_${x}`:void 0;n({file:j,preview:y,customPublicId:S,folder:"Customizable Products/Variant IMG"})},b.readAsDataURL(j)},m=()=>{f(null),n(null),c(null)};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium",children:[t," ",e&&s.jsx("span",{className:"text-red-500",children:"*"})]}),a&&s.jsx("p",{className:"text-xs text-gray-500",children:a}),d?s.jsxs("div",{className:"relative border rounded-lg p-4",children:[s.jsx("img",{src:d,alt:t,className:"w-full h-48 object-contain rounded"}),s.jsx(ee,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:m,children:s.jsx(Tt,{className:"size-4"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" Ready to upload on save"})]}):s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden",id:"upload-variant"}),s.jsxs("label",{htmlFor:"upload-variant",className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx(cp,{className:"size-8 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),s.jsxs("span",{className:"text-xs text-gray-400",children:["JPG, PNG, SVG (max ",o,"MB)"]})]})]}),l&&s.jsx("p",{className:"text-xs text-red-500",children:l})]})}const UW={red:"#FF0000",crimson:"#DC143C",maroon:"#800000",burgundy:"#800020",scarlet:"#FF2400",blue:"#0000FF",navy:"#000080","royal blue":"#4169E1","sky blue":"#87CEEB","light blue":"#ADD8E6","dark blue":"#00008B",green:"#008000",lime:"#00FF00",olive:"#808000","forest green":"#228B22",mint:"#98FF98",yellow:"#FFFF00",gold:"#FFD700",orange:"#FFA500",amber:"#FFBF00",purple:"#800080",violet:"#EE82EE",pink:"#FFC0CB",magenta:"#FF00FF",lavender:"#E6E6FA",black:"#000000",white:"#FFFFFF",gray:"#808080",grey:"#808080",silver:"#C0C0C0",beige:"#F5F5DC",brown:"#A52A2A",tan:"#D2B48C",cyan:"#00FFFF",teal:"#008080",turquoise:"#40E0D0",coral:"#FF7F50",peach:"#FFDAB9",cream:"#FFFDD0",khaki:"#F0E68C"},Fde=Object.fromEntries(Object.entries(UW).map(([t,e])=>[e.toLowerCase(),t]));function $de(t){const e=t.toLowerCase().trim();return UW[e]||null}function Zj(t){const e=t.toLowerCase().trim();return Fde[e]||null}function Bde(t){const e=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!e)return null;const r=parseInt(e[1]),n=parseInt(e[2]),i=parseInt(e[3]),a=o=>{const l=o.toString(16);return l.length===1?"0"+l:l};return`#${a(r)}${a(n)}${a(i)}`.toUpperCase()}function Hde(t){return/^#[0-9A-F]{6}$/i.test(t)}function tR(t){const e=t.trim();if(Hde(e)){const n=Zj(e)||"";return{hex:e.toUpperCase(),name:n}}const r=$de(e);if(r)return{hex:r,name:e};if(e.startsWith("rgb")){const n=Bde(e);if(n){const i=Zj(n)||"";return{hex:n,name:i}}}if(/^[0-9A-F]{6}$/i.test(e)){const n=`#${e}`.toUpperCase(),i=Zj(n)||"";return{hex:n,name:i}}return null}const Wde="dpvrv7btt",Ude="rfm_uploads";var Js=(t=>(t.USER_UPLOADS="rfm_images/user_uploads",t.ADMIN_GRAPHICS="rfm_images/admin_graphics",t.ADMIN_PATTERNS="rfm_images/admin_patterns",t.ADMIN_TEMPLATES="rfm_images/admin_templates",t.ADMIN_SHAPES="rfm_images/admin_shapes",t.CUSTOMIZABLE_PRODUCTS_FRONT="Customizable Products/Front View IMG",t.CUSTOMIZABLE_PRODUCTS_BACK="Customizable Products/Back View IMG",t.CUSTOMIZABLE_PRODUCTS_ADDITIONAL="Customizable Products/Additional IMG",t.CUSTOMIZABLE_PRODUCTS_VARIANT="Customizable Products/Variant IMG",t.CATALOG_PRODUCTS_FRONT="Catalog Products/Front View IMG",t.CATALOG_PRODUCTS_BACK="Catalog Products/Back View IMG",t.CATALOG_PRODUCTS_ADDITIONAL="Catalog Products/Additional IMG",t.CATALOG_PRODUCTS_VARIANT="Catalog Products/Variant IMG",t))(Js||{});async function qs(t,e="rfm_images/user_uploads",r,n){const i=new FormData;return i.append("file",t),i.append("upload_preset",Ude),i.append("folder",e),i.append("quality","auto:best"),i.append("fetch_format","auto"),t.type==="image/png"&&i.append("flags","preserve_transparency"),n&&i.append("public_id",n),new Promise((a,o)=>{const l=new XMLHttpRequest;r&&l.upload.addEventListener("progress",c=>{if(c.lengthComputable){const d=c.loaded/c.total*100;r(d)}}),l.addEventListener("load",()=>{if(l.status===200){const c=JSON.parse(l.responseText),d=c.secure_url.replace("/upload/","/upload/w_300,h_300,c_fill,q_auto/");a({url:c.secure_url,publicId:c.public_id,width:c.width,height:c.height,format:c.format,size:c.bytes,thumbnailUrl:d})}else o(new Error("Upload failed"))}),l.addEventListener("error",()=>{o(new Error("Network error"))}),l.open("POST",`https://api.cloudinary.com/v1_1/${Wde}/image/upload`),l.send(i)})}async function qW(t){try{if(!(await fetch("http://localhost:4000/api/cloudinary/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({publicId:t})})).ok)throw new Error("Failed to delete image from Cloudinary")}catch(e){throw console.error("Error deleting image:",e),e}}const qde=["T-Shirt - Chinese Collar","T-Shirt - V-Neck","T-Shirt - Round Neck","Jogging Pants","Polo Shirt","Sando (Jersey) - V-Neck","Sando (Jersey) - Round Neck","Sando (Jersey) - NBA Cut","Shorts","Warmers","Varsity Jacket"],Vde=["Unisex","Men","Women","Kids"],Gde=["Classic","Slim Fit","Regular Fit","Relaxed Fit","Oversized","Tapered","Athletic Fit","Muscle Fit"],G_=["XS","S","M","L","XL","2XL","3XL"],VW=["K6","K7","K8","K9","K10"],GW=["26","28","30","32","34","36","38","40","42"],XW=["22","24","26","28","30","32"];[...G_,...VW,...GW,...XW];const Xde=["DTG","Screen Print","Embroidery"],Yde=["Front","Back"],Kde={XL:50,"2XL":100,"3XL":150},Jde=(t,e)=>{const r=["T-Shirt - Chinese Collar","T-Shirt - V-Neck","T-Shirt - Round Neck","Polo Shirt","Sando (Jersey) - V-Neck","Sando (Jersey) - Round Neck","Sando (Jersey) - NBA Cut","Varsity Jacket"].includes(t),n=["Jogging Pants","Shorts","Warmers"].includes(t);return r?e==="Kids"?VW:G_:n?e==="Kids"?XW:GW:G_};function Zde({product:t,onSave:e,onCancel:r}){const[n]=w.useState(t?.id?`CP${String(t.id).padStart(6,"0")}`:`TEMP${Date.now()}`),[i,a]=w.useState({category:t?.category||"",name:t?.name||"",type:t?.type||"",sizes:t?.sizes||[],fitType:t?.fitType||"",fitDescription:t?.fitDescription||"",description:t?.description||"",images:t?.images||[],fabricComposition:t?.fabricComposition||"",fabricWeight:t?.fabricWeight||"",texture:t?.texture||"",baseCost:t?.baseCost||0,retailPrice:t?.retailPrice||0,sizePricing:t?.sizePricing||{},frontPrintCost:t?.frontPrintCost||0,backPrintCost:t?.backPrintCost||0,sizeAvailability:t?.sizeAvailability||{},differentiationType:t?.differentiationType||"none",color:t?.color||{name:"",hexCode:""},variant:t?.variant||{name:"",image:"",publicId:""},printMethod:t?.printMethod||"",printAreas:t?.printAreas||[],designRequirements:t?.designRequirements||"Upload your design in high-resolution format (PNG, AI, or PSD). Ensure design dimensions match the selected print area.",turnaroundTime:t?.turnaroundTime||"5-7 business days for production. Rush orders available with additional fee.",minOrderQuantity:t?.minOrderQuantity||1,status:t?.status||"active"}),[o,l]=w.useState({}),[c,d]=w.useState(t?.images?.filter(x=>x.type==="additional").length||0),[f,h]=w.useState(!1),[m,g]=w.useState({additional:[]}),j=x=>{a(S=>({...S,printAreas:S.printAreas.includes(x)?S.printAreas.filter(_=>_!==x):[...S.printAreas,x]}))},b=()=>{const x={};i.name.trim()||(x.name="Product name is required"),i.category||(x.category="Category is required"),i.type||(x.type="Type is required"),i.sizes.length===0&&(x.sizes="At least one size is required");const S=m.front||i.images.some(P=>P.type==="front"),_=m.back||i.images.some(P=>P.type==="back");return S||(x.frontImage="Front image is required"),_||(x.backImage="Back image is required"),(!i.retailPrice||i.retailPrice<=0)&&(x.retailPrice="Retail price is required"),l(x),Object.keys(x).length===0},y=async x=>{if(x.preventDefault(),!b()){alert("Please fill in all required fields correctly");return}const S=m.front||i.images.some(A=>A.type==="front"),_=m.back||i.images.some(A=>A.type==="back");if(!S||!_){alert("Both front and back images are required");return}const P=(m.front?1:0)+(m.back?1:0)+m.additional.length,C=`
Ready to save "${i.name}"?

 Category: ${i.category}
 Type: ${i.type}
 Sizes: ${i.sizes.join(", ")}
 Images to upload: ${P}
 Price: ${i.retailPrice}

Click OK to upload images and save to database.
    `.trim();if(!confirm(C))return;h(!0);const O=[...i.images],k=[];try{if(m.front){const D=await qs(m.front.file,m.front.folder,void 0,m.front.customPublicId);O.push({url:D.url,publicId:D.publicId,type:"front",displayOrder:1}),k.push(D.publicId)}if(m.back){const D=await qs(m.back.file,m.back.folder,void 0,m.back.customPublicId);O.push({url:D.url,publicId:D.publicId,type:"back",displayOrder:1}),k.push(D.publicId)}for(const D of m.additional){const L=await qs(D.file,D.folder,void 0,D.customPublicId);O.push({url:L.url,publicId:L.publicId,type:"additional",displayOrder:D.displayOrder}),k.push(L.publicId)}let A;if(i.variant?.name&&i.variant.name.trim())if(m.variant){const D=await qs(m.variant.file,m.variant.folder,void 0,m.variant.customPublicId);A={name:i.variant.name.trim(),image:D.url,publicId:D.publicId},k.push(D.publicId)}else i.variant.image&&(A={name:i.variant.name.trim(),image:i.variant.image,publicId:i.variant.publicId});const M={...i,images:O,variant:A};await e(M)}catch(A){console.error("Save failed:",A);for(const M of k)try{await qW(M)}catch(D){console.error("Failed to delete image during rollback:",M,D)}alert("Failed to save product. Uploaded images have been cleaned up. Please try again."),h(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:t?"Edit Product":"Add New Customizable Product"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(Tt,{className:"size-5"})})]}),s.jsxs("form",{onSubmit:y,className:"p-6 space-y-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"1. Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Gr,{value:i.category,onValueChange:x=>a({...i,category:x}),children:[s.jsx(Yr,{className:o.category?"border-red-500":"",children:s.jsx(Xr,{placeholder:"Select category"})}),s.jsx(Kr,{children:qde.map(x=>s.jsx(We,{value:x,children:x},x))})]}),o.category&&s.jsx("p",{className:"text-xs text-red-500",children:o.category})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Product Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Le,{placeholder:"e.g., Classic Round Neck Tee",value:i.name,onChange:x=>a({...i,name:x.target.value}),className:o.name?"border-red-500":""}),o.name&&s.jsx("p",{className:"text-xs text-red-500",children:o.name})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Gr,{value:i.type,onValueChange:x=>a({...i,type:x}),children:[s.jsx(Yr,{className:o.type?"border-red-500":"",children:s.jsx(Xr,{placeholder:"Select type"})}),s.jsx(Kr,{children:Vde.map(x=>s.jsx(We,{value:x,children:x},x))})]}),o.type&&s.jsx("p",{className:"text-xs text-red-500",children:o.type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Fit Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Gr,{value:i.fitType,onValueChange:x=>a({...i,fitType:x}),children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"Select fit type"})}),s.jsx(Kr,{children:Gde.map(x=>s.jsx(We,{value:x,children:x},x))})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(be,{children:["Available Sizes & Stock Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 p-3 rounded border border-amber-200 mb-3",children:[" ",s.jsx("strong",{children:"Instructions:"})," Check size to offer, set surcharge (auto-filled for XL/2XL/3XL), toggle stock status when out of stock."]}),s.jsx("div",{className:"space-y-2",children:Jde(i.category,i.type).map(x=>{const S=i.sizes.includes(x),_=i.sizeAvailability?.[x]!==!1;return s.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2 w-24",children:[s.jsx(Ws,{checked:S,onCheckedChange:P=>{a(P?{...i,sizes:[...i.sizes,x],sizePricing:{...i.sizePricing,[x]:Kde[x]||0},sizeAvailability:{...i.sizeAvailability,[x]:!0}}:{...i,sizes:i.sizes.filter(C=>C!==x)})}}),s.jsx("span",{className:"font-medium",children:x})]}),s.jsxs("div",{className:"flex items-center gap-2 w-40",children:[s.jsx("span",{className:"text-sm text-gray-500",children:""}),S?s.jsx(Le,{type:"number",value:(i.sizePricing||{})[x]||0,onChange:P=>a({...i,sizePricing:{...i.sizePricing||{},[x]:parseFloat(P.target.value)||0}}),className:"w-24"}):s.jsx("span",{className:"text-gray-400 w-24",children:"-"})]}),S?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i2,{checked:_,onCheckedChange:P=>a({...i,sizeAvailability:{...i.sizeAvailability,[x]:P}})}),s.jsx(lt,{variant:_?"default":"secondary",children:_?"In Stock":"Out of Stock"})]}):s.jsx("span",{className:"text-gray-400",children:"-"})]},x)})}),o.sizes&&s.jsx("p",{className:"text-xs text-red-500",children:o.sizes})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Product Status"}),s.jsxs(Gr,{value:i.status,onValueChange:x=>a({...i,status:x}),children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"Select status"})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"active",children:"Active (Visible to customers)"}),s.jsx(We,{value:"inactive",children:"Inactive (Hidden temporarily)"}),s.jsx(We,{value:"archived",children:"Archived (Discontinued)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Fit Description"}),s.jsx(Le,{placeholder:"e.g., Regular fit with comfortable cut",value:i.fitDescription,onChange:x=>a({...i,fitDescription:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Product Description"}),s.jsx(Py,{placeholder:"Detailed description of the product...",value:i.description,onChange:x=>a({...i,description:x.target.value}),rows:4})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"2. Product Images"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[s.jsx("strong",{className:"text-blue-800",children:" Note:"})," ",s.jsx("span",{className:"text-blue-700",children:'Images upload to Cloudinary immediately when selected. Make sure you want to keep them before clicking "Save Product".'})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Vu,{label:"Front View",required:!0,value:m.front,onChange:x=>{g(S=>({...S,front:x||void 0}))},folder:Js.CUSTOMIZABLE_PRODUCTS_FRONT,imageType:"front",displayOrder:1,productCode:n,description:"Upload front view of the product (JPG/PNG/SVG)",maxSizeMB:10}),s.jsx(Vu,{label:"Back View",required:!0,value:m.back,onChange:x=>{g(S=>({...S,back:x||void 0}))},folder:Js.CUSTOMIZABLE_PRODUCTS_BACK,imageType:"back",displayOrder:1,productCode:n,description:"Upload back view of the product (JPG/PNG/SVG)",maxSizeMB:10})]}),(o.frontImage||o.backImage)&&s.jsx("p",{className:"text-xs text-red-500",children:"Both front and back images are required"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Additional Images (optional)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPG/PNG/SVG, max 10MB each - Max 5 images"}),s.jsxs("div",{className:"space-y-4",children:[Array.from({length:c}).map((x,S)=>{const _=m.additional.find(P=>P.displayOrder===S+1);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[s.jsx(Vu,{label:`Additional Image ${S+1}`,value:_,onChange:P=>{g(C=>{const O=C.additional.filter(k=>k.displayOrder!==S+1);return{...C,additional:P?[...O,{...P,displayOrder:S+1}]:O}})},folder:Js.CUSTOMIZABLE_PRODUCTS_ADDITIONAL,imageType:"additional",displayOrder:S+1,productCode:n,maxSizeMB:10}),s.jsx("div",{className:"flex gap-2 md:justify-end",children:s.jsx(ee,{type:"button",variant:"outline",onClick:()=>{g(P=>{const O=P.additional.filter(k=>k.displayOrder!==S+1).map(k=>k.displayOrder>S+1?{...k,displayOrder:k.displayOrder-1}:k);return{...P,additional:O}}),d(P=>P-1)},children:"Remove Slot"})})]},S)}),s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>d(x=>x+1),disabled:c>=5,children:["+ Add Additional Image Slot ",c>=5&&"(Max reached)"]})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"3. Material & Fabric"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Fabric Composition"}),s.jsx(Le,{placeholder:"e.g., 100% Cotton",value:i.fabricComposition,onChange:x=>a({...i,fabricComposition:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Fabric Weight"}),s.jsx(Le,{placeholder:"e.g., 180 g/m",value:i.fabricWeight,onChange:x=>a({...i,fabricWeight:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Texture"}),s.jsx(Le,{placeholder:"e.g., Soft-washed",value:i.texture,onChange:x=>a({...i,texture:x.target.value})})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"4. Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Base Cost (Your Cost)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),s.jsx(Le,{type:"number",placeholder:"0.00",value:i.baseCost||"",onChange:x=>a({...i,baseCost:parseFloat(x.target.value)||0}),className:"pl-8"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Your production cost per unit"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Retail Price ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),s.jsx(Le,{type:"number",placeholder:"0.00",value:i.retailPrice||"",onChange:x=>a({...i,retailPrice:parseFloat(x.target.value)||0}),className:`pl-8 ${o.retailPrice?"border-red-500":""}`})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Customer price (before print fees)"}),o.retailPrice&&s.jsx("p",{className:"text-xs text-red-500",children:o.retailPrice})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Print Areas"}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{id:"area-Front",checked:i.printAreas.includes("Front"),onCheckedChange:()=>j("Front")}),s.jsx("label",{htmlFor:"area-Front",className:"text-sm cursor-pointer",children:"Front"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{id:"area-Back",checked:i.printAreas.includes("Back"),onCheckedChange:()=>j("Back")}),s.jsx("label",{htmlFor:"area-Back",className:"text-sm cursor-pointer",children:"Back"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:i.printAreas.includes("Front")?"":"text-gray-400",children:"Front Print Cost ()"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${i.printAreas.includes("Front")?"text-gray-500":"text-gray-300"}`,children:""}),s.jsx(Le,{type:"number",step:"0.01",value:i.frontPrintCost??"",onChange:x=>a({...i,frontPrintCost:x.target.value===""?void 0:parseFloat(x.target.value)}),placeholder:"0.00",className:"pl-8",disabled:!i.printAreas.includes("Front")})]}),s.jsx("p",{className:`text-xs ${i.printAreas.includes("Front")?"text-gray-500":"text-gray-400"}`,children:"Cost to add front print customization"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:i.printAreas.includes("Back")?"":"text-gray-400",children:"Back Print Cost ()"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${i.printAreas.includes("Back")?"text-gray-500":"text-gray-300"}`,children:""}),s.jsx(Le,{type:"number",step:"0.01",value:i.backPrintCost??"",onChange:x=>a({...i,backPrintCost:x.target.value===""?void 0:parseFloat(x.target.value)}),placeholder:"0.00",className:"pl-8",disabled:!i.printAreas.includes("Back")})]}),s.jsx("p",{className:`text-xs ${i.printAreas.includes("Back")?"text-gray-500":"text-gray-400"}`,children:"Cost to add back print customization"})]})]}),i.baseCost>0&&i.retailPrice>0&&s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:["Profit Margin: ",s.jsxs("span",{className:"font-semibold",children:["",(i.retailPrice-i.baseCost).toFixed(2)]})," ","(",((i.retailPrice-i.baseCost)/i.retailPrice*100).toFixed(1),"%)"]})})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"5. Product Differentiation"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{className:"text-base",children:"How should this product be differentiated?"}),s.jsxs(jH,{value:i.differentiationType,onValueChange:x=>a({...i,differentiationType:x}),className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",style:{borderColor:i.differentiationType==="none"?"#3b82f6":"#e5e7eb"},children:[s.jsx(Kh,{value:"none",id:"diff-none"}),s.jsxs(be,{htmlFor:"diff-none",className:"font-medium cursor-pointer flex-1",children:["None (Plain customizable product)",s.jsx("span",{className:"block text-xs text-gray-500 font-normal mt-0.5",children:"Customer adds their own design"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",style:{borderColor:i.differentiationType==="color"?"#3b82f6":"#e5e7eb"},children:[s.jsx(Kh,{value:"color",id:"diff-color"}),s.jsxs(be,{htmlFor:"diff-color",className:"font-medium cursor-pointer flex-1",children:["Single Color Option",s.jsx("span",{className:"block text-xs text-gray-500 font-normal mt-0.5",children:"Product available in one specific color"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",style:{borderColor:i.differentiationType==="variant"?"#3b82f6":"#e5e7eb"},children:[s.jsx(Kh,{value:"variant",id:"diff-variant"}),s.jsxs(be,{htmlFor:"diff-variant",className:"font-medium cursor-pointer flex-1",children:["Single Variant Option (pre-designed template)",s.jsx("span",{className:"block text-xs text-gray-500 font-normal mt-0.5",children:"Product with a specific design/print pattern"})]})]})]})]}),i.differentiationType==="color"&&s.jsx("div",{className:"p-5 border-2 border-blue-300 rounded-lg bg-blue-50/50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:"font-semibold",children:"Color Name / Code"}),s.jsx(Le,{placeholder:"Type: red, #FF0000, or rgb(255,0,0)",value:i.color?.name||"",onChange:x=>{const S=x.target.value,_=tR(S);a(_?{...i,color:{name:_.name||S,hexCode:_.hex}}:{...i,color:{...i.color||{hexCode:"#000000"},name:S}})},className:"font-mono"}),s.jsx("p",{className:"text-xs text-gray-600",children:' Type color name (e.g., "red"), hex code (#FF0000), or RGB value'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:"font-semibold",children:"Color Picker"}),s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",value:i.color?.hexCode||"#000000",onChange:x=>{const S=x.target.value.toUpperCase(),_=tR(S);a({...i,color:{name:_?.name||i.color?.name||"",hexCode:S}})},className:"h-12 w-12 rounded-lg border-2 border-gray-300 cursor-pointer shadow-sm"})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300 shadow-sm",style:{backgroundColor:i.color?.hexCode||"#000000"}}),s.jsx("span",{className:"font-mono text-sm font-semibold",children:i.color?.hexCode||"#000000"})]}),i.color?.name&&s.jsxs("p",{className:"text-xs text-gray-600 capitalize",children:["Color: ",i.color.name]})]})]}),s.jsx("p",{className:"text-xs text-gray-600",children:" Click to pick a color visually"})]})]})}),i.differentiationType==="variant"&&s.jsxs("div",{className:"space-y-4 p-5 border-2 border-purple-300 rounded-lg bg-purple-50/50",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:"font-semibold",children:"Variant Name"}),s.jsx(Le,{placeholder:"e.g., Skull Design, Floral Pattern, Abstract Art",value:i.variant?.name||"",onChange:x=>a({...i,variant:{...i.variant||{image:"",publicId:""},name:x.target.value}})})]}),s.jsx(zde,{label:"Variant Preview Image",value:m.variant,onChange:x=>{g(S=>({...S,variant:x||void 0}))},productCode:n,maxSizeMB:10})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"6. Print & Customization"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Print Method"}),s.jsxs(Gr,{value:i.printMethod,onValueChange:x=>a({...i,printMethod:x}),children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"Select print method"})}),s.jsx(Kr,{children:Xde.map(x=>s.jsx(We,{value:x,children:x},x))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Print Areas"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Yde.map(x=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{id:`area-${x}`,checked:i.printAreas.includes(x),onCheckedChange:()=>j(x)}),s.jsx("label",{htmlFor:`area-${x}`,className:"text-sm cursor-pointer",children:x})]},x))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Design Requirements"}),s.jsx(Py,{placeholder:"e.g., PNG file with transparent background, 300 DPI minimum",value:i.designRequirements,onChange:x=>a({...i,designRequirements:x.target.value}),rows:3})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"7. Business Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Turnaround Time"}),s.jsx(Le,{placeholder:"e.g., 3-5 business days",value:i.turnaroundTime,onChange:x=>a({...i,turnaroundTime:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Minimum Order Quantity"}),s.jsx(Le,{type:"number",min:"1",value:i.minOrderQuantity,onChange:x=>a({...i,minOrderQuantity:parseInt(x.target.value)||0}),onBlur:x=>{(parseInt(x.target.value)||0)<1&&a({...i,minOrderQuantity:1})}})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{id:"status",checked:i.status==="active",onCheckedChange:x=>a({...i,status:x?"active":"inactive"})}),s.jsx("label",{htmlFor:"status",className:"text-sm font-medium cursor-pointer",children:"Publish immediately (make visible to customers)"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:f,children:"Cancel"}),s.jsx(ee,{onClick:y,disabled:f,children:f?"Saving...":t?"Update Product":"Save Product"})]})]})]})})}function Qde({product:t,onClose:e}){const[r,n]=w.useState(null);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:t.name}),s.jsx(lt,{variant:t.status==="active"?"default":"secondary",children:t.status})]}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:e,children:s.jsx(Tt,{className:"size-5"})})]}),s.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),s.jsx("p",{className:"font-medium",children:t.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),s.jsx("p",{className:"font-medium",children:t.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fit Type"}),s.jsx("p",{className:"font-medium",children:t.fitType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Available Sizes"}),s.jsx("p",{className:"font-medium",children:t.sizes?.join(", ")||"N/A"})]})]}),t.fitDescription&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fit Description"}),s.jsx("p",{className:"font-medium",children:t.fitDescription})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),s.jsx("p",{className:"font-medium",children:t.description})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Product Images"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Front View"}),s.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.images?.find(i=>i.type==="front")?.url||t.images?.[0]?.url||""),children:s.jsx("img",{src:t.images?.find(i=>i.type==="front")?.url||t.images?.[0]?.url||"",alt:"Front view",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Back View"}),s.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.images?.find(i=>i.type==="back")?.url||t.images?.[1]?.url||""),children:s.jsx("img",{src:t.images?.find(i=>i.type==="back")?.url||t.images?.[1]?.url||"",alt:"Back view",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})})]})]}),t.images?.filter(i=>i.type==="additional").length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Additional Images"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.images.filter(i=>i.type==="additional").map((i,a)=>s.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(i.url),children:s.jsx("img",{src:i.url,alt:`Additional ${a+1}`,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})},i.id||a))})]})]}),(t.fabricComposition||t.fabricWeight||t.texture)&&s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Material & Fabric"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.fabricComposition&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fabric Composition"}),s.jsx("p",{className:"font-medium",children:t.fabricComposition})]}),t.fabricWeight&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fabric Weight"}),s.jsx("p",{className:"font-medium",children:t.fabricWeight})]}),t.texture&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Texture"}),s.jsx("p",{className:"font-medium",children:t.texture})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Base Cost"}),s.jsxs("p",{className:"text-2xl font-semibold",children:["",t.baseCost.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Retail Price"}),s.jsxs("p",{className:"text-2xl font-semibold text-green-600",children:["",t.retailPrice.toFixed(2)]})]})]}),(t.frontPrintCost||t.backPrintCost)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.frontPrintCost&&t.frontPrintCost>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Front Print Cost"}),s.jsxs("p",{className:"font-semibold",children:["",t.frontPrintCost.toFixed(2)]})]}),t.backPrintCost&&t.backPrintCost>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Back Print Cost"}),s.jsxs("p",{className:"font-semibold",children:["",t.backPrintCost.toFixed(2)]})]})]}),t.sizePricing&&Object.keys(t.sizePricing).length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Additional Charges by Size"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.sizePricing).map(([i,a])=>s.jsxs("div",{className:"px-3 py-1 bg-gray-100 rounded border text-sm",children:[i,": +",Number(a).toFixed(2)]},i))})]}),s.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:["Profit Margin: ",s.jsxs("span",{className:"font-semibold",children:["",(t.retailPrice-t.baseCost).toFixed(2)]})," ","(",((t.retailPrice-t.baseCost)/t.retailPrice*100).toFixed(1),"%)"]})})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Colors & Variants"}),s.jsxs("div",{className:"space-y-4",children:[t.color&&(t.color.name||t.color.hexCode)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg w-fit",children:[s.jsx("div",{className:"size-12 rounded border flex-shrink-0",style:{backgroundColor:t.color.hexCode||"#ffffff"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.color.name||"Unnamed color"}),t.color.hexCode&&s.jsx("p",{className:"text-xs text-gray-500",children:t.color.hexCode})]})]}),t.variant&&(t.variant.name||t.variant.image)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Variant Image"}),t.variant.image?s.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.variant?.image||""),children:s.jsx("img",{src:t.variant.image,alt:t.variant.name||"Variant",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})}):s.jsx("p",{className:"text-xs text-gray-500",children:"No variant image"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Variant Name"}),s.jsx("p",{className:"font-medium",children:t.variant.name||""})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Print & Customization"}),s.jsxs("div",{className:"space-y-4",children:[t.printMethod&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Print Method"}),s.jsx("p",{className:"font-medium",children:t.printMethod})]}),t.printAreas&&t.printAreas.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Print Areas"}),s.jsx("p",{className:"font-medium",children:t.printAreas.join(", ")})]}),t.designRequirements&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Design Requirements"}),s.jsx("p",{className:"font-medium",children:t.designRequirements})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Business Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.turnaroundTime&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Turnaround Time"}),s.jsx("p",{className:"font-medium",children:t.turnaroundTime})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Minimum Order Quantity"}),s.jsx("p",{className:"font-medium",children:t.minOrderQuantity})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Meta Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Created At"}),s.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),s.jsx("p",{className:"font-medium",children:new Date(t.updatedAt).toLocaleString()})]})]})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx(ee,{onClick:e,children:"Close"})})]})}),r&&s.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4",onClick:()=>n(null),children:[s.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:()=>n(null),children:s.jsx(Tt,{className:"size-8"})}),s.jsx("img",{src:r,alt:"Full size",className:"max-w-full max-h-full object-contain",onClick:i=>i.stopPropagation()})]})]})}var efe=Symbol("radix.slottable");function tfe(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=efe,e}var YW="AlertDialog",[rfe]=Rn(YW,[d$]),mo=d$(),KW=t=>{const{__scopeAlertDialog:e,...r}=t,n=mo(e);return s.jsx(DP,{...n,...r,modal:!0})};KW.displayName=YW;var nfe="AlertDialogTrigger",ife=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=mo(r);return s.jsx(fee,{...i,...n,ref:e})});ife.displayName=nfe;var afe="AlertDialogPortal",JW=t=>{const{__scopeAlertDialog:e,...r}=t,n=mo(e);return s.jsx(RP,{...n,...r})};JW.displayName=afe;var sfe="AlertDialogOverlay",ZW=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=mo(r);return s.jsx(vm,{...i,...n,ref:e})});ZW.displayName=sfe;var Gu="AlertDialogContent",[ofe,lfe]=rfe(Gu),cfe=tfe("AlertDialogContent"),QW=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=mo(r),o=w.useRef(null),l=ut(e,o),c=w.useRef(null);return s.jsx(lee,{contentName:Gu,titleName:eU,docsSlug:"alert-dialog",children:s.jsx(ofe,{scope:r,cancelRef:c,children:s.jsxs(IP,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Me(i.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(cfe,{children:n}),s.jsx(dfe,{contentRef:o})]})})})});QW.displayName=Gu;var eU="AlertDialogTitle",tU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=mo(r);return s.jsx(LP,{...i,...n,ref:e})});tU.displayName=eU;var rU="AlertDialogDescription",nU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=mo(r);return s.jsx(zP,{...i,...n,ref:e})});nU.displayName=rU;var ufe="AlertDialogAction",iU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=mo(r);return s.jsx(Yx,{...i,...n,ref:e})});iU.displayName=ufe;var aU="AlertDialogCancel",sU=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=lfe(aU,r),a=mo(r),o=ut(e,i);return s.jsx(Yx,{...a,...n,ref:o})});sU.displayName=aU;var dfe=({contentRef:t})=>{const e=`\`${Gu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gu}\` by passing a \`${rU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ffe=KW,hfe=JW,pfe=ZW,mfe=QW,gfe=iU,vfe=sU,yfe=tU,xfe=nU;function bc({...t}){return s.jsx(ffe,{"data-slot":"alert-dialog",...t})}function bfe({...t}){return s.jsx(hfe,{"data-slot":"alert-dialog-portal",...t})}function wfe({className:t,...e}){return s.jsx(pfe,{"data-slot":"alert-dialog-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function wc({className:t,...e}){return s.jsxs(bfe,{children:[s.jsx(wfe,{}),s.jsx(mfe,{"data-slot":"alert-dialog-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function jc({className:t,...e}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:Je("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Sc({className:t,...e}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:Je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Cc({className:t,...e}){return s.jsx(yfe,{"data-slot":"alert-dialog-title",className:Je("text-lg font-semibold",t),...e})}function Nc({className:t,...e}){return s.jsx(xfe,{"data-slot":"alert-dialog-description",className:Je("text-muted-foreground text-sm",t),...e})}function _c({className:t,...e}){return s.jsx(gfe,{className:Je(yP(),t),...e})}function Oc({className:t,...e}){return s.jsx(vfe,{className:Je(yP({variant:"outline"}),t),...e})}function jfe(t){const e=Sfe(t),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(Nfe);if(c){const d=c.props.children,f=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function Sfe(t){const e=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=Ofe(i),l=_fe(a,i.props);return i.type!==w.Fragment&&(l.ref=n?js(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Cfe=Symbol("radix.slottable");function Nfe(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Cfe}function _fe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Ofe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var $0="Popover",[oU]=Rn($0,[Kd]),Rm=Kd(),[Pfe,gl]=oU($0),lU=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,l=Rm(e),c=w.useRef(null),[d,f]=w.useState(!1),[h,m]=sa({prop:n,defaultProp:i??!1,onChange:a,caller:$0});return s.jsx(ek,{...l,children:s.jsx(Pfe,{scope:e,contentId:na(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:d,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:o,children:r})})};lU.displayName=$0;var cU="PopoverAnchor",kfe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=gl(cU,r),a=Rm(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(o0,{...a,...n,ref:e})});kfe.displayName=cU;var uU="PopoverTrigger",dU=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=gl(uU,r),a=Rm(r),o=ut(e,i.triggerRef),l=s.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gU(i.open),...n,ref:o,onClick:Me(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(o0,{asChild:!0,...a,children:l})});dU.displayName=uU;var a2="PopoverPortal",[Tfe,Afe]=oU(a2,{forceMount:void 0}),fU=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=gl(a2,e);return s.jsx(Tfe,{scope:e,forceMount:r,children:s.jsx(pi,{present:r||a.open,children:s.jsx(mm,{asChild:!0,container:i,children:n})})})};fU.displayName=a2;var pd="PopoverContent",hU=w.forwardRef((t,e)=>{const r=Afe(pd,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=gl(pd,t.__scopePopover);return s.jsx(pi,{present:n||a.open,children:a.modal?s.jsx(Mfe,{...i,ref:e}):s.jsx(Dfe,{...i,ref:e})})});hU.displayName=pd;var Efe=jfe("PopoverContent.RemoveScroll"),Mfe=w.forwardRef((t,e)=>{const r=gl(pd,t.__scopePopover),n=w.useRef(null),i=ut(e,n),a=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return Gx(o)},[]),s.jsx(gm,{as:Efe,allowPinchZoom:!0,children:s.jsx(pU,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(t.onCloseAutoFocus,o=>{o.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Me(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Me(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dfe=w.forwardRef((t,e)=>{const r=gl(pd,t.__scopePopover),n=w.useRef(!1),i=w.useRef(!1);return s.jsx(pU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),pU=w.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...h}=t,m=gl(pd,r),g=Rm(r);return qx(),s.jsx(pm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(hm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(tk,{"data-state":gU(m.open),role:"dialog",id:m.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mU="PopoverClose",Rfe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=gl(mU,r);return s.jsx(Ze.button,{type:"button",...n,ref:e,onClick:Me(t.onClick,()=>i.onOpenChange(!1))})});Rfe.displayName=mU;var Ife="PopoverArrow",Lfe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Rm(r);return s.jsx(rk,{...i,...n,ref:e})});Lfe.displayName=Ife;function gU(t){return t?"open":"closed"}var zfe=lU,Ffe=dU,$fe=fU,Bfe=hU;function vU({...t}){return s.jsx(zfe,{"data-slot":"popover",...t})}function yU({...t}){return s.jsx(Ffe,{"data-slot":"popover-trigger",...t})}function xU({className:t,align:e="center",sideOffset:r=4,...n}){return s.jsx($fe,{children:s.jsx(Bfe,{"data-slot":"popover-content",align:e,sideOffset:r,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function Hfe(){const{products:t,loading:e,addProduct:r,updateProduct:n,deleteProduct:i,activateProduct:a,deactivateProduct:o,archiveProduct:l,restoreProduct:c,getProductsByStatus:d}=C0(),[f,h]=w.useState("active"),[m,g]=w.useState(!1),[j,b]=w.useState(null),[y,x]=w.useState(null),[S,_]=w.useState([]),[P,C]=w.useState(null),[O,k]=w.useState(null),[A,M]=w.useState(""),[D,L]=w.useState("all"),[B,$]=w.useState("all"),q=d(f),F=q.filter(K=>!(A&&!K.name.toLowerCase().includes(A.toLowerCase())||D!=="all"&&K.category!==D||B!=="all"&&K.type!==B)),G=K=>{_(K?F.map(de=>de.id):[])},E=(K,de)=>{_(de?ae=>[...ae,K]:ae=>ae.filter(ce=>ce!==K))},U=()=>{b(null),g(!0)},H=K=>{b(K),g(!0)},I=K=>{j?(n(j.id,K),ve.success("Product updated successfully")):(r(K),ve.success("Product created successfully")),g(!1),b(null)},z=K=>{o(K),ve.success("Product deactivated")},V=K=>{a(K),ve.success("Product activated")},J=K=>{l(K),k(null),ve.success("Product archived")},Q=K=>{c(K),ve.success("Product restored to inactive")},se=K=>{i(K),C(null),ve.success("Product permanently deleted")};if(e)return s.jsx(pn,{children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("p",{className:"text-gray-500",children:"Loading products..."})})});const oe=[f!=="active",D!=="all",B!=="all"].filter(Boolean).length;return s.jsxs(pn,{children:[s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Customizable Products"}),s.jsx("p",{className:"text-gray-600",children:"Manage products with custom designs, sizes, and color options"})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),s.jsx(Le,{placeholder:"Search products by name...",value:A,onChange:K=>M(K.target.value),className:"pl-10"})]}),s.jsxs(vU,{children:[s.jsx(yU,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:"relative",children:[s.jsx(k3,{className:"size-4 mr-2"}),"Filters",oe>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-purple-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:oe})]})}),s.jsx(xU,{className:"w-80 p-4",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h4",{className:"font-medium mb-3",children:"Filter Products"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ee,{size:"sm",variant:f==="active"?"default":"outline",onClick:()=>h("active"),className:`justify-start ${f==="active"?"bg-black hover:bg-black/90":""}`,children:["Active (",d("active").length,")"]}),s.jsxs(ee,{size:"sm",variant:f==="inactive"?"default":"outline",onClick:()=>h("inactive"),className:`justify-start ${f==="inactive"?"bg-black hover:bg-black/90":""}`,children:["Inactive (",d("inactive").length,")"]}),s.jsxs(ee,{size:"sm",variant:f==="archived"?"default":"outline",onClick:()=>h("archived"),className:`justify-start ${f==="archived"?"bg-black hover:bg-black/90":""}`,children:["Archived (",d("archived").length,")"]}),s.jsxs(ee,{size:"sm",variant:f==="all"?"default":"outline",onClick:()=>h("all"),className:`justify-start ${f==="all"?"bg-black hover:bg-black/90":""}`,children:["All (",t.length,")"]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category"}),s.jsxs(Gr,{value:D,onValueChange:L,children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"All Categories"})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"all",children:"All Categories"}),s.jsx(We,{value:"T-Shirt - Chinese Collar",children:"T-Shirt - Chinese Collar"}),s.jsx(We,{value:"T-Shirt - V-Neck",children:"T-Shirt - V-Neck"}),s.jsx(We,{value:"T-Shirt - Round Neck",children:"T-Shirt - Round Neck"}),s.jsx(We,{value:"Jogging Pants",children:"Jogging Pants"}),s.jsx(We,{value:"Polo Shirt",children:"Polo Shirt"}),s.jsx(We,{value:"Sando (Jersey) - V-Neck",children:"Sando (Jersey) - V-Neck"}),s.jsx(We,{value:"Sando (Jersey) - Round Neck",children:"Sando (Jersey) - Round Neck"}),s.jsx(We,{value:"Sando (Jersey) - NBA Cut",children:"Sando (Jersey) - NBA Cut"}),s.jsx(We,{value:"Shorts",children:"Shorts"}),s.jsx(We,{value:"Warmers",children:"Warmers"}),s.jsx(We,{value:"Varsity Jacket",children:"Varsity Jacket"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Type"}),s.jsxs(Gr,{value:B,onValueChange:$,children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"All Types"})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"all",children:"All Types"}),s.jsx(We,{value:"Unisex",children:"Unisex"}),s.jsx(We,{value:"Men",children:"Men"}),s.jsx(We,{value:"Women",children:"Women"}),s.jsx(We,{value:"Kids",children:"Kids"})]})]})]})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsx(ee,{variant:"outline",onClick:()=>{M(""),L("all"),$("all"),h("active")},className:"w-full",children:"Clear All Filters"})})]})})]}),s.jsxs(ee,{className:"bg-black hover:bg-black/90",onClick:U,children:[s.jsx(nl,{className:"size-4 mr-2"}),"Add New Product"]})]}),oe>0&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),f!=="active"&&s.jsxs(lt,{variant:"secondary",className:"gap-1",children:["Status: ",f,s.jsx(Tt,{className:"size-3 cursor-pointer",onClick:()=>h("active")})]}),D!=="all"&&s.jsxs(lt,{variant:"secondary",className:"gap-1",children:[D,s.jsx(Tt,{className:"size-3 cursor-pointer",onClick:()=>L("all")})]}),B!=="all"&&s.jsxs(lt,{variant:"secondary",className:"gap-1",children:["Type: ",B,s.jsx(Tt,{className:"size-3 cursor-pointer",onClick:()=>$("all")})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",F.length," of ",q.length," products"]}),F.length>0&&s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"size-4 rounded border-gray-300",checked:S.length===F.length&&F.length>0,onChange:K=>G(K.target.checked)}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Select All ",S.length>0&&`(${S.length} selected)`]})]})}),F.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:F.map(K=>s.jsxs(ht,{className:"border-2 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-3 left-3 z-10",children:s.jsx("input",{type:"checkbox",className:"size-4 rounded border-gray-300 bg-white",checked:S.includes(K.id),onChange:de=>E(K.id,de.target.checked)})}),K.status==="active"&&s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Active"})}),s.jsx("div",{className:"bg-gray-100 aspect-square flex items-center justify-center overflow-hidden",children:s.jsx(ki,{src:K.images?.find(de=>de.type==="front")?.url||K.images?.[0]?.url||"",alt:K.name,className:"w-full h-full object-cover"})}),s.jsxs(bt,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold mb-1 truncate",children:K.name}),s.jsx("div",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-medium mb-3",children:K.category}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"BASE COST"}),s.jsxs("p",{className:"font-bold",children:["",K.baseCost]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"RETAIL PRICE"}),s.jsxs("p",{className:"font-bold",children:["",K.retailPrice]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"SIZES"}),s.jsx("p",{className:"font-bold",children:K.sizes?.length||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"COLOR"}),s.jsx("p",{className:"font-bold",children:K.color?.name||""})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>x(K),children:[s.jsx(to,{className:"size-3 mr-1"}),"View"]}),K.status!=="archived"&&s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>H(K),children:[s.jsx(Hx,{className:"size-3 mr-1"}),"Edit"]})]}),K.status==="active"&&s.jsxs(ee,{variant:"outline",size:"sm",className:"w-full text-yellow-600 border-yellow-600 hover:bg-yellow-50",onClick:()=>z(K.id),children:[s.jsx(ny,{className:"size-3 mr-1"}),"Deactivate"]}),K.status==="inactive"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 text-green-600 border-green-600 hover:bg-green-50",onClick:()=>V(K.id),children:[s.jsx(zx,{className:"size-3 mr-1"}),"Activate"]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 text-orange-600 border-orange-600 hover:bg-orange-50",onClick:()=>k(K.id),children:[s.jsx(S3,{className:"size-3 mr-1"}),"Archive"]})]}),K.status==="archived"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Q(K.id),children:[s.jsx(jP,{className:"size-3 mr-1"}),"Restore"]}),s.jsxs(ee,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>C(K.id),children:[s.jsx(ho,{className:"size-3 mr-1"}),"Delete"]})]})]})]})]},K.id))}):s.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-200 rounded-lg",children:[s.jsxs("p",{className:"text-gray-500 mb-4",children:[f==="active"&&"No active products",f==="inactive"&&"No inactive products",f==="archived"&&"No archived products",f==="all"&&"No products yet"]}),f==="all"&&s.jsxs(ee,{onClick:U,children:[s.jsx(nl,{className:"size-4 mr-2"}),"Add Your First Product"]})]})]}),m&&s.jsx(Zde,{product:j||void 0,onSave:I,onCancel:()=>{g(!1),b(null)}}),y&&s.jsx(Qde,{product:y,onClose:()=>x(null)}),s.jsx(bc,{open:O!==null,onOpenChange:()=>k(null),children:s.jsxs(wc,{children:[s.jsxs(jc,{children:[s.jsx(Cc,{children:"Archive Product?"}),s.jsx(Nc,{children:"This product will be moved to the archived section. You can restore it later or delete it permanently from the archived section."})]}),s.jsxs(Sc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(_c,{onClick:()=>O&&J(O),children:"Archive"})]})]})}),s.jsx(bc,{open:P!==null,onOpenChange:()=>C(null),children:s.jsxs(wc,{children:[s.jsxs(jc,{children:[s.jsx(Cc,{children:"Delete Product Permanently?"}),s.jsx(Nc,{children:"This action cannot be undone. This will permanently delete the product from your database."})]}),s.jsxs(Sc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(_c,{onClick:()=>P&&se(P),className:"bg-red-600 hover:bg-red-700",children:"Delete Permanently"})]})]})})]})}const Wfe={},Bo=Wfe.VITE_API_BASE_URL||"http://localhost:4000";function Ufe(){const[t,e]=w.useState([]),[r,n]=w.useState(!0),i=async()=>{n(!0);try{const g=await fetch(`${Bo}/api/catalog-products`,{credentials:"include"});if(g.ok){const b=(await g.json()).map(y=>({id:String(y.product_id),category:y.category,name:y.product_name,type:y.gender||"Unisex",sizes:y.sizes||[],fitType:y.fit_type,fitDescription:y.fit_description,description:y.description,images:y.product_images?.map((x,S)=>({id:x.image_id,url:x.image_url,publicId:x.cloudinary_public_id,type:x.display_order===1?"front":x.display_order===2?"back":"additional",displayOrder:x.display_order}))||[],fabricComposition:y.material,fabricWeight:y.fabric_weight,texture:y.texture,baseCost:parseFloat(y.base_price)||0,retailPrice:parseFloat(y.base_price)||0,sizePricing:y.size_pricing,frontPrintCost:y.front_print_cost,backPrintCost:y.back_print_cost,sizeAvailability:y.size_availability,differentiationType:y.differentiation_type||"none",color:y.color,variant:y.variant,printMethod:y.print_method,printAreas:y.customization_areas||[],designRequirements:y.design_requirements,turnaroundTime:y.production_days?`${y.production_days} business days`:"3-5 business days",minOrderQuantity:y.min_order_quantity||1,status:y.status?.toLowerCase()||"inactive",createdAt:y.created_at,updatedAt:y.updated_at}));e(b)}else console.log("Using sample data - API not available")}catch(g){console.error("Error fetching catalog products:",g)}finally{n(!1)}};return w.useEffect(()=>{i()},[]),{products:t,loading:r,addProduct:async g=>{try{(await fetch(`${Bo}/api/catalog-products`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(g)})).ok&&await i()}catch(j){console.error("Error adding product:",j)}},updateProduct:async(g,j)=>{try{console.log("Updating product:",g,j);const b=await fetch(`${Bo}/api/catalog-products/${g}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)});if(!b.ok){const x=await b.text();throw console.error("Update failed:",b.status,x),new Error(`Update failed: ${b.status} ${x}`)}const y=await b.json();console.log("Update successful:",y),await i()}catch(b){throw console.error("Error updating product:",b),b}},deleteProduct:async g=>{try{(await fetch(`${Bo}/api/catalog-products/${g}`,{method:"DELETE",credentials:"include"})).ok&&await i()}catch(j){console.error("Error deleting product:",j)}},activateProduct:async g=>{try{(await fetch(`${Bo}/api/catalog-products/${g}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"Active"})})).ok&&await i()}catch(j){console.error("Error activating product:",j)}},deactivateProduct:async g=>{try{(await fetch(`${Bo}/api/catalog-products/${g}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"Inactive"})})).ok&&await i()}catch(j){console.error("Error deactivating product:",j)}},archiveProduct:async g=>{try{(await fetch(`${Bo}/api/catalog-products/${g}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"Archived"})})).ok&&await i()}catch(j){console.error("Error archiving product:",j)}},restoreProduct:async g=>{try{(await fetch(`${Bo}/api/catalog-products/${g}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"inactive"})})).ok&&await i()}catch(j){console.error("Error restoring product:",j)}},getProductsByStatus:g=>g==="all"?t:t.filter(j=>j.status===g)}}const qfe=["T-Shirt - Chinese Collar","T-Shirt - V-Neck","T-Shirt - Round Neck","Jogging Pants","Polo Shirt","Sando (Jersey) - V-Neck","Sando (Jersey) - Round Neck","Sando (Jersey) - NBA Cut","Shorts","Warmers","Varsity Jacket"],Vfe=["Unisex","Men","Women","Kids"],Gfe=["Classic","Slim Fit","Regular Fit","Relaxed Fit","Oversized","Tapered","Athletic Fit","Muscle Fit"],X_=["XS","S","M","L","XL","2XL","3XL"],bU=["K6","K7","K8","K9","K10"],wU=["26","28","30","32","34","36","38","40","42"],jU=["22","24","26","28","30","32"];[...X_,...bU,...wU,...jU];const Xfe={XL:50,"2XL":100,"3XL":150},Yfe=(t,e)=>{const r=["T-Shirt - Chinese Collar","T-Shirt - V-Neck","T-Shirt - Round Neck","Polo Shirt","Sando (Jersey) - V-Neck","Sando (Jersey) - Round Neck","Sando (Jersey) - NBA Cut","Varsity Jacket"].includes(t),n=["Jogging Pants","Shorts","Warmers"].includes(t);return r?e==="Kids"?bU:X_:n?e==="Kids"?jU:wU:X_};function Kfe({product:t,onSave:e,onCancel:r}){const[n]=w.useState(t?.id?`CP${String(t.id).padStart(6,"0")}`:`TEMP${Date.now()}`),[i,a]=w.useState({category:t?.category||"",name:t?.name||"",type:t?.type||"",sizes:t?.sizes||[],fitType:t?.fitType||"",fitDescription:t?.fitDescription||"",description:t?.description||"",images:t?.images||[],fabricComposition:t?.fabricComposition||"",fabricWeight:t?.fabricWeight||"",texture:t?.texture||"",baseCost:t?.baseCost||0,retailPrice:t?.retailPrice||0,sizePricing:t?.sizePricing||{},frontPrintCost:t?.frontPrintCost||0,backPrintCost:t?.backPrintCost||0,sizeAvailability:t?.sizeAvailability||{},differentiationType:t?.differentiationType||"none",color:t?.color||{name:"",hexCode:""},variant:t?.variant||{name:"",image:"",publicId:""},printMethod:t?.printMethod||"",printAreas:t?.printAreas||[],designRequirements:t?.designRequirements||"Upload your design in high-resolution format (PNG, AI, or PSD). Ensure design dimensions match the selected print area.",turnaroundTime:t?.turnaroundTime||"5-7 business days for production. Rush orders available with additional fee.",minOrderQuantity:t?.minOrderQuantity||1,status:t?.status||"active"}),[o,l]=w.useState({}),[c,d]=w.useState(t?.images?.filter(x=>x.type==="additional").length||0),[f,h]=w.useState(!1),[m,g]=w.useState({additional:[]}),j=x=>{a(S=>({...S,printAreas:S.printAreas.includes(x)?S.printAreas.filter(_=>_!==x):[...S.printAreas,x]}))},b=()=>{const x={};i.name.trim()||(x.name="Product name is required"),i.category||(x.category="Category is required"),i.type||(x.type="Type is required"),i.sizes.length===0&&(x.sizes="At least one size is required");const S=m.front||i.images.some(P=>P.type==="front"),_=m.back||i.images.some(P=>P.type==="back");return S||(x.frontImage="Front image is required"),_||(x.backImage="Back image is required"),(!i.retailPrice||i.retailPrice<=0)&&(x.retailPrice="Retail price is required"),l(x),Object.keys(x).length===0},y=async x=>{if(x.preventDefault(),!b()){alert("Please fill in all required fields correctly");return}const S=m.front||i.images.some(A=>A.type==="front"),_=m.back||i.images.some(A=>A.type==="back");if(!S||!_){alert("Both front and back images are required");return}const P=(m.front?1:0)+(m.back?1:0)+m.additional.length,C=`
Ready to save "${i.name}"?

 Category: ${i.category}
 Type: ${i.type}
 Sizes: ${i.sizes.join(", ")}
 Images to upload: ${P}
 Price: ${i.retailPrice}

Click OK to upload images and save to database.
    `.trim();if(!confirm(C))return;h(!0);const O=[],k=[];try{if(m.front){const D=await qs(m.front.file,m.front.folder,void 0,m.front.customPublicId);O.push({url:D.url,publicId:D.publicId,type:"front",displayOrder:1}),k.push(D.publicId)}if(m.back){const D=await qs(m.back.file,m.back.folder,void 0,m.back.customPublicId);O.push({url:D.url,publicId:D.publicId,type:"back",displayOrder:2}),k.push(D.publicId)}for(const D of m.additional){const L=await qs(D.file,D.folder,void 0,D.customPublicId);O.push({url:L.url,publicId:L.publicId,type:"additional",displayOrder:D.displayOrder}),k.push(L.publicId)}let A;if(i.variant?.name&&i.variant.name.trim())if(m.variant){const D=await qs(m.variant.file,m.variant.folder,void 0,m.variant.customPublicId);A={name:i.variant.name.trim(),image:D.url,publicId:D.publicId},k.push(D.publicId)}else i.variant.image&&(A={name:i.variant.name.trim(),image:i.variant.image,publicId:i.variant.publicId});const M={...i,images:O,variant:A};console.log("Saving product data:",JSON.stringify(M,null,2)),await e(M),console.log("Product saved successfully!")}catch(A){console.error("Save failed:",A),console.error("Error message:",A.message),console.error("Error stack:",A.stack);for(const M of k)try{await qW(M)}catch(D){console.error("Failed to delete image during rollback:",M,D)}alert(`Failed to save product: ${A.message||"Unknown error"}. Uploaded images have been cleaned up. Please try again.`),h(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:t?"Edit Product":"Add New Catalog Product"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(Tt,{className:"size-5"})})]}),s.jsxs("form",{onSubmit:y,className:"p-6 space-y-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"1. Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Gr,{value:i.category,onValueChange:x=>a({...i,category:x}),children:[s.jsx(Yr,{className:o.category?"border-red-500":"",children:s.jsx(Xr,{placeholder:"Select category"})}),s.jsx(Kr,{children:qfe.map(x=>s.jsx(We,{value:x,children:x},x))})]}),o.category&&s.jsx("p",{className:"text-xs text-red-500",children:o.category})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Product Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Le,{placeholder:"e.g., Classic Round Neck Tee",value:i.name,onChange:x=>a({...i,name:x.target.value}),className:o.name?"border-red-500":""}),o.name&&s.jsx("p",{className:"text-xs text-red-500",children:o.name})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Gr,{value:i.type,onValueChange:x=>a({...i,type:x}),children:[s.jsx(Yr,{className:o.type?"border-red-500":"",children:s.jsx(Xr,{placeholder:"Select type"})}),s.jsx(Kr,{children:Vfe.map(x=>s.jsx(We,{value:x,children:x},x))})]}),o.type&&s.jsx("p",{className:"text-xs text-red-500",children:o.type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Fit Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Gr,{value:i.fitType,onValueChange:x=>a({...i,fitType:x}),children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"Select fit type"})}),s.jsx(Kr,{children:Gfe.map(x=>s.jsx(We,{value:x,children:x},x))})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(be,{children:["Available Sizes & Stock Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 p-3 rounded border border-amber-200 mb-3",children:[" ",s.jsx("strong",{children:"Instructions:"})," Check size to offer, set surcharge (auto-filled for XL/2XL/3XL), toggle stock status when out of stock."]}),s.jsx("div",{className:"space-y-2",children:Yfe(i.category,i.type).map(x=>{const S=i.sizes.includes(x),_=i.sizeAvailability?.[x]!==!1;return s.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2 w-24",children:[s.jsx(Ws,{checked:S,onCheckedChange:P=>{a(P?{...i,sizes:[...i.sizes,x],sizePricing:{...i.sizePricing,[x]:Xfe[x]||0},sizeAvailability:{...i.sizeAvailability,[x]:!0}}:{...i,sizes:i.sizes.filter(C=>C!==x)})}}),s.jsx("span",{className:"font-medium",children:x})]}),s.jsxs("div",{className:"flex items-center gap-2 w-40",children:[s.jsx("span",{className:"text-sm text-gray-500",children:""}),S?s.jsx(Le,{type:"number",value:(i.sizePricing||{})[x]||0,onChange:P=>a({...i,sizePricing:{...i.sizePricing||{},[x]:parseFloat(P.target.value)||0}}),className:"w-24"}):s.jsx("span",{className:"text-gray-400 w-24",children:"-"})]}),S?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i2,{checked:_,onCheckedChange:P=>a({...i,sizeAvailability:{...i.sizeAvailability,[x]:P}})}),s.jsx(lt,{variant:_?"default":"secondary",children:_?"In Stock":"Out of Stock"})]}):s.jsx("span",{className:"text-gray-400",children:"-"})]},x)})}),o.sizes&&s.jsx("p",{className:"text-xs text-red-500",children:o.sizes})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Product Status"}),s.jsxs(Gr,{value:i.status,onValueChange:x=>a({...i,status:x}),children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"Select status"})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"active",children:"Active (Visible to customers)"}),s.jsx(We,{value:"inactive",children:"Inactive (Hidden temporarily)"}),s.jsx(We,{value:"archived",children:"Archived (Discontinued)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Fit Description"}),s.jsx(Le,{placeholder:"e.g., Regular fit with comfortable cut",value:i.fitDescription,onChange:x=>a({...i,fitDescription:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Product Description"}),s.jsx(Py,{placeholder:"Detailed description of the product...",value:i.description,onChange:x=>a({...i,description:x.target.value}),rows:4})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"2. Product Images"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[s.jsx("strong",{className:"text-blue-800",children:" Note:"})," ",s.jsx("span",{className:"text-blue-700",children:'Images upload to Cloudinary immediately when selected. Make sure you want to keep them before clicking "Save Product".'})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Vu,{label:"Front View",required:!0,value:m.front,onChange:x=>{g(S=>({...S,front:x||void 0}))},folder:Js.CATALOG_PRODUCTS_FRONT,imageType:"front",displayOrder:1,productCode:n,description:"Upload front view of the product (JPG/PNG/SVG)",maxSizeMB:10}),s.jsx(Vu,{label:"Back View",required:!0,value:m.back,onChange:x=>{g(S=>({...S,back:x||void 0}))},folder:Js.CATALOG_PRODUCTS_BACK,imageType:"back",displayOrder:1,productCode:n,description:"Upload back view of the product (JPG/PNG/SVG)",maxSizeMB:10})]}),(o.frontImage||o.backImage)&&s.jsx("p",{className:"text-xs text-red-500",children:"Both front and back images are required"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Additional Images (optional)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPG/PNG/SVG, max 10MB each - Max 5 images"}),s.jsxs("div",{className:"space-y-4",children:[Array.from({length:c}).map((x,S)=>{const _=m.additional.find(P=>P.displayOrder===S+3);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[s.jsx(Vu,{label:`Additional Image ${S+1}`,value:_,onChange:P=>{g(C=>{const O=C.additional.filter(k=>k.displayOrder!==S+3);return{...C,additional:P?[...O,{...P,displayOrder:S+3}]:O}})},folder:Js.CATALOG_PRODUCTS_ADDITIONAL,imageType:"additional",displayOrder:S+3,productCode:n,maxSizeMB:10}),s.jsx("div",{className:"flex gap-2 md:justify-end",children:s.jsx(ee,{type:"button",variant:"outline",onClick:()=>{g(P=>{const O=P.additional.filter(k=>k.displayOrder!==S+3).map(k=>k.displayOrder>S+3?{...k,displayOrder:k.displayOrder-1}:k);return{...P,additional:O}}),d(P=>P-1)},children:"Remove Slot"})})]},S)}),s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>d(x=>x+1),disabled:c>=5,children:["+ Add Additional Image Slot ",c>=5&&"(Max reached)"]})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"3. Material & Fabric"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Fabric Composition"}),s.jsx(Le,{placeholder:"e.g., 100% Cotton",value:i.fabricComposition,onChange:x=>a({...i,fabricComposition:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Fabric Weight"}),s.jsx(Le,{placeholder:"e.g., 180 g/m",value:i.fabricWeight,onChange:x=>a({...i,fabricWeight:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Texture"}),s.jsx(Le,{placeholder:"e.g., Soft-washed",value:i.texture,onChange:x=>a({...i,texture:x.target.value})})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"4. Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Base Cost (Your Cost)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),s.jsx(Le,{type:"number",placeholder:"0.00",value:i.baseCost||"",onChange:x=>a({...i,baseCost:parseFloat(x.target.value)||0}),className:"pl-8"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Your production cost per unit"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Retail Price ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),s.jsx(Le,{type:"number",placeholder:"0.00",value:i.retailPrice||"",onChange:x=>a({...i,retailPrice:parseFloat(x.target.value)||0}),className:`pl-8 ${o.retailPrice?"border-red-500":""}`})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Customer price (before print fees)"}),o.retailPrice&&s.jsx("p",{className:"text-xs text-red-500",children:o.retailPrice})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Print Areas"}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{id:"area-Front",checked:i.printAreas.includes("Front"),onCheckedChange:()=>j("Front")}),s.jsx("label",{htmlFor:"area-Front",className:"text-sm cursor-pointer",children:"Front"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{id:"area-Back",checked:i.printAreas.includes("Back"),onCheckedChange:()=>j("Back")}),s.jsx("label",{htmlFor:"area-Back",className:"text-sm cursor-pointer",children:"Back"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:i.printAreas.includes("Front")?"":"text-gray-400",children:"Front Print Cost ()"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${i.printAreas.includes("Front")?"text-gray-500":"text-gray-300"}`,children:""}),s.jsx(Le,{type:"number",step:"0.01",value:i.frontPrintCost??"",onChange:x=>a({...i,frontPrintCost:x.target.value===""?void 0:parseFloat(x.target.value)}),placeholder:"0.00",className:"pl-8",disabled:!i.printAreas.includes("Front")})]}),s.jsx("p",{className:`text-xs ${i.printAreas.includes("Front")?"text-gray-500":"text-gray-400"}`,children:"Cost to add front print customization"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:i.printAreas.includes("Back")?"":"text-gray-400",children:"Back Print Cost ()"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${i.printAreas.includes("Back")?"text-gray-500":"text-gray-300"}`,children:""}),s.jsx(Le,{type:"number",step:"0.01",value:i.backPrintCost??"",onChange:x=>a({...i,backPrintCost:x.target.value===""?void 0:parseFloat(x.target.value)}),placeholder:"0.00",className:"pl-8",disabled:!i.printAreas.includes("Back")})]}),s.jsx("p",{className:`text-xs ${i.printAreas.includes("Back")?"text-gray-500":"text-gray-400"}`,children:"Cost to add back print customization"})]})]}),i.baseCost>0&&i.retailPrice>0&&s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:["Profit Margin: ",s.jsxs("span",{className:"font-semibold",children:["",(i.retailPrice-i.baseCost).toFixed(2)]})," ","(",((i.retailPrice-i.baseCost)/i.retailPrice*100).toFixed(1),"%)"]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{id:"status",checked:i.status==="active",onCheckedChange:x=>a({...i,status:x?"active":"inactive"})}),s.jsx("label",{htmlFor:"status",className:"text-sm font-medium cursor-pointer",children:"Publish immediately (make visible to customers)"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:r,disabled:f,children:"Cancel"}),s.jsx(ee,{onClick:y,disabled:f,children:f?"Saving...":t?"Update Product":"Save Product"})]})]})]})})}function Jfe({product:t,onClose:e}){const[r,n]=w.useState(null);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:t.name}),s.jsx(lt,{variant:t.status==="active"?"default":"secondary",children:t.status})]}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:e,children:s.jsx(Tt,{className:"size-5"})})]}),s.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),s.jsx("p",{className:"font-medium",children:t.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),s.jsx("p",{className:"font-medium",children:t.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fit Type"}),s.jsx("p",{className:"font-medium",children:t.fitType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Available Sizes"}),s.jsx("p",{className:"font-medium",children:t.sizes?.join(", ")||"N/A"})]})]}),t.fitDescription&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fit Description"}),s.jsx("p",{className:"font-medium",children:t.fitDescription})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),s.jsx("p",{className:"font-medium",children:t.description})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Product Images"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Front View"}),s.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.images?.find(i=>i.type==="front")?.url||t.images?.[0]?.url||""),children:s.jsx("img",{src:t.images?.find(i=>i.type==="front")?.url||t.images?.[0]?.url||"",alt:"Front view",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Back View"}),s.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.images?.find(i=>i.type==="back")?.url||t.images?.[1]?.url||""),children:s.jsx("img",{src:t.images?.find(i=>i.type==="back")?.url||t.images?.[1]?.url||"",alt:"Back view",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})})]})]}),t.images?.filter(i=>i.type==="additional").length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Additional Images"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.images.filter(i=>i.type==="additional").map((i,a)=>s.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(i.url),children:s.jsx("img",{src:i.url,alt:`Additional ${a+1}`,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})},i.id||a))})]})]}),(t.fabricComposition||t.fabricWeight||t.texture)&&s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Material & Fabric"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.fabricComposition&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fabric Composition"}),s.jsx("p",{className:"font-medium",children:t.fabricComposition})]}),t.fabricWeight&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fabric Weight"}),s.jsx("p",{className:"font-medium",children:t.fabricWeight})]}),t.texture&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Texture"}),s.jsx("p",{className:"font-medium",children:t.texture})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Base Cost"}),s.jsxs("p",{className:"text-2xl font-semibold",children:["",t.baseCost.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Retail Price"}),s.jsxs("p",{className:"text-2xl font-semibold text-green-600",children:["",t.retailPrice.toFixed(2)]})]})]}),(t.frontPrintCost||t.backPrintCost)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.frontPrintCost&&t.frontPrintCost>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Front Print Cost"}),s.jsxs("p",{className:"font-semibold",children:["",t.frontPrintCost.toFixed(2)]})]}),t.backPrintCost&&t.backPrintCost>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Back Print Cost"}),s.jsxs("p",{className:"font-semibold",children:["",t.backPrintCost.toFixed(2)]})]})]}),t.sizePricing&&Object.keys(t.sizePricing).length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Additional Charges by Size"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.sizePricing).map(([i,a])=>s.jsxs("div",{className:"px-3 py-1 bg-gray-100 rounded border text-sm",children:[i,": +",Number(a).toFixed(2)]},i))})]}),s.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:["Profit Margin: ",s.jsxs("span",{className:"font-semibold",children:["",(t.retailPrice-t.baseCost).toFixed(2)]})," ","(",((t.retailPrice-t.baseCost)/t.retailPrice*100).toFixed(1),"%)"]})})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Colors & Variants"}),s.jsxs("div",{className:"space-y-4",children:[t.color&&(t.color.name||t.color.hexCode)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg w-fit",children:[s.jsx("div",{className:"size-12 rounded border flex-shrink-0",style:{backgroundColor:t.color.hexCode||"#ffffff"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.color.name||"Unnamed color"}),t.color.hexCode&&s.jsx("p",{className:"text-xs text-gray-500",children:t.color.hexCode})]})]}),t.variant&&(t.variant.name||t.variant.image)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Variant Image"}),t.variant.image?s.jsx("div",{className:"relative w-full aspect-[3/4] border rounded-lg overflow-hidden cursor-pointer group",onClick:()=>n(t.variant?.image||""),children:s.jsx("img",{src:t.variant.image,alt:t.variant.name||"Variant",className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"})}):s.jsx("p",{className:"text-xs text-gray-500",children:"No variant image"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Variant Name"}),s.jsx("p",{className:"font-medium",children:t.variant.name||""})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Print & Customization"}),s.jsxs("div",{className:"space-y-4",children:[t.printMethod&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Print Method"}),s.jsx("p",{className:"font-medium",children:t.printMethod})]}),t.printAreas&&t.printAreas.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Print Areas"}),s.jsx("p",{className:"font-medium",children:t.printAreas.join(", ")})]}),t.designRequirements&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Design Requirements"}),s.jsx("p",{className:"font-medium",children:t.designRequirements})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Business Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.turnaroundTime&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Turnaround Time"}),s.jsx("p",{className:"font-medium",children:t.turnaroundTime})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Minimum Order Quantity"}),s.jsx("p",{className:"font-medium",children:t.minOrderQuantity})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"font-semibold text-lg border-b pb-2 mb-4",children:"Meta Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Created At"}),s.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),s.jsx("p",{className:"font-medium",children:new Date(t.updatedAt).toLocaleString()})]})]})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx(ee,{onClick:e,children:"Close"})})]})}),r&&s.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4",onClick:()=>n(null),children:[s.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:()=>n(null),children:s.jsx(Tt,{className:"size-8"})}),s.jsx("img",{src:r,alt:"Full size",className:"max-w-full max-h-full object-contain",onClick:i=>i.stopPropagation()})]})]})}function Zfe(){const{products:t,loading:e,addProduct:r,updateProduct:n,deleteProduct:i,activateProduct:a,deactivateProduct:o,archiveProduct:l,restoreProduct:c,getProductsByStatus:d}=Ufe(),[f,h]=w.useState("active"),[m,g]=w.useState(!1),[j,b]=w.useState(null),[y,x]=w.useState(null),[S,_]=w.useState([]),[P,C]=w.useState(null),[O,k]=w.useState(null),[A,M]=w.useState(""),[D,L]=w.useState("all"),[B,$]=w.useState("all"),q=d(f),F=q.filter(K=>!(A&&!K.name.toLowerCase().includes(A.toLowerCase())||D!=="all"&&K.category!==D||B!=="all"&&K.type!==B)),G=K=>{_(K?F.map(de=>de.id):[])},E=(K,de)=>{_(de?ae=>[...ae,K]:ae=>ae.filter(ce=>ce!==K))},U=()=>{b(null),g(!0)},H=K=>{b(K),g(!0)},I=async K=>{try{j?(await n(j.id,K),ve.success("Product updated successfully")):(await r(K),ve.success("Product created successfully")),g(!1),b(null)}catch(de){throw ve.error(`Failed to save product: ${de.message}`),de}},z=K=>{o(K),ve.success("Product deactivated")},V=K=>{a(K),ve.success("Product activated")},J=K=>{l(K),k(null),ve.success("Product archived")},Q=K=>{c(K),ve.success("Product restored to inactive")},se=K=>{i(K),C(null),ve.success("Product permanently deleted")};if(e)return s.jsx(pn,{children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("p",{className:"text-gray-500",children:"Loading products..."})})});const oe=[f!=="active",D!=="all",B!=="all"].filter(Boolean).length;return s.jsxs(pn,{children:[s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Catalog Products"}),s.jsx("p",{className:"text-gray-600",children:"Manage pre-designed catalog products with fixed pricing"})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),s.jsx(Le,{placeholder:"Search products by name...",value:A,onChange:K=>M(K.target.value),className:"pl-10"})]}),s.jsxs(vU,{children:[s.jsx(yU,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:"relative",children:[s.jsx(k3,{className:"size-4 mr-2"}),"Filters",oe>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-purple-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:oe})]})}),s.jsx(xU,{className:"w-80 p-4",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h4",{className:"font-medium mb-3",children:"Filter Products"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ee,{size:"sm",variant:f==="active"?"default":"outline",onClick:()=>h("active"),className:`justify-start ${f==="active"?"bg-black hover:bg-black/90":""}`,children:["Active (",d("active").length,")"]}),s.jsxs(ee,{size:"sm",variant:f==="inactive"?"default":"outline",onClick:()=>h("inactive"),className:`justify-start ${f==="inactive"?"bg-black hover:bg-black/90":""}`,children:["Inactive (",d("inactive").length,")"]}),s.jsxs(ee,{size:"sm",variant:f==="archived"?"default":"outline",onClick:()=>h("archived"),className:`justify-start ${f==="archived"?"bg-black hover:bg-black/90":""}`,children:["Archived (",d("archived").length,")"]}),s.jsxs(ee,{size:"sm",variant:f==="all"?"default":"outline",onClick:()=>h("all"),className:`justify-start ${f==="all"?"bg-black hover:bg-black/90":""}`,children:["All (",t.length,")"]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category"}),s.jsxs(Gr,{value:D,onValueChange:L,children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"All Categories"})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"all",children:"All Categories"}),s.jsx(We,{value:"T-Shirt - Chinese Collar",children:"T-Shirt - Chinese Collar"}),s.jsx(We,{value:"T-Shirt - V-Neck",children:"T-Shirt - V-Neck"}),s.jsx(We,{value:"T-Shirt - Round Neck",children:"T-Shirt - Round Neck"}),s.jsx(We,{value:"Jogging Pants",children:"Jogging Pants"}),s.jsx(We,{value:"Polo Shirt",children:"Polo Shirt"}),s.jsx(We,{value:"Sando (Jersey) - V-Neck",children:"Sando (Jersey) - V-Neck"}),s.jsx(We,{value:"Sando (Jersey) - Round Neck",children:"Sando (Jersey) - Round Neck"}),s.jsx(We,{value:"Sando (Jersey) - NBA Cut",children:"Sando (Jersey) - NBA Cut"}),s.jsx(We,{value:"Shorts",children:"Shorts"}),s.jsx(We,{value:"Warmers",children:"Warmers"}),s.jsx(We,{value:"Varsity Jacket",children:"Varsity Jacket"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Type"}),s.jsxs(Gr,{value:B,onValueChange:$,children:[s.jsx(Yr,{children:s.jsx(Xr,{placeholder:"All Types"})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"all",children:"All Types"}),s.jsx(We,{value:"Unisex",children:"Unisex"}),s.jsx(We,{value:"Men",children:"Men"}),s.jsx(We,{value:"Women",children:"Women"}),s.jsx(We,{value:"Kids",children:"Kids"})]})]})]})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsx(ee,{variant:"outline",onClick:()=>{M(""),L("all"),$("all"),h("active")},className:"w-full",children:"Clear All Filters"})})]})})]}),s.jsxs(ee,{className:"bg-black hover:bg-black/90",onClick:U,children:[s.jsx(nl,{className:"size-4 mr-2"}),"Add New Product"]})]}),oe>0&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),f!=="active"&&s.jsxs(lt,{variant:"secondary",className:"gap-1",children:["Status: ",f,s.jsx(Tt,{className:"size-3 cursor-pointer",onClick:()=>h("active")})]}),D!=="all"&&s.jsxs(lt,{variant:"secondary",className:"gap-1",children:[D,s.jsx(Tt,{className:"size-3 cursor-pointer",onClick:()=>L("all")})]}),B!=="all"&&s.jsxs(lt,{variant:"secondary",className:"gap-1",children:["Type: ",B,s.jsx(Tt,{className:"size-3 cursor-pointer",onClick:()=>$("all")})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",F.length," of ",q.length," products"]}),F.length>0&&s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"size-4 rounded border-gray-300",checked:S.length===F.length&&F.length>0,onChange:K=>G(K.target.checked)}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Select All ",S.length>0&&`(${S.length} selected)`]})]})}),F.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:F.map(K=>s.jsxs(ht,{className:"border-2 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-3 left-3 z-10",children:s.jsx("input",{type:"checkbox",className:"size-4 rounded border-gray-300 bg-white",checked:S.includes(K.id),onChange:de=>E(K.id,de.target.checked)})}),K.status==="active"&&s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Active"})}),s.jsx("div",{className:"bg-gray-100 aspect-square flex items-center justify-center overflow-hidden",children:s.jsx(ki,{src:K.images?.find(de=>de.type==="front")?.url||K.images?.[0]?.url||"",alt:K.name,className:"w-full h-full object-cover"})}),s.jsxs(bt,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold mb-1 truncate",children:K.name}),s.jsx("div",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-medium mb-3",children:K.category}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"BASE COST"}),s.jsxs("p",{className:"font-bold",children:["",K.baseCost]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"RETAIL PRICE"}),s.jsxs("p",{className:"font-bold",children:["",K.retailPrice]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"SIZES"}),s.jsx("p",{className:"font-bold",children:K.sizes?.length||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"COLOR"}),s.jsx("p",{className:"font-bold",children:K.color?.name||""})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>x(K),children:[s.jsx(to,{className:"size-3 mr-1"}),"View"]}),K.status!=="archived"&&s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>H(K),children:[s.jsx(Hx,{className:"size-3 mr-1"}),"Edit"]})]}),K.status==="active"&&s.jsxs(ee,{variant:"outline",size:"sm",className:"w-full text-yellow-600 border-yellow-600 hover:bg-yellow-50",onClick:()=>z(K.id),children:[s.jsx(ny,{className:"size-3 mr-1"}),"Deactivate"]}),K.status==="inactive"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 text-green-600 border-green-600 hover:bg-green-50",onClick:()=>V(K.id),children:[s.jsx(zx,{className:"size-3 mr-1"}),"Activate"]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 text-orange-600 border-orange-600 hover:bg-orange-50",onClick:()=>k(K.id),children:[s.jsx(S3,{className:"size-3 mr-1"}),"Archive"]})]}),K.status==="archived"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Q(K.id),children:[s.jsx(jP,{className:"size-3 mr-1"}),"Restore"]}),s.jsxs(ee,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>C(K.id),children:[s.jsx(ho,{className:"size-3 mr-1"}),"Delete"]})]})]})]})]},K.id))}):s.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-200 rounded-lg",children:[s.jsxs("p",{className:"text-gray-500 mb-4",children:[f==="active"&&"No active products",f==="inactive"&&"No inactive products",f==="archived"&&"No archived products",f==="all"&&"No products yet"]}),f==="all"&&s.jsxs(ee,{onClick:U,children:[s.jsx(nl,{className:"size-4 mr-2"}),"Add Your First Product"]})]})]}),m&&s.jsx(Kfe,{product:j||void 0,onSave:I,onCancel:()=>{g(!1),b(null)}}),y&&s.jsx(Jfe,{product:y,onClose:()=>x(null)}),s.jsx(bc,{open:O!==null,onOpenChange:()=>k(null),children:s.jsxs(wc,{children:[s.jsxs(jc,{children:[s.jsx(Cc,{children:"Archive Product?"}),s.jsx(Nc,{children:"This product will be moved to the archived section. You can restore it later or delete it permanently from the archived section."})]}),s.jsxs(Sc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(_c,{onClick:()=>O&&J(O),children:"Archive"})]})]})}),s.jsx(bc,{open:P!==null,onOpenChange:()=>C(null),children:s.jsxs(wc,{children:[s.jsxs(jc,{children:[s.jsx(Cc,{children:"Delete Product Permanently?"}),s.jsx(Nc,{children:"This action cannot be undone. This will permanently delete the product from your database."})]}),s.jsxs(Sc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(_c,{onClick:()=>P&&se(P),className:"bg-red-600 hover:bg-red-700",children:"Delete Permanently"})]})]})})]})}const ql="http://localhost:4000/api/canvas-resources";function Qfe(){const[t,e]=w.useState("graphics"),[r,n]=w.useState([]),[i,a]=w.useState(!1),[o,l]=w.useState([]),[c,d]=w.useState(!1),[f,h]=w.useState(!1),[m,g]=w.useState(0),[j,b]=w.useState(null),[y,x]=w.useState(null),[S,_]=w.useState(""),[P,C]=w.useState("icon"),[O,k]=w.useState(null),A=w.useRef(null),M=w.useRef(null),D=async E=>{a(!0);try{const U=E?`${ql}/graphics?category=${E}`:`${ql}/graphics`,I=await(await fetch(U)).json();n(I)}catch(U){ve.error("Failed to load graphics"),console.error(U)}finally{a(!1)}},L=async()=>{d(!0);try{const U=await(await fetch(`${ql}/patterns`)).json();l(U)}catch(E){ve.error("Failed to load patterns"),console.error(E)}finally{d(!1)}};w.useState(()=>{D(),L()});const B=E=>{e(E),b(null),x(null),_(""),g(0)},$=E=>{const U=E.target.files?.[0];if(!U)return;if(!(t==="graphics"?["image/png","image/svg+xml"]:["image/png"]).includes(U.type)){ve.error(`Invalid file type. ${t==="graphics"?"Use PNG or SVG":"Use PNG only"}`);return}if(U.size>10*1024*1024){ve.error("File too large. Maximum size is 10MB");return}b(U),_(U.name.replace(/\.[^/.]+$/,"")),x(URL.createObjectURL(U))},q=E=>new Promise(U=>{const H=new Image,I=URL.createObjectURL(E);H.onload=()=>{URL.revokeObjectURL(I),Math.min(H.width,H.height)<3600?U({valid:!1,width:H.width,height:H.height,error:`Image resolution too low (${H.width}${H.height}px). Minimum 3600px required.`}):U({valid:!0,width:H.width,height:H.height})},H.onerror=()=>{URL.revokeObjectURL(I),U({valid:!1,width:0,height:0,error:"Failed to load image"})},H.src=I}),F=async()=>{if(!j||!S.trim()){ve.error("Please select a file and enter a name");return}h(!0),g(0);try{const E=await q(j);if(!E.valid){ve.error(E.error||"Invalid image"),h(!1);return}const U=t==="graphics"?Js.ADMIN_GRAPHICS:Js.ADMIN_PATTERNS,H=await qs(j,U,Q=>g(Q)),I=t==="graphics"?`${ql}/graphics`:`${ql}/patterns`,z={name:S,cloudinary_url:H.url,thumbnail_url:H.thumbnailUrl||H.url,cloudinary_public_id:H.publicId,file_size:H.size,width:E.width,height:E.height,format:H.format,...t==="graphics"&&{category:P},...t==="patterns"&&{is_seamless:!0}};if(!(await fetch(I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)})).ok)throw new Error("Failed to save resource");ve.success(`${t==="graphics"?"Graphic":"Pattern"} uploaded successfully`),t==="graphics"?D():L(),b(null),x(null),_(""),g(0);const J=t==="graphics"?A:M;J.current&&(J.current.value="")}catch(E){ve.error(E.message||"Upload failed"),console.error(E)}finally{h(!1)}},G=async()=>{if(O)try{const E=O.type==="graphic"?`${ql}/graphics/${O.id}`:`${ql}/patterns/${O.id}`;if(!(await fetch(E,{method:"DELETE"})).ok)throw new Error("Failed to delete");ve.success(`${O.type==="graphic"?"Graphic":"Pattern"} deleted successfully`),O.type==="graphic"?D():L()}catch(E){ve.error(E.message||"Delete failed"),console.error(E)}finally{k(null)}};return s.jsx(pn,{children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Canvas Resources"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Upload graphics and patterns for customer designs"})]}),s.jsxs(ee,{variant:"outline",onClick:()=>t==="graphics"?D():L(),children:[s.jsx(lm,{className:"size-4 mr-2"}),"Refresh"]})]}),s.jsxs(Lk,{value:t,onValueChange:E=>B(E),children:[s.jsxs(zk,{className:"mb-6",children:[s.jsxs(ld,{value:"graphics",className:"flex items-center gap-2",children:[s.jsx(Uh,{className:"size-4"}),"Graphics"]}),s.jsxs(ld,{value:"patterns",className:"flex items-center gap-2",children:[s.jsx(Fu,{className:"size-4"}),"Patterns"]})]}),s.jsxs(cd,{value:"graphics",children:[s.jsxs(ht,{className:"p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload Graphic"}),s.jsxs("div",{onClick:()=>A.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors mb-4",children:[s.jsx("input",{ref:A,type:"file",accept:"image/png,image/svg+xml",onChange:$,className:"hidden"}),y?s.jsxs("div",{className:"space-y-4",children:[s.jsx("img",{src:y,alt:"Preview",className:"max-h-48 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-600",children:j?.name})]}):s.jsxs(s.Fragment,{children:[s.jsx(cp,{className:"size-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Drop files here or click to upload"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Min 3600px  PNG or SVG  Max 10MB"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Name"}),s.jsx(Le,{value:S,onChange:E=>_(E.target.value),placeholder:"e.g., Gold Star Icon"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Category"}),s.jsxs(Gr,{value:P,onValueChange:E=>C(E),children:[s.jsx(Yr,{children:s.jsx(Xr,{})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"icon",children:"Icon"}),s.jsx(We,{value:"logo",children:"Logo"}),s.jsx(We,{value:"illustration",children:"Illustration"}),s.jsx(We,{value:"template",children:"Template"})]})]})]})]}),f&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Uploading..."}),s.jsxs("span",{children:[Math.round(m),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${m}%`}})})]}),s.jsx(ee,{onClick:F,disabled:!j||f,className:"w-full",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Wn,{className:"size-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload Graphic"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Uploaded Graphics (",r.length,")"]}),s.jsx("div",{className:"flex gap-2",children:["all","icon","logo","illustration","template"].map(E=>s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>D(E==="all"?void 0:E),children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]}),i?s.jsx("div",{className:"text-center py-12",children:s.jsx(Wn,{className:"size-8 animate-spin mx-auto text-gray-400"})}):r.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Uh,{className:"size-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"No graphics uploaded yet"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.map(E=>s.jsxs(ht,{className:"overflow-hidden",children:[s.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[s.jsx("img",{src:E.thumbnail_url,alt:E.name,className:"w-full h-full object-contain p-2"}),s.jsx(ee,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 size-8",onClick:()=>k({type:"graphic",id:E.id}),children:s.jsx(Tt,{className:"size-4"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:E.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[E.width,"  ",E.height,"px"]}),s.jsx("p",{className:"text-xs text-gray-500",children:E.format.toUpperCase()}),E.category&&s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:E.category})]})]},E.id))})]})]}),s.jsxs(cd,{value:"patterns",children:[s.jsxs(ht,{className:"p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload Pattern"}),s.jsxs("div",{onClick:()=>M.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors mb-4",children:[s.jsx("input",{ref:M,type:"file",accept:"image/png",onChange:$,className:"hidden"}),y?s.jsxs("div",{className:"space-y-4",children:[s.jsx("img",{src:y,alt:"Preview",className:"max-h-48 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-600",children:j?.name})]}):s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"size-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Drop files here or click to upload"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Min 3600px  PNG only  Max 10MB  Seamless patterns work best"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(be,{children:"Name"}),s.jsx(Le,{value:S,onChange:E=>_(E.target.value),placeholder:"e.g., Camouflage Pattern"})]}),f&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Uploading..."}),s.jsxs("span",{children:[Math.round(m),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${m}%`}})})]}),s.jsx(ee,{onClick:F,disabled:!j||f,className:"w-full",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Wn,{className:"size-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload Pattern"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Uploaded Patterns (",o.length,")"]}),c?s.jsx("div",{className:"text-center py-12",children:s.jsx(Wn,{className:"size-8 animate-spin mx-auto text-gray-400"})}):o.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Fu,{className:"size-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"No patterns uploaded yet"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:o.map(E=>s.jsxs(ht,{className:"overflow-hidden",children:[s.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[s.jsx("img",{src:E.thumbnail_url,alt:E.name,className:"w-full h-full object-cover"}),s.jsx(ee,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 size-8",onClick:()=>k({type:"pattern",id:E.id}),children:s.jsx(Tt,{className:"size-4"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:E.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[E.width,"  ",E.height,"px"]}),s.jsx("p",{className:"text-xs text-gray-500",children:E.format.toUpperCase()})]})]},E.id))})]})]})]}),s.jsx(bc,{open:!!O,onOpenChange:()=>k(null),children:s.jsxs(wc,{children:[s.jsxs(jc,{children:[s.jsxs(Cc,{children:["Delete ",O?.type==="graphic"?"Graphic":"Pattern","?"]}),s.jsx(Nc,{children:"This will permanently delete this resource from Cloudinary and the database. This action cannot be undone."})]}),s.jsxs(Sc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(_c,{onClick:G,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}const s2=w.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:`w-full caption-bottom text-sm ${t||""}`,...e})}));s2.displayName="Table";const o2=w.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:`[&_tr]:border-b ${t||""}`,...e}));o2.displayName="TableHeader";const l2=w.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:`[&_tr:last-child]:border-0 ${t||""}`,...e}));l2.displayName="TableBody";const ehe=w.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:`border-t bg-muted/50 font-medium [&>tr]:last:border-b-0 ${t||""}`,...e}));ehe.displayName="TableFooter";const Xu=w.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:`border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted ${t||""}`,...e}));Xu.displayName="TableRow";const cn=w.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:`h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 ${t||""}`,...e}));cn.displayName="TableHead";const qr=w.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:`p-4 align-middle [&:has([role=checkbox])]:pr-0 ${t||""}`,...e}));qr.displayName="TableCell";const the=w.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:`mt-4 text-sm text-muted-foreground ${t||""}`,...e}));the.displayName="TableCaption";const rhe=[{id:"1",name:"John Dela Cruz",email:"john.delacruz@rfm.com",phone:"09123456789",role:"Production Manager",department:"Production",status:"active",joinDate:"2023-01-15"},{id:"2",name:"Maria Santos",email:"maria.santos@rfm.com",phone:"09234567890",role:"Designer",department:"Design",status:"active",joinDate:"2023-02-20"},{id:"3",name:"Pedro Garcia",email:"pedro.garcia@rfm.com",phone:"09345678901",role:"Quality Control",department:"Production",status:"active",joinDate:"2023-03-10"},{id:"4",name:"Ana Reyes",email:"ana.reyes@rfm.com",phone:"09456789012",role:"Customer Service",department:"Support",status:"active",joinDate:"2023-04-05"},{id:"5",name:"Carlos Ramos",email:"carlos.ramos@rfm.com",phone:"09567890123",role:"Warehouse Staff",department:"Logistics",status:"inactive",joinDate:"2023-05-12"}];function nhe(){const[t,e]=w.useState(rhe),[r,n]=w.useState(""),i=t.filter(a=>a.name.toLowerCase().includes(r.toLowerCase())||a.email.toLowerCase().includes(r.toLowerCase())||a.role.toLowerCase().includes(r.toLowerCase()));return s.jsx(pn,{children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Employees"}),s.jsx("p",{className:"text-gray-600",children:"Manage your team members and staff"})]}),s.jsxs(ee,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(nl,{className:"size-4 mr-2"}),"Add Employee"]})]}),s.jsx("div",{className:"mb-6 flex gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-gray-400"}),s.jsx(Le,{placeholder:"Search employees...",value:r,onChange:a=>n(a.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"bg-white rounded-lg border",children:s.jsxs(s2,{children:[s.jsx(o2,{children:s.jsxs(Xu,{children:[s.jsx(cn,{children:"Name"}),s.jsx(cn,{children:"Email"}),s.jsx(cn,{children:"Phone"}),s.jsx(cn,{children:"Role"}),s.jsx(cn,{children:"Department"}),s.jsx(cn,{children:"Join Date"}),s.jsx(cn,{children:"Status"}),s.jsx(cn,{className:"text-right",children:"Actions"})]})}),s.jsx(l2,{children:i.map(a=>s.jsxs(Xu,{children:[s.jsx(qr,{className:"font-medium",children:a.name}),s.jsx(qr,{children:a.email}),s.jsx(qr,{children:a.phone}),s.jsx(qr,{children:a.role}),s.jsx(qr,{children:a.department}),s.jsx(qr,{children:new Date(a.joinDate).toLocaleDateString()}),s.jsx(qr,{children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.status})}),s.jsx(qr,{className:"text-right",children:s.jsxs(Gk,{children:[s.jsx(Xk,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"icon",children:s.jsx(hY,{className:"size-4"})})}),s.jsxs(Yk,{align:"end",children:[s.jsxs(Zo,{children:[s.jsx(Hx,{className:"size-4 mr-2"}),"Edit"]}),s.jsxs(Zo,{className:"text-red-600",children:[s.jsx(ho,{className:"size-4 mr-2"}),"Delete"]})]})]})})]},a.id))})]})}),i.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No employees found"})})]})})}const Cv="http://localhost:4000";function ihe(){const[t,e]=w.useState([]),[r,n]=w.useState(!0),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,d]=w.useState(!0),[f,h]=w.useState(!1),[m,g]=w.useState(null),[j,b]=w.useState(null),[y,x]=w.useState(null),[S,_]=w.useState({name:"",description:"",category:"",stock:0,unit:"",minLevel:0,costPerUnit:0});w.useEffect(()=>{P()},[]);const P=async()=>{try{n(!0);const F=await fetch(`${Cv}/api/inventory`,{credentials:"include"});if(F.ok){const G=await F.json();e(G)}else ve.error("Failed to load inventory items")}catch(F){console.error("Error loading inventory:",F),ve.error("Failed to load inventory items")}finally{n(!1)}},C={totalItems:t.length,activeItems:t.filter(F=>F.status==="active").length,lowStockItems:t.filter(F=>F.stock<=F.minLevel).length,totalValue:t.reduce((F,G)=>F+G.stock*G.costPerUnit,0)},O=Array.from(new Set(t.map(F=>F.category))),k=t.filter(F=>!(i&&!F.name.toLowerCase().includes(i.toLowerCase())&&!F.description?.toLowerCase().includes(i.toLowerCase())||o!=="all"&&F.category!==o||c&&F.status==="inactive")),A=()=>{g(null),_({name:"",description:"",category:"",stock:0,unit:"",minLevel:0,costPerUnit:0}),h(!0)},M=F=>{g(F),_({name:F.name,description:F.description||"",category:F.category,stock:F.stock,unit:F.unit,minLevel:F.minLevel,costPerUnit:F.costPerUnit}),h(!0)},D=async()=>{try{const F=m?`${Cv}/api/inventory/${m.id}`:`${Cv}/api/inventory`,E=await fetch(F,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(S)});if(E.ok)ve.success(m?"Item updated successfully":"Item added successfully"),h(!1),P();else{const U=await E.json();ve.error(U.error||"Failed to save item")}}catch(F){console.error("Error saving item:",F),ve.error("Failed to save item")}},L=async F=>{try{(await fetch(`${Cv}/api/inventory/${F}`,{method:"DELETE",credentials:"include"})).ok?(ve.success("Item deleted successfully"),b(null),P()):ve.error("Failed to delete item")}catch(G){console.error("Error deleting item:",G),ve.error("Failed to delete item")}},B=async F=>{_({name:`${F.name} (Copy)`,description:F.description||"",category:F.category,stock:0,unit:F.unit,minLevel:F.minLevel,costPerUnit:F.costPerUnit}),g(null),h(!0)},$=F=>F.stock<=F.minLevel?s.jsx(lt,{variant:"destructive",children:"Low Stock"}):F.status==="active"?s.jsx(lt,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Active"}):s.jsx(lt,{variant:"secondary",children:"Inactive"}),q=F=>F.stock<=F.minLevel?"text-red-600 font-semibold":"";return r?s.jsx(pn,{children:s.jsx("div",{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})})})}):s.jsx(pn,{children:s.jsxs("div",{className:"p-4 md:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Inventory Management"}),s.jsx("p",{className:"text-gray-600",children:"Track and manage consumable materials."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(ht,{children:s.jsx(bt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:C.totalItems})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(gr,{className:"size-6 text-blue-600"})})]})})}),s.jsx(ht,{children:s.jsx(bt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Items"}),s.jsx("p",{className:"text-2xl font-bold",children:C.activeItems})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(Wo,{className:"size-6 text-green-600"})})]})})}),s.jsx(ht,{children:s.jsx(bt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Low Stock"}),s.jsx("p",{className:"text-2xl font-bold",children:C.lowStockItems})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx(R3,{className:"size-6 text-yellow-600"})})]})})}),s.jsx(ht,{children:s.jsx(bt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:[" ",C.totalValue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsx("div",{className:"p-3 bg-teal-100 rounded-full",children:s.jsx(Fx,{className:"size-6 text-teal-600"})})]})})})]}),s.jsx("div",{className:"bg-white rounded-lg border p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[s.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[s.jsxs("div",{className:"relative flex-1 md:w-64",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 size-4"}),s.jsx(Le,{placeholder:"Search items...",value:i,onChange:F=>a(F.target.value),className:"pl-10"})]}),s.jsxs(Gr,{value:o,onValueChange:l,children:[s.jsx(Yr,{className:"w-full md:w-48",children:s.jsx(Xr,{placeholder:"All Categories"})}),s.jsxs(Kr,{children:[s.jsx(We,{value:"all",children:"All Categories"}),O.map(F=>s.jsx(We,{value:F,children:F},F))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i2,{id:"active-only",checked:c,onCheckedChange:d}),s.jsx(be,{htmlFor:"active-only",className:"text-sm",children:"Active Items Only"})]})]}),s.jsxs(ee,{onClick:A,className:"bg-orange-500 hover:bg-orange-600",children:[s.jsx(nl,{className:"size-4 mr-2"}),"Add Item"]})]})}),s.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:s.jsxs(s2,{children:[s.jsx(o2,{children:s.jsxs(Xu,{children:[s.jsx(cn,{children:"ID"}),s.jsx(cn,{children:"NAME"}),s.jsx(cn,{children:"CATEGORY"}),s.jsx(cn,{children:"STOCK"}),s.jsx(cn,{children:"UNIT"}),s.jsx(cn,{children:"MIN LEVEL"}),s.jsx(cn,{children:"COST/UNIT"}),s.jsx(cn,{children:"STATUS"}),s.jsx(cn,{className:"text-right",children:"ACTIONS"})]})}),s.jsx(l2,{children:k.length===0?s.jsx(Xu,{children:s.jsx(qr,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No items found"})}):k.map(F=>s.jsxs(Xu,{children:[s.jsx(qr,{className:"font-mono text-sm",children:F.id.slice(0,8)}),s.jsx(qr,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:F.name}),F.description&&s.jsx("p",{className:"text-sm text-gray-500",children:F.description})]})}),s.jsx(qr,{children:F.category}),s.jsxs(qr,{className:q(F),children:[F.stock.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",F.unit]}),s.jsx(qr,{children:F.unit}),s.jsxs(qr,{children:[F.minLevel," ",F.unit]}),s.jsxs(qr,{children:[" ",F.costPerUnit.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx(qr,{children:$(F)}),s.jsx(qr,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>x(F),className:"size-8",children:s.jsx(to,{className:"size-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>M(F),className:"size-8",children:s.jsx(Hx,{className:"size-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>B(F),className:"size-8",children:s.jsx(_3,{className:"size-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>b(F.id),className:"size-8 text-red-600 hover:text-red-700",children:s.jsx(ho,{className:"size-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8",title:"History",children:s.jsx(wY,{className:"size-4"})})]})})]},F.id))})]})}),s.jsx(ud,{open:f,onOpenChange:h,children:s.jsxs(dd,{className:"max-w-2xl",children:[s.jsxs(fd,{children:[s.jsx(hd,{children:m?"Edit Item":"Add New Item"}),s.jsx(bp,{children:m?"Update inventory item details":"Add a new item to your inventory"})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"name",children:"Item Name *"}),s.jsx(Le,{id:"name",value:S.name,onChange:F=>_({...S,name:F.target.value}),placeholder:"e.g., CUYI SUBLI INK - MAGENTA"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"category",children:"Category *"}),s.jsx(Le,{id:"category",value:S.category,onChange:F=>_({...S,category:F.target.value}),placeholder:"e.g., Sublimation Ink"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"description",children:"Description"}),s.jsx(Le,{id:"description",value:S.description,onChange:F=>_({...S,description:F.target.value}),placeholder:"Brief description of the item"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"stock",children:"Current Stock *"}),s.jsx(Le,{id:"stock",type:"number",value:S.stock,onChange:F=>_({...S,stock:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"unit",children:"Unit *"}),s.jsx(Le,{id:"unit",value:S.unit,onChange:F=>_({...S,unit:F.target.value}),placeholder:"e.g., bottle, kg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"minLevel",children:"Min Level *"}),s.jsx(Le,{id:"minLevel",type:"number",value:S.minLevel,onChange:F=>_({...S,minLevel:parseFloat(F.target.value)||0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"costPerUnit",children:"Cost per Unit () *"}),s.jsx(Le,{id:"costPerUnit",type:"number",step:"0.01",value:S.costPerUnit,onChange:F=>_({...S,costPerUnit:parseFloat(F.target.value)||0})})]})]}),s.jsxs(LD,{children:[s.jsx(ee,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsxs(ee,{onClick:D,className:"bg-orange-500 hover:bg-orange-600",children:[m?"Update":"Add"," Item"]})]})]})}),s.jsx(ud,{open:!!y,onOpenChange:()=>x(null),children:s.jsxs(dd,{children:[s.jsxs(fd,{children:[s.jsx(hd,{children:y?.name}),s.jsx(bp,{children:y?.description})]}),y&&s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-gray-600",children:"Category"}),s.jsx("p",{className:"font-medium",children:y.category})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-gray-600",children:"Status"}),s.jsx("div",{className:"mt-1",children:$(y)})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-gray-600",children:"Current Stock"}),s.jsxs("p",{className:`font-medium ${q(y)}`,children:[y.stock," ",y.unit]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-gray-600",children:"Minimum Level"}),s.jsxs("p",{className:"font-medium",children:[y.minLevel," ",y.unit]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-gray-600",children:"Cost per Unit"}),s.jsxs("p",{className:"font-medium",children:[" ",y.costPerUnit.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-gray-600",children:"Total Value"}),s.jsxs("p",{className:"font-medium",children:[" ",(y.stock*y.costPerUnit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),s.jsxs(LD,{children:[s.jsx(ee,{variant:"outline",onClick:()=>x(null),children:"Close"}),s.jsx(ee,{onClick:()=>{y&&(M(y),x(null))},className:"bg-orange-500 hover:bg-orange-600",children:"Edit"})]})]})}),s.jsx(bc,{open:!!j,onOpenChange:()=>b(null),children:s.jsxs(wc,{children:[s.jsxs(jc,{children:[s.jsx(Cc,{children:"Delete Item"}),s.jsx(Nc,{children:"Are you sure you want to delete this item? This action cannot be undone."})]}),s.jsxs(Sc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(_c,{onClick:()=>j&&L(j),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}var Qj,rR;function mi(){if(rR)return Qj;rR=1;var t=Array.isArray;return Qj=t,Qj}var e1,nR;function SU(){if(nR)return e1;nR=1;var t=typeof Xo=="object"&&Xo&&Xo.Object===Object&&Xo;return e1=t,e1}var t1,iR;function _s(){if(iR)return t1;iR=1;var t=SU(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return t1=r,t1}var r1,aR;function Im(){if(aR)return r1;aR=1;var t=_s(),e=t.Symbol;return r1=e,r1}var n1,sR;function ahe(){if(sR)return n1;sR=1;var t=Im(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var f=n.call(o);return d&&(l?o[i]=c:delete o[i]),f}return n1=a,n1}var i1,oR;function she(){if(oR)return i1;oR=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return i1=r,i1}var a1,lR;function go(){if(lR)return a1;lR=1;var t=Im(),e=ahe(),r=she(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return a1=o,a1}var s1,cR;function vo(){if(cR)return s1;cR=1;function t(e){return e!=null&&typeof e=="object"}return s1=t,s1}var o1,uR;function of(){if(uR)return o1;uR=1;var t=go(),e=vo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return o1=n,o1}var l1,dR;function c2(){if(dR)return l1;dR=1;var t=mi(),e=of(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return l1=i,l1}var c1,fR;function vl(){if(fR)return c1;fR=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return c1=t,c1}var u1,hR;function u2(){if(hR)return u1;hR=1;var t=go(),e=vl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==a}return u1=o,u1}var d1,pR;function ohe(){if(pR)return d1;pR=1;var t=_s(),e=t["__core-js_shared__"];return d1=e,d1}var f1,mR;function lhe(){if(mR)return f1;mR=1;var t=ohe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return f1=r,f1}var h1,gR;function CU(){if(gR)return h1;gR=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return h1=r,h1}var p1,vR;function che(){if(vR)return p1;vR=1;var t=u2(),e=lhe(),r=vl(),n=CU(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||e(m))return!1;var g=t(m)?f:a;return g.test(n(m))}return p1=h,p1}var m1,yR;function uhe(){if(yR)return m1;yR=1;function t(e,r){return e?.[r]}return m1=t,m1}var g1,xR;function Bc(){if(xR)return g1;xR=1;var t=che(),e=uhe();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return g1=r,g1}var v1,bR;function B0(){if(bR)return v1;bR=1;var t=Bc(),e=t(Object,"create");return v1=e,v1}var y1,wR;function dhe(){if(wR)return y1;wR=1;var t=B0();function e(){this.__data__=t?t(null):{},this.size=0}return y1=e,y1}var x1,jR;function fhe(){if(jR)return x1;jR=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return x1=t,x1}var b1,SR;function hhe(){if(SR)return b1;SR=1;var t=B0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return b1=i,b1}var w1,CR;function phe(){if(CR)return w1;CR=1;var t=B0(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return w1=n,w1}var j1,NR;function mhe(){if(NR)return j1;NR=1;var t=B0(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return j1=r,j1}var S1,_R;function ghe(){if(_R)return S1;_R=1;var t=dhe(),e=fhe(),r=hhe(),n=phe(),i=mhe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,S1=a,S1}var C1,OR;function vhe(){if(OR)return C1;OR=1;function t(){this.__data__=[],this.size=0}return C1=t,C1}var N1,PR;function d2(){if(PR)return N1;PR=1;function t(e,r){return e===r||e!==e&&r!==r}return N1=t,N1}var _1,kR;function H0(){if(kR)return _1;kR=1;var t=d2();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return _1=e,_1}var O1,TR;function yhe(){if(TR)return O1;TR=1;var t=H0(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return O1=n,O1}var P1,AR;function xhe(){if(AR)return P1;AR=1;var t=H0();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return P1=e,P1}var k1,ER;function bhe(){if(ER)return k1;ER=1;var t=H0();function e(r){return t(this.__data__,r)>-1}return k1=e,k1}var T1,MR;function whe(){if(MR)return T1;MR=1;var t=H0();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return T1=e,T1}var A1,DR;function W0(){if(DR)return A1;DR=1;var t=vhe(),e=yhe(),r=xhe(),n=bhe(),i=whe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,A1=a,A1}var E1,RR;function f2(){if(RR)return E1;RR=1;var t=Bc(),e=_s(),r=t(e,"Map");return E1=r,E1}var M1,IR;function jhe(){if(IR)return M1;IR=1;var t=ghe(),e=W0(),r=f2();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return M1=n,M1}var D1,LR;function She(){if(LR)return D1;LR=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return D1=t,D1}var R1,zR;function U0(){if(zR)return R1;zR=1;var t=She();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return R1=e,R1}var I1,FR;function Che(){if(FR)return I1;FR=1;var t=U0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return I1=e,I1}var L1,$R;function Nhe(){if($R)return L1;$R=1;var t=U0();function e(r){return t(this,r).get(r)}return L1=e,L1}var z1,BR;function _he(){if(BR)return z1;BR=1;var t=U0();function e(r){return t(this,r).has(r)}return z1=e,z1}var F1,HR;function Ohe(){if(HR)return F1;HR=1;var t=U0();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return F1=e,F1}var $1,WR;function h2(){if(WR)return $1;WR=1;var t=jhe(),e=Che(),r=Nhe(),n=_he(),i=Ohe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,$1=a,$1}var B1,UR;function NU(){if(UR)return B1;UR=1;var t=h2(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return a.cache=c.set(l,d)||c,d};return a.cache=new(r.Cache||t),a}return r.Cache=t,B1=r,B1}var H1,qR;function Phe(){if(qR)return H1;qR=1;var t=NU(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return H1=r,H1}var W1,VR;function khe(){if(VR)return W1;VR=1;var t=Phe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,d){a.push(c?d.replace(r,"$1"):l||o)}),a});return W1=n,W1}var U1,GR;function p2(){if(GR)return U1;GR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return U1=t,U1}var q1,XR;function The(){if(XR)return q1;XR=1;var t=Im(),e=p2(),r=mi(),n=of(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return q1=o,q1}var V1,YR;function _U(){if(YR)return V1;YR=1;var t=The();function e(r){return r==null?"":t(r)}return V1=e,V1}var G1,KR;function OU(){if(KR)return G1;KR=1;var t=mi(),e=c2(),r=khe(),n=_U();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return G1=i,G1}var X1,JR;function q0(){if(JR)return X1;JR=1;var t=of();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return X1=e,X1}var Y1,ZR;function m2(){if(ZR)return Y1;ZR=1;var t=OU(),e=q0();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return Y1=r,Y1}var K1,QR;function PU(){if(QR)return K1;QR=1;var t=m2();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return K1=e,K1}var Ahe=PU();const Mi=Lt(Ahe);var J1,eI;function Ehe(){if(eI)return J1;eI=1;function t(e){return e==null}return J1=t,J1}var Mhe=Ehe();const dt=Lt(Mhe);var Z1,tI;function Dhe(){if(tI)return Z1;tI=1;var t=go(),e=mi(),r=vo(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Z1=i,Z1}var Rhe=Dhe();const Pc=Lt(Rhe);var Ihe=u2();const st=Lt(Ihe);var Lhe=vl();const lf=Lt(Lhe);var Q1={exports:{}},$t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function zhe(){if(rI)return $t;rI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case t:switch(y=y.type,y){case r:case i:case n:case d:case f:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case c:case m:case h:case a:return y;default:return x}}case e:return x}}}return $t.ContextConsumer=o,$t.ContextProvider=a,$t.Element=t,$t.ForwardRef=c,$t.Fragment=r,$t.Lazy=m,$t.Memo=h,$t.Portal=e,$t.Profiler=i,$t.StrictMode=n,$t.Suspense=d,$t.SuspenseList=f,$t.isAsyncMode=function(){return!1},$t.isConcurrentMode=function(){return!1},$t.isContextConsumer=function(y){return b(y)===o},$t.isContextProvider=function(y){return b(y)===a},$t.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},$t.isForwardRef=function(y){return b(y)===c},$t.isFragment=function(y){return b(y)===r},$t.isLazy=function(y){return b(y)===m},$t.isMemo=function(y){return b(y)===h},$t.isPortal=function(y){return b(y)===e},$t.isProfiler=function(y){return b(y)===i},$t.isStrictMode=function(y){return b(y)===n},$t.isSuspense=function(y){return b(y)===d},$t.isSuspenseList=function(y){return b(y)===f},$t.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===d||y===f||y===g||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===a||y.$$typeof===o||y.$$typeof===c||y.$$typeof===j||y.getModuleId!==void 0)},$t.typeOf=b,$t}var nI;function Fhe(){return nI||(nI=1,Q1.exports=zhe()),Q1.exports}var $he=Fhe(),eS,iI;function kU(){if(iI)return eS;iI=1;var t=go(),e=vo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return eS=n,eS}var tS,aI;function Bhe(){if(aI)return tS;aI=1;var t=kU();function e(r){return t(r)&&r!=+r}return tS=e,tS}var Hhe=Bhe();const Lm=Lt(Hhe);var Whe=kU();const Uhe=Lt(Whe);var Un=function(e){return e===0?0:e>0?1:-1},ac=function(e){return Pc(e)&&e.indexOf("%")===e.length-1},ke=function(e){return Uhe(e)&&!Lm(e)},qhe=function(e){return dt(e)},Zr=function(e){return ke(e)||Pc(e)},Vhe=0,cf=function(e){var r=++Vhe;return"".concat(e||"").concat(r)},qn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!Pc(e))return n;var a;if(ac(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Lm(a)&&(a=n),i&&a>r&&(a=r),a},Go=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Ghe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Oi=function(e,r){return ke(e)&&ke(r)?function(n){return e+n*(r-e)}:function(){return r}};function Fy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Mi(n,e))===r})}var Xhe=function(e,r){return ke(e)&&ke(r)?e-r:Pc(e)&&Pc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Yu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Y_(t){"@babel/helpers - typeof";return Y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y_(t)}var Yhe=["viewBox","children"],Khe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sI=["points","pathLength"],rS={svg:Yhe,polygon:sI,polyline:sI},g2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$y=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!lf(n))return null;var i={};return Object.keys(n).forEach(function(a){g2.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Jhe=function(e,r,n){return function(i){return e(r,n,i),null}},kc=function(e,r,n){if(!lf(e)||Y_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];g2.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Jhe(o,r,n))}),i},Zhe=["children"],Qhe=["children"];function oI(t,e){if(t==null)return{};var r=epe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function epe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K_(t){"@babel/helpers - typeof";return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K_(t)}var lI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},cI=null,nS=null,v2=function t(e){if(e===cI&&Array.isArray(nS))return nS;var r=[];return w.Children.forEach(e,function(n){dt(n)||($he.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),nS=r,cI=e,r};function Di(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Zs(i)}):n=[Zs(e)],v2(t).forEach(function(i){var a=Mi(i,"type.displayName")||Mi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ni(t,e){var r=Di(t,e);return r&&r[0]}var uI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ke(n)||n<=0||!ke(i)||i<=0)},tpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rpe=function(e){return e&&e.type&&Pc(e.type)&&tpe.indexOf(e.type)>=0},npe=function(e){return e&&K_(e)==="object"&&"clipDot"in e},ipe=function(e,r,n,i){var a,o=(a=rS?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!st(e)&&(i&&o.includes(r)||Khe.includes(r))||n&&g2.includes(r)},rt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(w.isValidElement(e)&&(i=e.props),!lf(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;ipe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},J_=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return dI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!dI(a,o))return!1}return!0},dI=function(e,r){if(dt(e)&&dt(r))return!0;if(!dt(e)&&!dt(r)){var n=e.props||{},i=n.children,a=oI(n,Zhe),o=r.props||{},l=o.children,c=oI(o,Qhe);return i&&l?Yu(a,c)&&J_(i,l):!i&&!l?Yu(a,c):!1}return!1},fI=function(e,r){var n=[],i={};return v2(e).forEach(function(a,o){if(rpe(a))n.push(a);else if(a){var l=Zs(a.type),c=r[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var h=d(a,l,o);n.push(h),i[l]=!0}}}),n},ape=function(e){var r=e&&e.type;return r&&lI[r]?lI[r]:null},spe=function(e,r){return v2(r).indexOf(e)},ope=["children","width","height","viewBox","className","style","title","desc"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z_.apply(this,arguments)}function lpe(t,e){if(t==null)return{};var r=cpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q_(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,d=lpe(t,ope),f=i||{width:r,height:n,x:0,y:0},h=pt("recharts-surface",a);return Y.createElement("svg",Z_({},rt(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Y.createElement("title",null,l),Y.createElement("desc",null,c),e)}var upe=["children","className"];function eO(){return eO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eO.apply(this,arguments)}function dpe(t,e){if(t==null)return{};var r=fpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var At=Y.forwardRef(function(t,e){var r=t.children,n=t.className,i=dpe(t,upe),a=pt("recharts-layer",n);return Y.createElement("g",eO({className:a},rt(i,!0),{ref:e}),r)}),Aa=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},iS,hI;function hpe(){if(hI)return iS;hI=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return iS=t,iS}var aS,pI;function ppe(){if(pI)return aS;pI=1;var t=hpe();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return aS=e,aS}var sS,mI;function TU(){if(mI)return sS;mI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(d){return l.test(d)}return sS=c,sS}var oS,gI;function mpe(){if(gI)return oS;gI=1;function t(e){return e.split("")}return oS=t,oS}var lS,vI;function gpe(){if(vI)return lS;vI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",j=d+"?",b="["+a+"]?",y="(?:"+g+"(?:"+[f,h,m].join("|")+")"+b+j+")*",x=b+j+y,S="(?:"+[f+l+"?",l,h,m,o].join("|")+")",_=RegExp(c+"(?="+c+")|"+S+x,"g");function P(C){return C.match(_)||[]}return lS=P,lS}var cS,yI;function vpe(){if(yI)return cS;yI=1;var t=mpe(),e=TU(),r=gpe();function n(i){return e(i)?r(i):t(i)}return cS=n,cS}var uS,xI;function ype(){if(xI)return uS;xI=1;var t=ppe(),e=TU(),r=vpe(),n=_U();function i(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[a]()+d}}return uS=i,uS}var dS,bI;function xpe(){if(bI)return dS;bI=1;var t=ype(),e=t("toUpperCase");return dS=e,dS}var bpe=xpe();const V0=Lt(bpe);function er(t){return function(){return t}}const AU=Math.cos,By=Math.sin,Ua=Math.sqrt,Hy=Math.PI,G0=2*Hy,tO=Math.PI,rO=2*tO,Kl=1e-6,wpe=rO-Kl;function EU(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function jpe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return EU;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Spe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?EU:jpe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,d=i-r,f=o-e,h=l-r,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>Kl)if(!(Math.abs(h*c-d*f)>Kl)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-o,j=i-l,b=c*c+d*d,y=g*g+j*j,x=Math.sqrt(b),S=Math.sqrt(m),_=a*Math.tan((tO-Math.acos((b+m-y)/(2*x*S)))/2),P=_/S,C=_/x;Math.abs(P-1)>Kl&&this._append`L${e+P*f},${r+P*h}`,this._append`A${a},${a},0,0,${+(h*g>f*j)},${this._x1=e+C*c},${this._y1=r+C*d}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,f=r+c,h=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Kl||Math.abs(this._y1-f)>Kl)&&this._append`L${d},${f}`,n&&(m<0&&(m=m%rO+rO),m>wpe?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=f}`:m>Kl&&this._append`A${n},${n},0,${+(m>=tO)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function y2(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Spe(e)}function x2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MU(t){this._context=t}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function X0(t){return new MU(t)}function DU(t){return t[0]}function RU(t){return t[1]}function IU(t,e){var r=er(!0),n=null,i=X0,a=null,o=y2(l);t=typeof t=="function"?t:t===void 0?DU:er(t),e=typeof e=="function"?e:e===void 0?RU:er(e);function l(c){var d,f=(c=x2(c)).length,h,m=!1,g;for(n==null&&(a=i(g=o())),d=0;d<=f;++d)!(d<f&&r(h=c[d],d,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(h,d,c),+e(h,d,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:er(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:er(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:er(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function Nv(t,e,r){var n=null,i=er(!0),a=null,o=X0,l=null,c=y2(d);t=typeof t=="function"?t:t===void 0?DU:er(+t),e=typeof e=="function"?e:er(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?RU:er(+r);function d(h){var m,g,j,b=(h=x2(h)).length,y,x=!1,S,_=new Array(b),P=new Array(b);for(a==null&&(l=o(S=c())),m=0;m<=b;++m){if(!(m<b&&i(y=h[m],m,h))===x)if(x=!x)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),j=m-1;j>=g;--j)l.point(_[j],P[j]);l.lineEnd(),l.areaEnd()}x&&(_[m]=+t(y,m,h),P[m]=+e(y,m,h),l.point(n?+n(y,m,h):_[m],r?+r(y,m,h):P[m]))}if(S)return l=null,S+""||null}function f(){return IU().defined(i).curve(o).context(a)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:er(+h),n=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:er(+h),d):t},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:er(+h),d):n},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:er(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:er(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:er(+h),d):r},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(r)},d.lineX1=function(){return f().x(n).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:er(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),d):a},d}class LU{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Cpe(t){return new LU(t,!0)}function Npe(t){return new LU(t,!1)}const b2={draw(t,e){const r=Ua(e/Hy);t.moveTo(r,0),t.arc(0,0,r,0,G0)}},_pe={draw(t,e){const r=Ua(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},zU=Ua(1/3),Ope=zU*2,Ppe={draw(t,e){const r=Ua(e/Ope),n=r*zU;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},kpe={draw(t,e){const r=Ua(e),n=-r/2;t.rect(n,n,r,r)}},Tpe=.8908130915292852,FU=By(Hy/10)/By(7*Hy/10),Ape=By(G0/10)*FU,Epe=-AU(G0/10)*FU,Mpe={draw(t,e){const r=Ua(e*Tpe),n=Ape*r,i=Epe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=G0*a/5,l=AU(o),c=By(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},fS=Ua(3),Dpe={draw(t,e){const r=-Ua(e/(fS*3));t.moveTo(0,r*2),t.lineTo(-fS*r,-r),t.lineTo(fS*r,-r),t.closePath()}},Gi=-.5,Xi=Ua(3)/2,nO=1/Ua(12),Rpe=(nO/2+1)*3,Ipe={draw(t,e){const r=Ua(e/Rpe),n=r/2,i=r*nO,a=n,o=r*nO+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Gi*n-Xi*i,Xi*n+Gi*i),t.lineTo(Gi*a-Xi*o,Xi*a+Gi*o),t.lineTo(Gi*l-Xi*c,Xi*l+Gi*c),t.lineTo(Gi*n+Xi*i,Gi*i-Xi*n),t.lineTo(Gi*a+Xi*o,Gi*o-Xi*a),t.lineTo(Gi*l+Xi*c,Gi*c-Xi*l),t.closePath()}};function Lpe(t,e){let r=null,n=y2(i);t=typeof t=="function"?t:er(t||b2),e=typeof e=="function"?e:er(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:er(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:er(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Wy(){}function Uy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function $U(t){this._context=t}$U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zpe(t){return new $U(t)}function BU(t){this._context=t}BU.prototype={areaStart:Wy,areaEnd:Wy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fpe(t){return new BU(t)}function HU(t){this._context=t}HU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $pe(t){return new HU(t)}function WU(t){this._context=t}WU.prototype={areaStart:Wy,areaEnd:Wy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Bpe(t){return new WU(t)}function wI(t){return t<0?-1:1}function jI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(wI(a)+wI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function SI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function hS(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function qy(t){this._context=t}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hS(this,this._t0,SI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hS(this,SI(this,r=jI(this,t,e)),r);break;default:hS(this,this._t0,r=jI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function UU(t){this._context=new qU(t)}(UU.prototype=Object.create(qy.prototype)).point=function(t,e){qy.prototype.point.call(this,e,t)};function qU(t){this._context=t}qU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Hpe(t){return new qy(t)}function Wpe(t){return new UU(t)}function VU(t){this._context=t}VU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=CI(t),i=CI(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CI(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Upe(t){return new VU(t)}function Y0(t,e){this._context=t,this._t=e}Y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function qpe(t){return new Y0(t,.5)}function Vpe(t){return new Y0(t,0)}function Gpe(t){return new Y0(t,1)}function md(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function iO(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Xpe(t,e){return t[e]}function Ype(t){const e=[];return e.key=t,e}function Kpe(){var t=er([]),e=iO,r=md,n=Xpe;function i(a){var o=Array.from(t.apply(this,arguments),Ype),l,c=o.length,d=-1,f;for(const h of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,a)]).data=h;for(l=0,f=x2(e(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:er(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:er(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?iO:typeof a=="function"?a:er(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??md,i):r},i}function Jpe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}md(t,e)}}function Zpe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}md(t,e)}}function Qpe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],h=f[n][1]||0,m=f[n-1][1]||0,g=(h-m)/2,j=0;j<l;++j){var b=t[e[j]],y=b[n][1]||0,x=b[n-1][1]||0;g+=y-x}c+=h,d+=g*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,md(t,e)}}function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}var eme=["type","size","sizeType"];function aO(){return aO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aO.apply(this,arguments)}function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){tme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tme(t,e,r){return e=rme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rme(t){var e=nme(t,"string");return _p(e)=="symbol"?e:e+""}function nme(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ime(t,e){if(t==null)return{};var r=ame(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ame(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var GU={symbolCircle:b2,symbolCross:_pe,symbolDiamond:Ppe,symbolSquare:kpe,symbolStar:Mpe,symbolTriangle:Dpe,symbolWye:Ipe},sme=Math.PI/180,ome=function(e){var r="symbol".concat(V0(e));return GU[r]||b2},lme=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*sme;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cme=function(e,r){GU["symbol".concat(V0(e))]=r},w2=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=ime(e,eme),d=_I(_I({},c),{},{type:n,size:a,sizeType:l}),f=function(){var y=ome(n),x=Lpe().type(y).size(lme(a,l,n));return x()},h=d.className,m=d.cx,g=d.cy,j=rt(d,!0);return m===+m&&g===+g&&a===+a?Y.createElement("path",aO({},j,{className:pt("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:f()})):null};w2.registerSymbol=cme;function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sO.apply(this,arguments)}function OI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ume(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(r),!0).forEach(function(n){Op(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YU(n.key),n)}}function hme(t,e,r){return e&&fme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pme(t,e,r){return e=Vy(e),mme(t,XU()?Reflect.construct(e,r||[],Vy(t).constructor):e.apply(t,r))}function mme(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gme(t)}function gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XU=function(){return!!t})()}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(t)}function vme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}function oO(t,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oO(t,e)}function Op(t,e,r){return e=YU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YU(t){var e=yme(t,"string");return gd(e)=="symbol"?e:e+""}function yme(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yi=32,j2=(function(t){function e(){return dme(this,e),pme(this,e,arguments)}return vme(e,t),hme(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Yi/2,o=Yi/6,l=Yi/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Yi,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Yi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yi/8,"h").concat(Yi,"v").concat(Yi*3/4,"h").concat(-Yi,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var d=ume({},n);return delete d.legendIcon,Y.cloneElement(n.legendIcon,d)}return Y.createElement(w2,{fill:c,cx:a,cy:a,size:Yi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:Yi,height:Yi},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,j){var b=g.formatter||c,y=pt(Op(Op({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=st(g.value)?null:g.value;Aa(!st(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?d:g.color;return Y.createElement("li",sO({className:y,style:h,key:"legend-item-".concat(j)},kc(n.props,g,j)),Y.createElement(Q_,{width:o,height:o,viewBox:f,style:m},n.renderIcon(g)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(x,g,j):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(w.PureComponent);Op(j2,"displayName","Legend");Op(j2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pS,PI;function xme(){if(PI)return pS;PI=1;var t=W0();function e(){this.__data__=new t,this.size=0}return pS=e,pS}var mS,kI;function bme(){if(kI)return mS;kI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return mS=t,mS}var gS,TI;function wme(){if(TI)return gS;TI=1;function t(e){return this.__data__.get(e)}return gS=t,gS}var vS,AI;function jme(){if(AI)return vS;AI=1;function t(e){return this.__data__.has(e)}return vS=t,vS}var yS,EI;function Sme(){if(EI)return yS;EI=1;var t=W0(),e=f2(),r=h2(),n=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,o),this.size=l.size,this}return yS=i,yS}var xS,MI;function KU(){if(MI)return xS;MI=1;var t=W0(),e=xme(),r=bme(),n=wme(),i=jme(),a=Sme();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,xS=o,xS}var bS,DI;function Cme(){if(DI)return bS;DI=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return bS=e,bS}var wS,RI;function Nme(){if(RI)return wS;RI=1;function t(e){return this.__data__.has(e)}return wS=t,wS}var jS,II;function JU(){if(II)return jS;II=1;var t=h2(),e=Cme(),r=Nme();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,jS=n,jS}var SS,LI;function ZU(){if(LI)return SS;LI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return SS=t,SS}var CS,zI;function QU(){if(zI)return CS;zI=1;function t(e,r){return e.has(r)}return CS=t,CS}var NS,FI;function eq(){if(FI)return NS;FI=1;var t=JU(),e=ZU(),r=QU(),n=1,i=2;function a(o,l,c,d,f,h){var m=c&n,g=o.length,j=l.length;if(g!=j&&!(m&&j>g))return!1;var b=h.get(o),y=h.get(l);if(b&&y)return b==l&&y==o;var x=-1,S=!0,_=c&i?new t:void 0;for(h.set(o,l),h.set(l,o);++x<g;){var P=o[x],C=l[x];if(d)var O=m?d(C,P,x,l,o,h):d(P,C,x,o,l,h);if(O!==void 0){if(O)continue;S=!1;break}if(_){if(!e(l,function(k,A){if(!r(_,A)&&(P===k||f(P,k,c,d,h)))return _.push(A)})){S=!1;break}}else if(!(P===C||f(P,C,c,d,h))){S=!1;break}}return h.delete(o),h.delete(l),S}return NS=a,NS}var _S,$I;function _me(){if($I)return _S;$I=1;var t=_s(),e=t.Uint8Array;return _S=e,_S}var OS,BI;function Ome(){if(BI)return OS;BI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return OS=t,OS}var PS,HI;function S2(){if(HI)return PS;HI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return PS=t,PS}var kS,WI;function Pme(){if(WI)return kS;WI=1;var t=Im(),e=_me(),r=d2(),n=eq(),i=Ome(),a=S2(),o=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",j="[object Set]",b="[object String]",y="[object Symbol]",x="[object ArrayBuffer]",S="[object DataView]",_=t?t.prototype:void 0,P=_?_.valueOf:void 0;function C(O,k,A,M,D,L,B){switch(A){case S:if(O.byteLength!=k.byteLength||O.byteOffset!=k.byteOffset)return!1;O=O.buffer,k=k.buffer;case x:return!(O.byteLength!=k.byteLength||!L(new e(O),new e(k)));case c:case d:case m:return r(+O,+k);case f:return O.name==k.name&&O.message==k.message;case g:case b:return O==k+"";case h:var $=i;case j:var q=M&o;if($||($=a),O.size!=k.size&&!q)return!1;var F=B.get(O);if(F)return F==k;M|=l,B.set(O,k);var G=n($(O),$(k),M,D,L,B);return B.delete(O),G;case y:if(P)return P.call(O)==P.call(k)}return!1}return kS=C,kS}var TS,UI;function tq(){if(UI)return TS;UI=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return TS=t,TS}var AS,qI;function kme(){if(qI)return AS;qI=1;var t=tq(),e=mi();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return AS=r,AS}var ES,VI;function Tme(){if(VI)return ES;VI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return ES=t,ES}var MS,GI;function Ame(){if(GI)return MS;GI=1;function t(){return[]}return MS=t,MS}var DS,XI;function Eme(){if(XI)return DS;XI=1;var t=Tme(),e=Ame(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return DS=a,DS}var RS,YI;function Mme(){if(YI)return RS;YI=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return RS=t,RS}var IS,KI;function Dme(){if(KI)return IS;KI=1;var t=go(),e=vo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return IS=n,IS}var LS,JI;function C2(){if(JI)return LS;JI=1;var t=Dme(),e=vo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return LS=a,LS}var $h={exports:{}},zS,ZI;function Rme(){if(ZI)return zS;ZI=1;function t(){return!1}return zS=t,zS}$h.exports;var QI;function rq(){return QI||(QI=1,(function(t,e){var r=_s(),n=Rme(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})($h,$h.exports)),$h.exports}var FS,eL;function N2(){if(eL)return FS;eL=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return FS=r,FS}var $S,tL;function _2(){if(tL)return $S;tL=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return $S=e,$S}var BS,rL;function Ime(){if(rL)return BS;rL=1;var t=go(),e=_2(),r=vo(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",j="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",_="[object Float64Array]",P="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",L={};L[S]=L[_]=L[P]=L[C]=L[O]=L[k]=L[A]=L[M]=L[D]=!0,L[n]=L[i]=L[y]=L[a]=L[x]=L[o]=L[l]=L[c]=L[d]=L[f]=L[h]=L[m]=L[g]=L[j]=L[b]=!1;function B($){return r($)&&e($.length)&&!!L[t($)]}return BS=B,BS}var HS,nL;function nq(){if(nL)return HS;nL=1;function t(e){return function(r){return e(r)}}return HS=t,HS}var Bh={exports:{}};Bh.exports;var iL;function Lme(){return iL||(iL=1,(function(t,e){var r=SU(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Bh,Bh.exports)),Bh.exports}var WS,aL;function iq(){if(aL)return WS;aL=1;var t=Ime(),e=nq(),r=Lme(),n=r&&r.isTypedArray,i=n?e(n):t;return WS=i,WS}var US,sL;function zme(){if(sL)return US;sL=1;var t=Mme(),e=C2(),r=mi(),n=rq(),i=N2(),a=iq(),o=Object.prototype,l=o.hasOwnProperty;function c(d,f){var h=r(d),m=!h&&e(d),g=!h&&!m&&n(d),j=!h&&!m&&!g&&a(d),b=h||m||g||j,y=b?t(d.length,String):[],x=y.length;for(var S in d)(f||l.call(d,S))&&!(b&&(S=="length"||g&&(S=="offset"||S=="parent")||j&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,x)))&&y.push(S);return y}return US=c,US}var qS,oL;function Fme(){if(oL)return qS;oL=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return qS=e,qS}var VS,lL;function aq(){if(lL)return VS;lL=1;function t(e,r){return function(n){return e(r(n))}}return VS=t,VS}var GS,cL;function $me(){if(cL)return GS;cL=1;var t=aq(),e=t(Object.keys,Object);return GS=e,GS}var XS,uL;function Bme(){if(uL)return XS;uL=1;var t=Fme(),e=$me(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return XS=i,XS}var YS,dL;function zm(){if(dL)return YS;dL=1;var t=u2(),e=_2();function r(n){return n!=null&&e(n.length)&&!t(n)}return YS=r,YS}var KS,fL;function K0(){if(fL)return KS;fL=1;var t=zme(),e=Bme(),r=zm();function n(i){return r(i)?t(i):e(i)}return KS=n,KS}var JS,hL;function Hme(){if(hL)return JS;hL=1;var t=kme(),e=Eme(),r=K0();function n(i){return t(i,r,e)}return JS=n,JS}var ZS,pL;function Wme(){if(pL)return ZS;pL=1;var t=Hme(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,c,d,f){var h=l&e,m=t(a),g=m.length,j=t(o),b=j.length;if(g!=b&&!h)return!1;for(var y=g;y--;){var x=m[y];if(!(h?x in o:n.call(o,x)))return!1}var S=f.get(a),_=f.get(o);if(S&&_)return S==o&&_==a;var P=!0;f.set(a,o),f.set(o,a);for(var C=h;++y<g;){x=m[y];var O=a[x],k=o[x];if(c)var A=h?c(k,O,x,o,a,f):c(O,k,x,a,o,f);if(!(A===void 0?O===k||d(O,k,l,c,f):A)){P=!1;break}C||(C=x=="constructor")}if(P&&!C){var M=a.constructor,D=o.constructor;M!=D&&"constructor"in a&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof D=="function"&&D instanceof D)&&(P=!1)}return f.delete(a),f.delete(o),P}return ZS=i,ZS}var QS,mL;function Ume(){if(mL)return QS;mL=1;var t=Bc(),e=_s(),r=t(e,"DataView");return QS=r,QS}var eC,gL;function qme(){if(gL)return eC;gL=1;var t=Bc(),e=_s(),r=t(e,"Promise");return eC=r,eC}var tC,vL;function sq(){if(vL)return tC;vL=1;var t=Bc(),e=_s(),r=t(e,"Set");return tC=r,tC}var rC,yL;function Vme(){if(yL)return rC;yL=1;var t=Bc(),e=_s(),r=t(e,"WeakMap");return rC=r,rC}var nC,xL;function Gme(){if(xL)return nC;xL=1;var t=Ume(),e=f2(),r=qme(),n=sq(),i=Vme(),a=go(),o=CU(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",g=o(t),j=o(e),b=o(r),y=o(n),x=o(i),S=a;return(t&&S(new t(new ArrayBuffer(1)))!=m||e&&S(new e)!=l||r&&S(r.resolve())!=d||n&&S(new n)!=f||i&&S(new i)!=h)&&(S=function(_){var P=a(_),C=P==c?_.constructor:void 0,O=C?o(C):"";if(O)switch(O){case g:return m;case j:return l;case b:return d;case y:return f;case x:return h}return P}),nC=S,nC}var iC,bL;function Xme(){if(bL)return iC;bL=1;var t=KU(),e=eq(),r=Pme(),n=Wme(),i=Gme(),a=mi(),o=rq(),l=iq(),c=1,d="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function j(b,y,x,S,_,P){var C=a(b),O=a(y),k=C?f:i(b),A=O?f:i(y);k=k==d?h:k,A=A==d?h:A;var M=k==h,D=A==h,L=k==A;if(L&&o(b)){if(!o(y))return!1;C=!0,M=!1}if(L&&!M)return P||(P=new t),C||l(b)?e(b,y,x,S,_,P):r(b,y,k,x,S,_,P);if(!(x&c)){var B=M&&g.call(b,"__wrapped__"),$=D&&g.call(y,"__wrapped__");if(B||$){var q=B?b.value():b,F=$?y.value():y;return P||(P=new t),_(q,F,x,S,P)}}return L?(P||(P=new t),n(b,y,x,S,_,P)):!1}return iC=j,iC}var aC,wL;function O2(){if(wL)return aC;wL=1;var t=Xme(),e=vo();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,l)}return aC=r,aC}var sC,jL;function Yme(){if(jL)return sC;jL=1;var t=KU(),e=O2(),r=1,n=2;function i(a,o,l,c){var d=l.length,f=d,h=!c;if(a==null)return!f;for(a=Object(a);d--;){var m=l[d];if(h&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++d<f;){m=l[d];var g=m[0],j=a[g],b=m[1];if(h&&m[2]){if(j===void 0&&!(g in a))return!1}else{var y=new t;if(c)var x=c(j,b,g,a,o,y);if(!(x===void 0?e(b,j,r|n,c,y):x))return!1}}return!0}return sC=i,sC}var oC,SL;function oq(){if(SL)return oC;SL=1;var t=vl();function e(r){return r===r&&!t(r)}return oC=e,oC}var lC,CL;function Kme(){if(CL)return lC;CL=1;var t=oq(),e=K0();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,t(l)]}return i}return lC=r,lC}var cC,NL;function lq(){if(NL)return cC;NL=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return cC=t,cC}var uC,_L;function Jme(){if(_L)return uC;_L=1;var t=Yme(),e=Kme(),r=lq();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return uC=n,uC}var dC,OL;function Zme(){if(OL)return dC;OL=1;function t(e,r){return e!=null&&r in Object(e)}return dC=t,dC}var fC,PL;function Qme(){if(PL)return fC;PL=1;var t=OU(),e=C2(),r=mi(),n=N2(),i=_2(),a=q0();function o(l,c,d){c=t(c,l);for(var f=-1,h=c.length,m=!1;++f<h;){var g=a(c[f]);if(!(m=l!=null&&d(l,g)))break;l=l[g]}return m||++f!=h?m:(h=l==null?0:l.length,!!h&&i(h)&&n(g,h)&&(r(l)||e(l)))}return fC=o,fC}var hC,kL;function ege(){if(kL)return hC;kL=1;var t=Zme(),e=Qme();function r(n,i){return n!=null&&e(n,i,t)}return hC=r,hC}var pC,TL;function tge(){if(TL)return pC;TL=1;var t=O2(),e=PU(),r=ege(),n=c2(),i=oq(),a=lq(),o=q0(),l=1,c=2;function d(f,h){return n(f)&&i(h)?a(o(f),h):function(m){var g=e(m,f);return g===void 0&&g===h?r(m,f):t(h,g,l|c)}}return pC=d,pC}var mC,AL;function uf(){if(AL)return mC;AL=1;function t(e){return e}return mC=t,mC}var gC,EL;function rge(){if(EL)return gC;EL=1;function t(e){return function(r){return r?.[e]}}return gC=t,gC}var vC,ML;function nge(){if(ML)return vC;ML=1;var t=m2();function e(r){return function(n){return t(n,r)}}return vC=e,vC}var yC,DL;function ige(){if(DL)return yC;DL=1;var t=rge(),e=nge(),r=c2(),n=q0();function i(a){return r(a)?t(n(a)):e(a)}return yC=i,yC}var xC,RL;function Os(){if(RL)return xC;RL=1;var t=Jme(),e=tge(),r=uf(),n=mi(),i=ige();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return xC=a,xC}var bC,IL;function cq(){if(IL)return bC;IL=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return bC=t,bC}var wC,LL;function age(){if(LL)return wC;LL=1;function t(e){return e!==e}return wC=t,wC}var jC,zL;function sge(){if(zL)return jC;zL=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return jC=t,jC}var SC,FL;function oge(){if(FL)return SC;FL=1;var t=cq(),e=age(),r=sge();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return SC=n,SC}var CC,$L;function lge(){if($L)return CC;$L=1;var t=oge();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return CC=e,CC}var NC,BL;function cge(){if(BL)return NC;BL=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return NC=t,NC}var _C,HL;function uge(){if(HL)return _C;HL=1;function t(){}return _C=t,_C}var OC,WL;function dge(){if(WL)return OC;WL=1;var t=sq(),e=uge(),r=S2(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return OC=i,OC}var PC,UL;function fge(){if(UL)return PC;UL=1;var t=JU(),e=lge(),r=cge(),n=QU(),i=dge(),a=S2(),o=200;function l(c,d,f){var h=-1,m=e,g=c.length,j=!0,b=[],y=b;if(f)j=!1,m=r;else if(g>=o){var x=d?null:i(c);if(x)return a(x);j=!1,m=n,y=new t}else y=d?[]:b;e:for(;++h<g;){var S=c[h],_=d?d(S):S;if(S=f||S!==0?S:0,j&&_===_){for(var P=y.length;P--;)if(y[P]===_)continue e;d&&y.push(_),b.push(S)}else m(y,_,f)||(y!==b&&y.push(_),b.push(S))}return b}return PC=l,PC}var kC,qL;function hge(){if(qL)return kC;qL=1;var t=Os(),e=fge();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return kC=r,kC}var pge=hge();const VL=Lt(pge);function uq(t,e,r){return e===!0?VL(t,r):st(e)?VL(t,e):t}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}var mge=["ref"];function GL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(r),!0).forEach(function(n){J0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fq(n.key),n)}}function vge(t,e,r){return e&&XL(t.prototype,e),r&&XL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yge(t,e,r){return e=Gy(e),xge(t,dq()?Reflect.construct(e,r||[],Gy(t).constructor):e.apply(t,r))}function xge(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bge(t)}function bge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dq=function(){return!!t})()}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(t)}function wge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lO(t,e)}function lO(t,e){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lO(t,e)}function J0(t,e,r){return e=fq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fq(t){var e=jge(t,"string");return vd(e)=="symbol"?e:e+""}function jge(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sge(t,e){if(t==null)return{};var r=Cge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nge(t){return t.value}function _ge(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var r=Sge(e,mge);return Y.createElement(j2,r)}var YL=1,ms=(function(t){function e(){var r;gge(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=yge(this,e,[].concat(i)),J0(r,"lastBoundingBox",{width:-1,height:-1}),r}return wge(e,t),vge(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>YL||Math.abs(i.height-this.lastBoundingBox.height)>YL)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();h={left:((d||0)-g.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var j=this.getBBoxSnapshot();m={top:((f||0)-j.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return zs(zs({},h),m)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,h=zs(zs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},_ge(a,zs(zs({},this.props),{},{payload:uq(f,d,Nge)})))}}],[{key:"getWithHeight",value:function(n,i){var a=zs(zs({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(w.PureComponent);J0(ms,"displayName","Legend");J0(ms,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var TC,KL;function Oge(){if(KL)return TC;KL=1;var t=Im(),e=C2(),r=mi(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return TC=i,TC}var AC,JL;function hq(){if(JL)return AC;JL=1;var t=tq(),e=Oge();function r(n,i,a,o,l){var c=-1,d=n.length;for(a||(a=e),l||(l=[]);++c<d;){var f=n[c];i>0&&a(f)?i>1?r(f,i-1,a,o,l):t(l,f):o||(l[l.length]=f)}return l}return AC=r,AC}var EC,ZL;function Pge(){if(ZL)return EC;ZL=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),c=l.length;c--;){var d=l[e?c:++a];if(n(o[d],d,o)===!1)break}return r}}return EC=t,EC}var MC,QL;function kge(){if(QL)return MC;QL=1;var t=Pge(),e=t();return MC=e,MC}var DC,e5;function pq(){if(e5)return DC;e5=1;var t=kge(),e=K0();function r(n,i){return n&&t(n,i,e)}return DC=r,DC}var RC,t5;function Tge(){if(t5)return RC;t5=1;var t=zm();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return RC=e,RC}var IC,r5;function P2(){if(r5)return IC;r5=1;var t=pq(),e=Tge(),r=e(t);return IC=r,IC}var LC,n5;function mq(){if(n5)return LC;n5=1;var t=P2(),e=zm();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++a]=i(l,c,d)}),o}return LC=r,LC}var zC,i5;function Age(){if(i5)return zC;i5=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return zC=t,zC}var FC,a5;function Ege(){if(a5)return FC;a5=1;var t=of();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,f=n===n,h=t(n);if(!d&&!h&&!l&&r>n||l&&c&&f&&!d&&!h||a&&c&&f||!i&&f||!o)return 1;if(!a&&!l&&!h&&r<n||h&&i&&o&&!a&&!l||d&&i&&o||!c&&o||!f)return-1}return 0}return FC=e,FC}var $C,s5;function Mge(){if(s5)return $C;s5=1;var t=Ege();function e(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,c=o.length,d=i.length;++a<c;){var f=t(o[a],l[a]);if(f){if(a>=d)return f;var h=i[a];return f*(h=="desc"?-1:1)}}return r.index-n.index}return $C=e,$C}var BC,o5;function Dge(){if(o5)return BC;o5=1;var t=p2(),e=m2(),r=Os(),n=mq(),i=Age(),a=nq(),o=Mge(),l=uf(),c=mi();function d(f,h,m){h.length?h=t(h,function(b){return c(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):h=[l];var g=-1;h=t(h,a(r));var j=n(f,function(b,y,x){var S=t(h,function(_){return _(b)});return{criteria:S,index:++g,value:b}});return i(j,function(b,y){return o(b,y,m)})}return BC=d,BC}var HC,l5;function Rge(){if(l5)return HC;l5=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return HC=t,HC}var WC,c5;function Ige(){if(c5)return WC;c5=1;var t=Rge(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=a(d),t(n,this,f)}}return WC=r,WC}var UC,u5;function Lge(){if(u5)return UC;u5=1;function t(e){return function(){return e}}return UC=t,UC}var qC,d5;function gq(){if(d5)return qC;d5=1;var t=Bc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return qC=e,qC}var VC,f5;function zge(){if(f5)return VC;f5=1;var t=Lge(),e=gq(),r=uf(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return VC=n,VC}var GC,h5;function Fge(){if(h5)return GC;h5=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return GC=n,GC}var XC,p5;function $ge(){if(p5)return XC;p5=1;var t=zge(),e=Fge(),r=e(t);return XC=r,XC}var YC,m5;function Bge(){if(m5)return YC;m5=1;var t=uf(),e=Ige(),r=$ge();function n(i,a){return r(e(i,a,t),i+"")}return YC=n,YC}var KC,g5;function Z0(){if(g5)return KC;g5=1;var t=d2(),e=zm(),r=N2(),n=vl();function i(a,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return KC=i,KC}var JC,v5;function Hge(){if(v5)return JC;v5=1;var t=hq(),e=Dge(),r=Bge(),n=Z0(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return JC=i,JC}var Wge=Hge();const k2=Lt(Wge);function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function cO(){return cO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cO.apply(this,arguments)}function Uge(t,e){return Xge(t)||Gge(t,e)||Vge(t,e)||qge()}function qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(t,e){if(t){if(typeof t=="string")return y5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y5(t,e)}}function y5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Xge(t){if(Array.isArray(t))return t}function x5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(r),!0).forEach(function(n){Yge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yge(t,e,r){return e=Kge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kge(t){var e=Jge(t,"string");return Pp(e)=="symbol"?e:e+""}function Jge(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zge(t){return Array.isArray(t)&&Zr(t[0])&&Zr(t[1])?t.join(" ~ "):t}var Qge=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,h=e.formatter,m=e.itemSorter,g=e.wrapperClassName,j=e.labelClassName,b=e.label,y=e.labelFormatter,x=e.accessibilityLayer,S=x===void 0?!1:x,_=function(){if(f&&f.length){var B={padding:0,margin:0},$=(m?k2(f,m):f).map(function(q,F){if(q.type==="none")return null;var G=ZC({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),E=q.formatter||h||Zge,U=q.value,H=q.name,I=U,z=H;if(E&&I!=null&&z!=null){var V=E(U,H,q,F,f);if(Array.isArray(V)){var J=Uge(V,2);I=J[0],z=J[1]}else I=V}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:G},Zr(z)?Y.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Zr(z)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},I),Y.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:B},$)}return null},P=ZC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=ZC({margin:0},d),O=!dt(b),k=O?b:"",A=pt("recharts-default-tooltip",g),M=pt("recharts-tooltip-label",j);O&&y&&f!==void 0&&f!==null&&(k=y(b,f));var D=S?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",cO({className:A,style:P},D),Y.createElement("p",{className:M,style:C},Y.isValidElement(k)?k:"".concat(k)),_())};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function _v(t,e,r){return e=eve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eve(t){var e=tve(t,"string");return kp(e)=="symbol"?e:e+""}function tve(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dh="recharts-tooltip-wrapper",rve={visibility:"hidden"};function nve(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return pt(dh,_v(_v(_v(_v({},"".concat(dh,"-right"),ke(r)&&e&&ke(e.x)&&r>=e.x),"".concat(dh,"-left"),ke(r)&&e&&ke(e.x)&&r<e.x),"".concat(dh,"-bottom"),ke(n)&&e&&ke(e.y)&&n>=e.y),"".concat(dh,"-top"),ke(n)&&e&&ke(e.y)&&n<e.y))}function b5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&ke(a[n]))return a[n];var f=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?f:h;if(o[n]){var m=f,g=c[n];return m<g?Math.max(h,c[n]):Math.max(f,c[n])}var j=h+l,b=c[n]+d;return j>b?Math.max(f,c[n]):Math.max(h,c[n])}function ive(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ave(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,h;return o.height>0&&o.width>0&&r?(f=b5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=b5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=ive({translateX:f,translateY:h,useTranslate3d:l})):d=rve,{cssProperties:d,cssClasses:nve({translateX:f,translateY:h,coordinate:r})}}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function w5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(r),!0).forEach(function(n){dO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ove(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yq(n.key),n)}}function lve(t,e,r){return e&&ove(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cve(t,e,r){return e=Xy(e),uve(t,vq()?Reflect.construct(e,r||[],Xy(t).constructor):e.apply(t,r))}function uve(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dve(t)}function dve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vq=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}function fve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}function uO(t,e){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uO(t,e)}function dO(t,e,r){return e=yq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yq(t){var e=hve(t,"string");return yd(e)=="symbol"?e:e+""}function hve(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S5=1,pve=(function(t){function e(){var r;sve(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=cve(this,e,[].concat(i)),dO(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dO(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return fve(e,t),lve(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>S5||Math.abs(n.height-this.state.lastBoundingBox.height)>S5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,g=i.offset,j=i.position,b=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,_=ave({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:j,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),P=_.cssClasses,C=_.cssProperties,O=j5(j5({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return Y.createElement("div",{tabIndex:-1,className:P,style:O,ref:function(A){n.wrapperNode=A}},d)}}])})(w.PureComponent),mve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Hc={isSsr:mve()};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function C5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(r),!0).forEach(function(n){T2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bq(n.key),n)}}function yve(t,e,r){return e&&vve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xve(t,e,r){return e=Yy(e),bve(t,xq()?Reflect.construct(e,r||[],Yy(t).constructor):e.apply(t,r))}function bve(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wve(t)}function wve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xq=function(){return!!t})()}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(t)}function jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fO(t,e)}function fO(t,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fO(t,e)}function T2(t,e,r){return e=bq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bq(t){var e=Sve(t,"string");return xd(e)=="symbol"?e:e+""}function Sve(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cve(t){return t.dataKey}function Nve(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(Qge,e)}var oi=(function(t){function e(){return gve(this,e),xve(this,e,arguments)}return jve(e,t),yve(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,h=i.filterNull,m=i.isAnimationActive,g=i.offset,j=i.payload,b=i.payloadUniqBy,y=i.position,x=i.reverseDirection,S=i.useTranslate3d,_=i.viewBox,P=i.wrapperStyle,C=j??[];h&&C.length&&(C=uq(j.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),b,Cve));var O=C.length>0;return Y.createElement(pve,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:f,hasPayload:O,offset:g,position:y,reverseDirection:x,useTranslate3d:S,viewBox:_,wrapperStyle:P},Nve(d,N5(N5({},this.props),{},{payload:C})))}}])})(w.PureComponent);T2(oi,"displayName","Tooltip");T2(oi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Hc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var QC,_5;function _ve(){if(_5)return QC;_5=1;var t=_s(),e=function(){return t.Date.now()};return QC=e,QC}var eN,O5;function Ove(){if(O5)return eN;O5=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return eN=e,eN}var tN,P5;function Pve(){if(P5)return tN;P5=1;var t=Ove(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return tN=r,tN}var rN,k5;function wq(){if(k5)return rN;k5=1;var t=Pve(),e=vl(),r=of(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=a.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):i.test(d)?n:+d}return rN=c,rN}var nN,T5;function kve(){if(T5)return nN;T5=1;var t=vl(),e=_ve(),r=wq(),n="Expected a function",i=Math.max,a=Math.min;function o(l,c,d){var f,h,m,g,j,b,y=0,x=!1,S=!1,_=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(x=!!d.leading,S="maxWait"in d,m=S?i(r(d.maxWait)||0,c):m,_="trailing"in d?!!d.trailing:_);function P($){var q=f,F=h;return f=h=void 0,y=$,g=l.apply(F,q),g}function C($){return y=$,j=setTimeout(A,c),x?P($):g}function O($){var q=$-b,F=$-y,G=c-q;return S?a(G,m-F):G}function k($){var q=$-b,F=$-y;return b===void 0||q>=c||q<0||S&&F>=m}function A(){var $=e();if(k($))return M($);j=setTimeout(A,O($))}function M($){return j=void 0,_&&f?P($):(f=h=void 0,g)}function D(){j!==void 0&&clearTimeout(j),y=0,f=b=h=j=void 0}function L(){return j===void 0?g:M(e())}function B(){var $=e(),q=k($);if(f=arguments,h=this,b=$,q){if(j===void 0)return C(b);if(S)return clearTimeout(j),j=setTimeout(A,c),P(b)}return j===void 0&&(j=setTimeout(A,c)),g}return B.cancel=D,B.flush=L,B}return nN=o,nN}var iN,A5;function Tve(){if(A5)return iN;A5=1;var t=kve(),e=vl(),r="Expected a function";function n(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return iN=n,iN}var Ave=Tve();const jq=Lt(Ave);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function E5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ov(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(r),!0).forEach(function(n){Eve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eve(t,e,r){return e=Mve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mve(t){var e=Dve(t,"string");return Tp(e)=="symbol"?e:e+""}function Dve(t,e){if(Tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rve(t,e){return Fve(t)||zve(t,e)||Lve(t,e)||Ive()}function Ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lve(t,e){if(t){if(typeof t=="string")return M5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M5(t,e)}}function M5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Fve(t){if(Array.isArray(t))return t}var tp=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,h=t.minHeight,m=t.maxHeight,g=t.children,j=t.debounce,b=j===void 0?0:j,y=t.id,x=t.className,S=t.onResize,_=t.style,P=_===void 0?{}:_,C=w.useRef(null),O=w.useRef();O.current=S,w.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var k=w.useState({containerWidth:i.width,containerHeight:i.height}),A=Rve(k,2),M=A[0],D=A[1],L=w.useCallback(function($,q){D(function(F){var G=Math.round($),E=Math.round(q);return F.containerWidth===G&&F.containerHeight===E?F:{containerWidth:G,containerHeight:E}})},[]);w.useEffect(function(){var $=function(H){var I,z=H[0].contentRect,V=z.width,J=z.height;L(V,J),(I=O.current)===null||I===void 0||I.call(O,V,J)};b>0&&($=jq($,b,{trailing:!0,leading:!1}));var q=new ResizeObserver($),F=C.current.getBoundingClientRect(),G=F.width,E=F.height;return L(G,E),q.observe(C.current),function(){q.disconnect()}},[L,b]);var B=w.useMemo(function(){var $=M.containerWidth,q=M.containerHeight;if($<0||q<0)return null;Aa(ac(o)||ac(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Aa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=ac(o)?$:o,G=ac(c)?q:c;r&&r>0&&(F?G=F/r:G&&(F=G*r),m&&G>m&&(G=m)),Aa(F>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,G,o,c,f,h,r);var E=!Array.isArray(g)&&Zs(g.type).endsWith("Chart");return Y.Children.map(g,function(U){return Y.isValidElement(U)?w.cloneElement(U,Ov({width:F,height:G},E?{style:Ov({height:"100%",width:"100%",maxHeight:G,maxWidth:F},U.props.style)}:{})):U})},[r,g,c,m,h,f,M,o]);return Y.createElement("div",{id:y?"".concat(y):void 0,className:pt("recharts-responsive-container",x),style:Ov(Ov({},P),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:m}),ref:C},B)}),Q0=function(e){return null};Q0.displayName="Cell";function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function D5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(r),!0).forEach(function(n){$ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ve(t,e,r){return e=Bve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bve(t){var e=Hve(t,"string");return Ap(e)=="symbol"?e:e+""}function Hve(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cu={widthCache:{},cacheCount:0},Wve=2e3,Uve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R5="recharts_measurement_span";function qve(t){var e=hO({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var rp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hc.isSsr)return{width:0,height:0};var n=qve(r),i=JSON.stringify({text:e,copyStyle:n});if(Cu.widthCache[i])return Cu.widthCache[i];try{var a=document.getElementById(R5);a||(a=document.createElement("span"),a.setAttribute("id",R5),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=hO(hO({},Uve),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Cu.widthCache[i]=c,++Cu.cacheCount>Wve&&(Cu.cacheCount=0,Cu.widthCache={}),c}catch{return{width:0,height:0}}},Vve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function Ky(t,e){return Kve(t)||Yve(t,e)||Xve(t,e)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xve(t,e){if(t){if(typeof t=="string")return I5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I5(t,e)}}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Kve(t){if(Array.isArray(t))return t}function Jve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qve(n.key),n)}}function Zve(t,e,r){return e&&L5(t.prototype,e),r&&L5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qve(t){var e=eye(t,"string");return Ep(e)=="symbol"?e:e+""}function eye(t,e){if(Ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nye=Object.keys(Sq),Du="NaN";function iye(t,e){return t*Sq[e]}var Pv=(function(){function t(e,r){Jve(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!tye.test(r)&&(this.num=NaN,this.unit=""),nye.includes(r)&&(this.num=iye(e,r),this.unit="px")}return Zve(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=rye.exec(r))!==null&&n!==void 0?n:[],a=Ky(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])})();function Cq(t){if(t.includes(Du))return Du;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=z5.exec(e))!==null&&r!==void 0?r:[],i=Ky(n,4),a=i[1],o=i[2],l=i[3],c=Pv.parse(a??""),d=Pv.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Du;e=e.replace(z5,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=F5.exec(e))!==null&&h!==void 0?h:[],g=Ky(m,4),j=g[1],b=g[2],y=g[3],x=Pv.parse(j??""),S=Pv.parse(y??""),_=b==="+"?x.add(S):x.subtract(S);if(_.isNaN())return Du;e=e.replace(F5,_.toString())}return e}var $5=/\(([^()]*)\)/;function aye(t){for(var e=t;e.includes("(");){var r=$5.exec(e),n=Ky(r,2),i=n[1];e=e.replace($5,Cq(i))}return e}function sye(t){var e=t.replace(/\s+/g,"");return e=aye(e),e=Cq(e),e}function oye(t){try{return sye(t)}catch{return Du}}function aN(t){var e=oye(t.slice(5,-1));return e===Du?"":e}var lye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cye=["dx","dy","angle","className","breakAll"];function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pO.apply(this,arguments)}function B5(t,e){if(t==null)return{};var r=uye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function H5(t,e){return pye(t)||hye(t,e)||fye(t,e)||dye()}function dye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fye(t,e){if(t){if(typeof t=="string")return W5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W5(t,e)}}function W5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function pye(t){if(Array.isArray(t))return t}var Nq=/[ \f\n\r\t\v\u2028\u2029]+/,_q=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];dt(r)||(n?a=r.toString().split(""):a=r.toString().split(Nq));var o=a.map(function(c){return{word:c,width:rp(c,i).width}}),l=n?0:rp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},mye=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=ke(o),h=l,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(G,E){var U=E.word,H=E.width,I=G[G.length-1];if(I&&(i==null||a||I.width+H+n<Number(i)))I.words.push(U),I.width+=H+n;else{var z={words:[U],width:H};G.push(z)}return G},[])},g=m(r),j=function(F){return F.reduce(function(G,E){return G.width>E.width?G:E})};if(!f)return g;for(var b="",y=function(F){var G=h.slice(0,F),E=_q({breakAll:d,style:c,children:G+b}).wordsWithComputedWidth,U=m(E),H=U.length>o||j(U).width>Number(i);return[H,U]},x=0,S=h.length-1,_=0,P;x<=S&&_<=h.length-1;){var C=Math.floor((x+S)/2),O=C-1,k=y(O),A=H5(k,2),M=A[0],D=A[1],L=y(C),B=H5(L,1),$=B[0];if(!M&&!$&&(x=C+1),M&&$&&(S=C-1),!M&&$){P=D;break}_++}return P||g},U5=function(e){var r=dt(e)?[]:e.toString().split(Nq);return[{words:r}]},gye=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Hc.isSsr){var c,d,f=_q({breakAll:o,children:i,style:a});if(f){var h=f.wordsWithComputedWidth,m=f.spaceWidth;c=h,d=m}else return U5(i);return mye({breakAll:o,children:i,maxLines:l,style:a},c,d,r,n)}return U5(i)},q5="#808080",Tc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,m=e.textAnchor,g=m===void 0?"start":m,j=e.verticalAnchor,b=j===void 0?"end":j,y=e.fill,x=y===void 0?q5:y,S=B5(e,lye),_=w.useMemo(function(){return gye({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),P=S.dx,C=S.dy,O=S.angle,k=S.className,A=S.breakAll,M=B5(S,cye);if(!Zr(n)||!Zr(a))return null;var D=n+(ke(P)?P:0),L=a+(ke(C)?C:0),B;switch(b){case"start":B=aN("calc(".concat(d,")"));break;case"middle":B=aN("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:B=aN("calc(".concat(_.length-1," * -").concat(l,")"));break}var $=[];if(h){var q=_[0].width,F=S.width;$.push("scale(".concat((ke(F)?F/q:1)/q,")"))}return O&&$.push("rotate(".concat(O,", ").concat(D,", ").concat(L,")")),$.length&&(M.transform=$.join(" ")),Y.createElement("text",pO({},rt(M,!0),{x:D,y:L,className:pt("recharts-text",k),textAnchor:g,fill:x.includes("url")?q5:x}),_.map(function(G,E){var U=G.words.join(A?"":" ");return Y.createElement("tspan",{x:D,dy:E===0?B:l,key:"".concat(U,"-").concat(E)},U)}))};function rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function A2(t){let e,r,n;t.length!==2?(e=rl,r=(l,c)=>rl(t(l),c),n=(l,c)=>t(l)-c):(e=t===rl||t===vye?t:yye,r=t,n=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;r(l[h],c)<0?d=h+1:f=h}while(d<f)}return d}function a(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;r(l[h],c)<=0?d=h+1:f=h}while(d<f)}return d}function o(l,c,d=0,f=l.length){const h=i(l,c,d,f-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function yye(){return 0}function Oq(t){return t===null?NaN:+t}function*xye(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const bye=A2(rl),Fm=bye.right;A2(Oq).center;class V5 extends Map{constructor(e,r=Sye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(G5(this,e))}has(e){return super.has(G5(this,e))}set(e,r){return super.set(wye(this,e),r)}delete(e){return super.delete(jye(this,e))}}function G5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function wye({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function jye({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Sye(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cye(t=rl){if(t===rl)return Pq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Pq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nye=Math.sqrt(50),_ye=Math.sqrt(10),Oye=Math.sqrt(2);function Jy(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Nye?10:a>=_ye?5:a>=Oye?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?Jy(t,e,r*2):[l,c,d]}function mO(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Jy(e,t,r):Jy(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function gO(t,e,r){return e=+e,t=+t,r=+r,Jy(t,e,r)[2]}function vO(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?gO(e,t,r):gO(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function X5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Y5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function kq(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Pq:Cye(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,f=Math.log(c),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(c-h)/c)*(d-c/2<0?-1:1),g=Math.max(r,Math.floor(e-d*h/c+m)),j=Math.min(n,Math.floor(e+(c-d)*h/c+m));kq(t,e,g,j,i)}const a=t[e];let o=r,l=n;for(fh(t,r,e),i(t[n],a)>0&&fh(t,r,n);o<l;){for(fh(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?fh(t,r,l):(++l,fh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function fh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Pye(t,e,r){if(t=Float64Array.from(xye(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Y5(t);if(e>=1)return X5(t);var n,i=(n-1)*e,a=Math.floor(i),o=X5(kq(t,a).subarray(0,a+1)),l=Y5(t.subarray(a+1));return o+(l-o)*(i-a)}}function kye(t,e,r=Oq){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Tye(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ca(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function yo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yO=Symbol("implicit");function E2(){var t=new V5,e=[],r=[],n=yO;function i(a){let o=t.get(a);if(o===void 0){if(n!==yO)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new V5;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return E2(e,r).unknown(n)},ca.apply(i,arguments),i}function Mp(){var t=E2().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function h(){var m=e().length,g=i<n,j=g?i:n,b=g?n:i;a=(b-j)/Math.max(1,m-c+d*2),l&&(a=Math.floor(a)),j+=(b-j-a*(m-c))*f,o=a*(1-c),l&&(j=Math.round(j),o=Math.round(o));var y=Tye(m).map(function(x){return j+a*x});return r(g?y.reverse():y)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(m){return arguments.length?(l=!!m,h()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},t.copy=function(){return Mp(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},ca.apply(h(),arguments)}function Tq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Tq(e())},t}function np(){return Tq(Mp.apply(null,arguments).paddingInner(1))}function M2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Aq(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function $m(){}var Dp=.7,Zy=1/Dp,Ku="\\s*([+-]?\\d+)\\s*",Rp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Aye=/^#([0-9a-f]{3,8})$/,Eye=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),Mye=new RegExp(`^rgb\\(${gs},${gs},${gs}\\)$`),Dye=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${Rp}\\)$`),Rye=new RegExp(`^rgba\\(${gs},${gs},${gs},${Rp}\\)$`),Iye=new RegExp(`^hsl\\(${Rp},${gs},${gs}\\)$`),Lye=new RegExp(`^hsla\\(${Rp},${gs},${gs},${Rp}\\)$`),K5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M2($m,Ip,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:J5,formatHex:J5,formatHex8:zye,formatHsl:Fye,formatRgb:Z5,toString:Z5});function J5(){return this.rgb().formatHex()}function zye(){return this.rgb().formatHex8()}function Fye(){return Eq(this).formatHsl()}function Z5(){return this.rgb().formatRgb()}function Ip(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Aye.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Q5(e):r===3?new ci(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?kv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?kv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Eye.exec(t))?new ci(e[1],e[2],e[3],1):(e=Mye.exec(t))?new ci(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dye.exec(t))?kv(e[1],e[2],e[3],e[4]):(e=Rye.exec(t))?kv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Iye.exec(t))?r4(e[1],e[2]/100,e[3]/100,1):(e=Lye.exec(t))?r4(e[1],e[2]/100,e[3]/100,e[4]):K5.hasOwnProperty(t)?Q5(K5[t]):t==="transparent"?new ci(NaN,NaN,NaN,0):null}function Q5(t){return new ci(t>>16&255,t>>8&255,t&255,1)}function kv(t,e,r,n){return n<=0&&(t=e=r=NaN),new ci(t,e,r,n)}function $ye(t){return t instanceof $m||(t=Ip(t)),t?(t=t.rgb(),new ci(t.r,t.g,t.b,t.opacity)):new ci}function xO(t,e,r,n){return arguments.length===1?$ye(t):new ci(t,e,r,n??1)}function ci(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}M2(ci,xO,Aq($m,{brighter(t){return t=t==null?Zy:Math.pow(Zy,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dp:Math.pow(Dp,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ci(uc(this.r),uc(this.g),uc(this.b),Qy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e4,formatHex:e4,formatHex8:Bye,formatRgb:t4,toString:t4}));function e4(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}`}function Bye(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}${sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function t4(){const t=Qy(this.opacity);return`${t===1?"rgb(":"rgba("}${uc(this.r)}, ${uc(this.g)}, ${uc(this.b)}${t===1?")":`, ${t})`}`}function Qy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function uc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sc(t){return t=uc(t),(t<16?"0":"")+t.toString(16)}function r4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new _a(t,e,r,n)}function Eq(t){if(t instanceof _a)return new _a(t.h,t.s,t.l,t.opacity);if(t instanceof $m||(t=Ip(t)),!t)return new _a;if(t instanceof _a)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new _a(o,l,c,t.opacity)}function Hye(t,e,r,n){return arguments.length===1?Eq(t):new _a(t,e,r,n??1)}function _a(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}M2(_a,Hye,Aq($m,{brighter(t){return t=t==null?Zy:Math.pow(Zy,t),new _a(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dp:Math.pow(Dp,t),new _a(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ci(sN(t>=240?t-240:t+120,i,n),sN(t,i,n),sN(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new _a(n4(this.h),Tv(this.s),Tv(this.l),Qy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qy(this.opacity);return`${t===1?"hsl(":"hsla("}${n4(this.h)}, ${Tv(this.s)*100}%, ${Tv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function n4(t){return t=(t||0)%360,t<0?t+360:t}function Tv(t){return Math.max(0,Math.min(1,t||0))}function sN(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const D2=t=>()=>t;function Wye(t,e){return function(r){return t+r*e}}function Uye(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function qye(t){return(t=+t)==1?Mq:function(e,r){return r-e?Uye(e,r,t):D2(isNaN(e)?r:e)}}function Mq(t,e){var r=e-t;return r?Wye(t,r):D2(isNaN(t)?e:t)}const i4=(function t(e){var r=qye(e);function n(i,a){var o=r((i=xO(i)).r,(a=xO(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=Mq(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return n.gamma=t,n})(1);function Vye(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Gye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xye(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=df(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function Yye(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ex(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Kye(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=df(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var bO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oN=new RegExp(bO.source,"g");function Jye(t){return function(){return t}}function Zye(t){return function(e){return t(e)+""}}function Qye(t,e){var r=bO.lastIndex=oN.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=bO.exec(t))&&(i=oN.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:ex(n,i)})),r=oN.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Zye(c[0].x):Jye(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(d);return l.join("")})}function df(t,e){var r=typeof e,n;return e==null||r==="boolean"?D2(e):(r==="number"?ex:r==="string"?(n=Ip(e))?(e=n,i4):Qye:e instanceof Ip?i4:e instanceof Date?Yye:Gye(e)?Vye:Array.isArray(e)?Xye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kye:ex)(t,e)}function R2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function exe(t,e){e===void 0&&(e=t,t=df);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function txe(t){return function(){return t}}function tx(t){return+t}var a4=[0,1];function Vn(t){return t}function wO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:txe(isNaN(e)?NaN:.5)}function rxe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function nxe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=wO(i,n),a=r(o,a)):(n=wO(n,i),a=r(a,o)),function(l){return a(n(l))}}function ixe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=wO(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=Fm(t,l,1,n)-1;return a[c](i[c](l))}}function Bm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eb(){var t=a4,e=a4,r=df,n,i,a,o=Vn,l,c,d;function f(){var m=Math.min(t.length,e.length);return o!==Vn&&(o=rxe(t[0],t[m-1])),l=m>2?ixe:nxe,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=l(t.map(n),e,r)))(n(o(m)))}return h.invert=function(m){return o(i((d||(d=l(e,t.map(n),ex)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,tx),f()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),r=R2,f()},h.clamp=function(m){return arguments.length?(o=m?!0:Vn,f()):o!==Vn},h.interpolate=function(m){return arguments.length?(r=m,f()):r},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,g){return n=m,i=g,f()}}function I2(){return eb()(Vn,Vn)}function axe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function bd(t){return t=rx(Math.abs(t)),t?t[1]:NaN}function sxe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function oxe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var lxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lp(t){if(!(e=lxe.exec(t)))throw new Error("invalid format: "+t);var e;return new L2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lp.prototype=L2.prototype;function L2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}L2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cxe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Dq;function uxe(t,e){var r=rx(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Dq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+rx(t,Math.max(0,e+a-1))[0]}function s4(t,e){var r=rx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const o4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:axe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>s4(t*100,e),r:s4,s:uxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function l4(t){return t}var c4=Array.prototype.map,u4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dxe(t){var e=t.grouping===void 0||t.thousands===void 0?l4:sxe(c4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?l4:oxe(c4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=Lp(h);var m=h.fill,g=h.align,j=h.sign,b=h.symbol,y=h.zero,x=h.width,S=h.comma,_=h.precision,P=h.trim,C=h.type;C==="n"?(S=!0,C="g"):o4[C]||(_===void 0&&(_=12),P=!0,C="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var O=b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=b==="$"?n:/[%p]/.test(C)?o:"",A=o4[C],M=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(L){var B=O,$=k,q,F,G;if(C==="c")$=A(L)+$,L="";else{L=+L;var E=L<0||1/L<0;if(L=isNaN(L)?c:A(Math.abs(L),_),P&&(L=cxe(L)),E&&+L==0&&j!=="+"&&(E=!1),B=(E?j==="("?j:l:j==="-"||j==="("?"":j)+B,$=(C==="s"?u4[8+Dq/3]:"")+$+(E&&j==="("?")":""),M){for(q=-1,F=L.length;++q<F;)if(G=L.charCodeAt(q),48>G||G>57){$=(G===46?i+L.slice(q+1):L.slice(q))+$,L=L.slice(0,q);break}}}S&&!y&&(L=e(L,1/0));var U=B.length+L.length+$.length,H=U<x?new Array(x-U+1).join(m):"";switch(S&&y&&(L=e(H+L,H.length?x-$.length:1/0),H=""),g){case"<":L=B+L+$+H;break;case"=":L=B+H+L+$;break;case"^":L=H.slice(0,U=H.length>>1)+B+L+$+H.slice(U);break;default:L=H+B+L+$;break}return a(L)}return D.toString=function(){return h+""},D}function f(h,m){var g=d((h=Lp(h),h.type="f",h)),j=Math.max(-8,Math.min(8,Math.floor(bd(m)/3)))*3,b=Math.pow(10,-j),y=u4[8+j/3];return function(x){return g(b*x)+y}}return{format:d,formatPrefix:f}}var Av,z2,Rq;fxe({thousands:",",grouping:[3],currency:["$",""]});function fxe(t){return Av=dxe(t),z2=Av.format,Rq=Av.formatPrefix,Av}function hxe(t){return Math.max(0,-bd(Math.abs(t)))}function pxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bd(e)/3)))*3-bd(Math.abs(t)))}function mxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bd(e)-bd(t))+1}function Iq(t,e,r,n){var i=vO(t,e,r),a;switch(n=Lp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=pxe(i,o))&&(n.precision=a),Rq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=mxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=hxe(i))&&(n.precision=a-(n.type==="%")*2);break}}return z2(n)}function yl(t){var e=t.domain;return t.ticks=function(r){var n=e();return mO(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Iq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=gO(o,l,r),d===c)return n[i]=o,n[a]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function nx(){var t=I2();return t.copy=function(){return Bm(t,nx())},ca.apply(t,arguments),yl(t)}function Lq(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,tx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Lq(t).unknown(e)},t=arguments.length?Array.from(t,tx):[0,1],yl(r)}function zq(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function d4(t){return Math.log(t)}function f4(t){return Math.exp(t)}function gxe(t){return-Math.log(-t)}function vxe(t){return-Math.exp(-t)}function yxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xxe(t){return t===10?yxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function h4(t){return(e,r)=>-t(-e,r)}function F2(t){const e=t(d4,f4),r=e.domain;let n=10,i,a;function o(){return i=bxe(n),a=xxe(n),r()[0]<0?(i=h4(i),a=h4(a),t(gxe,vxe)):t(d4,f4),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const h=f<d;h&&([d,f]=[f,d]);let m=i(d),g=i(f),j,b;const y=l==null?10:+l;let x=[];if(!(n%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),d>0){for(;m<=g;++m)for(j=1;j<n;++j)if(b=m<0?j/a(-m):j*a(m),!(b<d)){if(b>f)break;x.push(b)}}else for(;m<=g;++m)for(j=n-1;j>=1;--j)if(b=m>0?j/a(-m):j*a(m),!(b<d)){if(b>f)break;x.push(b)}x.length*2<y&&(x=mO(d,f,y))}else x=mO(m,g,Math.min(g-m,y)).map(a);return h?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Lp(c)).precision==null&&(c.trim=!0),c=z2(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*n<n-.5&&(h*=n),h<=d?c(f):""}},e.nice=()=>r(zq(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function Fq(){const t=F2(eb()).domain([1,10]);return t.copy=()=>Bm(t,Fq()).base(t.base()),ca.apply(t,arguments),t}function p4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function m4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $2(t){var e=1,r=t(p4(e),m4(e));return r.constant=function(n){return arguments.length?t(p4(e=+n),m4(e)):e},yl(r)}function $q(){var t=$2(eb());return t.copy=function(){return Bm(t,$q()).constant(t.constant())},ca.apply(t,arguments)}function g4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jxe(t){return t<0?-t*t:t*t}function B2(t){var e=t(Vn,Vn),r=1;function n(){return r===1?t(Vn,Vn):r===.5?t(wxe,jxe):t(g4(r),g4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},yl(e)}function H2(){var t=B2(eb());return t.copy=function(){return Bm(t,H2()).exponent(t.exponent())},ca.apply(t,arguments),t}function Sxe(){return H2.apply(null,arguments).exponent(.5)}function v4(t){return Math.sign(t)*t*t}function Cxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Bq(){var t=I2(),e=[0,1],r=!1,n;function i(a){var o=Cxe(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(v4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,tx)).map(v4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Bq(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ca.apply(i,arguments),yl(i)}function Hq(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=kye(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Fm(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(rl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Hq().domain(t).range(e).unknown(n)},ca.apply(a,arguments)}function Wq(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Fm(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Wq().domain([t,e]).range(i).unknown(a)},ca.apply(yl(o),arguments)}function Uq(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Fm(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Uq().domain(t).range(e).unknown(r)},ca.apply(i,arguments)}const lN=new Date,cN=new Date;function Qr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return c},i.filter=a=>Qr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(lN.setTime(+a),cN.setTime(+o),t(lN),t(cN),Math.floor(r(lN,cN))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ix=Qr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ix.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ix);ix.range;const Vs=1e3,ra=Vs*60,Gs=ra*60,oo=Gs*24,W2=oo*7,y4=oo*30,uN=oo*365,oc=Qr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getUTCSeconds());oc.range;const U2=Qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs)},(t,e)=>{t.setTime(+t+e*ra)},(t,e)=>(e-t)/ra,t=>t.getMinutes());U2.range;const q2=Qr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ra)},(t,e)=>(e-t)/ra,t=>t.getUTCMinutes());q2.range;const V2=Qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs-t.getMinutes()*ra)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getHours());V2.range;const G2=Qr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getUTCHours());G2.range;const Hm=Qr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ra)/oo,t=>t.getDate()-1);Hm.range;const tb=Qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>t.getUTCDate()-1);tb.range;const qq=Qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>Math.floor(t/oo));qq.range;function Wc(t){return Qr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ra)/W2)}const rb=Wc(0),ax=Wc(1),Nxe=Wc(2),_xe=Wc(3),wd=Wc(4),Oxe=Wc(5),Pxe=Wc(6);rb.range;ax.range;Nxe.range;_xe.range;wd.range;Oxe.range;Pxe.range;function Uc(t){return Qr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/W2)}const nb=Uc(0),sx=Uc(1),kxe=Uc(2),Txe=Uc(3),jd=Uc(4),Axe=Uc(5),Exe=Uc(6);nb.range;sx.range;kxe.range;Txe.range;jd.range;Axe.range;Exe.range;const X2=Qr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());X2.range;const Y2=Qr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Y2.range;const lo=Qr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});lo.range;const co=Qr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());co.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});co.range;function Vq(t,e,r,n,i,a){const o=[[oc,1,Vs],[oc,5,5*Vs],[oc,15,15*Vs],[oc,30,30*Vs],[a,1,ra],[a,5,5*ra],[a,15,15*ra],[a,30,30*ra],[i,1,Gs],[i,3,3*Gs],[i,6,6*Gs],[i,12,12*Gs],[n,1,oo],[n,2,2*oo],[r,1,W2],[e,1,y4],[e,3,3*y4],[t,1,uN]];function l(d,f,h){const m=f<d;m&&([d,f]=[f,d]);const g=h&&typeof h.range=="function"?h:c(d,f,h),j=g?g.range(d,+f+1):[];return m?j.reverse():j}function c(d,f,h){const m=Math.abs(f-d)/h,g=A2(([,,y])=>y).right(o,m);if(g===o.length)return t.every(vO(d/uN,f/uN,h));if(g===0)return ix.every(Math.max(vO(d,f,h),1));const[j,b]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return j.every(b)}return[l,c]}const[Mxe,Dxe]=Vq(co,Y2,nb,qq,G2,q2),[Rxe,Ixe]=Vq(lo,X2,rb,Hm,V2,U2);function dN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Lxe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=ph(i),f=mh(i),h=ph(a),m=mh(a),g=ph(o),j=mh(o),b=ph(l),y=mh(l),x=ph(c),S=mh(c),_={a:E,A:U,b:H,B:I,c:null,d:C4,e:C4,f:s0e,g:g0e,G:y0e,H:n0e,I:i0e,j:a0e,L:Gq,m:o0e,M:l0e,p:z,q:V,Q:O4,s:P4,S:c0e,u:u0e,U:d0e,V:f0e,w:h0e,W:p0e,x:null,X:null,y:m0e,Y:v0e,Z:x0e,"%":_4},P={a:J,A:Q,b:se,B:oe,c:null,d:N4,e:N4,f:S0e,g:M0e,G:R0e,H:b0e,I:w0e,j:j0e,L:Yq,m:C0e,M:N0e,p:K,q:de,Q:O4,s:P4,S:_0e,u:O0e,U:P0e,V:k0e,w:T0e,W:A0e,x:null,X:null,y:E0e,Y:D0e,Z:I0e,"%":_4},C={a:D,A:L,b:B,B:$,c:q,d:j4,e:j4,f:Qxe,g:w4,G:b4,H:S4,I:S4,j:Yxe,L:Zxe,m:Xxe,M:Kxe,p:M,q:Gxe,Q:t0e,s:r0e,S:Jxe,u:Hxe,U:Wxe,V:Uxe,w:Bxe,W:qxe,x:F,X:G,y:w4,Y:b4,Z:Vxe,"%":e0e};_.x=O(r,_),_.X=O(n,_),_.c=O(e,_),P.x=O(r,P),P.X=O(n,P),P.c=O(e,P);function O(ae,ce){return function(xe){var le=[],Te=-1,Ne=0,Fe=ae.length,Ke,Re,mt;for(xe instanceof Date||(xe=new Date(+xe));++Te<Fe;)ae.charCodeAt(Te)===37&&(le.push(ae.slice(Ne,Te)),(Re=x4[Ke=ae.charAt(++Te)])!=null?Ke=ae.charAt(++Te):Re=Ke==="e"?" ":"0",(mt=ce[Ke])&&(Ke=mt(xe,Re)),le.push(Ke),Ne=Te+1);return le.push(ae.slice(Ne,Te)),le.join("")}}function k(ae,ce){return function(xe){var le=hh(1900,void 0,1),Te=A(le,ae,xe+="",0),Ne,Fe;if(Te!=xe.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ce&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Ne=fN(hh(le.y,0,1)),Fe=Ne.getUTCDay(),Ne=Fe>4||Fe===0?sx.ceil(Ne):sx(Ne),Ne=tb.offset(Ne,(le.V-1)*7),le.y=Ne.getUTCFullYear(),le.m=Ne.getUTCMonth(),le.d=Ne.getUTCDate()+(le.w+6)%7):(Ne=dN(hh(le.y,0,1)),Fe=Ne.getDay(),Ne=Fe>4||Fe===0?ax.ceil(Ne):ax(Ne),Ne=Hm.offset(Ne,(le.V-1)*7),le.y=Ne.getFullYear(),le.m=Ne.getMonth(),le.d=Ne.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Fe="Z"in le?fN(hh(le.y,0,1)).getUTCDay():dN(hh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Fe+5)%7:le.w+le.U*7-(Fe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,fN(le)):dN(le)}}function A(ae,ce,xe,le){for(var Te=0,Ne=ce.length,Fe=xe.length,Ke,Re;Te<Ne;){if(le>=Fe)return-1;if(Ke=ce.charCodeAt(Te++),Ke===37){if(Ke=ce.charAt(Te++),Re=C[Ke in x4?ce.charAt(Te++):Ke],!Re||(le=Re(ae,xe,le))<0)return-1}else if(Ke!=xe.charCodeAt(le++))return-1}return le}function M(ae,ce,xe){var le=d.exec(ce.slice(xe));return le?(ae.p=f.get(le[0].toLowerCase()),xe+le[0].length):-1}function D(ae,ce,xe){var le=g.exec(ce.slice(xe));return le?(ae.w=j.get(le[0].toLowerCase()),xe+le[0].length):-1}function L(ae,ce,xe){var le=h.exec(ce.slice(xe));return le?(ae.w=m.get(le[0].toLowerCase()),xe+le[0].length):-1}function B(ae,ce,xe){var le=x.exec(ce.slice(xe));return le?(ae.m=S.get(le[0].toLowerCase()),xe+le[0].length):-1}function $(ae,ce,xe){var le=b.exec(ce.slice(xe));return le?(ae.m=y.get(le[0].toLowerCase()),xe+le[0].length):-1}function q(ae,ce,xe){return A(ae,e,ce,xe)}function F(ae,ce,xe){return A(ae,r,ce,xe)}function G(ae,ce,xe){return A(ae,n,ce,xe)}function E(ae){return o[ae.getDay()]}function U(ae){return a[ae.getDay()]}function H(ae){return c[ae.getMonth()]}function I(ae){return l[ae.getMonth()]}function z(ae){return i[+(ae.getHours()>=12)]}function V(ae){return 1+~~(ae.getMonth()/3)}function J(ae){return o[ae.getUTCDay()]}function Q(ae){return a[ae.getUTCDay()]}function se(ae){return c[ae.getUTCMonth()]}function oe(ae){return l[ae.getUTCMonth()]}function K(ae){return i[+(ae.getUTCHours()>=12)]}function de(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ce=O(ae+="",_);return ce.toString=function(){return ae},ce},parse:function(ae){var ce=k(ae+="",!1);return ce.toString=function(){return ae},ce},utcFormat:function(ae){var ce=O(ae+="",P);return ce.toString=function(){return ae},ce},utcParse:function(ae){var ce=k(ae+="",!0);return ce.toString=function(){return ae},ce}}}var x4={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,zxe=/^%/,Fxe=/[\\^$*+?|[\]().{}]/g;function Et(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function $xe(t){return t.replace(Fxe,"\\$&")}function ph(t){return new RegExp("^(?:"+t.map($xe).join("|")+")","i")}function mh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Bxe(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Hxe(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Wxe(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Uxe(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function qxe(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function b4(t,e,r){var n=mn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function w4(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Vxe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Gxe(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Xxe(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function j4(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Yxe(t,e,r){var n=mn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function S4(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Kxe(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Jxe(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Zxe(t,e,r){var n=mn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Qxe(t,e,r){var n=mn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function e0e(t,e,r){var n=zxe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function t0e(t,e,r){var n=mn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function r0e(t,e,r){var n=mn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function C4(t,e){return Et(t.getDate(),e,2)}function n0e(t,e){return Et(t.getHours(),e,2)}function i0e(t,e){return Et(t.getHours()%12||12,e,2)}function a0e(t,e){return Et(1+Hm.count(lo(t),t),e,3)}function Gq(t,e){return Et(t.getMilliseconds(),e,3)}function s0e(t,e){return Gq(t,e)+"000"}function o0e(t,e){return Et(t.getMonth()+1,e,2)}function l0e(t,e){return Et(t.getMinutes(),e,2)}function c0e(t,e){return Et(t.getSeconds(),e,2)}function u0e(t){var e=t.getDay();return e===0?7:e}function d0e(t,e){return Et(rb.count(lo(t)-1,t),e,2)}function Xq(t){var e=t.getDay();return e>=4||e===0?wd(t):wd.ceil(t)}function f0e(t,e){return t=Xq(t),Et(wd.count(lo(t),t)+(lo(t).getDay()===4),e,2)}function h0e(t){return t.getDay()}function p0e(t,e){return Et(ax.count(lo(t)-1,t),e,2)}function m0e(t,e){return Et(t.getFullYear()%100,e,2)}function g0e(t,e){return t=Xq(t),Et(t.getFullYear()%100,e,2)}function v0e(t,e){return Et(t.getFullYear()%1e4,e,4)}function y0e(t,e){var r=t.getDay();return t=r>=4||r===0?wd(t):wd.ceil(t),Et(t.getFullYear()%1e4,e,4)}function x0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Et(e/60|0,"0",2)+Et(e%60,"0",2)}function N4(t,e){return Et(t.getUTCDate(),e,2)}function b0e(t,e){return Et(t.getUTCHours(),e,2)}function w0e(t,e){return Et(t.getUTCHours()%12||12,e,2)}function j0e(t,e){return Et(1+tb.count(co(t),t),e,3)}function Yq(t,e){return Et(t.getUTCMilliseconds(),e,3)}function S0e(t,e){return Yq(t,e)+"000"}function C0e(t,e){return Et(t.getUTCMonth()+1,e,2)}function N0e(t,e){return Et(t.getUTCMinutes(),e,2)}function _0e(t,e){return Et(t.getUTCSeconds(),e,2)}function O0e(t){var e=t.getUTCDay();return e===0?7:e}function P0e(t,e){return Et(nb.count(co(t)-1,t),e,2)}function Kq(t){var e=t.getUTCDay();return e>=4||e===0?jd(t):jd.ceil(t)}function k0e(t,e){return t=Kq(t),Et(jd.count(co(t),t)+(co(t).getUTCDay()===4),e,2)}function T0e(t){return t.getUTCDay()}function A0e(t,e){return Et(sx.count(co(t)-1,t),e,2)}function E0e(t,e){return Et(t.getUTCFullYear()%100,e,2)}function M0e(t,e){return t=Kq(t),Et(t.getUTCFullYear()%100,e,2)}function D0e(t,e){return Et(t.getUTCFullYear()%1e4,e,4)}function R0e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?jd(t):jd.ceil(t),Et(t.getUTCFullYear()%1e4,e,4)}function I0e(){return"+0000"}function _4(){return"%"}function O4(t){return+t}function P4(t){return Math.floor(+t/1e3)}var Nu,Jq,Zq;L0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function L0e(t){return Nu=Lxe(t),Jq=Nu.format,Nu.parse,Zq=Nu.utcFormat,Nu.utcParse,Nu}function z0e(t){return new Date(t)}function F0e(t){return t instanceof Date?+t:+new Date(+t)}function K2(t,e,r,n,i,a,o,l,c,d){var f=I2(),h=f.invert,m=f.domain,g=d(".%L"),j=d(":%S"),b=d("%I:%M"),y=d("%I %p"),x=d("%a %d"),S=d("%b %d"),_=d("%B"),P=d("%Y");function C(O){return(c(O)<O?g:l(O)<O?j:o(O)<O?b:a(O)<O?y:n(O)<O?i(O)<O?x:S:r(O)<O?_:P)(O)}return f.invert=function(O){return new Date(h(O))},f.domain=function(O){return arguments.length?m(Array.from(O,F0e)):m().map(z0e)},f.ticks=function(O){var k=m();return t(k[0],k[k.length-1],O??10)},f.tickFormat=function(O,k){return k==null?C:d(k)},f.nice=function(O){var k=m();return(!O||typeof O.range!="function")&&(O=e(k[0],k[k.length-1],O??10)),O?m(zq(k,O)):f},f.copy=function(){return Bm(f,K2(t,e,r,n,i,a,o,l,c,d))},f}function $0e(){return ca.apply(K2(Rxe,Ixe,lo,X2,rb,Hm,V2,U2,oc,Jq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B0e(){return ca.apply(K2(Mxe,Dxe,co,Y2,nb,tb,G2,q2,oc,Zq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ib(){var t=0,e=1,r,n,i,a,o=Vn,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(m){var g,j;return arguments.length?([g,j]=m,o=h(g,j),d):[o(0),o(1)]}}return d.range=f(df),d.rangeRound=f(R2),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),d}}function xl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qq(){var t=yl(ib()(Vn));return t.copy=function(){return xl(t,Qq())},yo.apply(t,arguments)}function eV(){var t=F2(ib()).domain([1,10]);return t.copy=function(){return xl(t,eV()).base(t.base())},yo.apply(t,arguments)}function tV(){var t=$2(ib());return t.copy=function(){return xl(t,tV()).constant(t.constant())},yo.apply(t,arguments)}function J2(){var t=B2(ib());return t.copy=function(){return xl(t,J2()).exponent(t.exponent())},yo.apply(t,arguments)}function H0e(){return J2.apply(null,arguments).exponent(.5)}function rV(){var t=[],e=Vn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Fm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Pye(t,a/n))},r.copy=function(){return rV(e).domain(t)},yo.apply(r,arguments)}function ab(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,d=Vn,f,h=!1,m;function g(b){return isNaN(b=+b)?m:(b=.5+((b=+f(b))-a)*(n*b<n*a?l:c),d(h?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([t,e,r]=b,i=f(t=+t),a=f(e=+e),o=f(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(b){return arguments.length?(h=!!b,g):h},g.interpolator=function(b){return arguments.length?(d=b,g):d};function j(b){return function(y){var x,S,_;return arguments.length?([x,S,_]=y,d=exe(b,[x,S,_]),g):[d(0),d(.5),d(1)]}}return g.range=j(df),g.rangeRound=j(R2),g.unknown=function(b){return arguments.length?(m=b,g):m},function(b){return f=b,i=b(t),a=b(e),o=b(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,g}}function nV(){var t=yl(ab()(Vn));return t.copy=function(){return xl(t,nV())},yo.apply(t,arguments)}function iV(){var t=F2(ab()).domain([.1,1,10]);return t.copy=function(){return xl(t,iV()).base(t.base())},yo.apply(t,arguments)}function aV(){var t=$2(ab());return t.copy=function(){return xl(t,aV()).constant(t.constant())},yo.apply(t,arguments)}function Z2(){var t=B2(ab());return t.copy=function(){return xl(t,Z2()).exponent(t.exponent())},yo.apply(t,arguments)}function W0e(){return Z2.apply(null,arguments).exponent(.5)}const k4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mp,scaleDiverging:nV,scaleDivergingLog:iV,scaleDivergingPow:Z2,scaleDivergingSqrt:W0e,scaleDivergingSymlog:aV,scaleIdentity:Lq,scaleImplicit:yO,scaleLinear:nx,scaleLog:Fq,scaleOrdinal:E2,scalePoint:np,scalePow:H2,scaleQuantile:Hq,scaleQuantize:Wq,scaleRadial:Bq,scaleSequential:Qq,scaleSequentialLog:eV,scaleSequentialPow:J2,scaleSequentialQuantile:rV,scaleSequentialSqrt:H0e,scaleSequentialSymlog:tV,scaleSqrt:Sxe,scaleSymlog:$q,scaleThreshold:Uq,scaleTime:$0e,scaleUtc:B0e,tickFormat:Iq},Symbol.toStringTag,{value:"Module"}));var hN,T4;function sb(){if(T4)return hN;T4=1;var t=of();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,f=l}return f}return hN=e,hN}var pN,A4;function sV(){if(A4)return pN;A4=1;function t(e,r){return e>r}return pN=t,pN}var mN,E4;function U0e(){if(E4)return mN;E4=1;var t=sb(),e=sV(),r=uf();function n(i){return i&&i.length?t(i,r,e):void 0}return mN=n,mN}var q0e=U0e();const ob=Lt(q0e);var gN,M4;function oV(){if(M4)return gN;M4=1;function t(e,r){return e<r}return gN=t,gN}var vN,D4;function V0e(){if(D4)return vN;D4=1;var t=sb(),e=oV(),r=uf();function n(i){return i&&i.length?t(i,r,e):void 0}return vN=n,vN}var G0e=V0e();const lb=Lt(G0e);var yN,R4;function X0e(){if(R4)return yN;R4=1;var t=p2(),e=Os(),r=mq(),n=mi();function i(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return yN=i,yN}var xN,I4;function Y0e(){if(I4)return xN;I4=1;var t=hq(),e=X0e();function r(n,i){return t(e(n,i),1)}return xN=r,xN}var K0e=Y0e();const J0e=Lt(K0e);var bN,L4;function Z0e(){if(L4)return bN;L4=1;var t=O2();function e(r,n){return t(r,n)}return bN=e,bN}var Q0e=Z0e();const Wm=Lt(Q0e);var ff=1e9,ebe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eT,ur=!0,la="[DecimalError] ",dc=la+"Invalid argument: ",Q2=la+"Exponent out of range: ",hf=Math.floor,Jl=Math.pow,tbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,un=1e7,ir=7,lV=9007199254740991,ox=hf(lV/ir),He={};He.absoluteValue=He.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};He.comparedTo=He.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};He.decimalPlaces=He.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ir;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(t){return Qs(this,new this.constructor(t))};He.dividedToIntegerBy=He.idiv=function(t){var e=this,r=e.constructor;return Yt(Qs(e,new r(t),0,1),r.precision)};He.equals=He.eq=function(t){return!this.cmp(t)};He.exponent=function(){return Rr(this)};He.greaterThan=He.gt=function(t){return this.cmp(t)>0};He.greaterThanOrEqualTo=He.gte=function(t){return this.cmp(t)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(t){return this.cmp(t)<0};He.lessThanOrEqualTo=He.lte=function(t){return this.cmp(t)<1};He.logarithm=He.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Pi))throw Error(la+"NaN");if(r.s<1)throw Error(la+(r.s?"NaN":"-Infinity"));return r.eq(Pi)?new n(0):(ur=!1,e=Qs(zp(r,a),zp(t,a),a),ur=!0,Yt(e,i))};He.minus=He.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dV(e,t):cV(e,(t.s=-t.s,t))};He.modulo=He.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(la+"NaN");return r.s?(ur=!1,e=Qs(r,t,0,1).times(t),ur=!0,r.minus(e)):Yt(new n(r),i)};He.naturalExponential=He.exp=function(){return uV(this)};He.naturalLogarithm=He.ln=function(){return zp(this)};He.negated=He.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};He.plus=He.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cV(e,t):dV(e,(t.s=-t.s,t))};He.precision=He.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(dc+t);if(e=Rr(i)+1,n=i.d.length-1,r=n*ir+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};He.squareRoot=He.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(la+"NaN")}for(t=Rr(l),ur=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=fs(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=hf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Qs(l,a,o+2)).times(.5),fs(a.d).slice(0,o)===(e=fs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Yt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return ur=!0,Yt(n,r)};He.times=He.mul=function(t){var e,r,n,i,a,o,l,c,d,f=this,h=f.constructor,m=f.d,g=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,r=f.e+t.e,c=m.length,d=g.length,c<d&&(a=m,m=g,g=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+g[n]*m[i-n-1]+e,a[i--]=l%un|0,e=l/un|0;a[i]=(a[i]+e)%un|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ur?Yt(t,h.precision):t};He.toDecimalPlaces=He.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(bs(t,0,ff),e===void 0?e=n.rounding:bs(e,0,8),Yt(r,t+Rr(r)+1,e))};He.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ac(n,!0):(bs(t,0,ff),e===void 0?e=i.rounding:bs(e,0,8),n=Yt(new i(n),t+1,e),r=Ac(n,!0,t+1)),r};He.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ac(i):(bs(t,0,ff),e===void 0?e=a.rounding:bs(e,0,8),n=Yt(new a(i),t+Rr(i)+1,e),r=Ac(n.abs(),!1,t+Rr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var t=this,e=t.constructor;return Yt(new e(t),Rr(t)+1,e.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Pi);if(l=new c(l),!l.s){if(t.s<1)throw Error(la+"Infinity");return l}if(l.eq(Pi))return l;if(n=c.precision,t.eq(Pi))return Yt(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=f<0?-f:f)<=lV){for(i=new c(Pi),e=Math.ceil(n/ir+4),ur=!1;r%2&&(i=i.times(l),F4(i.d,e)),r=hf(r/2),r!==0;)l=l.times(l),F4(l.d,e);return ur=!0,t.s<0?new c(Pi).div(i):Yt(i,n)}}else if(a<0)throw Error(la+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ur=!1,i=t.times(zp(l,n+d)),ur=!0,i=uV(i),i.s=a,i};He.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Rr(i),n=Ac(i,r<=a.toExpNeg||r>=a.toExpPos)):(bs(t,1,ff),e===void 0?e=a.rounding:bs(e,0,8),i=Yt(new a(i),t,e),r=Rr(i),n=Ac(i,t<=r||r<=a.toExpNeg,t)),n};He.toSignificantDigits=He.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(bs(t,1,ff),e===void 0?e=n.rounding:bs(e,0,8)),Yt(new n(r),t,e)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rr(t),r=t.constructor;return Ac(t,e<=r.toExpNeg||e>=r.toExpPos)};function cV(t,e){var r,n,i,a,o,l,c,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ur?Yt(e,h):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(h/ir),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/un|0,c[a]%=un;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ur?Yt(e,h):e}function bs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(dc+t)}function fs(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=ir-n.length,r&&(a+=qo(r)),a+=n;o=t[e],n=o+"",r=ir-n.length,r&&(a+=qo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Qs=(function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%un|0,o=a/un|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*un+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,d,f,h,m,g,j,b,y,x,S,_,P,C,O,k,A,M=n.constructor,D=n.s==i.s?1:-1,L=n.d,B=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(la+"Division by zero");for(c=n.e-i.e,k=B.length,C=L.length,g=new M(D),j=g.d=[],d=0;B[d]==(L[d]||0);)++d;if(B[d]>(L[d]||0)&&--c,a==null?S=a=M.precision:o?S=a+(Rr(n)-Rr(i))+1:S=a,S<0)return new M(0);if(S=S/ir+2|0,d=0,k==1)for(f=0,B=B[0],S++;(d<C||f)&&S--;d++)_=f*un+(L[d]||0),j[d]=_/B|0,f=_%B|0;else{for(f=un/(B[0]+1)|0,f>1&&(B=t(B,f),L=t(L,f),k=B.length,C=L.length),P=k,b=L.slice(0,k),y=b.length;y<k;)b[y++]=0;A=B.slice(),A.unshift(0),O=B[0],B[1]>=un/2&&++O;do f=0,l=e(B,b,k,y),l<0?(x=b[0],k!=y&&(x=x*un+(b[1]||0)),f=x/O|0,f>1?(f>=un&&(f=un-1),h=t(B,f),m=h.length,y=b.length,l=e(h,b,m,y),l==1&&(f--,r(h,k<m?A:B,m))):(f==0&&(l=f=1),h=B.slice()),m=h.length,m<y&&h.unshift(0),r(b,h,y),l==-1&&(y=b.length,l=e(B,b,k,y),l<1&&(f++,r(b,k<y?A:B,y))),y=b.length):l===0&&(f++,b=[0]),j[d++]=f,l&&b[0]?b[y++]=L[P]||0:(b=[L[P]],y=1);while((P++<C||b[0]!==void 0)&&S--)}return j[0]||j.shift(),g.e=c,Yt(g,o?a+Rr(g)+1:a)}})();function uV(t,e){var r,n,i,a,o,l,c=0,d=0,f=t.constructor,h=f.precision;if(Rr(t)>16)throw Error(Q2+Rr(t));if(!t.s)return new f(Pi);for(ur=!1,l=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(Jl(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new f(Pi),f.precision=l;;){if(i=Yt(i.times(t),l),r=r.times(++c),o=a.plus(Qs(i,r,l)),fs(o.d).slice(0,l)===fs(a.d).slice(0,l)){for(;d--;)a=Yt(a.times(a),l);return f.precision=h,e==null?(ur=!0,Yt(a,h)):a}a=o}}function Rr(t){for(var e=t.e*ir,r=t.d[0];r>=10;r/=10)e++;return e}function wN(t,e,r){if(e>t.LN10.sd())throw ur=!0,r&&(t.precision=r),Error(la+"LN10 precision limit exceeded");return Yt(new t(t.LN10),e)}function qo(t){for(var e="";t--;)e+="0";return e}function zp(t,e){var r,n,i,a,o,l,c,d,f,h=1,m=10,g=t,j=g.d,b=g.constructor,y=b.precision;if(g.s<1)throw Error(la+(g.s?"NaN":"-Infinity"));if(g.eq(Pi))return new b(0);if(e==null?(ur=!1,d=y):d=e,g.eq(10))return e==null&&(ur=!0),wN(b,d);if(d+=m,b.precision=d,r=fs(j),n=r.charAt(0),a=Rr(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=fs(g.d),n=r.charAt(0),h++;a=Rr(g),n>1?(g=new b("0."+r),a++):g=new b(n+"."+r.slice(1))}else return c=wN(b,d+2,y).times(a+""),g=zp(new b(n+"."+r.slice(1)),d-m).plus(c),b.precision=y,e==null?(ur=!0,Yt(g,y)):g;for(l=o=g=Qs(g.minus(Pi),g.plus(Pi),d),f=Yt(g.times(g),d),i=3;;){if(o=Yt(o.times(f),d),c=l.plus(Qs(o,new b(i),d)),fs(c.d).slice(0,d)===fs(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(wN(b,d+2,y).times(a+""))),l=Qs(l,new b(h),d),b.precision=y,e==null?(ur=!0,Yt(l,y)):l;l=c,i+=2}}function z4(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=hf(r/ir),t.d=[],n=(r+1)%ir,r<0&&(n+=ir),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ir;n<i;)t.d.push(+e.slice(n,n+=ir));e=e.slice(n),n=ir-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ur&&(t.e>ox||t.e<-ox))throw Error(Q2+r)}else t.s=0,t.e=0,t.d=[0];return t}function Yt(t,e,r){var n,i,a,o,l,c,d,f,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=ir,i=e,d=h[f=0];else{if(f=Math.ceil((n+1)/ir),a=h.length,f>=a)return t;for(d=a=h[f],o=1;a>=10;a/=10)o++;n%=ir,i=n-ir+o}if(r!==void 0&&(a=Jl(10,o-i-1),l=d/a%10|0,c=e<0||h[f+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/Jl(10,o-i):0:h[f-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=Rr(t),h.length=1,e=e-a-1,h[0]=Jl(10,(ir-e%ir)%ir),t.e=hf(-e/ir)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=f,a=1,f--):(h.length=f+1,a=Jl(10,ir-n),h[f]=i>0?(d/Jl(10,o-i)%Jl(10,i)|0)*a:0),c)for(;;)if(f==0){(h[0]+=a)==un&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=un)break;h[f--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(ur&&(t.e>ox||t.e<-ox))throw Error(Q2+Rr(t));return t}function dV(t,e){var r,n,i,a,o,l,c,d,f,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),ur?Yt(e,g):e;if(c=t.d,h=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(f=o<0,f?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),i=Math.max(Math.ceil(g/ir),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=un-1;--c[a],c[i]+=un}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ur?Yt(e,g):e):new m(0)}function Ac(t,e,r){var n,i=Rr(t),a=fs(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+qo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+qo(-i-1)+a,r&&(n=r-o)>0&&(a+=qo(n))):i>=o?(a+=qo(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+qo(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=qo(n))),t.s<0?"-"+a:a}function F4(t,e){if(t.length>e)return t.length=e,!0}function fV(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(dc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return z4(o,a.toString())}else if(typeof a!="string")throw Error(dc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,tbe.test(a))z4(o,a);else throw Error(dc+a)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fV,i.config=i.set=rbe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function rbe(t){if(!t||typeof t!="object")throw Error(la+"Object expected");var e,r,n,i=["precision",1,ff,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(hf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(dc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(dc+r+": "+n);return this}var eT=fV(ebe);Pi=new eT(1);const Vt=eT;function nbe(t){return obe(t)||sbe(t)||abe(t)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function abe(t,e){if(t){if(typeof t=="string")return jO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(t,e)}}function sbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function obe(t){if(Array.isArray(t))return jO(t)}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lbe=function(e){return e},hV={},pV=function(e){return e===hV},$4=function(e){return function r(){return arguments.length===0||arguments.length===1&&pV(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},cbe=function t(e,r){return e===1?r:$4(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==hV}).length;return o>=e?r.apply(void 0,i):t(e-o,$4(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(h){return pV(h)?c.shift():h});return r.apply(void 0,nbe(f).concat(c))}))})},cb=function(e){return cbe(e.length,e)},SO=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},ube=cb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),dbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return lbe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},CO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},mV=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function fbe(t){var e;return t===0?e=1:e=Math.floor(new Vt(t).abs().log(10).toNumber())+1,e}function hbe(t,e,r){for(var n=new Vt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var pbe=cb(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),mbe=cb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),gbe=cb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ub={rangeStep:hbe,getDigitCount:fbe,interpolateNumber:pbe,uninterpolateNumber:mbe,uninterpolateTruncation:gbe};function NO(t){return xbe(t)||ybe(t)||gV(t)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xbe(t){if(Array.isArray(t))return _O(t)}function Fp(t,e){return jbe(t)||wbe(t,e)||gV(t,e)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gV(t,e){if(t){if(typeof t=="string")return _O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wbe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function jbe(t){if(Array.isArray(t))return t}function vV(t){var e=Fp(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function yV(t,e,r){if(t.lte(0))return new Vt(0);var n=ub.getDigitCount(t.toNumber()),i=new Vt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new Vt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new Vt(Math.ceil(c))}function Sbe(t,e,r){var n=1,i=new Vt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Vt(10).pow(ub.getDigitCount(t)-1),i=new Vt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Vt(Math.floor(t)))}else t===0?i=new Vt(Math.floor((e-1)/2)):r||(i=new Vt(Math.floor(t)));var o=Math.floor((e-1)/2),l=dbe(ube(function(c){return i.add(new Vt(c-o).mul(n)).toNumber()}),SO);return l(0,e)}function xV(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var a=yV(new Vt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Vt(0):(o=new Vt(t).add(e).div(2),o=o.sub(new Vt(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Vt(e).sub(o).div(a).toNumber()),d=l+c+1;return d>r?xV(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:a,tickMin:o.sub(new Vt(l).mul(a)),tickMax:o.add(new Vt(c).mul(a))})}function Cbe(t){var e=Fp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=vV([r,n]),c=Fp(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var h=f===1/0?[d].concat(NO(SO(0,i-1).map(function(){return 1/0}))):[].concat(NO(SO(0,i-1).map(function(){return-1/0})),[f]);return r>n?CO(h):h}if(d===f)return Sbe(d,i,a);var m=xV(d,f,o,a),g=m.step,j=m.tickMin,b=m.tickMax,y=ub.rangeStep(j,b.add(new Vt(.1).mul(g)),g);return r>n?CO(y):y}function Nbe(t,e){var r=Fp(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=vV([n,i]),l=Fp(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var f=Math.max(e,2),h=yV(new Vt(d).sub(c).div(f-1),a,0),m=[].concat(NO(ub.rangeStep(new Vt(c),new Vt(d).sub(new Vt(.99).mul(h)),h)),[d]);return n>i?CO(m):m}var _be=mV(Cbe),Obe=mV(Nbe),Pbe="Invariant failed";function Ec(t,e){throw new Error(Pbe)}var kbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lx.apply(this,arguments)}function Tbe(t,e){return Dbe(t)||Mbe(t,e)||Ebe(t,e)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t,e){if(t){if(typeof t=="string")return B4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B4(t,e)}}function B4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Dbe(t){if(Array.isArray(t))return t}function Rbe(t,e){if(t==null)return{};var r=Ibe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ibe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jV(n.key),n)}}function Fbe(t,e,r){return e&&zbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $be(t,e,r){return e=cx(e),Bbe(t,bV()?Reflect.construct(e,r||[],cx(t).constructor):e.apply(t,r))}function Bbe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hbe(t)}function Hbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bV=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(t)}function Wbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OO(t,e)}function OO(t,e){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OO(t,e)}function wV(t,e,r){return e=jV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jV(t){var e=Ube(t,"string");return Sd(e)=="symbol"?e:e+""}function Ube(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Um=(function(t){function e(){return Lbe(this,e),$be(this,e,arguments)}return Wbe(e,t),Fbe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,m=Rbe(n,kbe),g=rt(m,!1);this.props.direction==="x"&&f.type!=="number"&&Ec();var j=c.map(function(b){var y=d(b,l),x=y.x,S=y.y,_=y.value,P=y.errorVal;if(!P)return null;var C=[],O,k;if(Array.isArray(P)){var A=Tbe(P,2);O=A[0],k=A[1]}else O=k=P;if(a==="vertical"){var M=f.scale,D=S+i,L=D+o,B=D-o,$=M(_-O),q=M(_+k);C.push({x1:q,y1:L,x2:q,y2:B}),C.push({x1:$,y1:D,x2:q,y2:D}),C.push({x1:$,y1:L,x2:$,y2:B})}else if(a==="horizontal"){var F=h.scale,G=x+i,E=G-o,U=G+o,H=F(_-O),I=F(_+k);C.push({x1:E,y1:I,x2:U,y2:I}),C.push({x1:G,y1:H,x2:G,y2:I}),C.push({x1:E,y1:H,x2:U,y2:H})}return Y.createElement(At,lx({className:"recharts-errorBar",key:"bar-".concat(C.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},g),C.map(function(z){return Y.createElement("line",lx({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return Y.createElement(At,{className:"recharts-errorBars"},j)}}])})(Y.Component);wV(Um,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wV(Um,"displayName","ErrorBar");function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function H4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(r),!0).forEach(function(n){qbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qbe(t,e,r){return e=Vbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vbe(t){var e=Gbe(t,"string");return $p(e)=="symbol"?e:e+""}function Gbe(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SV=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ni(r,ms);if(!o)return null;var l=ms.defaultProps,c=l!==void 0?Vl(Vl({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(f,h){var m=h.item,g=h.props,j=g.sectors||g.data||[];return f.concat(j.map(function(b){return{type:o.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):d=(n||[]).map(function(f){var h=f.item,m=h.type.defaultProps,g=m!==void 0?Vl(Vl({},m),h.props):{},j=g.dataKey,b=g.name,y=g.legendType,x=g.hide;return{inactive:x,dataKey:j,type:c.iconType||y||"square",color:tT(h),value:b||j,payload:g}}),Vl(Vl(Vl({},c),ms.getWithHeight(o,i)),{},{payload:d,item:o})};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function W4(t){return Jbe(t)||Kbe(t)||Ybe(t)||Xbe()}function Xbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybe(t,e){if(t){if(typeof t=="string")return PO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(t,e)}}function Kbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jbe(t){if(Array.isArray(t))return PO(t)}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(r),!0).forEach(function(n){Ju(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ju(t,e,r){return e=Zbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zbe(t){var e=Qbe(t,"string");return Bp(e)=="symbol"?e:e+""}function Qbe(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jr(t,e,r){return dt(t)||dt(e)?r:Zr(e)?Mi(t,e,r):st(e)?e(t):r}function ip(t,e,r,n){var i=J0e(t,function(l){return Jr(l,e)});if(r==="number"){var a=i.filter(function(l){return ke(l)||parseFloat(l)});return a.length?[lb(a),ob(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!dt(l)}):i;return o.map(function(l){return Zr(l)||l instanceof Date?l:""})}var ewe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,h=i[d].coordinate,m=d>=l-1?i[0].coordinate:i[d+1].coordinate,g=void 0;if(Un(h-f)!==Un(m-h)){var j=[];if(Un(m-h)===Un(c[1]-c[0])){g=m;var b=h+c[1]-c[0];j[0]=Math.min(b,(b+f)/2),j[1]=Math.max(b,(b+f)/2)}else{g=f;var y=m+c[1]-c[0];j[0]=Math.min(h,(y+h)/2),j[1]=Math.max(h,(y+h)/2)}var x=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>x[0]&&e<=x[1]||e>=j[0]&&e<=j[1]){o=i[d].index;break}}else{var S=Math.min(f,m),_=Math.max(f,m);if(e>(S+h)/2&&e<=(_+h)/2){o=i[d].index;break}}}else for(var P=0;P<l;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<l-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===l-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){o=n[P].index;break}return o},tT=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},twe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var f=a[l[c]].stackGroups,h=Object.keys(f),m=0,g=h.length;m<g;m++){var j=f[h[m]],b=j.items,y=j.cateAxisId,x=b.filter(function(k){return Zs(k.type).indexOf("Bar")>=0});if(x&&x.length){var S=x[0].type.defaultProps,_=S!==void 0?Cr(Cr({},S),x[0].props):x[0].props,P=_.barSize,C=_[y];o[C]||(o[C]=[]);var O=dt(P)?r:P;o[C].push({item:x[0],stackList:x.slice(1),barSize:dt(O)?void 0:qn(O,n,0)})}}return o},rwe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=qn(r,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,j=o.reduce(function(P,C){return P+C.barSize||0},0);j+=(c-1)*d,j>=i&&(j-=(c-1)*d,d=0),j>=i&&g>0&&(m=!0,g*=.9,j=c*g);var b=(i-j)/2>>0,y={offset:b-d,size:0};f=o.reduce(function(P,C){var O={item:C.item,position:{offset:y.offset+y.size+d,size:m?g:C.barSize}},k=[].concat(W4(P),[O]);return y=k[k.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){k.push({item:A,position:y})}),k},h)}else{var x=qn(n,i,0,!0);i-2*x-(c-1)*d<=0&&(d=0);var S=(i-2*x-(c-1)*d)/c;S>1&&(S>>=0);var _=l===+l?Math.min(S,l):S;f=o.reduce(function(P,C,O){var k=[].concat(W4(P),[{item:C.item,position:{offset:x+(S+d)*O+(S-_)/2,size:_}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},h)}return f},nwe=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=SV({children:a,legendWidth:c});if(d){var f=i||{},h=f.width,m=f.height,g=d.align,j=d.verticalAlign,b=d.layout;if((b==="vertical"||b==="horizontal"&&j==="middle")&&g!=="center"&&ke(e[g]))return Cr(Cr({},e),{},Ju({},g,e[g]+(h||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&j!=="middle"&&ke(e[j]))return Cr(Cr({},e),{},Ju({},j,e[j]+(m||0)))}return e},iwe=function(e,r,n){return dt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},CV=function(e,r,n,i,a){var o=r.props.children,l=Di(o,Um).filter(function(d){return iwe(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var h=Jr(f,n);if(dt(h))return d;var m=Array.isArray(h)?[lb(h),ob(h)]:[h,h],g=c.reduce(function(j,b){var y=Jr(f,b,0),x=m[0]-Math.abs(Array.isArray(y)?y[0]:y),S=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,j[0]),Math.max(S,j[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},awe=function(e,r,n,i,a){var o=r.map(function(l){return CV(e,l,n,a,i)}).filter(function(l){return!dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},NV=function(e,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&CV(e,c,d,i)||ip(e,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,h=d.length;f<h;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},_V=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},OV=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Xs=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&l?.length>=2?Un(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var m=a?a.indexOf(h):h;return{coordinate:i(m)+d,value:h,offset:d}});return f.filter(function(h){return!Lm(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:i(h)+d,value:h,index:m,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+d,value:h,offset:d}}):i.domain().map(function(h,m){return{coordinate:i(h)+d,value:a?a[h]:h,index:m,offset:d}})},jN=new WeakMap,Ev=function(e,r){if(typeof r!="function")return e;jN.has(e)||jN.set(e,new WeakMap);var n=jN.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},PV=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Mp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:nx(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:np(),realScaleType:"point"}:a==="category"?{scale:Mp(),realScaleType:"band"}:{scale:nx(),realScaleType:"linear"};if(Pc(i)){var c="scale".concat(V0(i));return{scale:(k4[c]||np)(),realScaleType:k4[c]?c:"point"}}return st(i)?{scale:i}:{scale:np(),realScaleType:"point"}},q4=1e-4,kV=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-q4,o=Math.max(i[0],i[1])+q4,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},swe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},owe=function(e,r){if(!r||r.length!==2||!ke(r[0])||!ke(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ke(e[0])||e[0]<n)&&(a[0]=n),(!ke(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},lwe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Lm(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},cwe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=Lm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},uwe={sign:lwe,expand:Jpe,none:md,silhouette:Zpe,wiggle:Qpe,positive:cwe},dwe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=uwe[n],o=Kpe().keys(i).value(function(l,c){return+Jr(l,c,0)}).order(iO).offset(a);return o(e)},fwe=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,m){var g,j=(g=m.type)!==null&&g!==void 0&&g.defaultProps?Cr(Cr({},m.type.defaultProps),m.props):m.props,b=j.stackId,y=j.hide;if(y)return h;var x=j[n],S=h[x]||{hasStack:!1,stackGroups:{}};if(Zr(b)){var _=S.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(m),S.hasStack=!0,S.stackGroups[b]=_}else S.stackGroups[cf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return Cr(Cr({},h),{},Ju({},x,S))},c),f={};return Object.keys(d).reduce(function(h,m){var g=d[m];if(g.hasStack){var j={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,y){var x=g.stackGroups[y];return Cr(Cr({},b),{},Ju({},y,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:dwe(e,x.items,a)}))},j)}return Cr(Cr({},h),{},Ju({},m,g))},f)},TV=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=_be(d,a,l);return e.domain([lb(f),ob(f)]),{niceTicks:f}}if(a&&i==="number"){var h=e.domain(),m=Obe(h,a,l);return{niceTicks:m}}return null};function V4(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!dt(i[e.dataKey])){var l=Fy(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Jr(i,dt(o)?e.dataKey:o);return dt(c)?null:e.scale(c)}var G4=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Jr(o,r.dataKey,r.domain[l]);return dt(c)?null:r.scale(c)-a/2+i},hwe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},pwe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Zr(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},mwe=function(e){return e.reduce(function(r,n){return[lb(n.concat([r[0]]).filter(ke)),ob(n.concat([r[1]]).filter(ke))]},[1/0,-1/0])},AV=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(d,f){var h=mwe(f.slice(r,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},X4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kO=function(e,r,n){if(st(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ke(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(X4.test(e[0])){var a=+X4.exec(e[0])[1];i[0]=r[0]-a}else st(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ke(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(Y4.test(e[1])){var o=+Y4.exec(e[1])[1];i[1]=r[1]+o}else st(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ux=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=k2(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},K4=function(e,r,n){return!e||!e.length||Wm(e,Mi(n,"type.defaultProps.domain"))?r:e},EV=function(e,r){var n=e.type.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,f=n.hide;return Cr(Cr({},rt(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:tT(e),value:Jr(r,i),type:c,payload:r,chartType:d,hide:f})};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function J4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(r),!0).forEach(function(n){MV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MV(t,e,r){return e=gwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gwe(t){var e=vwe(t,"string");return Hp(e)=="symbol"?e:e+""}function vwe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ywe(t,e){return jwe(t)||wwe(t,e)||bwe(t,e)||xwe()}function xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bwe(t,e){if(t){if(typeof t=="string")return Z4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(t,e)}}function Z4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function jwe(t){if(Array.isArray(t))return t}var dx=Math.PI/180,Swe=function(e){return e*180/Math.PI},tr=function(e,r,n,i){return{x:e+Math.cos(-dx*i)*n,y:r+Math.sin(-dx*i)*n}},DV=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Cwe=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=qn(e.cx,o,o/2),h=qn(e.cy,l,l/2),m=DV(o,l,n),g=qn(e.innerRadius,m,0),j=qn(e.outerRadius,m,m*.8),b=Object.keys(r);return b.reduce(function(y,x){var S=r[x],_=S.domain,P=S.reversed,C;if(dt(S.range))i==="angleAxis"?C=[c,d]:i==="radiusAxis"&&(C=[g,j]),P&&(C=[C[1],C[0]]);else{C=S.range;var O=C,k=ywe(O,2);c=k[0],d=k[1]}var A=PV(S,a),M=A.realScaleType,D=A.scale;D.domain(_).range(C),kV(D);var L=TV(D,$s($s({},S),{},{realScaleType:M})),B=$s($s($s({},S),L),{},{range:C,radius:j,realScaleType:M,scale:D,cx:f,cy:h,innerRadius:g,outerRadius:j,startAngle:c,endAngle:d});return $s($s({},y),{},MV({},x,B))},{})},Nwe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},_we=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=Nwe({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:Swe(d),angleInRadian:d}},Owe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Pwe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},Q4=function(e,r){var n=e.x,i=e.y,a=_we({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=Owe(r),h=f.startAngle,m=f.endAngle,g=l,j;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;j=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;j=g>=m&&g<=h}return j?$s($s({},r),{},{radius:o,angle:Pwe(g,r)}):null},RV=function(e){return!w.isValidElement(e)&&!st(e)&&typeof e!="boolean"?e.className:""};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}var kwe=["offset"];function Twe(t){return Dwe(t)||Mwe(t)||Ewe(t)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t,e){if(t){if(typeof t=="string")return TO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(t,e)}}function Mwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dwe(t){if(Array.isArray(t))return TO(t)}function TO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rwe(t,e){if(t==null)return{};var r=Iwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(r),!0).forEach(function(n){Lwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lwe(t,e,r){return e=zwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zwe(t){var e=Fwe(t,"string");return Wp(e)=="symbol"?e:e+""}function Fwe(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(this,arguments)}var $we=function(e){var r=e.value,n=e.formatter,i=dt(e.children)?r:e.children;return st(n)?n(i):i},Bwe=function(e,r){var n=Un(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Hwe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,d=c.cx,f=c.cy,h=c.innerRadius,m=c.outerRadius,g=c.startAngle,j=c.endAngle,b=c.clockWise,y=(h+m)/2,x=Bwe(g,j),S=x>=0?1:-1,_,P;i==="insideStart"?(_=g+S*o,P=b):i==="insideEnd"?(_=j-S*o,P=!b):i==="end"&&(_=j+S*o,P=b),P=x<=0?P:!P;var C=tr(d,f,y,_),O=tr(d,f,y,_+(P?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(P?0:1,`,
    `).concat(O.x,",").concat(O.y),A=dt(e.id)?cf("recharts-radial-line-"):e.id;return Y.createElement("text",Up({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",l)}),Y.createElement("defs",null,Y.createElement("path",{id:A,d:k})),Y.createElement("textPath",{xlinkHref:"#".concat(A)},r))},Wwe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,f=a.startAngle,h=a.endAngle,m=(f+h)/2;if(i==="outside"){var g=tr(o,l,d+n,m),j=g.x,b=g.y;return{x:j,y:b,textAnchor:j>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,x=tr(o,l,y,m),S=x.x,_=x.y;return{x:S,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Uwe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,d=o.width,f=o.height,h=f>=0?1:-1,m=h*i,g=h>0?"end":"start",j=h>0?"start":"end",b=d>=0?1:-1,y=b*i,x=b>0?"end":"start",S=b>0?"start":"end";if(a==="top"){var _={x:l+d/2,y:c-h*i,textAnchor:"middle",verticalAnchor:g};return Ur(Ur({},_),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var P={x:l+d/2,y:c+f+m,textAnchor:"middle",verticalAnchor:j};return Ur(Ur({},P),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(a==="left"){var C={x:l-y,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return Ur(Ur({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(a==="right"){var O={x:l+d+y,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return Ur(Ur({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var k=n?{width:d,height:f}:{};return a==="insideLeft"?Ur({x:l+y,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},k):a==="insideRight"?Ur({x:l+d-y,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?Ur({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:j},k):a==="insideBottom"?Ur({x:l+d/2,y:c+f-m,textAnchor:"middle",verticalAnchor:g},k):a==="insideTopLeft"?Ur({x:l+y,y:c+m,textAnchor:S,verticalAnchor:j},k):a==="insideTopRight"?Ur({x:l+d-y,y:c+m,textAnchor:x,verticalAnchor:j},k):a==="insideBottomLeft"?Ur({x:l+y,y:c+f-m,textAnchor:S,verticalAnchor:g},k):a==="insideBottomRight"?Ur({x:l+d-y,y:c+f-m,textAnchor:x,verticalAnchor:g},k):lf(a)&&(ke(a.x)||ac(a.x))&&(ke(a.y)||ac(a.y))?Ur({x:l+qn(a.x,d),y:c+qn(a.y,f),textAnchor:"end",verticalAnchor:"end"},k):Ur({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},qwe=function(e){return"cx"in e&&ke(e.cx)};function fn(t){var e=t.offset,r=e===void 0?5:e,n=Rwe(t,kwe),i=Ur({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,f=i.className,h=f===void 0?"":f,m=i.textBreakAll;if(!a||dt(l)&&dt(c)&&!w.isValidElement(d)&&!st(d))return null;if(w.isValidElement(d))return w.cloneElement(d,i);var g;if(st(d)){if(g=w.createElement(d,i),w.isValidElement(g))return g}else g=$we(i);var j=qwe(a),b=rt(i,!0);if(j&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Hwe(i,g,b);var y=j?Wwe(i):Uwe(i);return Y.createElement(Tc,Up({className:pt("recharts-label",h)},b,y,{breakAll:m}),g)}fn.displayName="Label";var IV=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,h=e.x,m=e.y,g=e.top,j=e.left,b=e.width,y=e.height,x=e.clockWise,S=e.labelViewBox;if(S)return S;if(ke(b)&&ke(y)){if(ke(h)&&ke(m))return{x:h,y:m,width:b,height:y};if(ke(g)&&ke(j))return{x:g,y:j,width:b,height:y}}return ke(h)&&ke(m)?{x:h,y:m,width:0,height:0}:ke(r)&&ke(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},Vwe=function(e,r){return e?e===!0?Y.createElement(fn,{key:"label-implicit",viewBox:r}):Zr(e)?Y.createElement(fn,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===fn?w.cloneElement(e,{key:"label-implicit",viewBox:r}):Y.createElement(fn,{key:"label-implicit",content:e,viewBox:r}):st(e)?Y.createElement(fn,{key:"label-implicit",content:e,viewBox:r}):lf(e)?Y.createElement(fn,Up({viewBox:r},e,{key:"label-implicit"})):null:null},Gwe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=IV(e),o=Di(i,fn).map(function(c,d){return w.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=Vwe(e.label,r||a);return[l].concat(Twe(o))};fn.parseViewBox=IV;fn.renderCallByParent=Gwe;var SN,tz;function Xwe(){if(tz)return SN;tz=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return SN=t,SN}var Ywe=Xwe();const Kwe=Lt(Ywe);function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}var Jwe=["valueAccessor"],Zwe=["data","dataKey","clockWise","id","textBreakAll"];function Qwe(t){return nje(t)||rje(t)||tje(t)||eje()}function eje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tje(t,e){if(t){if(typeof t=="string")return AO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AO(t,e)}}function rje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nje(t){if(Array.isArray(t))return AO(t)}function AO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fx.apply(this,arguments)}function rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(r),!0).forEach(function(n){ije(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ije(t,e,r){return e=aje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aje(t){var e=sje(t,"string");return qp(e)=="symbol"?e:e+""}function sje(t,e){if(qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iz(t,e){if(t==null)return{};var r=oje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lje=function(e){return Array.isArray(e.value)?Kwe(e.value):e.value};function eo(t){var e=t.valueAccessor,r=e===void 0?lje:e,n=iz(t,Jwe),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=iz(n,Zwe);return!i||!i.length?null:Y.createElement(At,{className:"recharts-label-list"},i.map(function(f,h){var m=dt(a)?r(f,h):Jr(f&&f.payload,a),g=dt(l)?{}:{id:"".concat(l,"-").concat(h)};return Y.createElement(fn,fx({},rt(f,!0),d,g,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:fn.parseViewBox(dt(o)?f:nz(nz({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}eo.displayName="LabelList";function cje(t,e){return t?t===!0?Y.createElement(eo,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||st(t)?Y.createElement(eo,{key:"labelList-implicit",data:e,content:t}):lf(t)?Y.createElement(eo,fx({data:e},t,{key:"labelList-implicit"})):null:null}function uje(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Di(n,eo).map(function(o,l){return w.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=cje(t.label,e);return[a].concat(Qwe(i))}eo.renderCallByParent=uje;function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function EO(){return EO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EO.apply(this,arguments)}function az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?az(Object(r),!0).forEach(function(n){dje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dje(t,e,r){return e=fje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fje(t){var e=hje(t,"string");return Vp(e)=="symbol"?e:e+""}function hje(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pje=function(e,r){var n=Un(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Mv=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,h=Math.asin(c/f)/dx,m=d?a:a+o*h,g=tr(r,n,f,m),j=tr(r,n,i,m),b=d?a-o*h:a,y=tr(r,n,f*Math.cos(h*dx),b);return{center:g,circleTangency:j,lineTangency:y,theta:h}},LV=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=pje(o,l),d=o+c,f=tr(r,n,a,o),h=tr(r,n,a,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=tr(r,n,i,o),j=tr(r,n,i,d);m+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},mje=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,h=Un(f-d),m=Mv({cx:r,cy:n,radius:a,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,j=m.lineTangency,b=m.theta,y=Mv({cx:r,cy:n,radius:a,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,S=y.lineTangency,_=y.theta,P=c?Math.abs(d-f):Math.abs(d-f)-b-_;if(P<0)return l?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LV({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f});var C="M ".concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var O=Mv({cx:r,cy:n,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=O.circleTangency,A=O.lineTangency,M=O.theta,D=Mv({cx:r,cy:n,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=D.circleTangency,B=D.lineTangency,$=D.theta,q=c?Math.abs(d-f):Math.abs(d-f)-M-$;if(q<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},gje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zV=function(e){var r=sz(sz({},gje),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,m=r.className;if(o<a||f===h)return null;var g=pt("recharts-sector",m),j=o-a,b=qn(l,j,0,!0),y;return b>0&&Math.abs(f-h)<360?y=mje({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,j/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):y=LV({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:h}),Y.createElement("path",EO({},rt(r,!0),{className:g,d:y,role:"img"}))};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function MO(){return MO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MO.apply(this,arguments)}function oz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(r),!0).forEach(function(n){vje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vje(t,e,r){return e=yje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yje(t){var e=xje(t,"string");return Gp(e)=="symbol"?e:e+""}function xje(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cz={curveBasisClosed:Fpe,curveBasisOpen:$pe,curveBasis:zpe,curveBumpX:Cpe,curveBumpY:Npe,curveLinearClosed:Bpe,curveLinear:X0,curveMonotoneX:Hpe,curveMonotoneY:Wpe,curveNatural:Upe,curveStep:qpe,curveStepAfter:Gpe,curveStepBefore:Vpe},Dv=function(e){return e.x===+e.x&&e.y===+e.y},gh=function(e){return e.x},vh=function(e){return e.y},bje=function(e,r){if(st(e))return e;var n="curve".concat(V0(e));return(n==="curveMonotone"||n==="curveBump")&&r?cz["".concat(n).concat(r==="vertical"?"Y":"X")]:cz[n]||X0},wje=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=bje(n,l),h=d?a.filter(function(b){return Dv(b)}):a,m;if(Array.isArray(o)){var g=d?o.filter(function(b){return Dv(b)}):o,j=h.map(function(b,y){return lz(lz({},b),{},{base:g[y]})});return l==="vertical"?m=Nv().y(vh).x1(gh).x0(function(b){return b.base.x}):m=Nv().x(gh).y1(vh).y0(function(b){return b.base.y}),m.defined(Dv).curve(f),m(j)}return l==="vertical"&&ke(o)?m=Nv().y(vh).x1(gh).x0(o):ke(o)?m=Nv().x(gh).y1(vh).y0(o):m=IU().x(gh).y(vh),m.defined(Dv).curve(f),m(h)},hx=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?wje(e):i;return w.createElement("path",MO({},rt(e,!1),$y(e),{className:pt("recharts-curve",r),d:o,ref:a}))},CN={exports:{}},NN,uz;function jje(){if(uz)return NN;uz=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return NN=t,NN}var _N,dz;function Sje(){if(dz)return _N;dz=1;var t=jje();function e(){}function r(){}return r.resetWarningCache=e,_N=function(){function n(o,l,c,d,f,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},_N}var fz;function Cje(){return fz||(fz=1,CN.exports=Sje()()),CN.exports}var Nje=Cje();const Bt=Lt(Nje);var _je=Object.getOwnPropertyNames,Oje=Object.getOwnPropertySymbols,Pje=Object.prototype.hasOwnProperty;function hz(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Rv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function kje(t){return t?.[Symbol.toStringTag]}function pz(t){return _je(t).concat(Oje(t))}var Tje=Object.hasOwn||(function(t,e){return Pje.call(t,e)});function qc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Aje="__v",Eje="__o",Mje="_owner",mz=Object.getOwnPropertyDescriptor,gz=Object.keys;function Dje(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Rje(t,e){return qc(t.getTime(),e.getTime())}function Ije(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Lje(t,e){return t===e}function vz(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=e.entries(),f=!1,h=0;(l=d.next())&&!l.done;){if(i[h]){h++;continue}var m=o.value,g=l.value;if(r.equals(m[0],g[0],c,h,t,e,r)&&r.equals(m[1],g[1],m[0],g[0],t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}var zje=qc;function Fje(t,e,r){var n=gz(t),i=n.length;if(gz(e).length!==i)return!1;for(;i-- >0;)if(!FV(t,e,r,n[i]))return!1;return!0}function yh(t,e,r){var n=pz(t),i=n.length;if(pz(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=n[i],!FV(t,e,r,a)||(o=mz(t,a),l=mz(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function $je(t,e){return qc(t.valueOf(),e.valueOf())}function Bje(t,e){return t.source===e.source&&t.flags===e.flags}function yz(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function Hje(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Wje(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function FV(t,e,r,n){return(n===Mje||n===Eje||n===Aje)&&(t.$$typeof||e.$$typeof)?!0:Tje(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Uje="[object Arguments]",qje="[object Boolean]",Vje="[object Date]",Gje="[object Error]",Xje="[object Map]",Yje="[object Number]",Kje="[object Object]",Jje="[object RegExp]",Zje="[object Set]",Qje="[object String]",e1e="[object URL]",t1e=Array.isArray,xz=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,bz=Object.assign,r1e=Object.prototype.toString.call.bind(Object.prototype.toString);function n1e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,m=t.areUrlsEqual,g=t.unknownTagComparators;return function(b,y,x){if(b===y)return!0;if(b==null||y==null)return!1;var S=typeof b;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?o(b,y,x):S==="function"?i(b,y,x):!1;var _=b.constructor;if(_!==y.constructor)return!1;if(_===Object)return l(b,y,x);if(t1e(b))return e(b,y,x);if(xz!=null&&xz(b))return h(b,y,x);if(_===Date)return r(b,y,x);if(_===RegExp)return d(b,y,x);if(_===Map)return a(b,y,x);if(_===Set)return f(b,y,x);var P=r1e(b);if(P===Vje)return r(b,y,x);if(P===Jje)return d(b,y,x);if(P===Xje)return a(b,y,x);if(P===Zje)return f(b,y,x);if(P===Kje)return typeof b.then!="function"&&typeof y.then!="function"&&l(b,y,x);if(P===e1e)return m(b,y,x);if(P===Gje)return n(b,y,x);if(P===Uje)return l(b,y,x);if(P===qje||P===Yje||P===Qje)return c(b,y,x);if(g){var C=g[P];if(!C){var O=kje(b);O&&(C=g[O])}if(C)return C(b,y,x)}return!1}}function i1e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?yh:Dje,areDatesEqual:Rje,areErrorsEqual:Ije,areFunctionsEqual:Lje,areMapsEqual:n?hz(vz,yh):vz,areNumbersEqual:zje,areObjectsEqual:n?yh:Fje,arePrimitiveWrappersEqual:$je,areRegExpsEqual:Bje,areSetsEqual:n?hz(yz,yh):yz,areTypedArraysEqual:n?yh:Hje,areUrlsEqual:Wje,unknownTagComparators:void 0};if(r&&(i=bz({},i,r(i))),e){var a=Rv(i.areArraysEqual),o=Rv(i.areMapsEqual),l=Rv(i.areObjectsEqual),c=Rv(i.areSetsEqual);i=bz({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function a1e(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function s1e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,d){var f=n(),h=f.cache,m=h===void 0?e?new WeakMap:void 0:h,g=f.meta;return r(c,d,{cache:m,equals:i,meta:g,strict:a})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,d){return r(c,d,o)}}var o1e=bl();bl({strict:!0});bl({circular:!0});bl({circular:!0,strict:!0});bl({createInternalComparator:function(){return qc}});bl({strict:!0,createInternalComparator:function(){return qc}});bl({circular:!0,createInternalComparator:function(){return qc}});bl({circular:!0,createInternalComparator:function(){return qc},strict:!0});function bl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=i1e(t),c=n1e(l),d=n?n(c):a1e(c);return s1e({circular:r,comparator:c,createState:i,equals:d,strict:o})}function l1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function wz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):l1e(i)};requestAnimationFrame(n)}function DO(t){"@babel/helpers - typeof";return DO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DO(t)}function c1e(t){return h1e(t)||f1e(t)||d1e(t)||u1e()}function u1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1e(t,e){if(t){if(typeof t=="string")return jz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jz(t,e)}}function jz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h1e(t){if(Array.isArray(t))return t}function p1e(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=c1e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){wz(i.bind(null,d),c);return}i(c),wz(i.bind(null,d));return}DO(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Sz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(r),!0).forEach(function(n){$V(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $V(t,e,r){return e=m1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m1e(t){var e=g1e(t,"string");return Xp(e)==="symbol"?e:String(e)}function g1e(t,e){if(Xp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v1e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},y1e=function(e){return e},x1e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ap=function(e,r){return Object.keys(r).reduce(function(n,i){return Cz(Cz({},n),{},$V({},i,e(i,r[i])))},{})},Nz=function(e,r,n){return e.map(function(i){return"".concat(x1e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function b1e(t,e){return S1e(t)||j1e(t,e)||BV(t,e)||w1e()}function w1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function S1e(t){if(Array.isArray(t))return t}function C1e(t){return O1e(t)||_1e(t)||BV(t)||N1e()}function N1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BV(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function _1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O1e(t){if(Array.isArray(t))return RO(t)}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var px=1e-4,HV=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},WV=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},_z=function(e,r){return function(n){var i=HV(e,r);return WV(i,n)}},P1e=function(e,r){return function(n){var i=HV(e,r),a=[].concat(C1e(i.map(function(o,l){return o*l}).slice(1)),[0]);return WV(a,n)}},Oz=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=b1e(d,4);i=f[0],a=f[1],o=f[2],l=f[3]}}}var h=_z(i,o),m=_z(a,l),g=P1e(i,o),j=function(x){return x>1?1:x<0?0:x},b=function(x){for(var S=x>1?1:x,_=S,P=0;P<8;++P){var C=h(_)-S,O=g(_);if(Math.abs(C-S)<px||O<px)return m(_);_=j(_-C/O)}return m(_)};return b.isStepper=!1,b},k1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,h,m){var g=-(f-h)*n,j=m*a,b=m+(g-j)*l/1e3,y=m*l/1e3+f;return Math.abs(y-h)<px&&Math.abs(b)<px?[h,0]:[y,b]};return c.isStepper=!0,c.dt=l,c},T1e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Oz(i);case"spring":return k1e();default:if(i.split("(")[0]==="cubic-bezier")return Oz(i)}return typeof i=="function"?i:null};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function Pz(t){return M1e(t)||E1e(t)||UV(t)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M1e(t){if(Array.isArray(t))return LO(t)}function kz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(r),!0).forEach(function(n){IO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IO(t,e,r){return e=D1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D1e(t){var e=R1e(t,"string");return Yp(e)==="symbol"?e:String(e)}function R1e(t,e){if(Yp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I1e(t,e){return F1e(t)||z1e(t,e)||UV(t,e)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UV(t,e){if(t){if(typeof t=="string")return LO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function F1e(t){if(Array.isArray(t))return t}var mx=function(e,r,n){return e+(r-e)*n},zO=function(e){var r=e.from,n=e.to;return r!==n},$1e=function t(e,r,n){var i=ap(function(a,o){if(zO(o)){var l=e(o.from,o.to,o.velocity),c=I1e(l,2),d=c[0],f=c[1];return bn(bn({},o),{},{from:d,velocity:f})}return o},r);return n<1?ap(function(a,o){return zO(o)?bn(bn({},o),{},{velocity:mx(o.velocity,i[a].velocity,n),from:mx(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const B1e=(function(t,e,r,n,i){var a=v1e(t,e),o=a.reduce(function(y,x){return bn(bn({},y),{},IO({},x,[t[x],e[x]]))},{}),l=a.reduce(function(y,x){return bn(bn({},y),{},IO({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,d,f,h=function(){return null},m=function(){return ap(function(x,S){return S.from},l)},g=function(){return!Object.values(l).filter(zO).length},j=function(x){d||(d=x);var S=x-d,_=S/r.dt;l=$1e(r,l,_),i(bn(bn(bn({},t),e),m())),d=x,g()||(c=requestAnimationFrame(h))},b=function(x){f||(f=x);var S=(x-f)/n,_=ap(function(C,O){return mx.apply(void 0,Pz(O).concat([r(S)]))},o);if(i(bn(bn(bn({},t),e),_)),S<1)c=requestAnimationFrame(h);else{var P=ap(function(C,O){return mx.apply(void 0,Pz(O).concat([r(1)]))},o);i(bn(bn(bn({},t),e),P))}};return h=r.isStepper?j:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var H1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function W1e(t,e){if(t==null)return{};var r=U1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U1e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ON(t){return X1e(t)||G1e(t)||V1e(t)||q1e()}function q1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(t,e){if(t){if(typeof t=="string")return FO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(t,e)}}function G1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X1e(t){if(Array.isArray(t))return FO(t)}function FO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(r),!0).forEach(function(n){Hh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hh(t,e,r){return e=qV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qV(n.key),n)}}function J1e(t,e,r){return e&&K1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qV(t){var e=Z1e(t,"string");return Cd(e)==="symbol"?e:String(e)}function Z1e(t,e){if(Cd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$O(t,e)}function $O(t,e){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$O(t,e)}function eSe(t){var e=tSe();return function(){var n=gx(t),i;if(e){var a=gx(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return BO(this,i)}}function BO(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HO(t)}function HO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(t)}var ws=(function(t){Q1e(r,t);var e=eSe(r);function r(n,i){var a;Y1e(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,h=o.steps,m=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HO(a)),a.changeStyle=a.changeStyle.bind(HO(a)),!l||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:f}),BO(a);if(h&&h.length)a.state={style:h[0].style};else if(d){if(typeof m=="function")return a.state={style:d},BO(a);a.state={style:c?Hh({},c,d):d}}else a.state={style:{}};return a}return J1e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,f=a.to,h=a.from,m=this.state.style;if(l){if(!o){var g={style:c?Hh({},c,f):f};this.state&&m&&(c&&m[c]!==f||!c&&m!==f)&&this.setState(g);return}if(!(o1e(i.to,f)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=j||d?h:i.to;if(this.state&&m){var y={style:c?Hh({},c,b):b};(c&&m[c]!==b||!c&&m!==b)&&this.setState(y)}this.runAnimation(xa(xa({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,g=B1e(o,l,T1e(d),c,this.changeStyle),j=function(){a.stopJSAnimation=g()};this.manager.start([m,f,j,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],f=d.style,h=d.duration,m=h===void 0?0:h,g=function(b,y,x){if(x===0)return b;var S=y.duration,_=y.easing,P=_===void 0?"ease":_,C=y.style,O=y.properties,k=y.onAnimationEnd,A=x>0?o[x-1]:y,M=O||Object.keys(C);if(typeof P=="function"||P==="spring")return[].concat(ON(b),[a.runJSAnimation.bind(a,{from:A.style,to:C,duration:S,easing:P}),S]);var D=Nz(M,S,P),L=xa(xa(xa({},A.style),C),{},{transition:D});return[].concat(ON(b),[L,S,k]).filter(y1e)};return this.manager.start([c].concat(ON(o.reduce(g,[f,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=p1e());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,g=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var b=l?Hh({},l,c):c,y=Nz(Object.keys(b),o,d);j.start([f,a,xa(xa({},b),{},{transition:y}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=W1e(i,H1e),d=w.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||d===0||o<=0)return a;var h=function(g){var j=g.props,b=j.style,y=b===void 0?{}:b,x=j.className,S=w.cloneElement(g,xa(xa({},c),{},{style:xa(xa({},y),f),className:x}));return S};return d===1?h(w.Children.only(a)):Y.createElement("div",null,w.Children.map(a,function(m){return h(m)}))}}]),r})(w.PureComponent);ws.displayName="Animate";ws.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ws.propTypes={from:Bt.oneOfType([Bt.object,Bt.string]),to:Bt.oneOfType([Bt.object,Bt.string]),attributeName:Bt.string,duration:Bt.number,begin:Bt.number,easing:Bt.oneOfType([Bt.string,Bt.func]),steps:Bt.arrayOf(Bt.shape({duration:Bt.number.isRequired,style:Bt.object.isRequired,easing:Bt.oneOfType([Bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Bt.func]),properties:Bt.arrayOf("string"),onAnimationEnd:Bt.func})),children:Bt.oneOfType([Bt.node,Bt.func]),isActive:Bt.bool,canBegin:Bt.bool,onAnimationEnd:Bt.func,shouldReAnimate:Bt.bool,onAnimationStart:Bt.func,onAnimationReStart:Bt.func};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vx.apply(this,arguments)}function rSe(t,e){return sSe(t)||aSe(t,e)||iSe(t,e)||nSe()}function nSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iSe(t,e){if(t){if(typeof t=="string")return Az(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Az(t,e)}}function Az(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function sSe(t){if(Array.isArray(t))return t}function Ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(r),!0).forEach(function(n){oSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oSe(t,e,r){return e=lSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lSe(t){var e=cSe(t,"string");return Kp(e)=="symbol"?e:e+""}function cSe(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dz=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>o?o:a[m];f="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),f+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*h[1])),f+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),f+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-l*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var j=Math.min(o,a);f="M ".concat(e,",").concat(r+l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(e+c*j,",").concat(r,`
            L `).concat(e+n-c*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*j,`
            L `).concat(e+n,",").concat(r+i-l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(e+n-c*j,",").concat(r+i,`
            L `).concat(e+c*j,",").concat(r+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(e,",").concat(r+i-l*j," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},uSe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),f=Math.max(a,a+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return n>=d&&n<=f&&i>=h&&i<=m}return!1},dSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rT=function(e){var r=Mz(Mz({},dSe),e),n=w.useRef(),i=w.useState(-1),a=rSe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&l(P)}catch{}},[]);var c=r.x,d=r.y,f=r.width,h=r.height,m=r.radius,g=r.className,j=r.animationEasing,b=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||f===0||h===0)return null;var _=pt("recharts-rectangle",g);return S?Y.createElement(ws,{canBegin:o>0,from:{width:f,height:h,x:c,y:d},to:{width:f,height:h,x:c,y:d},duration:b,animationEasing:j,isActive:S},function(P){var C=P.width,O=P.height,k=P.x,A=P.y;return Y.createElement(ws,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:x,easing:j},Y.createElement("path",vx({},rt(r,!0),{className:_,d:Dz(k,A,C,O,m),ref:n})))}):Y.createElement("path",vx({},rt(r,!0),{className:_,d:Dz(c,d,f,h,m)}))},fSe=["points","className","baseLinePoints","connectNulls"];function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(this,arguments)}function hSe(t,e){if(t==null)return{};var r=pSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rz(t){return ySe(t)||vSe(t)||gSe(t)||mSe()}function mSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gSe(t,e){if(t){if(typeof t=="string")return WO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WO(t,e)}}function vSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ySe(t){if(Array.isArray(t))return WO(t)}function WO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Iz=function(e){return e&&e.x===+e.x&&e.y===+e.y},xSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Iz(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Iz(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},sp=function(e,r){var n=xSe(e);r&&(n=[n.reduce(function(a,o){return[].concat(Rz(a),Rz(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},bSe=function(e,r,n){var i=sp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(sp(r.reverse(),n).slice(1))},wSe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=hSe(e,fSe);if(!r||!r.length)return null;var l=pt("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=bSe(r,i,a);return Y.createElement("g",{className:l},Y.createElement("path",Ru({},rt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Y.createElement("path",Ru({},rt(o,!0),{fill:"none",d:sp(r,a)})):null,c?Y.createElement("path",Ru({},rt(o,!0),{fill:"none",d:sp(i,a)})):null)}var f=sp(r,a);return Y.createElement("path",Ru({},rt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function UO(){return UO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UO.apply(this,arguments)}var db=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=pt("recharts-dot",a);return r===+r&&n===+n&&i===+i?w.createElement("circle",UO({},rt(e,!1),$y(e),{className:o,cx:r,cy:n,r:i})):null};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var jSe=["x","y","top","left","width","height","className"];function qO(){return qO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qO.apply(this,arguments)}function Lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SSe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(r),!0).forEach(function(n){CSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CSe(t,e,r){return e=NSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NSe(t){var e=_Se(t,"string");return Jp(e)=="symbol"?e:e+""}function _Se(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OSe(t,e){if(t==null)return{};var r=PSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kSe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},TSe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,h=f===void 0?0:f,m=e.height,g=m===void 0?0:m,j=e.className,b=OSe(e,jSe),y=SSe({x:n,y:a,top:l,left:d,width:h,height:g},b);return!ke(n)||!ke(a)||!ke(h)||!ke(g)||!ke(l)||!ke(d)?null:Y.createElement("path",qO({},rt(y,!0),{className:pt("recharts-cross",j),d:kSe(n,a,h,g,l,d)}))},PN,zz;function ASe(){if(zz)return PN;zz=1;var t=sb(),e=sV(),r=Os();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return PN=n,PN}var ESe=ASe();const MSe=Lt(ESe);var kN,Fz;function DSe(){if(Fz)return kN;Fz=1;var t=sb(),e=Os(),r=oV();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return kN=n,kN}var RSe=DSe();const ISe=Lt(RSe);var LSe=["cx","cy","angle","ticks","axisLine"],zSe=["ticks","tick","angle","tickFormatter","stroke"];function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}function $z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(r),!0).forEach(function(n){fb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bz(t,e){if(t==null)return{};var r=FSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GV(n.key),n)}}function BSe(t,e,r){return e&&Hz(t.prototype,e),r&&Hz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HSe(t,e,r){return e=yx(e),WSe(t,VV()?Reflect.construct(e,r||[],yx(t).constructor):e.apply(t,r))}function WSe(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return USe(t)}function USe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yx(t)}function qSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VO(t,e)}function VO(t,e){return VO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VO(t,e)}function fb(t,e,r){return e=GV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GV(t){var e=VSe(t,"string");return Nd(e)=="symbol"?e:e+""}function VSe(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hb=(function(t){function e(){return $Se(this,e),HSe(this,e,arguments)}return qSe(e,t),BSe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return tr(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=MSe(l,function(f){return f.coordinate||0}),d=ISe(l,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=Bz(n,LSe),f=l.reduce(function(j,b){return[Math.min(j[0],b.coordinate),Math.max(j[1],b.coordinate)]},[1/0,-1/0]),h=tr(i,a,f[0],o),m=tr(i,a,f[1],o),g=Gl(Gl(Gl({},rt(d,!1)),{},{fill:"none"},rt(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return Y.createElement("line",op({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=Bz(i,zSe),h=this.getTickTextAnchor(),m=rt(f,!1),g=rt(o,!1),j=a.map(function(b,y){var x=n.getTickValueCoord(b),S=Gl(Gl(Gl(Gl({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:d},g),{},{index:y},x),{},{payload:b});return Y.createElement(At,op({className:pt("recharts-polar-radius-axis-tick",RV(o)),key:"tick-".concat(b.coordinate)},kc(n.props,b,y)),e.renderTickItem(o,S,c?c(b.value,y):b.value))});return Y.createElement(At,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:Y.createElement(At,{className:pt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),fn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,i):st(n)?o=n(i):o=Y.createElement(Tc,op({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(w.PureComponent);fb(hb,"displayName","PolarRadiusAxis");fb(hb,"axisType","radiusAxis");fb(hb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ec.apply(this,arguments)}function Wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(r),!0).forEach(function(n){pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YV(n.key),n)}}function XSe(t,e,r){return e&&Uz(t.prototype,e),r&&Uz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YSe(t,e,r){return e=xx(e),KSe(t,XV()?Reflect.construct(e,r||[],xx(t).constructor):e.apply(t,r))}function KSe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JSe(t)}function JSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}function ZSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GO(t,e)}function GO(t,e){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GO(t,e)}function pb(t,e,r){return e=YV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YV(t){var e=QSe(t,"string");return _d(e)=="symbol"?e:e+""}function QSe(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eCe=Math.PI/180,qz=1e-5,mb=(function(t){function e(){return GSe(this,e),YSe(this,e,arguments)}return ZSe(e,t),XSe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,h=tr(a,o,l,n.coordinate),m=tr(a,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*eCe),o;return a>qz?o=i==="outer"?"start":"end":a<-qz?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Xl(Xl({},rt(this.props,!1)),{},{fill:"none"},rt(l,!1));if(c==="circle")return Y.createElement(db,ec({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var f=this.props.ticks,h=f.map(function(m){return tr(i,a,o,m.coordinate)});return Y.createElement(wSe,ec({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=rt(this.props,!1),h=rt(o,!1),m=Xl(Xl({},f),{},{fill:"none"},rt(l,!1)),g=a.map(function(j,b){var y=n.getTickLineCoord(j),x=n.getTickTextAnchor(j),S=Xl(Xl(Xl({textAnchor:x},f),{},{stroke:"none",fill:d},h),{},{index:b,payload:j,x:y.x2,y:y.y2});return Y.createElement(At,ec({className:pt("recharts-polar-angle-axis-tick",RV(o)),key:"tick-".concat(j.coordinate)},kc(n.props,j,b)),l&&Y.createElement("line",ec({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&e.renderTickItem(o,S,c?c(j.value,b):j.value))});return Y.createElement(At,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:Y.createElement(At,{className:pt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,i):st(n)?o=n(i):o=Y.createElement(Tc,ec({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(w.PureComponent);pb(mb,"displayName","PolarAngleAxis");pb(mb,"axisType","angleAxis");pb(mb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TN,Vz;function tCe(){if(Vz)return TN;Vz=1;var t=aq(),e=t(Object.getPrototypeOf,Object);return TN=e,TN}var AN,Gz;function rCe(){if(Gz)return AN;Gz=1;var t=go(),e=tCe(),r=vo(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function d(f){if(!r(f)||t(f)!=n)return!1;var h=e(f);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return AN=d,AN}var nCe=rCe();const iCe=Lt(nCe);var EN,Xz;function aCe(){if(Xz)return EN;Xz=1;var t=go(),e=vo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return EN=n,EN}var sCe=aCe();const oCe=Lt(sCe);function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function lCe(t,e){return fCe(t)||dCe(t,e)||uCe(t,e)||cCe()}function cCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uCe(t,e){if(t){if(typeof t=="string")return Yz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yz(t,e)}}function Yz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function fCe(t){if(Array.isArray(t))return t}function Kz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(r),!0).forEach(function(n){hCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hCe(t,e,r){return e=pCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pCe(t){var e=mCe(t,"string");return Zp(e)=="symbol"?e:e+""}function mCe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zz=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},gCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vCe=function(e){var r=Jz(Jz({},gCe),e),n=w.useRef(),i=w.useState(-1),a=lCe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,d=r.y,f=r.upperWidth,h=r.lowerWidth,m=r.height,g=r.className,j=r.animationEasing,b=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||m!==+m||f===0&&h===0||m===0)return null;var S=pt("recharts-trapezoid",g);return x?Y.createElement(ws,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:f,lowerWidth:h,height:m,x:c,y:d},duration:b,animationEasing:j,isActive:x},function(_){var P=_.upperWidth,C=_.lowerWidth,O=_.height,k=_.x,A=_.y;return Y.createElement(ws,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:j},Y.createElement("path",bx({},rt(r,!0),{className:S,d:Zz(k,A,P,C,O),ref:n})))}):Y.createElement("g",null,Y.createElement("path",bx({},rt(r,!0),{className:S,d:Zz(c,d,f,h,m)})))},yCe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function xCe(t,e){if(t==null)return{};var r=bCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(r),!0).forEach(function(n){wCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wCe(t,e,r){return e=jCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jCe(t){var e=SCe(t,"string");return Qp(e)=="symbol"?e:e+""}function SCe(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CCe(t,e){return wx(wx({},e),t)}function NCe(t,e){return t==="symbols"}function eF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Y.createElement(rT,r);case"trapezoid":return Y.createElement(vCe,r);case"sector":return Y.createElement(zV,r);case"symbols":if(NCe(e))return Y.createElement(w2,r);break;default:return null}}function _Ce(t){return w.isValidElement(t)?t.props:t}function KV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?CCe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=xCe(t,yCe),d;if(w.isValidElement(e))d=w.cloneElement(e,wx(wx({},c),_Ce(e)));else if(st(e))d=e(c);else if(iCe(e)&&!oCe(e)){var f=i(e,c);d=Y.createElement(eF,{shapeType:r,elementProps:f})}else{var h=c;d=Y.createElement(eF,{shapeType:r,elementProps:h})}return l?Y.createElement(At,{className:o},d):d}function gb(t,e){return e!=null&&"trapezoids"in t.props}function vb(t,e){return e!=null&&"sectors"in t.props}function em(t,e){return e!=null&&"points"in t.props}function OCe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function PCe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function kCe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function TCe(t,e){var r;return gb(t,e)?r=OCe:vb(t,e)?r=PCe:em(t,e)&&(r=kCe),r}function ACe(t,e){var r;return gb(t,e)?r="trapezoids":vb(t,e)?r="sectors":em(t,e)&&(r="points"),r}function ECe(t,e){if(gb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return em(t,e)?e.payload:{}}function MCe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=ACe(r,e),a=ECe(r,e),o=n.filter(function(c,d){var f=Wm(a,c),h=r.props[i].filter(function(j){var b=TCe(r,e);return b(j,e)}),m=r.props[i].indexOf(h[h.length-1]),g=d===m;return f&&g}),l=n.indexOf(o[o.length-1]);return l}var Qv;function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iu.apply(this,arguments)}function tF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(r),!0).forEach(function(n){ta(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZV(n.key),n)}}function RCe(t,e,r){return e&&rF(t.prototype,e),r&&rF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ICe(t,e,r){return e=jx(e),LCe(t,JV()?Reflect.construct(e,r||[],jx(t).constructor):e.apply(t,r))}function LCe(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zCe(t)}function zCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function FCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XO(t,e)}function XO(t,e){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XO(t,e)}function ta(t,e,r){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZV(t){var e=$Ce(t,"string");return Od(e)=="symbol"?e:e+""}function $Ce(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xo=(function(t){function e(r){var n;return DCe(this,e),n=ICe(this,e,[r]),ta(n,"pieRef",null),ta(n,"sectorRefs",[]),ta(n,"id",cf("recharts-pie-")),ta(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),st(i)&&i()}),ta(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),st(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return FCe(e,t),RCe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,f=rt(this.props,!1),h=rt(o,!1),m=rt(l,!1),g=o&&o.offsetRadius||20,j=n.map(function(b,y){var x=(b.startAngle+b.endAngle)/2,S=tr(b.cx,b.cy,b.outerRadius+g,x),_=Qt(Qt(Qt(Qt({},f),b),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(S.x,b.cx)},S),P=Qt(Qt(Qt(Qt({},f),b),{},{fill:"none",stroke:b.fill},m),{},{index:y,points:[tr(b.cx,b.cy,b.outerRadius,x),S]}),C=c;return dt(c)&&dt(d)?C="value":dt(c)&&(C=d),Y.createElement(At,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,P,"line"),e.renderLabelItem(o,_,Jr(b,C)))});return Y.createElement(At,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(d,f){if(d?.startAngle===0&&d?.endAngle===0&&n.length!==1)return null;var h=i.isActiveIndex(f),m=c&&i.hasActiveIndex()?c:null,g=h?o:m,j=Qt(Qt({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Y.createElement(At,Iu({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},kc(i.props,d,f),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(f)}),Y.createElement(KV,Iu({option:g,isActive:h,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state,m=h.prevSectors,g=h.prevIsAnimationActive;return Y.createElement(ws,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var b=j.t,y=[],x=a&&a[0],S=x.startAngle;return a.forEach(function(_,P){var C=m&&m[P],O=P>0?Mi(_,"paddingAngle",0):0;if(C){var k=Oi(C.endAngle-C.startAngle,_.endAngle-_.startAngle),A=Qt(Qt({},_),{},{startAngle:S+O,endAngle:S+k(b)+O});y.push(A),S=A.endAngle}else{var M=_.endAngle,D=_.startAngle,L=Oi(0,M-D),B=L(b),$=Qt(Qt({},_),{},{startAngle:S+O,endAngle:S+B+O});y.push($),S=$.endAngle}}),Y.createElement(At,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Wm(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,h=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,j=this.state.isAnimationFinished;if(a||!o||!o.length||!ke(d)||!ke(f)||!ke(h)||!ke(m))return null;var b=pt("recharts-pie",l);return Y.createElement(At,{tabIndex:this.props.rootTabIndex,className:b,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),fn.renderCallByParent(this.props,null,!1),(!g||j)&&eo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(Y.isValidElement(n))return Y.cloneElement(n,i);if(st(n))return n(i);var o=pt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Y.createElement(hx,Iu({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(Y.isValidElement(n))return Y.cloneElement(n,i);var o=a;if(st(n)&&(o=n(i),Y.isValidElement(o)))return o;var l=pt("recharts-pie-label-text",typeof n!="boolean"&&!st(n)?n.className:"");return Y.createElement(Tc,Iu({},i,{alignmentBaseline:"middle",className:l}),o)}}])})(w.PureComponent);Qv=xo;ta(xo,"displayName","Pie");ta(xo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Hc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ta(xo,"parseDeltaAngle",function(t,e){var r=Un(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ta(xo,"getRealPieData",function(t){var e=t.data,r=t.children,n=rt(t,!1),i=Di(r,Q0);return e&&e.length?e.map(function(a,o){return Qt(Qt(Qt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Qt(Qt({},n),a.props)}):[]});ta(xo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=DV(i,a),l=n+qn(t.cx,i,i/2),c=r+qn(t.cy,a,a/2),d=qn(t.innerRadius,o,0),f=qn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}});ta(xo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=Qv.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,f=n.nameKey,h=n.valueKey,m=n.tooltipType,g=Math.abs(n.minAngle),j=Qv.parseCoordinateOfPie(n,r),b=Qv.parseDeltaAngle(o,l),y=Math.abs(b),x=d;dt(d)&&dt(h)?(Aa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):dt(d)&&(Aa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var S=i.filter(function(A){return Jr(A,x,0)!==0}).length,_=(y>=360?S:S-1)*c,P=y-S*g-_,C=i.reduce(function(A,M){var D=Jr(M,x,0);return A+(ke(D)?D:0)},0),O;if(C>0){var k;O=i.map(function(A,M){var D=Jr(A,x,0),L=Jr(A,f,M),B=(ke(D)?D:0)/C,$;M?$=k.endAngle+Un(b)*c*(D!==0?1:0):$=o;var q=$+Un(b)*((D!==0?g:0)+B*P),F=($+q)/2,G=(j.innerRadius+j.outerRadius)/2,E=[{name:L,value:D,payload:A,dataKey:x,type:m}],U=tr(j.cx,j.cy,G,F);return k=Qt(Qt(Qt({percent:B,cornerRadius:a,name:L,tooltipPayload:E,midAngle:F,middleRadius:G,tooltipPosition:U},A),j),{},{value:Jr(A,x),startAngle:$,endAngle:q,payload:A,paddingAngle:Un(b)*c}),k})}return Qt(Qt({},j),{},{sectors:O,data:i})});var MN,nF;function BCe(){if(nF)return MN;nF=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var l=-1,c=e(t((i-n)/(a||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=a;return d}return MN=r,MN}var DN,iF;function QV(){if(iF)return DN;iF=1;var t=wq(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return DN=n,DN}var RN,aF;function HCe(){if(aF)return RN;aF=1;var t=BCe(),e=Z0(),r=QV();function n(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,i)}}return RN=n,RN}var IN,sF;function WCe(){if(sF)return IN;sF=1;var t=HCe(),e=t();return IN=e,IN}var UCe=WCe();const Sx=Lt(UCe);function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function oF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(r),!0).forEach(function(n){e9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e9(t,e,r){return e=qCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qCe(t){var e=VCe(t,"string");return tm(e)=="symbol"?e:e+""}function VCe(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GCe=["Webkit","Moz","O","ms"],XCe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=GCe.reduce(function(a,o){return lF(lF({},a),{},e9({},o+n,r))},{});return i[e]=r,i};function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cx.apply(this,arguments)}function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r9(n.key),n)}}function KCe(t,e,r){return e&&uF(t.prototype,e),r&&uF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JCe(t,e,r){return e=Nx(e),ZCe(t,t9()?Reflect.construct(e,r||[],Nx(t).constructor):e.apply(t,r))}function ZCe(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QCe(t)}function QCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(t)}function eNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YO(t,e)}function YO(t,e){return YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YO(t,e)}function Ci(t,e,r){return e=r9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r9(t){var e=tNe(t,"string");return Pd(e)=="symbol"?e:e+""}function tNe(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rNe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=np().domain(Sx(0,c)).range([a,a+o-l]),f=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:f}},dF=function(e){return e.changedTouches&&!!e.changedTouches.length},kd=(function(t){function e(r){var n;return YCe(this,e),n=JCe(this,e,[r]),Ci(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ci(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ci(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Ci(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ci(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ci(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ci(n,"handleSlideDragStart",function(i){var a=dF(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return eNe(e,t),KCe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,h=Math.min(i,a),m=Math.max(i,a),g=e.getIndexInRange(o,h),j=e.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:j===f?f:j-j%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Jr(a[n],l,n);return st(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,h=c.travellerWidth,m=c.startIndex,g=c.endIndex,j=c.onChange,b=n.pageX-a;b>0?b=Math.min(b,d+f-h-l,d+f-h-o):b<0&&(b=Math.max(b,d-o,d-l));var y=this.getIndex({startX:o+b,endX:l+b});(y.startIndex!==m||y.endIndex!==g)&&j&&j(y),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=dF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],f=this.props,h=f.x,m=f.width,g=f.travellerWidth,j=f.onChange,b=f.gap,y=f.data,x={startX:this.state.startX,endX:this.state.endX},S=n.pageX-a;S>0?S=Math.min(S,h+m-g-d):S<0&&(S=Math.max(S,h-d)),x[o]=d+S;var _=this.getIndex(x),P=_.startIndex,C=_.endIndex,O=function(){var A=y.length-1;return o==="startX"&&(l>c?P%b===0:C%b===0)||l<c&&C===A||o==="endX"&&(l>c?C%b===0:P%b===0)||l>c&&C===A};this.setState(Ci(Ci({},o,d+S),"brushMoveStartX",n.pageX),function(){j&&O()&&j(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[i],h=l.indexOf(f);if(h!==-1){var m=h+n;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=d||i==="endX"&&g<=c||this.setState(Ci({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Y.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,f=n.padding,h=w.Children.only(d);return h?Y.cloneElement(h,{x:i,y:a,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,h=c.height,m=c.traveller,g=c.ariaLabel,j=c.data,b=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),S=LN(LN({},rt(this.props,!1)),{},{x,y:d,width:f,height:h}),_=g||"Min value: ".concat((a=j[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=j[y])===null||o===void 0?void 0:o.name);return Y.createElement(At,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,S))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,f=Math.min(n,i)+d,h=Math.max(Math.abs(i-n)-d,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,f=this.state,h=f.startX,m=f.endX,g=5,j={pointerEvents:"none",fill:d};return Y.createElement(At,{className:"recharts-brush-texts"},Y.createElement(Tc,Cx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-g,y:o+l/2},j),this.getTextOfTick(i)),Y.createElement(Tc,Cx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+g,y:o+l/2},j),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,f=n.height,h=n.alwaysShowText,m=this.state,g=m.startX,j=m.endX,b=m.isTextActive,y=m.isSlideMoving,x=m.isTravellerMoving,S=m.isTravellerFocused;if(!i||!i.length||!ke(l)||!ke(c)||!ke(d)||!ke(f)||d<=0||f<=0)return null;var _=pt("recharts-brush",a),P=Y.Children.count(o)===1,C=XCe("userSelect","none");return Y.createElement(At,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(g,j),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(j,"endX"),(b||y||x||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Y.isValidElement(n)?a=Y.cloneElement(n,i):st(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,f=n.startIndex,h=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return LN({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?rNe({data:a,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(w.PureComponent);Ci(kd,"displayName","Brush");Ci(kd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zN,fF;function nNe(){if(fF)return zN;fF=1;var t=P2();function e(r,n){var i;return t(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return zN=e,zN}var FN,hF;function iNe(){if(hF)return FN;hF=1;var t=ZU(),e=Os(),r=nNe(),n=mi(),i=Z0();function a(o,l,c){var d=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return FN=a,FN}var aNe=iNe();const sNe=Lt(aNe);var vs=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},$N,pF;function oNe(){if(pF)return $N;pF=1;var t=gq();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return $N=e,$N}var BN,mF;function lNe(){if(mF)return BN;mF=1;var t=oNe(),e=pq(),r=Os();function n(i,a){var o={};return a=r(a,3),e(i,function(l,c,d){t(o,c,a(l,c,d))}),o}return BN=n,BN}var cNe=lNe();const uNe=Lt(cNe);var HN,gF;function dNe(){if(gF)return HN;gF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return HN=t,HN}var WN,vF;function fNe(){if(vF)return WN;vF=1;var t=P2();function e(r,n){var i=!0;return t(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return WN=e,WN}var UN,yF;function hNe(){if(yF)return UN;yF=1;var t=dNe(),e=fNe(),r=Os(),n=mi(),i=Z0();function a(o,l,c){var d=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,r(l,3))}return UN=a,UN}var pNe=hNe();const n9=Lt(pNe);var mNe=["x","y"];function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function KO(){return KO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KO.apply(this,arguments)}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){gNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gNe(t,e,r){return e=vNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vNe(t){var e=yNe(t,"string");return rm(e)=="symbol"?e:e+""}function yNe(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xNe(t,e){if(t==null)return{};var r=bNe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wNe(t,e){var r=t.x,n=t.y,i=xNe(t,mNe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),h="".concat(e.width||i.width),m=parseInt(h,10);return xh(xh(xh(xh(xh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function bF(t){return Y.createElement(KV,KO({shapeType:"rectangle",propTransformer:wNe,activeClassName:"recharts-active-bar"},t))}var jNe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ke(n)||qhe(n);return a?e(n,i):(a||Ec(),r)}},SNe=["value","background"],i9;function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function CNe(t,e){if(t==null)return{};var r=NNe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x.apply(this,arguments)}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){Qo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s9(n.key),n)}}function ONe(t,e,r){return e&&jF(t.prototype,e),r&&jF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PNe(t,e,r){return e=Ox(e),kNe(t,a9()?Reflect.construct(e,r||[],Ox(t).constructor):e.apply(t,r))}function kNe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(t)}function TNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(t)}function ANe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JO(t,e)}function JO(t,e){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JO(t,e)}function Qo(t,e,r){return e=s9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s9(t){var e=ENe(t,"string");return Td(e)=="symbol"?e:e+""}function ENe(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uo=(function(t){function e(){var r;_Ne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=PNe(this,e,[].concat(i)),Qo(r,"state",{isAnimationFinished:!1}),Qo(r,"id",cf("recharts-bar-")),Qo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Qo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ANe(e,t),ONe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,f=rt(this.props,!1);return n&&n.map(function(h,m){var g=m===c,j=g?d:o,b=Ar(Ar(Ar({},f),h),{},{isActive:g,option:j,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(At,_x({className:"recharts-bar-rectangle"},kc(i.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),Y.createElement(bF,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state.prevData;return Y.createElement(ws,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var j=g.t,b=a.map(function(y,x){var S=m&&m[x];if(S){var _=Oi(S.x,y.x),P=Oi(S.y,y.y),C=Oi(S.width,y.width),O=Oi(S.height,y.height);return Ar(Ar({},y),{},{x:_(j),y:P(j),width:C(j),height:O(j)})}if(o==="horizontal"){var k=Oi(0,y.height),A=k(j);return Ar(Ar({},y),{},{y:y.y+y.height-A,height:A})}var M=Oi(0,y.width),D=M(j);return Ar(Ar({},y),{},{width:D})});return Y.createElement(At,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Wm(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=rt(this.props.background,!1);return a.map(function(d,f){d.value;var h=d.background,m=CNe(d,SNe);if(!h)return null;var g=Ar(Ar(Ar(Ar(Ar({},m),{},{fill:"#eee"},h),c),kc(n.props,d,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Y.createElement(bF,_x({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,f=a.children,h=Di(f,Um);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,g=function(y,x){var S=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:S,errorVal:Jr(y,x)}},j={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(At,j,h.map(function(b){return Y.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,h=n.width,m=n.height,g=n.isAnimationActive,j=n.background,b=n.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=pt("recharts-bar",o),S=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,P=S||_,C=dt(b)?this.id:b;return Y.createElement(At,{className:x},S||_?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:S?d:d-h/2,y:_?f:f-m/2,width:S?h:h*2,height:_?m:m*2}))):null,Y.createElement(At,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(C,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,C),(!g||y)&&eo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(w.PureComponent);i9=uo;Qo(uo,"displayName","Bar");Qo(uo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Hc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qo(uo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,h=t.displayedData,m=t.offset,g=swe(n,r);if(!g)return null;var j=e.layout,b=r.type.defaultProps,y=b!==void 0?Ar(Ar({},b),r.props):r.props,x=y.dataKey,S=y.children,_=y.minPointSize,P=j==="horizontal"?o:a,C=d?P.scale.domain():null,O=hwe({numericAxis:P}),k=Di(S,Q0),A=h.map(function(M,D){var L,B,$,q,F,G;d?L=owe(d[f+D],C):(L=Jr(M,x),Array.isArray(L)||(L=[O,L]));var E=jNe(_,i9.defaultProps.minPointSize)(L[1],D);if(j==="horizontal"){var U,H=[o.scale(L[0]),o.scale(L[1])],I=H[0],z=H[1];B=G4({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:M,index:D}),$=(U=z??I)!==null&&U!==void 0?U:void 0,q=g.size;var V=I-z;if(F=Number.isNaN(V)?0:V,G={x:B,y:o.y,width:q,height:o.height},Math.abs(E)>0&&Math.abs(F)<Math.abs(E)){var J=Un(F||E)*(Math.abs(E)-Math.abs(F));$-=J,F+=J}}else{var Q=[a.scale(L[0]),a.scale(L[1])],se=Q[0],oe=Q[1];if(B=se,$=G4({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:M,index:D}),q=oe-se,F=g.size,G={x:a.x,y:$,width:a.width,height:F},Math.abs(E)>0&&Math.abs(q)<Math.abs(E)){var K=Un(q||E)*(Math.abs(E)-Math.abs(q));q+=K}}return Ar(Ar(Ar({},M),{},{x:B,y:$,width:q,height:F,value:d?L:L[1],payload:M,background:G},k&&k[D]&&k[D].props),{},{tooltipPayload:[EV(r,M)],tooltipPosition:{x:B+q/2,y:$+F/2}})});return Ar({data:A,layout:j},m)});function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function MNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o9(n.key),n)}}function DNe(t,e,r){return e&&SF(t.prototype,e),r&&SF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){yb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yb(t,e,r){return e=o9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o9(t){var e=RNe(t,"string");return nm(e)=="symbol"?e:e+""}function RNe(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l9=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Ni(d,uo);return f.reduce(function(g,j){var b=r[j],y=b.orientation,x=b.domain,S=b.padding,_=S===void 0?{}:S,P=b.mirror,C=b.reversed,O="".concat(y).concat(P?"Mirror":""),k,A,M,D,L;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var B=x[1]-x[0],$=1/0,q=b.categoricalDomain.sort(Xhe);if(q.forEach(function(Q,se){se>0&&($=Math.min((Q||0)-(q[se-1]||0),$))}),Number.isFinite($)){var F=$/B,G=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(k=F*G/2),b.padding==="no-gap"){var E=qn(e.barCategoryGap,F*G),U=F*G/2;k=U-E-(U-E)/G*E}}}i==="xAxis"?A=[n.left+(_.left||0)+(k||0),n.left+n.width-(_.right||0)-(k||0)]:i==="yAxis"?A=c==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(k||0),n.top+n.height-(_.bottom||0)-(k||0)]:A=b.range,C&&(A=[A[1],A[0]]);var H=PV(b,a,m),I=H.scale,z=H.realScaleType;I.domain(x).range(A),kV(I);var V=TV(I,wa(wa({},b),{},{realScaleType:z}));i==="xAxis"?(L=y==="top"&&!P||y==="bottom"&&P,M=n.left,D=h[O]-L*b.height):i==="yAxis"&&(L=y==="left"&&!P||y==="right"&&P,M=h[O]-L*b.width,D=n.top);var J=wa(wa(wa({},b),V),{},{realScaleType:z,x:M,y:D,scale:I,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return J.bandSize=ux(J,V),!b.hide&&i==="xAxis"?h[O]+=(L?-1:1)*J.height:b.hide||(h[O]+=(L?-1:1)*J.width),wa(wa({},g),{},yb({},j,J))},{})},c9=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},INe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return c9({x:r,y:n},{x:i,y:a})},u9=(function(){function t(e){MNe(this,t),this.scale=e}return DNe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();yb(u9,"EPS",1e-4);var nT=function(e){var r=Object.keys(e).reduce(function(n,i){return wa(wa({},n),{},yb({},i,u9.create(e[i])))},{});return wa(wa({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return uNe(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return n9(i,function(a,o){return r[o].isInRange(a)})}})};function LNe(t){return(t%180+180)%180}var zNe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=LNe(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},qN,NF;function FNe(){if(NF)return qN;NF=1;var t=Os(),e=zm(),r=K0();function n(i){return function(a,o,l){var c=Object(a);if(!e(a)){var d=t(o,3);a=r(a),o=function(h){return d(c[h],h,c)}}var f=i(a,o,l);return f>-1?c[d?a[f]:f]:void 0}}return qN=n,qN}var VN,_F;function $Ne(){if(_F)return VN;_F=1;var t=QV();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return VN=e,VN}var GN,OF;function BNe(){if(OF)return GN;OF=1;var t=cq(),e=Os(),r=$Ne(),n=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(a,e(o,3),d)}return GN=i,GN}var XN,PF;function HNe(){if(PF)return XN;PF=1;var t=FNe(),e=BNe(),r=t(e);return XN=r,XN}var WNe=HNe();const UNe=Lt(WNe);var qNe=NU();const VNe=Lt(qNe);var GNe=VNe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),iT=w.createContext(void 0),aT=w.createContext(void 0),d9=w.createContext(void 0),f9=w.createContext({}),h9=w.createContext(void 0),p9=w.createContext(0),m9=w.createContext(0),kF=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,f=GNe(a);return Y.createElement(iT.Provider,{value:n},Y.createElement(aT.Provider,{value:i},Y.createElement(f9.Provider,{value:a},Y.createElement(d9.Provider,{value:f},Y.createElement(h9.Provider,{value:o},Y.createElement(p9.Provider,{value:d},Y.createElement(m9.Provider,{value:c},l)))))))},XNe=function(){return w.useContext(h9)},g9=function(e){var r=w.useContext(iT);r==null&&Ec();var n=r[e];return n==null&&Ec(),n},YNe=function(){var e=w.useContext(iT);return Go(e)},KNe=function(){var e=w.useContext(aT),r=UNe(e,function(n){return n9(n.domain,Number.isFinite)});return r||Go(e)},v9=function(e){var r=w.useContext(aT);r==null&&Ec();var n=r[e];return n==null&&Ec(),n},JNe=function(){var e=w.useContext(d9);return e},ZNe=function(){return w.useContext(f9)},sT=function(){return w.useContext(m9)},oT=function(){return w.useContext(p9)};function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function QNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x9(n.key),n)}}function t_e(t,e,r){return e&&e_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r_e(t,e,r){return e=Px(e),n_e(t,y9()?Reflect.construct(e,r||[],Px(t).constructor):e.apply(t,r))}function n_e(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_e(t)}function i_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(t)}function a_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZO(t,e)}function ZO(t,e){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZO(t,e)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){lT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lT(t,e,r){return e=x9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x9(t){var e=s_e(t,"string");return Ad(e)=="symbol"?e:e+""}function s_e(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function o_e(t,e){return d_e(t)||u_e(t,e)||c_e(t,e)||l_e()}function l_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c_e(t,e){if(t){if(typeof t=="string")return EF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EF(t,e)}}function EF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function d_e(t){if(Array.isArray(t))return t}function QO(){return QO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QO.apply(this,arguments)}var f_e=function(e,r){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,r):st(e)?n=e(r):n=Y.createElement("line",QO({},r,{className:"recharts-reference-line-line"})),n},h_e=function(e,r,n,i,a,o,l,c,d){var f=a.x,h=a.y,m=a.width,g=a.height;if(n){var j=d.y,b=e.y.apply(j,{position:o});if(vs(d,"discard")&&!e.y.isInRange(b))return null;var y=[{x:f+m,y:b},{x:f,y:b}];return c==="left"?y.reverse():y}if(r){var x=d.x,S=e.x.apply(x,{position:o});if(vs(d,"discard")&&!e.x.isInRange(S))return null;var _=[{x:S,y:h+g},{x:S,y:h}];return l==="top"?_.reverse():_}if(i){var P=d.segment,C=P.map(function(O){return e.apply(O,{position:o})});return vs(d,"discard")&&sNe(C,function(O){return!e.isInRange(O)})?null:C}return null};function p_e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=XNe(),f=g9(i),h=v9(a),m=JNe();if(!d||!m)return null;Aa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=nT({x:f.scale,y:h.scale}),j=Zr(e),b=Zr(r),y=n&&n.length===2,x=h_e(g,j,b,y,m,t.position,f.orientation,h.orientation,t);if(!x)return null;var S=o_e(x,2),_=S[0],P=_.x,C=_.y,O=S[1],k=O.x,A=O.y,M=vs(t,"hidden")?"url(#".concat(d,")"):void 0,D=AF(AF({clipPath:M},rt(t,!0)),{},{x1:P,y1:C,x2:k,y2:A});return Y.createElement(At,{className:pt("recharts-reference-line",l)},f_e(o,D),fn.renderCallByParent(t,INe({x1:P,y1:C,x2:k,y2:A})))}var cT=(function(t){function e(){return QNe(this,e),r_e(this,e,arguments)}return a_e(e,t),t_e(e,[{key:"render",value:function(){return Y.createElement(p_e,this.props)}}])})(Y.Component);lT(cT,"displayName","ReferenceLine");lT(cT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eP(){return eP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eP.apply(this,arguments)}function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){xb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w9(n.key),n)}}function v_e(t,e,r){return e&&g_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y_e(t,e,r){return e=kx(e),x_e(t,b9()?Reflect.construct(e,r||[],kx(t).constructor):e.apply(t,r))}function x_e(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_e(t)}function b_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b9=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(t)}function w_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tP(t,e)}function tP(t,e){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tP(t,e)}function xb(t,e,r){return e=w9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w9(t){var e=j_e(t,"string");return Ed(e)=="symbol"?e:e+""}function j_e(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S_e=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=nT({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return vs(e,"discard")&&!o.isInRange(l)?null:l},bb=(function(t){function e(){return m_e(this,e),y_e(this,e,arguments)}return w_e(e,t),v_e(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=Zr(i),f=Zr(a);if(Aa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var h=S_e(this.props);if(!h)return null;var m=h.x,g=h.y,j=this.props,b=j.shape,y=j.className,x=vs(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=DF(DF({clipPath:x},rt(this.props,!0)),{},{cx:m,cy:g});return Y.createElement(At,{className:pt("recharts-reference-dot",y)},e.renderDot(b,S),fn.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])})(Y.Component);xb(bb,"displayName","ReferenceDot");xb(bb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xb(bb,"renderDot",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):st(t)?r=t(e):r=Y.createElement(db,eP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rP.apply(this,arguments)}function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){wb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S9(n.key),n)}}function __e(t,e,r){return e&&N_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_e(t,e,r){return e=Tx(e),P_e(t,j9()?Reflect.construct(e,r||[],Tx(t).constructor):e.apply(t,r))}function P_e(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_e(t)}function k_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j9=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tx(t)}function T_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nP(t,e)}function nP(t,e){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nP(t,e)}function wb(t,e,r){return e=S9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S9(t){var e=A_e(t,"string");return Md(e)=="symbol"?e:e+""}function A_e(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E_e=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,f=a.xAxis,h=a.yAxis;if(!f||!h)return null;var m=nT({x:f.scale,y:h.scale}),g={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},j={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(d,{position:"end"}):m.y.rangeMax};return vs(a,"discard")&&(!m.isInRange(g)||!m.isInRange(j))?null:c9(g,j)},jb=(function(t){function e(){return C_e(this,e),O_e(this,e,arguments)}return T_e(e,t),__e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,f=n.clipPathId;Aa(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Zr(i),m=Zr(a),g=Zr(o),j=Zr(l),b=this.props.shape;if(!h&&!m&&!g&&!j&&!b)return null;var y=E_e(h,m,g,j,this.props);if(!y&&!b)return null;var x=vs(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Y.createElement(At,{className:pt("recharts-reference-area",c)},e.renderRect(b,IF(IF({clipPath:x},rt(this.props,!0)),y)),fn.renderCallByParent(this.props,y))}}])})(Y.Component);wb(jb,"displayName","ReferenceArea");wb(jb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wb(jb,"renderRect",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):st(t)?r=t(e):r=Y.createElement(rT,rP({},e,{className:"recharts-reference-area-rect"})),r});function C9(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function M_e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return zNe(n,r)}function D_e(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Ax(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function R_e(t,e){return C9(t,e+1)}function I_e(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o,h=function(){var j=n?.[c];if(j===void 0)return{v:C9(n,d)};var b=c,y,x=function(){return y===void 0&&(y=r(j,b)),y},S=j.coordinate,_=c===0||Ax(t,S,x,f,l);_||(c=0,f=o,d+=1),_&&(f=S+t*(x()/2+i),c+=d)},m;d<=a.length;)if(m=h(),m)return m.v;return[]}function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){L_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L_e(t,e,r){return e=z_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z_e(t){var e=F_e(t,"string");return im(e)=="symbol"?e:e+""}function F_e(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $_e(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,d=function(m){var g=a[m],j,b=function(){return j===void 0&&(j=r(g,m)),j};if(m===o-1){var y=t*(g.coordinate+t*b()/2-c);a[m]=g=Tn(Tn({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else a[m]=g=Tn(Tn({},g),{},{tickCoord:g.coordinate});var x=Ax(t,g.tickCoord,b,l,c);x&&(c=g.tickCoord-t*(b()/2+i),a[m]=Tn(Tn({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return a}function B_e(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var f=n[l-1],h=r(f,l-1),m=t*(f.coordinate+t*h/2-d);o[l-1]=f=Tn(Tn({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate});var g=Ax(t,f.tickCoord,function(){return h},c,d);g&&(d=f.tickCoord-t*(h/2+i),o[l-1]=Tn(Tn({},f),{},{isShow:!0}))}for(var j=a?l-1:l,b=function(S){var _=o[S],P,C=function(){return P===void 0&&(P=r(_,S)),P};if(S===0){var O=t*(_.coordinate-t*C()/2-c);o[S]=_=Tn(Tn({},_),{},{tickCoord:O<0?_.coordinate-O*t:_.coordinate})}else o[S]=_=Tn(Tn({},_),{},{tickCoord:_.coordinate});var k=Ax(t,_.tickCoord,C,c,d);k&&(c=_.tickCoord+t*(C()/2+i),o[S]=Tn(Tn({},_),{},{isShow:!0}))},y=0;y<j;y++)b(y);return o}function uT(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(ke(c)||Hc.isSsr)return R_e(i,typeof c=="number"&&ke(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",j=f&&g==="width"?rp(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(_,P){var C=st(d)?d(_.value,P):_.value;return g==="width"?M_e(rp(C,{fontSize:e,letterSpacing:r}),j,h):rp(C,{fontSize:e,letterSpacing:r})[g]},y=i.length>=2?Un(i[1].coordinate-i[0].coordinate):1,x=D_e(a,y,g);return c==="equidistantPreserveStart"?I_e(y,x,b,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=B_e(y,x,b,i,o,c==="preserveStartEnd"):m=$_e(y,x,b,i,o),m.filter(function(S){return S.isShow}))}var H_e=["viewBox"],W_e=["viewBox"],U_e=["ticks"];function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){dT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YN(t,e){if(t==null)return{};var r=q_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_9(n.key),n)}}function G_e(t,e,r){return e&&FF(t.prototype,e),r&&FF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X_e(t,e,r){return e=Ex(e),Y_e(t,N9()?Reflect.construct(e,r||[],Ex(t).constructor):e.apply(t,r))}function Y_e(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K_e(t)}function K_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ex(t)}function J_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iP(t,e)}function iP(t,e){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iP(t,e)}function dT(t,e,r){return e=_9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _9(t){var e=Z_e(t,"string");return Dd(e)=="symbol"?e:e+""}function Z_e(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pf=(function(t){function e(r){var n;return V_e(this,e),n=X_e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return J_e(e,t),G_e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=YN(n,H_e),l=this.props,c=l.viewBox,d=YN(l,W_e);return!Yu(a,c)||!Yu(o,d)||!Yu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,h=i.mirror,m=i.tickMargin,g,j,b,y,x,S,_=h?-1:1,P=n.tickSize||f,C=ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":g=j=n.coordinate,y=o+ +!h*c,b=y-_*P,S=b-_*m,x=C;break;case"left":b=y=n.coordinate,j=a+ +!h*l,g=j-_*P,x=g-_*m,S=C;break;case"right":b=y=n.coordinate,j=a+ +h*l,g=j+_*P,x=g+_*m,S=C;break;default:g=j=n.coordinate,y=o+ +h*c,b=y+_*P,S=b+_*m,x=C;break}return{line:{x1:g,y1:b,x2:j,y2:y},tick:{x,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,f=n.axisLine,h=Wr(Wr(Wr({},rt(this.props,!1)),rt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=Wr(Wr({},h),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var g=+(c==="left"&&!d||c==="right"&&d);h=Wr(Wr({},h),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return Y.createElement("line",Lu({},h,{className:pt("recharts-cartesian-axis-line",Mi(f,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,h=l.tickFormatter,m=l.unit,g=uT(Wr(Wr({},this.props),{},{ticks:n}),i,a),j=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=rt(this.props,!1),x=rt(f,!1),S=Wr(Wr({},y),{},{fill:"none"},rt(c,!1)),_=g.map(function(P,C){var O=o.getTickLineCoord(P),k=O.line,A=O.tick,M=Wr(Wr(Wr(Wr({textAnchor:j,verticalAnchor:b},y),{},{stroke:"none",fill:d},x),A),{},{index:C,payload:P,visibleTicksCount:g.length,tickFormatter:h});return Y.createElement(At,Lu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},kc(o.props,P,C)),c&&Y.createElement("line",Lu({},S,k,{className:pt("recharts-cartesian-axis-tick-line",Mi(c,"className"))})),f&&e.renderTickItem(f,M,"".concat(st(h)?h(P.value,C):P.value).concat(m||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var h=this.props,m=h.ticks,g=YN(h,U_e),j=m;return st(c)&&(j=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!j||!j.length?null:Y.createElement(At,{className:pt("recharts-cartesian-axis",d),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=pt(i.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?o=Y.cloneElement(n,Wr(Wr({},i),{},{className:l})):st(n)?o=n(Wr(Wr({},i),{},{className:l})):o=Y.createElement(Tc,Lu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(w.Component);dT(pf,"displayName","CartesianAxis");dT(pf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Q_e=["x1","y1","x2","y2","key"],eOe=["offset"];function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function $F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(r),!0).forEach(function(n){tOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tOe(t,e,r){return e=rOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rOe(t){var e=nOe(t,"string");return Mc(e)=="symbol"?e:e+""}function nOe(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}function BF(t,e){if(t==null)return{};var r=iOe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var aOe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return Y.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O9(t,e){var r;if(Y.isValidElement(t))r=Y.cloneElement(t,e);else if(st(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=BF(e,Q_e),d=rt(c,!1);d.offset;var f=BF(d,eOe);r=Y.createElement("line",lc({},f,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function sOe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Mn(Mn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return O9(i,d)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function oOe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Mn(Mn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return O9(i,d)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function lOe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var f=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==f[0]&&f.unshift(0);var h=f.map(function(m,g){var j=!f[g+1],b=j?i+o-m:f[g+1]-m;if(b<=0)return null;var y=g%e.length;return Y.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:b,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function cOe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var f=d.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==f[0]&&f.unshift(0);var h=f.map(function(m,g){var j=!f[g+1],b=j?a+l-m:f[g+1]-m;if(b<=0)return null;var y=g%n.length;return Y.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:b,height:c,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var uOe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return OV(uT(Mn(Mn(Mn({},pf.defaultProps),n),{},{ticks:Xs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},dOe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return OV(uT(Mn(Mn(Mn({},pf.defaultProps),n),{},{ticks:Xs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},_u={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function am(t){var e,r,n,i,a,o,l=sT(),c=oT(),d=ZNe(),f=Mn(Mn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:_u.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:_u.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:_u.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:_u.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:_u.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:_u.verticalFill,x:ke(t.x)?t.x:d.left,y:ke(t.y)?t.y:d.top,width:ke(t.width)?t.width:d.width,height:ke(t.height)?t.height:d.height}),h=f.x,m=f.y,g=f.width,j=f.height,b=f.syncWithTicks,y=f.horizontalValues,x=f.verticalValues,S=YNe(),_=KNe();if(!ke(g)||g<=0||!ke(j)||j<=0||!ke(h)||h!==+h||!ke(m)||m!==+m)return null;var P=f.verticalCoordinatesGenerator||uOe,C=f.horizontalCoordinatesGenerator||dOe,O=f.horizontalPoints,k=f.verticalPoints;if((!O||!O.length)&&st(C)){var A=y&&y.length,M=C({yAxis:_?Mn(Mn({},_),{},{ticks:A?y:_.ticks}):void 0,width:l,height:c,offset:d},A?!0:b);Aa(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(M),"]")),Array.isArray(M)&&(O=M)}if((!k||!k.length)&&st(P)){var D=x&&x.length,L=P({xAxis:S?Mn(Mn({},S),{},{ticks:D?x:S.ticks}):void 0,width:l,height:c,offset:d},D?!0:b);Aa(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(L),"]")),Array.isArray(L)&&(k=L)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(aOe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Y.createElement(sOe,lc({},f,{offset:d,horizontalPoints:O,xAxis:S,yAxis:_})),Y.createElement(oOe,lc({},f,{offset:d,verticalPoints:k,xAxis:S,yAxis:_})),Y.createElement(lOe,lc({},f,{horizontalPoints:O})),Y.createElement(cOe,lc({},f,{verticalPoints:k})))}am.displayName="CartesianGrid";var fOe=["type","layout","connectNulls","ref"],hOe=["key"];function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function HF(t,e){if(t==null)return{};var r=pOe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lp.apply(this,arguments)}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ou(t){return yOe(t)||vOe(t)||gOe(t)||mOe()}function mOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gOe(t,e){if(t){if(typeof t=="string")return aP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aP(t,e)}}function vOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yOe(t){if(Array.isArray(t))return aP(t)}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k9(n.key),n)}}function bOe(t,e,r){return e&&UF(t.prototype,e),r&&UF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wOe(t,e,r){return e=Mx(e),jOe(t,P9()?Reflect.construct(e,r||[],Mx(t).constructor):e.apply(t,r))}function jOe(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SOe(t)}function SOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!t})()}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(t)}function COe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sP(t,e)}function sP(t,e){return sP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sP(t,e)}function ja(t,e,r){return e=k9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k9(t){var e=NOe(t,"string");return Rd(e)=="symbol"?e:e+""}function NOe(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mf=(function(t){function e(){var r;xOe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=wOe(this,e,[].concat(i)),ja(r,"state",{isAnimationFinished:!0,totalLength:0}),ja(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ja(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(x,S){return x+S});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/d),h=o%d,m=l-o,g=[],j=0,b=0;j<c.length;b+=c[j],++j)if(b+c[j]>h){g=[].concat(Ou(c.slice(0,j)),[h-b]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(Ou(e.repeat(c,f)),Ou(g),y).map(function(x){return"".concat(x,"px")}).join(", ")}),ja(r,"id",cf("recharts-line-")),ja(r,"pathRef",function(o){r.mainCurve=o}),ja(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ja(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return COe(e,t),bOe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,d=a.layout,f=a.children,h=Di(f,Um);if(!h)return null;var m=function(b,y){return{x:b.x,y:b.y,value:b.value,errorVal:Jr(b.payload,y)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(At,g,h.map(function(j){return Y.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=rt(this.props,!1),m=rt(c,!0),g=d.map(function(b,y){var x=Si(Si(Si({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:b.x,cy:b.y,value:b.value,dataKey:f,payload:b.payload,points:d});return e.renderDotItem(c,x)}),j={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Y.createElement(At,lp({className:"recharts-line-dots",key:"dots"},j),g)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,d=l.layout,f=l.connectNulls;l.ref;var h=HF(l,fOe),m=Si(Si(Si({},rt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:f});return Y.createElement(hx,lp({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,m=o.animationEasing,g=o.animationId,j=o.animateNewValues,b=o.width,y=o.height,x=this.state,S=x.prevPoints,_=x.totalLength;return Y.createElement(ws,{begin:f,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var C=P.t;if(S){var O=S.length/l.length,k=l.map(function(B,$){var q=Math.floor($*O);if(S[q]){var F=S[q],G=Oi(F.x,B.x),E=Oi(F.y,B.y);return Si(Si({},B),{},{x:G(C),y:E(C)})}if(j){var U=Oi(b*2,B.x),H=Oi(y/2,B.y);return Si(Si({},B),{},{x:U(C),y:H(C)})}return Si(Si({},B),{},{x:B.x,y:B.y})});return a.renderCurveStatically(k,n,i)}var A=Oi(0,_),M=A(C),D;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});D=a.getStrokeDasharray(M,_,L)}else D=a.generateSimpleStrokeDasharray(_,M);return a.renderCurveStatically(l,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!Wm(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,f=i.yAxis,h=i.top,m=i.left,g=i.width,j=i.height,b=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,S=l.length===1,_=pt("recharts-line",c),P=d&&d.allowDataOverflow,C=f&&f.allowDataOverflow,O=P||C,k=dt(y)?this.id:y,A=(n=rt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=A.r,D=M===void 0?3:M,L=A.strokeWidth,B=L===void 0?2:L,$=npe(o)?o:{},q=$.clipDot,F=q===void 0?!0:q,G=D*2+B;return Y.createElement(At,{className:_},P||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(k)},Y.createElement("rect",{x:P?m:m-g/2,y:C?h:h-j/2,width:P?g:g*2,height:C?j:j*2})),!F&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(k)},Y.createElement("rect",{x:m-G/2,y:h-G/2,width:g+G,height:j+G}))):null,!S&&this.renderCurve(O,k),this.renderErrorBar(O,k),(S||o)&&this.renderDots(O,F,k),(!b||x)&&eo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Ou(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Ou(o),Ou(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(Y.isValidElement(n))a=Y.cloneElement(n,i);else if(st(n))a=n(i);else{var o=i.key,l=HF(i,hOe),c=pt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=Y.createElement(db,lp({key:o},l,{className:c}))}return a}}])})(w.PureComponent);ja(mf,"displayName","Line");ja(mf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Hc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ja(mf,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,f=e.layout,h=c.map(function(m,g){var j=Jr(m,o);return f==="horizontal"?{x:V4({axis:r,ticks:i,bandSize:l,entry:m,index:g}),y:dt(j)?null:n.scale(j),value:j,payload:m}:{x:dt(j)?null:r.scale(j),y:V4({axis:n,ticks:a,bandSize:l,entry:m,index:g}),value:j,payload:m}});return Si({points:h,layout:f},d)});function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function _Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E9(n.key),n)}}function POe(t,e,r){return e&&OOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kOe(t,e,r){return e=Dx(e),TOe(t,T9()?Reflect.construct(e,r||[],Dx(t).constructor):e.apply(t,r))}function TOe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AOe(t)}function AOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T9=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(t)}function EOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oP(t,e)}function oP(t,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oP(t,e)}function A9(t,e,r){return e=E9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E9(t){var e=MOe(t,"string");return Id(e)=="symbol"?e:e+""}function MOe(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lP(){return lP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lP.apply(this,arguments)}function DOe(t){var e=t.xAxisId,r=sT(),n=oT(),i=g9(e);return i==null?null:w.createElement(pf,lP({},i,{className:pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Xs(o,!0)}}))}var ul=(function(t){function e(){return _Oe(this,e),kOe(this,e,arguments)}return EOe(e,t),POe(e,[{key:"render",value:function(){return w.createElement(DOe,this.props)}}])})(w.Component);A9(ul,"displayName","XAxis");A9(ul,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function ROe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R9(n.key),n)}}function LOe(t,e,r){return e&&IOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zOe(t,e,r){return e=Rx(e),FOe(t,M9()?Reflect.construct(e,r||[],Rx(t).constructor):e.apply(t,r))}function FOe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Oe(t)}function $Oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M9=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rx(t)}function BOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cP(t,e)}function cP(t,e){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cP(t,e)}function D9(t,e,r){return e=R9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R9(t){var e=HOe(t,"string");return Ld(e)=="symbol"?e:e+""}function HOe(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uP.apply(this,arguments)}var WOe=function(e){var r=e.yAxisId,n=sT(),i=oT(),a=v9(r);return a==null?null:w.createElement(pf,uP({},a,{className:pt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Xs(l,!0)}}))},dl=(function(t){function e(){return ROe(this,e),zOe(this,e,arguments)}return BOe(e,t),LOe(e,[{key:"render",value:function(){return w.createElement(WOe,this.props)}}])})(w.Component);D9(dl,"displayName","YAxis");D9(dl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qF(t){return GOe(t)||VOe(t)||qOe(t)||UOe()}function UOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qOe(t,e){if(t){if(typeof t=="string")return dP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dP(t,e)}}function VOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GOe(t){if(Array.isArray(t))return dP(t)}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fP=function(e,r,n,i,a){var o=Di(e,cT),l=Di(e,bb),c=[].concat(qF(o),qF(l)),d=Di(e,jb),f="".concat(i,"Id"),h=i[0],m=r;if(c.length&&(m=c.reduce(function(b,y){if(y.props[f]===n&&vs(y.props,"extendDomain")&&ke(y.props[h])){var x=y.props[h];return[Math.min(b[0],x),Math.max(b[1],x)]}return b},m)),d.length){var g="".concat(h,"1"),j="".concat(h,"2");m=d.reduce(function(b,y){if(y.props[f]===n&&vs(y.props,"extendDomain")&&ke(y.props[g])&&ke(y.props[j])){var x=y.props[g],S=y.props[j];return[Math.min(b[0],x,S),Math.max(b[1],x,S)]}return b},m)}return a&&a.length&&(m=a.reduce(function(b,y){return ke(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},m)),m},KN={exports:{}},VF;function XOe(){return VF||(VF=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,h||c,m),j=r?r+d:d;return c._events[j]?c._events[j].fn?c._events[j]=[c._events[j],g]:c._events[j].push(g):(c._events[j]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)e.call(f,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,j=new Array(g);m<g;m++)j[m]=h[m].fn;return j},l.prototype.listenerCount=function(d){var f=r?r+d:d,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,f,h,m,g,j){var b=r?r+d:d;if(!this._events[b])return!1;var y=this._events[b],x=arguments.length,S,_;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,m),!0;case 5:return y.fn.call(y.context,f,h,m,g),!0;case 6:return y.fn.call(y.context,f,h,m,g,j),!0}for(_=1,S=new Array(x-1);_<x;_++)S[_-1]=arguments[_];y.fn.apply(y.context,S)}else{var P=y.length,C;for(_=0;_<P;_++)switch(y[_].once&&this.removeListener(d,y[_].fn,void 0,!0),x){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,f);break;case 3:y[_].fn.call(y[_].context,f,h);break;case 4:y[_].fn.call(y[_].context,f,h,m);break;default:if(!S)for(C=1,S=new Array(x-1);C<x;C++)S[C-1]=arguments[C];y[_].fn.apply(y[_].context,S)}}return!0},l.prototype.on=function(d,f,h){return a(this,d,f,h,!1)},l.prototype.once=function(d,f,h){return a(this,d,f,h,!0)},l.prototype.removeListener=function(d,f,h,m){var g=r?r+d:d;if(!this._events[g])return this;if(!f)return o(this,g),this;var j=this._events[g];if(j.fn)j.fn===f&&(!m||j.once)&&(!h||j.context===h)&&o(this,g);else{for(var b=0,y=[],x=j.length;b<x;b++)(j[b].fn!==f||m&&!j[b].once||h&&j[b].context!==h)&&y.push(j[b]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(KN)),KN.exports}var YOe=XOe();const KOe=Lt(YOe);var JN=new KOe,ZN="recharts.syncMouseEvents";function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function JOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I9(n.key),n)}}function QOe(t,e,r){return e&&ZOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QN(t,e,r){return e=I9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I9(t){var e=ePe(t,"string");return sm(e)=="symbol"?e:e+""}function ePe(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tPe=(function(){function t(){JOe(this,t),QN(this,"activeIndex",0),QN(this,"coordinateList",[]),QN(this,"layout","horizontal")}return QOe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,f=r.offset,h=f===void 0?null:f,m=r.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+d,m=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function rPe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ke(n)&&ke(i))return!0}return!1}function nPe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function L9(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=tr(e,r,n,i),l=tr(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function iPe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,h=e.angle,m=tr(l,c,d,h),g=tr(l,c,f,h);n=m.x,i=m.y,a=g.x,o=g.y}else return L9(e);return[{x:n,y:i},{x:a,y:o}]}function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function GF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(r),!0).forEach(function(n){aPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aPe(t,e,r){return e=sPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sPe(t){var e=oPe(t,"string");return om(e)=="symbol"?e:e+""}function oPe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lPe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var j,b=hx;if(m==="ScatterChart")j=o,b=TSe;else if(m==="BarChart")j=nPe(h,o,c,f),b=rT;else if(h==="radial"){var y=L9(o),x=y.cx,S=y.cy,_=y.radius,P=y.startAngle,C=y.endAngle;j={cx:x,cy:S,startAngle:P,endAngle:C,innerRadius:_,outerRadius:_},b=zV}else j={points:iPe(h,o,c)},b=hx;var O=Iv(Iv(Iv(Iv({stroke:"#ccc",pointerEvents:"none"},c),j),rt(g,!1)),{},{payload:l,payloadIndex:d,className:pt("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,O):w.createElement(b,O)}var cPe=["item"],uPe=["children","className","width","height","style","compact","title","desc"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function XF(t,e){return hPe(t)||fPe(t,e)||F9(t,e)||dPe()}function dPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function hPe(t){if(Array.isArray(t))return t}function YF(t,e){if(t==null)return{};var r=pPe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$9(n.key),n)}}function vPe(t,e,r){return e&&gPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yPe(t,e,r){return e=Ix(e),xPe(t,z9()?Reflect.construct(e,r||[],Ix(t).constructor):e.apply(t,r))}function xPe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bPe(t)}function bPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(t)}function wPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hP(t,e)}function hP(t,e){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hP(t,e)}function Fd(t){return CPe(t)||SPe(t)||F9(t)||jPe()}function jPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(t,e){if(t){if(typeof t=="string")return pP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pP(t,e)}}function SPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CPe(t){if(Array.isArray(t))return pP(t)}function pP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(r),!0).forEach(function(n){nt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nt(t,e,r){return e=$9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $9(t){var e=NPe(t,"string");return zd(e)=="symbol"?e:e+""}function NPe(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Pe={xAxis:["bottom","top"],yAxis:["left","right"]},OPe={width:"100%",height:"100%"},B9={x:0,y:0};function Lv(t){return t}var PPe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},kPe=function(e,r,n,i){var a=r.find(function(f){return f&&f.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return ye(ye(ye({},i),tr(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return ye(ye(ye({},i),tr(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return B9},Sb=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Fd(l),Fd(d)):l},[]);return o.length>0?o:e&&e.length&&ke(i)&&ke(a)?e.slice(i,a+1):[]};function H9(t){return t==="number"?[0,"auto"]:void 0}var mP=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=Sb(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var f,h=(f=d.props.data)!==null&&f!==void 0?f:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=h===void 0?l:h;m=Fy(g,o.dataKey,i)}else m=h&&h[n]||l[n];return m?[].concat(Fd(c),[EV(d,m)]):c},[])},JF=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=PPe(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=ewe(o,l,d,c);if(f>=0&&d){var h=d[f]&&d[f].value,m=mP(e,r,f,h),g=kPe(n,l,f,a);return{activeTooltipIndex:f,activeLabel:h,activePayload:m,activeCoordinate:g}}return null},TPe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,h=e.children,m=e.stackOffset,g=_V(f,a);return n.reduce(function(j,b){var y,x=b.type.defaultProps!==void 0?ye(ye({},b.type.defaultProps),b.props):b.props,S=x.type,_=x.dataKey,P=x.allowDataOverflow,C=x.allowDuplicatedCategory,O=x.scale,k=x.ticks,A=x.includeHidden,M=x[o];if(j[M])return j;var D=Sb(e.data,{graphicalItems:i.filter(function(V){var J,Q=o in V.props?V.props[o]:(J=V.type.defaultProps)===null||J===void 0?void 0:J[o];return Q===M}),dataStartIndex:c,dataEndIndex:d}),L=D.length,B,$,q;rPe(x.domain,P,S)&&(B=kO(x.domain,null,P),g&&(S==="number"||O!=="auto")&&(q=ip(D,_,"category")));var F=H9(S);if(!B||B.length===0){var G,E=(G=x.domain)!==null&&G!==void 0?G:F;if(_){if(B=ip(D,_,S),S==="category"&&g){var U=Ghe(B);C&&U?($=B,B=Sx(0,L)):C||(B=K4(E,B,b).reduce(function(V,J){return V.indexOf(J)>=0?V:[].concat(Fd(V),[J])},[]))}else if(S==="category")C?B=B.filter(function(V){return V!==""&&!dt(V)}):B=K4(E,B,b).reduce(function(V,J){return V.indexOf(J)>=0||J===""||dt(J)?V:[].concat(Fd(V),[J])},[]);else if(S==="number"){var H=awe(D,i.filter(function(V){var J,Q,se=o in V.props?V.props[o]:(J=V.type.defaultProps)===null||J===void 0?void 0:J[o],oe="hide"in V.props?V.props.hide:(Q=V.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return se===M&&(A||!oe)}),_,a,f);H&&(B=H)}g&&(S==="number"||O!=="auto")&&(q=ip(D,_,"category"))}else g?B=Sx(0,L):l&&l[M]&&l[M].hasStack&&S==="number"?B=m==="expand"?[0,1]:AV(l[M].stackGroups,c,d):B=NV(D,i.filter(function(V){var J=o in V.props?V.props[o]:V.type.defaultProps[o],Q="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return J===M&&(A||!Q)}),S,f,!0);if(S==="number")B=fP(h,B,M,a,k),E&&(B=kO(E,B,P));else if(S==="category"&&E){var I=E,z=B.every(function(V){return I.indexOf(V)>=0});z&&(B=I)}}return ye(ye({},j),{},nt({},M,ye(ye({},x),{},{axisType:a,domain:B,categoricalDomain:q,duplicateDomain:$,originalDomain:(y=x.domain)!==null&&y!==void 0?y:F,isCategorical:g,layout:f})))},{})},APe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,h=e.children,m=Sb(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),g=m.length,j=_V(f,a),b=-1;return n.reduce(function(y,x){var S=x.type.defaultProps!==void 0?ye(ye({},x.type.defaultProps),x.props):x.props,_=S[o],P=H9("number");if(!y[_]){b++;var C;return j?C=Sx(0,g):l&&l[_]&&l[_].hasStack?(C=AV(l[_].stackGroups,c,d),C=fP(h,C,_,a)):(C=kO(P,NV(m,n.filter(function(O){var k,A,M=o in O.props?O.props[o]:(k=O.type.defaultProps)===null||k===void 0?void 0:k[o],D="hide"in O.props?O.props.hide:(A=O.type.defaultProps)===null||A===void 0?void 0:A.hide;return M===_&&!D}),"number",f),i.defaultProps.allowDataOverflow),C=fP(h,C,_,a)),ye(ye({},y),{},nt({},_,ye(ye({axisType:a},i.defaultProps),{},{hide:!0,orientation:Mi(_Pe,"".concat(a,".").concat(b%2),null),domain:C,originalDomain:P,isCategorical:j,layout:f})))}return y},{})},EPe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.children,h="".concat(i,"Id"),m=Di(f,a),g={};return m&&m.length?g=TPe(e,{axes:m,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(g=APe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),g},MPe=function(e){var r=Go(e),n=Xs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:k2(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ux(r,n)}},ZF=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ni(r,kd),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},DPe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Zs(r&&r.type);return n&&n.indexOf("Bar")>=0})},QF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},RPe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,f=n.height,h=n.children,m=n.margin||{},g=Ni(h,kd),j=Ni(h,ms),b=Object.keys(c).reduce(function(C,O){var k=c[O],A=k.orientation;return!k.mirror&&!k.hide?ye(ye({},C),{},nt({},A,C[A]+k.width)):C},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(C,O){var k=o[O],A=k.orientation;return!k.mirror&&!k.hide?ye(ye({},C),{},nt({},A,Mi(C,"".concat(A))+k.height)):C},{top:m.top||0,bottom:m.bottom||0}),x=ye(ye({},y),b),S=x.bottom;g&&(x.bottom+=g.props.height||kd.defaultProps.height),j&&r&&(x=nwe(x,i,n,r));var _=d-x.left-x.right,P=f-x.top-x.bottom;return ye(ye({brushBottom:S},x),{},{width:Math.max(_,0),height:Math.max(P,0)})},IPe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},fT=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,m=function(x,S){var _=S.graphicalItems,P=S.stackGroups,C=S.offset,O=S.updateId,k=S.dataStartIndex,A=S.dataEndIndex,M=x.barSize,D=x.layout,L=x.barGap,B=x.barCategoryGap,$=x.maxBarSize,q=QF(D),F=q.numericAxisName,G=q.cateAxisName,E=DPe(_),U=[];return _.forEach(function(H,I){var z=Sb(x.data,{graphicalItems:[H],dataStartIndex:k,dataEndIndex:A}),V=H.type.defaultProps!==void 0?ye(ye({},H.type.defaultProps),H.props):H.props,J=V.dataKey,Q=V.maxBarSize,se=V["".concat(F,"Id")],oe=V["".concat(G,"Id")],K={},de=c.reduce(function(gt,Qe){var zt=S["".concat(Qe.axisType,"Map")],en=V["".concat(Qe.axisType,"Id")];zt&&zt[en]||Qe.axisType==="zAxis"||Ec();var tn=zt[en];return ye(ye({},gt),{},nt(nt({},Qe.axisType,tn),"".concat(Qe.axisType,"Ticks"),Xs(tn)))},K),ae=de[G],ce=de["".concat(G,"Ticks")],xe=P&&P[se]&&P[se].hasStack&&pwe(H,P[se].stackGroups),le=Zs(H.type).indexOf("Bar")>=0,Te=ux(ae,ce),Ne=[],Fe=E&&twe({barSize:M,stackGroups:P,totalSize:IPe(de,G)});if(le){var Ke,Re,mt=dt(Q)?$:Q,ct=(Ke=(Re=ux(ae,ce,!0))!==null&&Re!==void 0?Re:mt)!==null&&Ke!==void 0?Ke:0;Ne=rwe({barGap:L,barCategoryGap:B,bandSize:ct!==Te?ct:Te,sizeList:Fe[oe],maxBarSize:mt}),ct!==Te&&(Ne=Ne.map(function(gt){return ye(ye({},gt),{},{position:ye(ye({},gt.position),{},{offset:gt.position.offset-ct/2})})}))}var je=H&&H.type&&H.type.getComposedData;je&&U.push({props:ye(ye({},je(ye(ye({},de),{},{displayedData:z,props:x,dataKey:J,item:H,bandSize:Te,barPosition:Ne,offset:C,stackedData:xe,layout:D,dataStartIndex:k,dataEndIndex:A}))),{},nt(nt(nt({key:H.key||"item-".concat(I)},F,de[F]),G,de[G]),"animationId",O)),childIndex:spe(H,x.children),item:H})}),U},g=function(x,S){var _=x.props,P=x.dataStartIndex,C=x.dataEndIndex,O=x.updateId;if(!uI({props:_}))return null;var k=_.children,A=_.layout,M=_.stackOffset,D=_.data,L=_.reverseStackOrder,B=QF(A),$=B.numericAxisName,q=B.cateAxisName,F=Di(k,n),G=fwe(D,F,"".concat($,"Id"),"".concat(q,"Id"),M,L),E=c.reduce(function(V,J){var Q="".concat(J.axisType,"Map");return ye(ye({},V),{},nt({},Q,EPe(_,ye(ye({},J),{},{graphicalItems:F,stackGroups:J.axisType===$&&G,dataStartIndex:P,dataEndIndex:C}))))},{}),U=RPe(ye(ye({},E),{},{props:_,graphicalItems:F}),S?.legendBBox);Object.keys(E).forEach(function(V){E[V]=f(_,E[V],U,V.replace("Map",""),r)});var H=E["".concat(q,"Map")],I=MPe(H),z=m(_,ye(ye({},E),{},{dataStartIndex:P,dataEndIndex:C,updateId:O,graphicalItems:F,stackGroups:G,offset:U}));return ye(ye({formattedGraphicalItems:z,graphicalItems:F,offset:U,stackGroups:G},I),E)},j=(function(y){function x(S){var _,P,C;return mPe(this,x),C=yPe(this,x,[S]),nt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nt(C,"accessibilityManager",new tPe),nt(C,"handleLegendBBoxUpdate",function(O){if(O){var k=C.state,A=k.dataStartIndex,M=k.dataEndIndex,D=k.updateId;C.setState(ye({legendBBox:O},g({props:C.props,dataStartIndex:A,dataEndIndex:M,updateId:D},ye(ye({},C.state),{},{legendBBox:O}))))}}),nt(C,"handleReceiveSyncEvent",function(O,k,A){if(C.props.syncId===O){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(k)}}),nt(C,"handleBrushChange",function(O){var k=O.startIndex,A=O.endIndex;if(k!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return ye({dataStartIndex:k,dataEndIndex:A},g({props:C.props,dataStartIndex:k,dataEndIndex:A,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),nt(C,"handleMouseEnter",function(O){var k=C.getMouseInfo(O);if(k){var A=ye(ye({},k),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var M=C.props.onMouseEnter;st(M)&&M(A,O)}}),nt(C,"triggeredAfterMouseMove",function(O){var k=C.getMouseInfo(O),A=k?ye(ye({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var M=C.props.onMouseMove;st(M)&&M(A,O)}),nt(C,"handleItemMouseEnter",function(O){C.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),nt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),nt(C,"handleMouseMove",function(O){O.persist(),C.throttleTriggeredAfterMouseMove(O)}),nt(C,"handleMouseLeave",function(O){C.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var A=C.props.onMouseLeave;st(A)&&A(k,O)}),nt(C,"handleOuterEvent",function(O){var k=ape(O),A=Mi(C.props,"".concat(k));if(k&&st(A)){var M,D;/.*touch.*/i.test(k)?D=C.getMouseInfo(O.changedTouches[0]):D=C.getMouseInfo(O),A((M=D)!==null&&M!==void 0?M:{},O)}}),nt(C,"handleClick",function(O){var k=C.getMouseInfo(O);if(k){var A=ye(ye({},k),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var M=C.props.onClick;st(M)&&M(A,O)}}),nt(C,"handleMouseDown",function(O){var k=C.props.onMouseDown;if(st(k)){var A=C.getMouseInfo(O);k(A,O)}}),nt(C,"handleMouseUp",function(O){var k=C.props.onMouseUp;if(st(k)){var A=C.getMouseInfo(O);k(A,O)}}),nt(C,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),nt(C,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseDown(O.changedTouches[0])}),nt(C,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseUp(O.changedTouches[0])}),nt(C,"handleDoubleClick",function(O){var k=C.props.onDoubleClick;if(st(k)){var A=C.getMouseInfo(O);k(A,O)}}),nt(C,"handleContextMenu",function(O){var k=C.props.onContextMenu;if(st(k)){var A=C.getMouseInfo(O);k(A,O)}}),nt(C,"triggerSyncEvent",function(O){C.props.syncId!==void 0&&JN.emit(ZN,C.props.syncId,O,C.eventEmitterSymbol)}),nt(C,"applySyncEvent",function(O){var k=C.props,A=k.layout,M=k.syncMethod,D=C.state.updateId,L=O.dataStartIndex,B=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)C.setState(ye({dataStartIndex:L,dataEndIndex:B},g({props:C.props,dataStartIndex:L,dataEndIndex:B,updateId:D},C.state)));else if(O.activeTooltipIndex!==void 0){var $=O.chartX,q=O.chartY,F=O.activeTooltipIndex,G=C.state,E=G.offset,U=G.tooltipTicks;if(!E)return;if(typeof M=="function")F=M(U,O);else if(M==="value"){F=-1;for(var H=0;H<U.length;H++)if(U[H].value===O.activeLabel){F=H;break}}var I=ye(ye({},E),{},{x:E.left,y:E.top}),z=Math.min($,I.x+I.width),V=Math.min(q,I.y+I.height),J=U[F]&&U[F].value,Q=mP(C.state,C.props.data,F),se=U[F]?{x:A==="horizontal"?U[F].coordinate:z,y:A==="horizontal"?V:U[F].coordinate}:B9;C.setState(ye(ye({},O),{},{activeLabel:J,activeCoordinate:se,activePayload:Q,activeTooltipIndex:F}))}else C.setState(O)}),nt(C,"renderCursor",function(O){var k,A=C.state,M=A.isTooltipActive,D=A.activeCoordinate,L=A.activePayload,B=A.offset,$=A.activeTooltipIndex,q=A.tooltipAxisBandSize,F=C.getTooltipEventType(),G=(k=O.props.active)!==null&&k!==void 0?k:M,E=C.props.layout,U=O.key||"_recharts-cursor";return Y.createElement(lPe,{key:U,activeCoordinate:D,activePayload:L,activeTooltipIndex:$,chartName:r,element:O,isActive:G,layout:E,offset:B,tooltipAxisBandSize:q,tooltipEventType:F})}),nt(C,"renderPolarAxis",function(O,k,A){var M=Mi(O,"type.axisType"),D=Mi(C.state,"".concat(M,"Map")),L=O.type.defaultProps,B=L!==void 0?ye(ye({},L),O.props):O.props,$=D&&D[B["".concat(M,"Id")]];return w.cloneElement(O,ye(ye({},$),{},{className:pt(M,$.className),key:O.key||"".concat(k,"-").concat(A),ticks:Xs($,!0)}))}),nt(C,"renderPolarGrid",function(O){var k=O.props,A=k.radialLines,M=k.polarAngles,D=k.polarRadius,L=C.state,B=L.radiusAxisMap,$=L.angleAxisMap,q=Go(B),F=Go($),G=F.cx,E=F.cy,U=F.innerRadius,H=F.outerRadius;return w.cloneElement(O,{polarAngles:Array.isArray(M)?M:Xs(F,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(D)?D:Xs(q,!0).map(function(I){return I.coordinate}),cx:G,cy:E,innerRadius:U,outerRadius:H,key:O.key||"polar-grid",radialLines:A})}),nt(C,"renderLegend",function(){var O=C.state.formattedGraphicalItems,k=C.props,A=k.children,M=k.width,D=k.height,L=C.props.margin||{},B=M-(L.left||0)-(L.right||0),$=SV({children:A,formattedGraphicalItems:O,legendWidth:B,legendContent:d});if(!$)return null;var q=$.item,F=YF($,cPe);return w.cloneElement(q,ye(ye({},F),{},{chartWidth:M,chartHeight:D,margin:L,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),nt(C,"renderTooltip",function(){var O,k=C.props,A=k.children,M=k.accessibilityLayer,D=Ni(A,oi);if(!D)return null;var L=C.state,B=L.isTooltipActive,$=L.activeCoordinate,q=L.activePayload,F=L.activeLabel,G=L.offset,E=(O=D.props.active)!==null&&O!==void 0?O:B;return w.cloneElement(D,{viewBox:ye(ye({},G),{},{x:G.left,y:G.top}),active:E,label:F,payload:E?q:[],coordinate:$,accessibilityLayer:M})}),nt(C,"renderBrush",function(O){var k=C.props,A=k.margin,M=k.data,D=C.state,L=D.offset,B=D.dataStartIndex,$=D.dataEndIndex,q=D.updateId;return w.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Ev(C.handleBrushChange,O.props.onChange),data:M,x:ke(O.props.x)?O.props.x:L.left,y:ke(O.props.y)?O.props.y:L.top+L.height+L.brushBottom-(A.bottom||0),width:ke(O.props.width)?O.props.width:L.width,startIndex:B,endIndex:$,updateId:"brush-".concat(q)})}),nt(C,"renderReferenceElement",function(O,k,A){if(!O)return null;var M=C,D=M.clipPathId,L=C.state,B=L.xAxisMap,$=L.yAxisMap,q=L.offset,F=O.type.defaultProps||{},G=O.props,E=G.xAxisId,U=E===void 0?F.xAxisId:E,H=G.yAxisId,I=H===void 0?F.yAxisId:H;return w.cloneElement(O,{key:O.key||"".concat(k,"-").concat(A),xAxis:B[U],yAxis:$[I],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:D})}),nt(C,"renderActivePoints",function(O){var k=O.item,A=O.activePoint,M=O.basePoint,D=O.childIndex,L=O.isRange,B=[],$=k.props.key,q=k.item.type.defaultProps!==void 0?ye(ye({},k.item.type.defaultProps),k.item.props):k.item.props,F=q.activeDot,G=q.dataKey,E=ye(ye({index:D,dataKey:G,cx:A.x,cy:A.y,r:4,fill:tT(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},rt(F,!1)),$y(F));return B.push(x.renderActiveDot(F,E,"".concat($,"-activePoint-").concat(D))),M?B.push(x.renderActiveDot(F,ye(ye({},E),{},{cx:M.x,cy:M.y}),"".concat($,"-basePoint-").concat(D))):L&&B.push(null),B}),nt(C,"renderGraphicChild",function(O,k,A){var M=C.filterFormatItem(O,k,A);if(!M)return null;var D=C.getTooltipEventType(),L=C.state,B=L.isTooltipActive,$=L.tooltipAxis,q=L.activeTooltipIndex,F=L.activeLabel,G=C.props.children,E=Ni(G,oi),U=M.props,H=U.points,I=U.isRange,z=U.baseLine,V=M.item.type.defaultProps!==void 0?ye(ye({},M.item.type.defaultProps),M.item.props):M.item.props,J=V.activeDot,Q=V.hide,se=V.activeBar,oe=V.activeShape,K=!!(!Q&&B&&E&&(J||se||oe)),de={};D!=="axis"&&E&&E.props.trigger==="click"?de={onClick:Ev(C.handleItemMouseEnter,O.props.onClick)}:D!=="axis"&&(de={onMouseLeave:Ev(C.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Ev(C.handleItemMouseEnter,O.props.onMouseEnter)});var ae=w.cloneElement(O,ye(ye({},M.props),de));function ce(Qe){return typeof $.dataKey=="function"?$.dataKey(Qe.payload):null}if(K)if(q>=0){var xe,le;if($.dataKey&&!$.allowDuplicatedCategory){var Te=typeof $.dataKey=="function"?ce:"payload.".concat($.dataKey.toString());xe=Fy(H,Te,F),le=I&&z&&Fy(z,Te,F)}else xe=H?.[q],le=I&&z&&z[q];if(oe||se){var Ne=O.props.activeIndex!==void 0?O.props.activeIndex:q;return[w.cloneElement(O,ye(ye(ye({},M.props),de),{},{activeIndex:Ne})),null,null]}if(!dt(xe))return[ae].concat(Fd(C.renderActivePoints({item:M,activePoint:xe,basePoint:le,childIndex:q,isRange:I})))}else{var Fe,Ke=(Fe=C.getItemByXY(C.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:ae},Re=Ke.graphicalItem,mt=Re.item,ct=mt===void 0?O:mt,je=Re.childIndex,gt=ye(ye(ye({},M.props),de),{},{activeIndex:je});return[w.cloneElement(ct,gt),null,null]}return I?[ae,null,null]:[ae,null]}),nt(C,"renderCustomized",function(O,k,A){return w.cloneElement(O,ye(ye({key:"recharts-customized-".concat(A)},C.props),C.state))}),nt(C,"renderMap",{CartesianGrid:{handler:Lv,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Lv},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Lv},YAxis:{handler:Lv},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((_=S.id)!==null&&_!==void 0?_:cf("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=jq(C.triggeredAfterMouseMove,(P=S.throttleDelay)!==null&&P!==void 0?P:1e3/60),C.state={},C}return wPe(x,y),vPe(x,[{key:"componentDidMount",value:function(){var _,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,P=_.children,C=_.data,O=_.height,k=_.layout,A=Ni(P,oi);if(A){var M=A.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,L=mP(this.state,C,M,D),B=this.state.tooltipTicks[M].coordinate,$=(this.state.offset.top+O)/2,q=k==="horizontal",F=q?{x:B,y:$}:{y:B,x:$},G=this.state.formattedGraphicalItems.find(function(U){var H=U.item;return H.type.name==="Scatter"});G&&(F=ye(ye({},F),G.props.points[M].tooltipPosition),L=G.props.points[M].tooltipPayload);var E={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:D,activePayload:L,activeCoordinate:F};this.setState(E),this.renderCursor(A),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var C,O;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(_){J_([Ni(_.children,oi)],[Ni(this.props.children,oi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ni(this.props.children,oi);if(_&&typeof _.props.shared=="boolean"){var P=_.props.shared?"axis":"item";return l.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var P=this.container,C=P.getBoundingClientRect(),O=Vve(C),k={chartX:Math.round(_.pageX-O.left),chartY:Math.round(_.pageY-O.top)},A=C.width/P.offsetWidth||1,M=this.inRange(k.chartX,k.chartY,A);if(!M)return null;var D=this.state,L=D.xAxisMap,B=D.yAxisMap,$=this.getTooltipEventType(),q=JF(this.state,this.props.data,this.props.layout,M);if($!=="axis"&&L&&B){var F=Go(L).scale,G=Go(B).scale,E=F&&F.invert?F.invert(k.chartX):null,U=G&&G.invert?G.invert(k.chartY):null;return ye(ye({},k),{},{xValue:E,yValue:U},q)}return q?ye(ye({},k),q):null}},{key:"inRange",value:function(_,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,k=_/C,A=P/C;if(O==="horizontal"||O==="vertical"){var M=this.state.offset,D=k>=M.left&&k<=M.left+M.width&&A>=M.top&&A<=M.top+M.height;return D?{x:k,y:A}:null}var L=this.state,B=L.angleAxisMap,$=L.radiusAxisMap;if(B&&$){var q=Go(B);return Q4({x:k,y:A},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,P=this.getTooltipEventType(),C=Ni(_,oi),O={};C&&P==="axis"&&(C.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=$y(this.props,this.handleOuterEvent);return ye(ye({},k),O)}},{key:"addListener",value:function(){JN.on(ZN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){JN.removeListener(ZN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,P,C){for(var O=this.state.formattedGraphicalItems,k=0,A=O.length;k<A;k++){var M=O[k];if(M.item===_||M.props.key===_.key||P===Zs(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,P=this.state.offset,C=P.left,O=P.top,k=P.height,A=P.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:_},Y.createElement("rect",{x:C,y:O,height:k,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(P,C){var O=XF(C,2),k=O[0],A=O[1];return ye(ye({},P),{},nt({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(P,C){var O=XF(C,2),k=O[0],A=O[1];return ye(ye({},P),{},nt({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[_])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(_){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[_])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(_){var P=this.state,C=P.formattedGraphicalItems,O=P.activeItem;if(C&&C.length)for(var k=0,A=C.length;k<A;k++){var M=C[k],D=M.props,L=M.item,B=L.type.defaultProps!==void 0?ye(ye({},L.type.defaultProps),L.props):L.props,$=Zs(L.type);if($==="Bar"){var q=(D.data||[]).find(function(U){return uSe(_,U)});if(q)return{graphicalItem:M,payload:q}}else if($==="RadialBar"){var F=(D.data||[]).find(function(U){return Q4(_,U)});if(F)return{graphicalItem:M,payload:F}}else if(gb(M,O)||vb(M,O)||em(M,O)){var G=MCe({graphicalItem:M,activeTooltipItem:O,itemData:B.data}),E=B.activeIndex===void 0?G:B.activeIndex;return{graphicalItem:ye(ye({},M),{},{childIndex:E}),payload:em(M,O)?B.data[G]:M.props.data[G]}}}return null}},{key:"render",value:function(){var _=this;if(!uI(this))return null;var P=this.props,C=P.children,O=P.className,k=P.width,A=P.height,M=P.style,D=P.compact,L=P.title,B=P.desc,$=YF(P,uPe),q=rt($,!1);if(D)return Y.createElement(kF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(Q_,zu({},q,{width:k,height:A,title:L,desc:B}),this.renderClipPath(),fI(C,this.renderMap)));if(this.props.accessibilityLayer){var F,G;q.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,q.role=(G=this.props.role)!==null&&G!==void 0?G:"application",q.onKeyDown=function(U){_.accessibilityManager.keyboardEvent(U)},q.onFocus=function(){_.accessibilityManager.focus()}}var E=this.parseEventsOfWrapper();return Y.createElement(kF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",zu({className:pt("recharts-wrapper",O),style:ye({position:"relative",cursor:"default",width:k,height:A},M)},E,{ref:function(H){_.container=H}}),Y.createElement(Q_,zu({},q,{width:k,height:A,title:L,desc:B,style:OPe}),this.renderClipPath(),fI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);nt(j,"displayName",r),nt(j,"defaultProps",ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),nt(j,"getDerivedStateFromProps",function(y,x){var S=y.dataKey,_=y.data,P=y.children,C=y.width,O=y.height,k=y.layout,A=y.stackOffset,M=y.margin,D=x.dataStartIndex,L=x.dataEndIndex;if(x.updateId===void 0){var B=ZF(y);return ye(ye(ye({},B),{},{updateId:0},g(ye(ye({props:y},B),{},{updateId:0}),x)),{},{prevDataKey:S,prevData:_,prevWidth:C,prevHeight:O,prevLayout:k,prevStackOffset:A,prevMargin:M,prevChildren:P})}if(S!==x.prevDataKey||_!==x.prevData||C!==x.prevWidth||O!==x.prevHeight||k!==x.prevLayout||A!==x.prevStackOffset||!Yu(M,x.prevMargin)){var $=ZF(y),q={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=ye(ye({},JF(x,_,k)),{},{updateId:x.updateId+1}),G=ye(ye(ye({},$),q),F);return ye(ye(ye({},G),g(ye({props:y},G),x)),{},{prevDataKey:S,prevData:_,prevWidth:C,prevHeight:O,prevLayout:k,prevStackOffset:A,prevMargin:M,prevChildren:P})}if(!J_(P,x.prevChildren)){var E,U,H,I,z=Ni(P,kd),V=z&&(E=(U=z.props)===null||U===void 0?void 0:U.startIndex)!==null&&E!==void 0?E:D,J=z&&(H=(I=z.props)===null||I===void 0?void 0:I.endIndex)!==null&&H!==void 0?H:L,Q=V!==D||J!==L,se=!dt(_),oe=se&&!Q?x.updateId:x.updateId+1;return ye(ye({updateId:oe},g(ye(ye({props:y},x),{},{updateId:oe,dataStartIndex:V,dataEndIndex:J}),x)),{},{prevChildren:P,dataStartIndex:V,dataEndIndex:J})}return null}),nt(j,"renderActiveDot",function(y,x,S){var _;return w.isValidElement(y)?_=w.cloneElement(y,x):st(y)?_=y(x):_=Y.createElement(db,x),Y.createElement(At,{className:"recharts-active-dot",key:S},_)});var b=w.forwardRef(function(x,S){return Y.createElement(j,zu({},x,{ref:S}))});return b.displayName=j.displayName,b},W9=fT({chartName:"LineChart",GraphicalChild:mf,axisComponents:[{axisType:"xAxis",AxisComp:ul},{axisType:"yAxis",AxisComp:dl}],formatAxisMap:l9}),U9=fT({chartName:"BarChart",GraphicalChild:uo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ul},{axisType:"yAxis",AxisComp:dl}],formatAxisMap:l9}),LPe=fT({chartName:"PieChart",GraphicalChild:xo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mb},{axisType:"radiusAxis",AxisComp:hb}],formatAxisMap:Cwe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const e3="http://localhost:4000";function zPe(){const[t,e]=w.useState(!0),[r,n]=w.useState([]),[i,a]=w.useState([]),[o,l]=w.useState(0),[c,d]=w.useState(0),[f,h]=w.useState(0),[m,g]=w.useState(0),j=async()=>{try{e(!0);const P=await fetch(`${e3}/api/orders`,{credentials:"include"});if(P.ok){const O=await P.json();n(Array.isArray(O)?O:[])}else if(P.status===401){ve.error("Unauthorized. Please log in again.");return}const C=await fetch(`${e3}/api/cashflow`,{credentials:"include"});if(C.ok){const O=await C.json();a(Array.isArray(O)?O:[])}else C.status===401&&ve.error("Unauthorized. Please log in again.")}catch(P){console.error("Error loading reports:",P),ve.error("Failed to load reports data")}finally{e(!1)}};w.useEffect(()=>{j()},[]),w.useEffect(()=>{const P=i.filter(O=>O.type==="in").reduce((O,k)=>O+k.amount,0);l(P),d(r.length);const C=new Set(r.map(O=>O.customer?.email).filter(Boolean));h(C.size),g(r.length)},[r,i]);const y=(()=>{const P=new Date,C=[];for(let O=5;O>=0;O--){const k=new Date(P.getFullYear(),P.getMonth()-O,1);C.push({month:k.toLocaleDateString("en-US",{month:"short"}),revenue:0,orders:0})}return i.forEach(O=>{if(O.type==="in"){const k=new Date(O.date),A=C.findIndex(M=>{const D=new Date(M.month+" 1, "+k.getFullYear());return D.getMonth()===k.getMonth()&&D.getFullYear()===k.getFullYear()});A>=0&&(C[A].revenue+=O.amount)}}),r.forEach(O=>{if(O.orderDate){const k=new Date(O.orderDate),A=C.findIndex(M=>{const D=new Date(M.month+" 1, "+k.getFullYear());return D.getMonth()===k.getMonth()&&D.getFullYear()===k.getFullYear()});A>=0&&(C[A].orders+=1)}}),C})(),x=[{name:"Custom Orders",value:r.length,color:"#3b82f6"}],S=[],_=[{title:"Total Revenue",value:`${o.toLocaleString()}`,change:"+0%",trend:"up",icon:Fx,color:"text-green-600",bgColor:"bg-green-100"},{title:"Total Orders",value:c.toString(),change:"+0%",trend:"up",icon:il,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"New Customers",value:f.toString(),change:"+0%",trend:"up",icon:SP,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Products Sold",value:m.toString(),change:"+0%",trend:"up",icon:gr,color:"text-orange-600",bgColor:"bg-orange-100"}];return t?s.jsx(pn,{children:s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading reports..."})]})})}):s.jsx(pn,{children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reports & Analytics"}),s.jsx("p",{className:"text-gray-600",children:"Track your business performance and insights"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",onClick:j,children:[s.jsx(lm,{className:"size-4 mr-2"}),"Refresh"]}),s.jsxs(ee,{variant:"outline",children:[s.jsx(xP,{className:"size-4 mr-2"}),"Last 6 Months"]}),s.jsxs(ee,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(P3,{className:"size-4 mr-2"}),"Export Report"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:_.map((P,C)=>{const O=P.icon;return s.jsx(ht,{children:s.jsxs(bt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${P.bgColor} ${P.color} p-3 rounded-lg`,children:s.jsx(O,{className:"size-6"})}),s.jsxs("div",{className:"flex items-center gap-1",children:[P.trend==="up"?s.jsx($v,{className:"size-4 text-green-600"}):s.jsx(n_,{className:"size-4 text-red-600"}),s.jsx("span",{className:`text-sm font-medium ${P.trend==="up"?"text-green-600":"text-red-600"}`,children:P.change})]})]}),s.jsx("h3",{className:"text-2xl font-bold mb-1",children:P.value}),s.jsx("p",{className:"text-sm text-gray-600",children:P.title})]})},C)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Revenue Overview"})}),s.jsx(bt,{children:y.length>0&&y.some(P=>P.revenue>0)?s.jsx(tp,{width:"100%",height:300,children:s.jsxs(W9,{data:y,children:[s.jsx(am,{strokeDasharray:"3 3"}),s.jsx(ul,{dataKey:"month"}),s.jsx(dl,{}),s.jsx(oi,{}),s.jsx(ms,{}),s.jsx(mf,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:s.jsx("p",{children:"No revenue data available"})})})]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Orders Overview"})}),s.jsx(bt,{children:y.length>0&&y.some(P=>P.orders>0)?s.jsx(tp,{width:"100%",height:300,children:s.jsxs(U9,{data:y,children:[s.jsx(am,{strokeDasharray:"3 3"}),s.jsx(ul,{dataKey:"month"}),s.jsx(dl,{}),s.jsx(oi,{}),s.jsx(ms,{}),s.jsx(uo,{dataKey:"orders",fill:"#10b981"})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:s.jsx("p",{children:"No orders data available"})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Sales by Category"})}),s.jsx(bt,{children:x.length>0&&x.some(P=>P.value>0)?s.jsx(tp,{width:"100%",height:300,children:s.jsxs(LPe,{children:[s.jsx(xo,{data:x,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:C})=>`${P} ${(C*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:x.map((P,C)=>s.jsx(Q0,{fill:P.color},`cell-${C}`))}),s.jsx(oi,{})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:s.jsx("p",{children:"No category data available"})})})]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Top Selling Products"})}),s.jsx(bt,{children:S.length>0?s.jsx("div",{className:"space-y-4",children:S.map((P,C)=>s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b last:border-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[P.sold," units sold"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"font-bold text-green-600",children:["",P.revenue.toLocaleString()]})})]},C))}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:s.jsx("p",{children:"No product sales data available"})})})]})]})]})})}const e_="http://localhost:4000";function FPe(){const[t,e]=w.useState(!0),[r,n]=w.useState(null),[i,a]=w.useState([]),[o,l]=w.useState(!1),[c,d]=w.useState(!1),f=async()=>{try{e(!0);const _=new Date,P=new Date(_.getFullYear(),_.getMonth(),1),C=new Date(_.getFullYear(),_.getMonth()+1,0,23,59,59,999),O=await fetch(`${e_}/api/cashflow/report?startDate=${P.toISOString()}&endDate=${C.toISOString()}`,{credentials:"include"});if(O.ok){const A=await O.json();n(A)}else if(O.status===401){ve.error("Unauthorized. Please log in again.");return}const k=await fetch(`${e_}/api/cashflow`,{credentials:"include"});if(k.ok){const A=await k.json();a(A)}else k.status===401&&ve.error("Unauthorized. Please log in again.")}catch(_){console.error("Error loading cashflow:",_),ve.error("Failed to load cashflow data")}finally{e(!1)}},h=async()=>{try{d(!0);const _=await fetch(`${e_}/api/cashflow/reset/all`,{method:"DELETE",credentials:"include"});if(_.ok)ve.success("Cashflow and reports reset successfully"),l(!1),await f();else if(_.status===401)ve.error("Unauthorized. Please log in again.");else{const P=await _.json().catch(()=>({error:"Failed to reset"}));ve.error(P.error||"Failed to reset cashflow")}}catch(_){console.error("Error resetting cashflow:",_),ve.error("Failed to reset cashflow")}finally{d(!1)}};w.useEffect(()=>{f()},[]);const m=r?.totalMoneyIn||0,g=r?.totalMoneyOut||0,j=r?.netCashflow||0,b=m>0?(j/m*100).toFixed(1):"0.0",x=(()=>{const _=new Date,P=[];for(let C=5;C>=0;C--){const O=new Date(_.getFullYear(),_.getMonth()-C,1);P.push({month:O.toLocaleDateString("en-US",{month:"short"}),income:0,expenses:0,profit:0})}return i.forEach(C=>{const O=new Date(C.date),k=P.findIndex(A=>new Date(A.month+" 1, "+O.getFullYear()).getMonth()===O.getMonth());k>=0&&(C.type==="in"?P[k].income+=C.amount:P[k].expenses+=C.amount,P[k].profit=P[k].income-P[k].expenses)}),P})(),S=i.slice(0,10);return t?s.jsx(pn,{children:s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading cashflow data..."})]})})}):s.jsxs(pn,{children:[s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Cash Flow"}),s.jsx("p",{className:"text-gray-600",children:"Monitor income, expenses, and profitability"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",onClick:f,children:[s.jsx(lm,{className:"size-4 mr-2"}),"Refresh"]}),s.jsxs(ee,{variant:"outline",onClick:()=>l(!0),className:"text-red-600 hover:text-red-700",children:[s.jsx(ho,{className:"size-4 mr-2"}),"Reset Data"]}),s.jsxs(ee,{variant:"outline",children:[s.jsx(xP,{className:"size-4 mr-2"}),"This Month"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(ht,{children:s.jsxs(bt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-lg",children:s.jsx(WE,{className:"size-6"})}),s.jsx($v,{className:"size-4 text-green-600"})]}),s.jsxs("h3",{className:"text-2xl font-bold mb-1",children:["",m.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]})}),s.jsx(ht,{children:s.jsxs(bt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"bg-red-100 text-red-600 p-3 rounded-lg",children:s.jsx(HE,{className:"size-6"})}),s.jsx(n_,{className:"size-4 text-red-600"})]}),s.jsxs("h3",{className:"text-2xl font-bold mb-1",children:["",g.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})}),s.jsx(ht,{children:s.jsxs(bt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${j>=0?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600"}`,children:s.jsx(Fx,{className:"size-6"})}),j>=0?s.jsx($v,{className:"size-4 text-green-600"}):s.jsx(n_,{className:"size-4 text-red-600"})]}),s.jsxs("h3",{className:`text-2xl font-bold mb-1 ${j>=0?"text-green-600":"text-red-600"}`,children:["",j.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Net Profit"})]})}),s.jsx(ht,{children:s.jsxs(bt,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"bg-purple-100 text-purple-600 p-3 rounded-lg",children:s.jsx($v,{className:"size-6"})})}),s.jsxs("h3",{className:"text-2xl font-bold mb-1",children:[b,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Profit Margin"})]})})]}),x.length>0&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Income vs Expenses"})}),s.jsx(bt,{children:s.jsx(tp,{width:"100%",height:300,children:s.jsxs(U9,{data:x,children:[s.jsx(am,{strokeDasharray:"3 3"}),s.jsx(ul,{dataKey:"month"}),s.jsx(dl,{}),s.jsx(oi,{}),s.jsx(ms,{}),s.jsx(uo,{dataKey:"income",fill:"#10b981",name:"Income"}),s.jsx(uo,{dataKey:"expenses",fill:"#ef4444",name:"Expenses"})]})})})]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Profit Trend"})}),s.jsx(bt,{children:s.jsx(tp,{width:"100%",height:300,children:s.jsxs(W9,{data:x,children:[s.jsx(am,{strokeDasharray:"3 3"}),s.jsx(ul,{dataKey:"month"}),s.jsx(dl,{}),s.jsx(oi,{}),s.jsx(ms,{}),s.jsx(mf,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"})]})})})]})]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Recent Transactions"})}),s.jsx(bt,{children:S.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"No transactions yet"}),s.jsx("p",{className:"text-sm mt-2",children:"Transactions will appear here when payments are approved"})]}):s.jsx("div",{className:"space-y-3",children:S.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${_.type==="in"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:_.type==="in"?s.jsx(WE,{className:"size-5"}):s.jsx(HE,{className:"size-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_.description}),s.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(_.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_.referenceNumber&&`  Ref: ${_.referenceNumber}`]})]})]}),s.jsxs("p",{className:`font-bold ${_.type==="in"?"text-green-600":"text-red-600"}`,children:[_.type==="in"?"+":"-","",_.amount.toLocaleString()]})]},_.id))})})]})]}),s.jsx(bc,{open:o,onOpenChange:l,children:s.jsxs(wc,{children:[s.jsxs(jc,{children:[s.jsx(Cc,{children:"Reset Cashflow & Reports"}),s.jsx(Nc,{children:"Are you sure you want to reset all cashflow data and reports? This action cannot be undone. All income and expense entries will be deleted, and reports will show zero values."})]}),s.jsxs(Sc,{children:[s.jsx(Oc,{disabled:c,children:"Cancel"}),s.jsx(_c,{onClick:h,disabled:c,className:"bg-red-600 hover:bg-red-700",children:c?"Resetting...":"Reset All Data"})]})]})})]})}const zv="http://localhost:4000";function $Pe(){const{orderId:t}=dm(),e=kr(),[r,n]=w.useState(null),[i,a]=w.useState(!0),[o,l]=w.useState(!1),[c,d]=w.useState({trackingNumber:"",carrier:"",shippedDate:new Date().toISOString().split("T")[0],estimatedDelivery:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]}),f=["J&T Express","LBC Express","2GO Express","Lalamove","Grab Express","GoGo Express","Flash Express","Ninja Van","XDE Logistics","Entrego","Other"];w.useEffect(()=>{h()},[t]);const h=async()=>{if(t)try{a(!0);const j=await fetch(`${zv}/api/orders/${t}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to load order");const b=await j.json();n(b),b.shipping&&d({trackingNumber:b.shipping.trackingNumber||"",carrier:b.shipping.carrier||"",shippedDate:b.shipping.shippedDate?new Date(b.shipping.shippedDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],estimatedDelivery:b.shipping.estimatedDelivery?new Date(b.shipping.estimatedDelivery).toISOString().split("T")[0]:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]})}catch(j){console.error("Error loading order:",j),ve.error(j.message||"Failed to load order")}finally{a(!1)}},m=async()=>{if(!(!t||!r)){if(!c.trackingNumber.trim()){ve.error("Tracking number is required");return}if(!c.carrier.trim()){ve.error("Carrier is required");return}try{l(!0);const j=await fetch(`${zv}/api/orders/${r.orderId}/shipping`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({trackingNumber:c.trackingNumber.trim(),carrier:c.carrier,shippedDate:c.shippedDate,estimatedDelivery:c.estimatedDelivery})});if(!j.ok){const b=await j.json();throw new Error(b.error||"Failed to save shipping details")}r.status!=="shipping"&&await fetch(`${zv}/api/orders/${r.orderId}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"shipping"})}),ve.success("Shipping details saved successfully"),await h(),setTimeout(()=>{e("/admin/orders")},1e3)}catch(j){console.error("Error saving shipping details:",j),ve.error(j.message||"Failed to save shipping details")}finally{l(!1)}}},g=async()=>{if(r)try{l(!0);const j=await fetch(`${zv}/api/orders/${r.orderId}/delivered`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include"});if(!j.ok){const b=await j.json();throw new Error(b.error||"Failed to mark order as delivered")}ve.success("Order marked as delivered!"),await h(),setTimeout(()=>{e("/admin/orders")},1e3)}catch(j){console.error("Error marking order as delivered:",j),ve.error(j.message||"Failed to mark order as delivered")}finally{l(!1)}};return i?s.jsx(pn,{children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading order..."})]})})}):r?s.jsx(pn,{children:s.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>e("/admin/orders"),className:"mb-4",children:[s.jsx(fo,{className:"size-4 mr-2"}),"Back to Orders"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qi,{className:"size-8 text-indigo-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Shipping Details"}),s.jsxs("p",{className:"text-gray-600",children:["Order ",r.id]})]})]})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Order Summary"})}),s.jsxs(bt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-sm text-gray-600",children:"Customer"}),s.jsx("p",{className:"font-medium",children:r.customer.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.customer.email}),s.jsx("p",{className:"text-sm text-gray-600",children:r.customer.phone})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm text-gray-600",children:"Shipping Address"}),s.jsx("p",{className:"text-sm",children:r.customer.address||"No address provided"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm text-gray-600",children:"Total Amount"}),s.jsxs("p",{className:"text-xl font-bold",children:["",r.total.toFixed(2)]})]})]})]}),s.jsxs(ht,{children:[s.jsx(vr,{children:s.jsx(Mr,{children:"Shipping Information"})}),s.jsxs(bt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"trackingNumber",children:"Tracking Number *"}),s.jsx(Le,{id:"trackingNumber",value:c.trackingNumber,onChange:j=>d({...c,trackingNumber:j.target.value}),placeholder:"Enter tracking number",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"carrier",children:"Carrier *"}),s.jsxs(Gr,{value:c.carrier,onValueChange:j=>d({...c,carrier:j}),children:[s.jsx(Yr,{className:"mt-1",children:s.jsx(Xr,{placeholder:"Select carrier"})}),s.jsx(Kr,{children:f.map(j=>s.jsx(We,{value:j,children:j},j))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"shippedDate",children:"Shipped Date"}),s.jsx(Le,{id:"shippedDate",type:"date",value:c.shippedDate,onChange:j=>d({...c,shippedDate:j.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"estimatedDelivery",children:"Estimated Delivery"}),s.jsx(Le,{id:"estimatedDelivery",type:"date",value:c.estimatedDelivery,onChange:j=>d({...c,estimatedDelivery:j.target.value}),className:"mt-1"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(ee,{onClick:m,disabled:o||r.status==="shipping"||r.status==="delivered",className:"flex-1",children:o?"Saving...":r.status==="shipping"||r.status==="delivered"?"Shipping Details Saved":"Save Shipping Details"}),r.status==="shipping"&&s.jsx(ee,{onClick:g,disabled:o,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:o?"Processing...":"Mark as Delivered"}),s.jsx(ee,{variant:"outline",onClick:()=>e("/admin/orders"),disabled:o,children:"Back to Orders"})]})]})]})]})]})}):s.jsx(pn,{children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gr,{className:"size-16 mx-auto mb-4 text-gray-400"}),s.jsx("h2",{className:"mb-4",children:"Order Not Found"}),s.jsx(ee,{onClick:()=>e("/admin/orders"),children:"Back to Orders"})]})})})}const Fv="http://localhost:4000";function BPe(){const{isLoggedIn:t}=hi(),[e,r]=w.useState([]),[n,i]=w.useState(!1),a=w.useCallback(async()=>{if(!t){r([]);return}i(!0);try{const d=await fetch(`${Fv}/api/favorites`,{credentials:"include"});if(d.ok){const h=(await d.json()).items.map(m=>({id:m.productId,name:m.productName,price:Number(m.price),image:m.image||"",category:m.category||""}));r(h)}}catch(d){console.error("Failed to load favorites:",d)}finally{i(!1)}},[t]);w.useEffect(()=>{a()},[a]);const o=w.useCallback(async(d,f,h,m,g)=>{if(!t)return r(j=>j.find(y=>y.id===d)?j.filter(y=>y.id!==d):[...j,{id:d,name:f,price:h,image:m,category:g}]),!1;try{const j=await fetch(`${Fv}/api/favorites/toggle`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productId:d,productName:f,price:h,image:m,category:g})});if(j.ok)return await a(),(await j.json()).isFavorited}catch(j){console.error("Failed to toggle favorite:",j)}return!1},[t,a]),l=w.useCallback(async d=>{if(!t){r(f=>f.filter(h=>h.id!==d));return}try{const f=await fetch(`${Fv}/api/favorites`,{method:"GET",credentials:"include"});if(f.ok){const m=(await f.json()).items.find(g=>g.productId===d);m&&(await fetch(`${Fv}/api/favorites/${m.id}`,{method:"DELETE",credentials:"include"})).ok&&await a()}}catch(f){console.error("Failed to remove favorite:",f)}},[t,a]),c=w.useCallback(d=>e.some(f=>f.id===d),[e]);return{favorites:e,isLoading:n,toggleFavorite:o,removeFavorite:l,isFavorited:c,reloadFavorites:a}}const HPe=[{id:"1",name:"Classic White T-Shirt - Round Neck",price:200,image:"https://images.unsplash.com/photo-1636458939465-9209848a5688?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwbW9kZWwlMjB0c2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts"},{id:"2",name:"Varsity Jacket - Blue & White",price:600,image:"https://images.unsplash.com/photo-1761245332312-fddc4f0b5bab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2YXJzaXR5JTIwamFja2V0JTIwc3RyZWV0fGVufDF8fHx8MTc2Mjk3Nzk3OXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"3",name:"Oversized Hoodie - Premium Cotton",price:450,image:"https://images.unsplash.com/photo-1688111421205-a0a85415b224?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwaG9vZGllfGVufDF8fHx8MTc2Mjk1MjY5MHww&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies"},{id:"4",name:"Denim Jacket - Classic Blue",price:550,image:"https://images.unsplash.com/photo-1657349038547-b18a07fb4329?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZW5pbSUyMGphY2tldCUyMHN0eWxlfGVufDF8fHx8MTc2MjkzMjg2MXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"5",name:"Premium Black Hoodie",price:480,image:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxibGFjayUyMGhvb2RpZXxlbnwxfHx8fDE3NjI5MjQwNzV8MA&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies"},{id:"6",name:"Graphic Print Tee",price:250,image:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmFwaGljJTIwdGVlfGVufDF8fHx8MTc2MjkyNDA3NXww&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts"},{id:"7",name:"Classic Polo Shirt",price:280,image:"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBwb2xvJTIwc2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Polo"},{id:"8",name:"Casual Button-Up Shirt",price:320,image:"https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBzaGlydHxlbnwxfHx8fDE3NjI5MjQwNzV8MA&ixlib=rb-4.1.0&q=80&w=1080",category:"Shirts"},{id:"9",name:"Slim Fit Chinos",price:420,image:"https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBjaGlub3N8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Pants"},{id:"10",name:"Bomber Jacket",price:680,image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBib21iZXIlMjBqYWNrZXR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"11",name:"Floral Summer Dress",price:580,image:"https://images.unsplash.com/photo-1595777457583-95e059d581b8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGRyZXNzfGVufDF8fHx8MTc2MjkyNDA3NXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Dresses"},{id:"12",name:"Oversized Blazer - Black",price:720,image:"https://images.unsplash.com/photo-1594633313593-bab3825d0caf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGJsYXplcnxlbnwxfHx8fDE3NjI5MjQwNzV8MA&ixlib=rb-4.1.0&q=80&w=1080",category:"Blazers"},{id:"13",name:"Casual Crop Top",price:180,image:"https://images.unsplash.com/photo-1564859228273-274232fdb516?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGNyb3AlMjB0b3B8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Tops"},{id:"14",name:"High-Waisted Jeans",price:480,image:"https://images.unsplash.com/photo-1541099649105-f69ad21f3246?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGplYW5zfGVufDF8fHx8MTc2MjkyNDA3NXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jeans"},{id:"15",name:"Knit Sweater - Cream",price:420,image:"https://images.unsplash.com/photo-1576871337632-b9aef4c17ab9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMHN3ZWF0ZXJ8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Sweaters"},{id:"16",name:"Leather Jacket - Brown",price:890,image:"https://images.unsplash.com/photo-1521223890158-f9f7c3d5d504?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGxlYXRoZXIlMjBqYWNrZXR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"k1",name:"Kids Classic T-Shirt",price:150,image:"https://images.unsplash.com/photo-1731267776886-90f90af75eb1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxraWRzJTIwdC1zaGlydCUyMHdoaXRlfGVufDF8fHx8MTc2Mjk5MDk5MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",category:"T-Shirts"},{id:"k2",name:"Kids Polo Shirt - Classic",price:180,image:"https://images.unsplash.com/photo-1659779193831-97ccb9fecfeb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxraWRzJTIwcG9sbyUyMHNoaXJ0fGVufDF8fHx8MTc2MjkzMjQzOHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",category:"Shirts"},{id:"k3",name:"Kids Casual Outfit",price:280,image:"https://images.unsplash.com/photo-1759313560190-d160c3567170?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxraWRzJTIwZmFzaGlvbiUyMGNhc3VhbHxlbnwxfHx8fDE3NjI5OTA5OTF8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",category:"Casual"},{id:"k4",name:"Kids Stylish Wear",price:320,image:"https://images.unsplash.com/photo-1695262620869-fedab63bcc41?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGlsZHJlbiUyMGNsb3RoaW5nJTIwc3R5bGV8ZW58MXx8fHwxNzYyOTkwOTkxfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",category:"Clothing"}];function t3(t){return HPe.find(e=>e.id===t)}const WPe=[{id:"1",name:"Classic White T-Shirt - Round Neck",price:200,image:"https://images.unsplash.com/photo-1636458939465-9209848a5688?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwbW9kZWwlMjB0c2hpcnR8ZW58MXx8fHwxNzYyOTI0MDc1fDA&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts"},{id:"2",name:"Varsity Jacket - Blue & White",price:600,image:"https://images.unsplash.com/photo-1761245332312-fddc4f0b5bab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2YXJzaXR5JTIwamFja2V0JTIwc3RyZWV0fGVufDF8fHx8MTc2Mjk3Nzk3OXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"3",name:"Oversized Hoodie - Premium Cotton",price:450,image:"https://images.unsplash.com/photo-1688111421205-a0a85415b224?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwaG9vZGllfGVufDF8fHx8MTc2Mjk1MjY5MHww&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies"},{id:"4",name:"Denim Jacket - Classic Blue",price:550,image:"https://images.unsplash.com/photo-1657349038547-b18a07fb4329?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZW5pbSUyMGphY2tldCUyMHN0eWxlfGVufDF8fHx8MTc2MjkzMjg2MXww&ixlib=rb-4.1.0&q=80&w=1080",category:"Jackets"},{id:"5",name:"Premium Black Hoodie",price:480,image:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxibGFjayUyMGhvb2RpZXxlbnwxfHx8fDE3NjI5MjQwNzV8MA&ixlib=rb-4.1.0&q=80&w=1080",category:"Hoodies"},{id:"6",name:"Graphic Print Tee",price:250,image:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmFwaGljJTIwdGVlfGVufDF8fHx8MTc2MjkyNDA3NXww&ixlib=rb-4.1.0&q=80&w=1080",category:"T-Shirts"}];function UPe({onCartClick:t,onFavoritesClick:e,onLoginClick:r,cartItemsCount:n=0,favoritesCount:i=0}){const a=fi(),o=kr(),[l,c]=w.useState(!1),[d,f]=w.useState(!1),[h,m]=w.useState(""),[g,j]=w.useState(!1),{requireAuth:b,isLoggedIn:y,user:x,logout:S}=hi(),_=w.useRef(null);w.useEffect(()=>{const M=D=>{_.current&&!_.current.contains(D.target)&&f(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const P=M=>a.pathname===M,C=()=>{b(()=>{e()})},O=()=>{y?S():r()},k=h.trim()?WPe.filter(M=>M.name.toLowerCase().includes(h.toLowerCase())||M.category.toLowerCase().includes(h.toLowerCase())):[],A=M=>{f(!1),m(""),o(`/product/${M}`)};return s.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80",children:[s.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4 md:px-6",children:[s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs(Or,{to:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex size-8 items-center justify-center rounded-md bg-black",children:s.jsx("span",{className:"text-white",children:"R"})}),s.jsx("span",{className:"tracking-tight",children:"RFM"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[s.jsxs(Or,{to:"/new-arrivals",className:`text-sm transition-colors hover:text-black/70 relative ${P("/new-arrivals")?"font-medium":""}`,children:["Catalog",P("/new-arrivals")&&s.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),s.jsxs(Or,{to:"/unisex",className:`text-sm transition-colors hover:text-black/70 relative ${P("/unisex")?"font-medium":""}`,children:["Unisex",P("/unisex")&&s.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),s.jsxs(Or,{to:"/men",className:`text-sm transition-colors hover:text-black/70 relative ${P("/men")?"font-medium":""}`,children:["Men",P("/men")&&s.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),s.jsxs(Or,{to:"/women",className:`text-sm transition-colors hover:text-black/70 relative ${P("/women")?"font-medium":""}`,children:["Women",P("/women")&&s.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),s.jsxs(Or,{to:"/kids",className:`text-sm transition-colors hover:text-black/70 relative ${P("/kids")?"font-medium":""}`,children:["Kids",P("/kids")&&s.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]}),s.jsxs(Or,{to:"/custom-products",className:`text-sm transition-colors hover:text-black/70 relative ${P("/custom-products")?"font-medium":""}`,children:["Customize Clothing",P("/custom-products")&&s.jsx("span",{className:"absolute -bottom-[21px] left-0 right-0 h-0.5 bg-black"})]})]})]}),s.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:s.jsxs("div",{className:"relative w-full",ref:_,children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-gray-400 pointer-events-none z-10"}),s.jsx(Le,{placeholder:"Search for products...",className:"w-full pl-10 pr-4 h-10 rounded-full border-gray-200",value:h,onChange:M=>m(M.target.value),onClick:()=>f(!0)}),d&&h.trim()&&s.jsx("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-auto z-50",children:k.length>0?s.jsx("div",{className:"p-2",children:k.map(M=>s.jsxs("button",{onClick:()=>A(M.id),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx(ki,{src:M.image,alt:M.name,className:"size-12 rounded-md object-cover"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-sm font-medium",children:M.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:M.category})]}),s.jsxs("p",{className:"text-sm font-medium",children:["",M.price.toFixed(2)]})]},M.id))}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Ca,{className:"size-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No products found"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try a different search term"})]})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden transition-transform active:scale-95",onClick:()=>j(!0),children:s.jsx(Ca,{className:"size-5"})}),y?s.jsxs(Gk,{children:[s.jsx(Xk,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",size:"icon",className:"relative transition-transform active:scale-95 rounded-full p-0",children:[s.jsxs(X$,{className:"size-9",children:[s.jsx(Y$,{src:x?.profilePicture,alt:x?.name}),s.jsx(K$,{className:"bg-black text-white text-sm",children:x?.name.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2)})]}),s.jsx("span",{className:"absolute top-0 right-0 size-2.5 bg-green-500 rounded-full ring-2 ring-white"})]})}),s.jsxs(Yk,{align:"end",className:"w-56",children:[s.jsx(rW,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:x?.name}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:x?.email})]})}),s.jsx(Jh,{}),x?.role==="admin"&&s.jsxs(s.Fragment,{children:[s.jsxs(Zo,{onClick:()=>o("/admin/payment-verification"),children:[s.jsx(Bx,{className:"mr-2 size-4"}),"Go to Admin Panel"]}),s.jsx(Jh,{})]}),s.jsxs(Zo,{onClick:()=>o("/account"),children:[s.jsx(XE,{className:"mr-2 size-4"}),"My Account"]}),s.jsxs(Zo,{onClick:C,children:[s.jsx(Qu,{className:"mr-2 size-4"}),"My Favorites"]}),s.jsx(Jh,{}),s.jsxs(Zo,{onClick:O,children:[s.jsx(E3,{className:"mr-2 size-4"}),"Logout"]})]})]}):s.jsx(ee,{variant:"ghost",size:"icon",onClick:r,className:"relative transition-transform active:scale-95",children:s.jsx(XE,{className:"size-5"})}),s.jsxs(ee,{variant:"ghost",size:"icon",onClick:C,className:"relative transition-transform active:scale-95",children:[s.jsx(Qu,{className:"size-5"}),i>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex size-5 items-center justify-center rounded-full bg-black text-white text-xs",children:i})]}),s.jsxs(ee,{variant:"ghost",size:"icon",onClick:t,className:"relative transition-transform active:scale-95",children:[s.jsx(ed,{className:"size-5"}),n>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex size-5 items-center justify-center rounded-full bg-black text-white text-xs",children:n})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden transition-transform active:scale-95",onClick:()=>c(!0),children:s.jsx(LY,{className:"size-5"})})]})]}),s.jsx(Kx,{open:l,onOpenChange:c,children:s.jsxs(Jx,{side:"right",className:"w-[300px] sm:w-[400px]",children:[s.jsxs(FP,{children:[s.jsx(Zx,{children:"Menu"}),s.jsx(Qx,{children:"Navigate to different sections"})]}),s.jsxs("nav",{className:"flex flex-col gap-4 mt-8",children:[s.jsx(Or,{to:"/new-arrivals",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/new-arrivals")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Catalog"}),s.jsx(Or,{to:"/unisex",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/unisex")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Unisex"}),s.jsx(Or,{to:"/men",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/men")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Men"}),s.jsx(Or,{to:"/women",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/women")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Women"}),s.jsx(Or,{to:"/kids",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/kids")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Kids"}),s.jsx(Or,{to:"/custom-products",className:`text-lg py-2 transition-colors hover:text-black/70 ${P("/custom-products")?"font-medium border-l-2 border-black pl-4":"pl-4"}`,onClick:()=>c(!1),children:"Custom Design"})]})]})}),s.jsx(ud,{open:g,onOpenChange:j,children:s.jsxs(dd,{className:"max-w-lg",children:[s.jsxs(fd,{children:[s.jsx(hd,{children:"Search Products"}),s.jsx(bp,{className:"sr-only",children:"Search for products"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-gray-400 pointer-events-none z-10"}),s.jsx(Le,{placeholder:"Search for products...",className:"w-full pl-10 pr-4 h-10 rounded-full border-gray-200",value:h,onChange:M=>m(M.target.value),autoFocus:!0})]}),h.trim()&&s.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:k.length>0?k.map(M=>s.jsxs("button",{onClick:()=>{A(M.id),j(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx(ki,{src:M.image,alt:M.name,className:"size-12 rounded-md object-cover"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-sm font-medium",children:M.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:M.category})]}),s.jsxs("p",{className:"text-sm font-medium",children:["",M.price.toFixed(2)]})]},M.id)):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Ca,{className:"size-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No products found"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try a different search term"})]})})]})]})})]})}function qPe(){const t=new Date().getFullYear();return s.jsx("footer",{className:"bg-black text-white mt-auto",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4 text-white",children:"Shop"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Or,{to:"/new-arrivals",className:"text-gray-400 hover:text-white transition-colors",children:"New Arrivals"})}),s.jsx("li",{children:s.jsx(Or,{to:"/men",className:"text-gray-400 hover:text-white transition-colors",children:"Men's Collection"})}),s.jsx("li",{children:s.jsx(Or,{to:"/women",className:"text-gray-400 hover:text-white transition-colors",children:"Women's Collection"})}),s.jsx("li",{children:s.jsx(Or,{to:"/kids",className:"text-gray-400 hover:text-white transition-colors",children:"Kids' Collection"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4 text-white",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Careers"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Store Locator"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4 text-white",children:"Help"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Shipping & Delivery"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Returns & Exchanges"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Size Guide"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4 text-white",children:"Follow Us"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"Instagram"})}),s.jsx("li",{children:s.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"Facebook"})}),s.jsx("li",{children:s.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"Twitter"})}),s.jsx("li",{children:s.jsx("a",{href:"https://pinterest.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"Pinterest"})})]})]})]}),s.jsx("div",{className:"pt-8 border-t border-gray-800 text-center",children:s.jsxs("p",{className:"text-sm text-gray-400 mb-0",children:[" ",t," RFM. All rights reserved."]})})]})})}class VPe extends w.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onReset&&this.props.onReset(),window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){if(this.state.hasError){const{fallbackMessage:e,showHomeButton:r=!0}=this.props,{error:n,errorInfo:i}=this.state;return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsxs(ht,{className:"max-w-2xl w-full",children:[s.jsxs(vr,{children:[s.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-2",children:[s.jsx(R3,{className:"w-8 h-8"}),s.jsx(Mr,{className:"text-2xl",children:"Something went wrong"})]}),s.jsx(tc,{children:e||"We're sorry, but an unexpected error occurred. Your work may have been saved automatically."})]}),s.jsxs(bt,{className:"space-y-4",children:[n&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-red-800 mb-2",children:"Error Details:"}),s.jsx("p",{className:"text-sm text-red-700 font-mono break-all",children:n.toString()})]}),i&&!1,s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"What happened?"})," A component encountered an error and couldn't continue."]}),s.jsxs("p",{className:"text-sm text-blue-800 mt-2",children:[s.jsx("strong",{children:"What can you do?"})," Try reloading the page. If the problem persists, your design may have been auto-saved and you can try again later."]})]})]}),s.jsxs(Vee,{className:"flex gap-3 justify-end",children:[r&&s.jsxs(ee,{variant:"outline",onClick:this.handleGoHome,className:"gap-2",children:[s.jsx($x,{className:"w-4 h-4"}),"Go to Home"]}),s.jsxs(ee,{onClick:this.handleReset,className:"gap-2",children:[s.jsx(lm,{className:"w-4 h-4"}),"Reload Page"]})]})]})})}return this.props.children}}function GPe({isOpen:t,onClose:e,items:r,onUpdateQuantity:n,onRemoveItem:i,onClearCart:a}){const o=kr(),l=r.reduce((b,y)=>b+y.price*y.quantity,0),c=2e3,d=l>=c?0:100,f=l+d,h=r.reduce((b,y)=>b+y.quantity,0),m=Math.max(0,c-l),g=(b,y)=>{i(b),ve.success(`${y} removed from cart`)},j=(b,y,x)=>{n(b,y),ve.success(`Updated quantity for ${x}`)};return s.jsx(Kx,{open:t,onOpenChange:e,children:s.jsxs(Jx,{className:"flex w-full flex-col sm:max-w-lg p-0",children:[s.jsxs("div",{className:"px-6 py-5 border-b",children:[s.jsx(Zx,{className:"text-xl mb-2",children:"Shopping Cart"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qx,{className:"text-sm",children:"Review your items and proceed to checkout"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900 ml-4 shrink-0",children:[h," ",h===1?"item":"items"]})]})]}),r.length===0?s.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 px-6 py-12",children:[s.jsx("div",{className:"flex size-24 items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200",children:s.jsx(ed,{className:"size-12 text-gray-400"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"mb-2",children:"Your cart is empty"}),s.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Discover amazing products and add them to your cart to get started!"})]}),s.jsxs(ee,{onClick:e,className:"bg-black text-white hover:bg-black/90",children:[s.jsx(ed,{className:"size-4 mr-2"}),"Start Shopping"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-6 pt-4",children:d>0&&m>0?s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gr,{className:"size-4 text-blue-600"}),s.jsxs("p",{className:"text-sm text-blue-900",children:["Add ",s.jsxs("span",{className:"font-semibold",children:["",m.toFixed(2)]})," more for FREE shipping!"]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Math.min(l/c*100,100)}%`}})})]}):s.jsxs("div",{className:"bg-green-50 rounded-lg p-3 mb-4 flex items-center gap-2",children:[s.jsx(gr,{className:"size-4 text-green-600"}),s.jsx("p",{className:"text-sm text-green-900 font-medium",children:" You've unlocked FREE shipping!"})]})}),s.jsx("div",{className:"flex-1 overflow-auto px-6 pb-4",children:s.jsx("div",{className:"space-y-6",children:r.map(b=>{const y=b.price*b.quantity;return s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsx("div",{className:"size-20 shrink-0 overflow-hidden rounded-md bg-gray-100 border",children:s.jsx(ki,{src:b.image,alt:b.name,className:"size-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("h4",{className:"line-clamp-2 pr-2",children:b.name}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 shrink-0 text-red-500 hover:text-red-700 hover:bg-red-50 -mt-1 transition-transform active:scale-95",onClick:()=>g(b.id,b.name),children:s.jsx(ho,{className:"size-4"})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["",b.price.toFixed(2)," each"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 border rounded-md",children:[s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-100 rounded-none transition-transform active:scale-95",onClick:()=>j(b.id,Math.max(1,b.quantity-1),b.name),disabled:b.quantity<=1,children:s.jsx(M3,{className:"size-3.5"})}),s.jsx("span",{className:"w-8 text-center font-medium text-sm",children:b.quantity}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 hover:bg-gray-100 rounded-none transition-transform active:scale-95",onClick:()=>j(b.id,b.quantity+1,b.name),children:s.jsx(nl,{className:"size-3.5"})})]}),s.jsxs("div",{className:"font-semibold",children:["",y.toFixed(2)]})]})]})]},b.id)})})}),s.jsx("div",{className:"border-t bg-white",children:s.jsxs("div",{className:"px-6 py-5 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Subtotal (",h," ",h===1?"item":"items",")"]}),s.jsxs("span",{className:"font-medium",children:["",l.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),d===0?s.jsx("span",{className:"font-medium text-green-600",children:"FREE"}):s.jsxs("span",{className:"font-medium",children:["",d.toFixed(2)]})]}),s.jsx(cr,{}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsx("span",{className:"font-semibold",children:"Total"}),s.jsxs("span",{className:"font-bold text-xl",children:["",f.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx(ee,{className:"w-full bg-black text-white hover:bg-black/90 h-12 transition-transform active:scale-95",onClick:()=>{e(),o("/checkout"),ve.success("Proceeding to checkout...")},children:"Proceed to Checkout"}),s.jsx(ee,{variant:"ghost",className:"w-full h-10 transition-transform active:scale-95",onClick:e,children:"Continue Shopping"})]})]})})]})]})})}function XPe({isOpen:t,onClose:e,favorites:r,onRemoveFavorite:n,onAddToCart:i}){const a=(o,l)=>{n(o),ve.success(`${l} removed from favorites`)};return s.jsx(Kx,{open:t,onOpenChange:e,children:s.jsxs(Jx,{side:"right",className:"w-full sm:max-w-lg flex flex-col",children:[s.jsxs(FP,{children:[s.jsx(Zx,{children:"My Favorites"}),s.jsxs(Qx,{children:[r.length," ",r.length===1?"item":"items"," saved"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto mt-6",children:r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[s.jsx("div",{className:"size-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:s.jsx("svg",{className:"size-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx("h3",{className:"mb-2",children:"No favorites yet"}),s.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Start adding items to your favorites by clicking the heart icon on products you love!"})]}):s.jsx("div",{className:"space-y-4",children:r.map(o=>s.jsxs("div",{className:"flex gap-4 p-4 rounded-lg border bg-white hover:shadow-md transition-shadow",children:[s.jsx("img",{src:o.image,alt:o.name,className:"size-24 object-cover rounded-md"}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm mb-1",children:o.name}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:o.category}),s.jsxs("p",{className:"font-medium",children:["",o.price]})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(ee,{size:"sm",onClick:l=>{const c=l.currentTarget;c.style.transform="scale(0.95)",setTimeout(()=>{c.style.transform="scale(1)"},100),i(o.id),ve.success(`${o.name} added to cart!`)},className:"flex-1 bg-black text-white hover:bg-black/90 transition-transform active:scale-95",children:[s.jsx(ed,{className:"size-4 mr-2"}),"Add to Cart"]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"size-8 shrink-0 text-red-500 hover:text-red-700 hover:bg-red-50 -mt-1 transition-transform active:scale-95",onClick:()=>a(o.id,o.name),children:s.jsx(ho,{className:"size-4"})})]})]})]},o.id))})}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(cr,{}),s.jsx("div",{className:"p-6",children:s.jsxs(ee,{className:"w-full bg-black text-white hover:bg-black/90 transition-transform active:scale-95",onClick:()=>{r.forEach(o=>i(o.id)),ve.success("All items added to cart!")},children:[s.jsx(ed,{className:"size-4 mr-2"}),"Add All to Cart"]})})]})]})})}function YPe({isOpen:t,onClose:e}){const[r,n]=w.useState(!1),[i,a]=w.useState(""),[o,l]=w.useState(!1),[c,d]=w.useState(!1),{login:f,signup:h}=hi(),m=kr(),g="http://localhost:4000";w.useEffect(()=>{const x=()=>{window.google?.accounts?.id?d(!0):setTimeout(x,100)};x()},[]);const j=async x=>{x.preventDefault(),a(""),n(!0);const S=new FormData(x.currentTarget),_=S.get("email"),P=S.get("password"),C=await f(_,P);if(n(!1),C.success){const{user:O,isAdmin:k}=C;k?(ve.success("Welcome Admin!",{description:"Redirecting to admin panel..."}),e(),m("/admin/payment-verification")):(ve.success("Welcome back!",{description:"You have successfully logged in."}),e())}else a(C.error||"Login failed")},b=async x=>{x.preventDefault(),a(""),n(!0);const S=new FormData(x.currentTarget),_=S.get("name"),P=S.get("email"),C=S.get("phone"),O=S.get("password"),k=S.get("confirm-password");if(O!==k){a("Passwords do not match"),n(!1);return}const A=await h(_,P,C,O);n(!1),A.success?(ve.success("Account created!",{description:"Welcome to RFM. Start shopping now!"}),e(),m("/")):a(A.error||"Signup failed")},y=async()=>{if(!c||!window.google){ve.error("Google Sign-In not ready. Please wait a moment and try again.");return}l(!0),a("");try{window.google.accounts.oauth2.initTokenClient({client_id:"206684745984-7oodt981bauroqir1tmjvs1nme2m29ot.apps.googleusercontent.com",scope:"email profile",callback:async S=>{try{console.log("[Google] Got token response");const P=await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${S.access_token}`}})).json();console.log("[Google] User info:",P);const C=await fetch(`${g}/auth/google-oauth`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:P.email,name:P.name,picture:P.picture,sub:P.sub})}),O=await C.json();if(l(!1),!C.ok){console.error("[Google] Backend error:",O),a(O.error||"Google sign-in failed"),ve.error(O.error||"Google sign-in failed");return}if(O.success&&O.user){const k=O.user.role==="admin";ve.success(`Welcome${k?" Admin":""}!`,{description:k?"Redirecting to admin panel...":"You have successfully signed in."}),e(),m(k?"/admin/payment-verification":"/"),window.location.reload()}}catch(_){console.error("[Google] Error:",_),l(!1),a("Network error during Google sign-in"),ve.error("Network error. Please try again.")}}}).requestAccessToken()}catch(x){console.error("[Google] Initialization error:",x),l(!1),a("Failed to initialize Google Sign-In"),ve.error("Failed to initialize Google Sign-In")}};return s.jsx(ud,{open:t,onOpenChange:e,children:s.jsxs(dd,{className:"sm:max-w-md",children:[(r||o)&&s.jsxs("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 flex flex-col items-center justify-center rounded-lg",children:[s.jsx(Wn,{className:"size-12 animate-spin text-white mb-4"}),s.jsx("p",{className:"text-white font-medium text-lg",children:o?"Signing in with Google...":"Logging you in..."}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Please wait"})]}),s.jsxs(fd,{children:[s.jsx(hd,{children:"Welcome to RFM"}),s.jsx(bp,{children:"Sign in to your account or create a new one"})]}),s.jsxs(Lk,{defaultValue:"login",className:"w-full",children:[s.jsxs(zk,{className:"grid w-full grid-cols-2",children:[s.jsx(ld,{value:"login",children:"Login"}),s.jsx(ld,{value:"signup",children:"Sign Up"})]}),s.jsx(cd,{value:"login",children:s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-start gap-2",children:[s.jsx(ny,{className:"size-5 shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm",children:i})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"email",children:"Email"}),s.jsx(Le,{id:"email",name:"email",type:"email",placeholder:"test@rfm.com",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"password",children:"Password"}),s.jsx(Le,{id:"password",name:"password",type:"password",placeholder:"password123",required:!0})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Demo Customer: test@rfm.com / password123"})}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Demo Admin: admin@rfm.com / admin123"})}),s.jsxs(ee,{type:"submit",className:"w-full bg-black text-white hover:bg-black/90 transition-transform active:scale-95",disabled:r,children:[r&&s.jsx(Wn,{className:"mr-2 size-4 animate-spin"}),r?"Signing in...":"Sign In"]}),s.jsxs("div",{className:"relative",children:[s.jsx(cr,{}),s.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-2 text-xs text-gray-500",children:"OR CONTINUE WITH"})]}),s.jsxs(ee,{variant:"outline",type:"button",className:"w-full transition-transform active:scale-95",onClick:y,disabled:o||r,children:[o&&s.jsx(Wn,{className:"mr-2 size-4 animate-spin"}),o?"Signing in with Google...":"Google"]})]})}),s.jsx(cd,{value:"signup",children:s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-start gap-2",children:[s.jsx(ny,{className:"size-5 shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm",children:i})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"signup-name",children:"Full Name"}),s.jsx(Le,{id:"signup-name",name:"name",type:"text",placeholder:"Enter your full name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"signup-email",children:"Email Address"}),s.jsx(Le,{id:"signup-email",name:"email",type:"email",placeholder:"name@example.com",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"signup-phone",children:"Phone Number"}),s.jsx(Le,{id:"signup-phone",name:"phone",type:"tel",placeholder:"+63 XXX XXX XXXX",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"signup-password",children:"Password"}),s.jsx(Le,{id:"signup-password",name:"password",type:"password",placeholder:"Minimum 8 characters",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"signup-confirm",children:"Confirm Password"}),s.jsx(Le,{id:"signup-confirm",name:"confirm-password",type:"password",placeholder:"Confirm your password",required:!0})]}),s.jsxs(ee,{type:"submit",className:"w-full bg-black text-white hover:bg-black/90 transition-transform active:scale-95",disabled:r,children:[r&&s.jsx(Wn,{className:"mr-2 size-4 animate-spin"}),r?"Creating account...":"Create Account"]}),s.jsxs("div",{className:"relative",children:[s.jsx(cr,{}),s.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-2 text-xs text-gray-500",children:"OR CONTINUE WITH"})]}),s.jsxs(ee,{variant:"outline",type:"button",className:"w-full transition-transform active:scale-95",onClick:y,disabled:o||r,children:[o&&s.jsx(Wn,{className:"mr-2 size-4 animate-spin"}),o?"Signing up with Google...":"Google"]}),s.jsx("p",{className:"text-center text-xs text-gray-500",children:"By signing up, you agree to our Terms of Service and Privacy Policy"})]})})]})]})})}var KPe=(t,e,r,n,i,a,o,l)=>{let c=document.documentElement,d=["light","dark"];function f(g){(Array.isArray(t)?t:[t]).forEach(j=>{let b=j==="class",y=b&&a?i.map(x=>a[x]||x):i;b?(c.classList.remove(...y),c.classList.add(a&&a[g]?a[g]:g)):c.setAttribute(j,g)}),h(g)}function h(g){l&&d.includes(g)&&(c.style.colorScheme=g)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let g=localStorage.getItem(e)||r,j=o&&g==="system"?m():g;f(j)}catch{}},JPe=w.createContext(void 0),ZPe={setTheme:t=>{},themes:[]},QPe=()=>{var t;return(t=w.useContext(JPe))!=null?t:ZPe};w.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,themes:l,nonce:c,scriptProps:d})=>{let f=JSON.stringify([r,e,a,t,l,o,n,i]).slice(1,-1);return w.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${KPe.toString()})(${f})`}})});const eke=({...t})=>{const{theme:e="system"}=QPe();return s.jsx(TZ,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function is({children:t,onRequireAuth:e}){const{isLoggedIn:r,user:n,isHydrating:i}=hi(),a=fi();return w.useEffect(()=>{!i&&!r&&e()},[r,i,e]),i?null:!r||n?.role!=="admin"?s.jsx(jJ,{to:"/",replace:!0,state:{from:a}}):t}function tke({isAuthOpen:t,setIsAuthOpen:e}){const r=fi(),[n,i]=w.useState(!1),[a,o]=w.useState(!1),{cartItems:l,addToCart:c,updateQuantity:d,removeItem:f,clearCart:h}=L8(),{favorites:m,toggleFavorite:g,removeFavorite:j}=BPe(),b=r.pathname!=="/custom-design"&&r.pathname!=="/custom-design-preview"&&!r.pathname.startsWith("/admin"),y=async(k,A=1,M,D)=>{try{const B=await fetch(`http://localhost:4000/api/catalog-products/${k}`);if(B.ok){const $=await B.json();c($.product_id.toString(),$.product_name,$.base_price,$.product_images[0]?.image_url||"",$.category,A,M,D);return}}catch{console.log("Not a catalog product, checking mock data")}const L=t3(k);L&&c(k,L.name,L.price,L.image,L.category,A,M,D)},x=async k=>{try{const M=await fetch(`http://localhost:4000/api/catalog-products/${k}`);if(M.ok){const D=await M.json();g(D.product_id.toString(),D.product_name,D.base_price,D.product_images[0]?.image_url||"",D.category);return}}catch{console.log("Not a catalog product, checking mock data")}const A=t3(k);A&&g(k,A.name,A.price,A.image,A.category)},S=(k,A)=>{d(k,A)},_=k=>{f(k)},P=k=>{j(k)},C=()=>{h()},O=l.reduce((k,A)=>k+A.quantity,0);return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[b&&s.jsx(UPe,{onCartClick:()=>i(!0),onFavoritesClick:()=>o(!0),onLoginClick:()=>e(!0),cartItemsCount:O,favoritesCount:m.length}),s.jsx("main",{className:"flex-1",children:s.jsxs(CJ,{children:[s.jsx(qt,{path:"/",element:s.jsx(AZ,{onAddToCart:y,onToggleFavorite:x,favorites:m})}),s.jsx(qt,{path:"/new-arrivals",element:s.jsx(Bee,{onAddToCart:y,onToggleFavorite:x,favorites:m})}),s.jsx(qt,{path:"/men",element:s.jsx(Hee,{onAddToCart:y,onToggleFavorite:x,favorites:m})}),s.jsx(qt,{path:"/women",element:s.jsx(Wee,{onAddToCart:y,onToggleFavorite:x,favorites:m})}),s.jsx(qt,{path:"/kids",element:s.jsx(Uee,{onAddToCart:y,onToggleFavorite:x,favorites:m})}),s.jsx(qt,{path:"/unisex",element:s.jsx(qee,{onAddToCart:y,onToggleFavorite:x,favorites:m})}),s.jsx(qt,{path:"/product/:id",element:s.jsx($oe,{onAddToCart:y,onToggleFavorite:x,favorites:m})}),s.jsx(qt,{path:"/custom-design",element:s.jsx(VPe,{fallbackMessage:"The design editor encountered an error. Your work may have been auto-saved.",onReset:()=>{localStorage.removeItem("fabricCanvas")},children:s.jsx(Mse,{})})}),s.jsx(qt,{path:"/custom-design-preview",element:s.jsx(joe,{})}),s.jsx(qt,{path:"/custom-products",element:s.jsx(poe,{})}),s.jsx(qt,{path:"/custom-product/:id",element:s.jsx(woe,{})}),s.jsx(qt,{path:"/checkout",element:s.jsx(tle,{cartItems:l,onClearCart:C})}),s.jsx(qt,{path:"/order-confirmation/:orderId",element:s.jsx(nle,{})}),s.jsx(qt,{path:"/track-order",element:s.jsx(ale,{})}),s.jsx(qt,{path:"/order-tracking/:orderId",element:s.jsx(FD,{})}),s.jsx(qt,{path:"/order-tracking",element:s.jsx(FD,{})}),s.jsx(qt,{path:"/account",element:s.jsx(pte,{})}),s.jsx(qt,{path:"/admin/orders",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(Ode,{})})}),s.jsx(qt,{path:"/admin/payment-verification",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(Tce,{})})}),s.jsx(qt,{path:"/admin/customizable-products",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(Hfe,{})})}),s.jsx(qt,{path:"/admin/products",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(Zfe,{})})}),s.jsx(qt,{path:"/admin/canvas-resources",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(Qfe,{})})}),s.jsx(qt,{path:"/admin/employees",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(nhe,{})})}),s.jsx(qt,{path:"/admin/inventory",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(ihe,{})})}),s.jsx(qt,{path:"/admin/reports",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(zPe,{})})}),s.jsx(qt,{path:"/admin/cash-flow",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx(FPe,{})})}),s.jsx(qt,{path:"/shipping-details/:orderId",element:s.jsx(is,{onRequireAuth:()=>e(!0),children:s.jsx($Pe,{})})})]})}),b&&s.jsx(qPe,{}),s.jsx(GPe,{isOpen:n,onClose:()=>i(!1),items:l,onUpdateQuantity:S,onRemoveItem:_,onClearCart:C}),s.jsx(XPe,{isOpen:a,onClose:()=>o(!1),favorites:m,onRemoveFavorite:P,onAddToCart:y}),s.jsx(YPe,{isOpen:t,onClose:()=>e(!1)}),s.jsx(eke,{})]})}function rke(){const[t,e]=w.useState(!1);return s.jsx(nZ,{onOpenLoginModal:()=>e(!0),children:s.jsx(tke,{isAuthOpen:t,setIsAuthOpen:e})})}function nke(){return s.jsx(GJ,{children:s.jsx(rke,{})})}_7.createRoot(document.getElementById("root")).render(s.jsx(nke,{}));
